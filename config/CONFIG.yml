planner:
  horizon: 10
  max_constraints: 20
  max_obstacles: 20
  timestep: 0.1
  integrator_step: 0.1
  visualization:
    draw_every: 5
    control_frequency: 20
  debug_limits: true
  debug_output: false
  deceleration_at_infeasible: 10.0
  enable_output: true
  road:
    width: 7.0
  robot:
    radius: 0.5
# Safe Horizon Constraints - at root level for get_config_value to find
safe_horizon_constraints:
  epsilon_p: 0.05    # 5% violation probability - good safety with reasonable computation
  beta: 0.05         # 5% confidence level
  n_bar: 5           # Support dimension
  num_removal: 1     # Outlier removal
contouring:
  num_segments: 10
  add_road_constraints: true
  dynamic_velocity_reference: false
  goal_reaching_contouring: true
  three_dimensional_contouring: false
weights:
  contour_weight: 5.0
  contouring_lag_weight: 5
  goal_weight: 10.0
  goal_angle_weight: 1.0
  goal_terminal_weight: 10.0
  goal_terminal_angle: 1.0
  acceleration_weight: 0.5
  angular_velocity: 5.0
  slack_weight: 5.0
  velocity_tracking_weight: 3.0
  reference_velocity: 2.0
  acceleration_jerk_weight: 2.0
  angular_jerk_weight: 4.0
recording:
  enable: false
  file: planner_test_output
  folder: tests
  num_experiments: 5
  timestamp: true
solver:
  solver: casadi
  shift_previous_solution_forward: true
  t-mpc:
    enable_constraints: true
    highlight_selected: true
    use_t-mpc+=1: true
    warmstart_with_mpc_solution: false
    weights: null
    acceleration_x: 1
    acceleration_y: 1
    angular_velocity: 10.0
    goal_weight: 10
    goal_angle_weight: 10
    goal_control_weight: 1
    goal_terminal_weight: 10
    goal_terminal_angle: 1
    preview: 0.0
    reference_velocity: 0.01
    slack: 1.0
    velocity: 0.3
    contour_weight: 10.0
    contouring_lag_weight: 5
    contouring_goal_weight: 100
    spline_progression_weight: 0.0
    spline_velocity_weight: 0.0
    terminal_spline_weight: 0.0
modules:
  constraints:
    contouring_constraints: null
    guidance_constraints: null
    linearized_constraints:
      add_halfspaces: 0
      max_constraints: 10
      use_slack: true
      use_topology_constraints: false
      filter_distant_obstacles: false
      max_obstacles: 10
      num_discs: 1
      disc_radius: 0.5
      name: test
      obstacle_radius: 0.35
      halfspace_offset: 0.5
    gaussian_constraints:
      # Higher risk level means less conservative constraints
      # 0.20 = 20% risk (80% confidence) instead of default 0.05 (95% confidence)
      # This allows tighter maneuvering around obstacles
      risk_level: 0.20
    safe_horizon_constraints:
      # Reduce computational cost by increasing epsilon_p (risk tolerance)
      # Higher epsilon_p = fewer scenarios required = faster computation
      epsilon_p: 0.15  # 15% violation probability (default 0.05)
      beta: 0.05       # 5% confidence level (default 0.01)
      n_bar: 5         # Support dimension (default 10) - lower = fewer scenarios
      num_removal: 1   # Outlier removal
    scenario_constraints:
      num_constraints: 0
      parallel_solvers: 1
      enable_safe_horizon: true
      use_slack: false
      num_scenarios: 4
      max_constraints: 10
      num_halfspaces: 2
      polygon_range: 2
      sample_truncated: false
      draw_disc: 1
      enable_visualization: false
    decomp_constraints:
      range: 2
      max_constraints: 40
      use_slack: false
      use_guidance: false
      costmap:
        resolution: 0.05
        origin:
        - -10.0
        - -10.0
        width: 400
        height: 400
        obstacle_threshold: 100
        inflation_radius: 0.5
        footprint:
        - - -0.325
          - -0.325
        - - -0.325
          - 0.325
        - - 0.325
          - 0.325
        - - 0.325
          - -0.325
    ellipsoid_constraints: null
    safe_horizon_constraints: null
  objectives:
    goal_objective: null
    contouring_objective:
      add_road_constraints: true
      dynamic_velocity_reference: false
      num_segments: 20
      preview: 0.0
      adaptive_contour_weight: true
      goal_reaching_contouring: true
      three_dimensional_contouring: false
      terminal_angle: 1
      terminal_contouring: 1
      slack: 0
      penalty_weight: 0
      road:
        two_way: false
        width: 7.0
    guidance_objective: null
