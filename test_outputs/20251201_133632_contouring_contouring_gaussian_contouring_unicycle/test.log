2025-12-01 13:36:32,427 - INFO - integration_test - Contouring objective detected: automatically switching to contouring-aware dynamics model
2025-12-01 13:36:32,427 - WARNING - integration_test -   Vehicle dynamics 'contouring_unicycle' is not automatically converted. Ensure it supports contouring (has 'spline' state variable)
2025-12-01 13:36:32,427 - INFO - integration_test - Created vehicle dynamics model: ContouringSecondOrderUnicycleModel
2025-12-01 13:36:32,427 - INFO - integration_test - ✓ Validation passed: Contouring objective with dynamics model that has 'spline' state
2025-12-01 13:36:32,427 - INFO - integration_test - Creating objective module: contouring
2025-12-01 13:36:32,433 - INFO - integration_test - Objective module 'contouring' created: contouring_objective
2025-12-01 13:36:32,433 - INFO - integration_test - Creating 2 constraint module(s): ['contouring', 'gaussian']
2025-12-01 13:36:32,433 - DEBUG - integration_test - Creating constraint module: contouring
2025-12-01 13:36:32,439 - INFO - integration_test - Constraint module 'contouring' created: contouring_constraints
2025-12-01 13:36:32,439 - DEBUG - integration_test - Creating constraint module: gaussian
2025-12-01 13:36:32,444 - INFO - integration_test - Constraint module 'gaussian' created: gaussian_constraints
2025-12-01 13:36:32,444 - INFO - integration_test - Created 2 constraint module(s)
2025-12-01 13:36:32,459 - INFO - integration_test - Setting solver on all modules...
2025-12-01 13:36:32,459 - DEBUG - integration_test -   Set solver on module: contouring_constraints
2025-12-01 13:36:32,459 - WARNING - integration_test -   Module gaussian_constraints has no solver attribute
2025-12-01 13:36:32,459 - DEBUG - integration_test -   Set solver on module: control_effort_objective
2025-12-01 13:36:32,459 - DEBUG - integration_test -   Set solver on module: control_jerk_objective
2025-12-01 13:36:32,459 - DEBUG - integration_test -   Set solver on module: path_reference_velocity_objective
2025-12-01 13:36:32,459 - DEBUG - integration_test -   Set solver on module: contouring_objective
2025-12-01 13:36:32,460 - WARNING - integration_test - Error shaping obstacles: 'max_obstacles'
2025-12-01 13:36:32,460 - WARNING - integration_test - Error in on_data_received: 'Planner' object has no attribute 'on_data_received'
2025-12-01 13:36:32,460 - INFO - integration_test - Initial vehicle state (before spline): [0. 0. 0. 1.]
2025-12-01 13:36:32,460 - INFO - integration_test - Vehicle starting position: (0.00, 0.00)
2025-12-01 13:36:32,460 - INFO - integration_test - Reference path start: (0.00, 0.00)
2025-12-01 13:36:32,460 - INFO - integration_test - Reference path starts at vehicle position (requirement satisfied)
2025-12-01 13:36:32,460 - INFO - integration_test - Contouring-aware dynamics detected: initializing spline variable
2025-12-01 13:36:32,460 - INFO - integration_test - Initialized spline to closest path point: s=0.0000 (vehicle at (0.00, 0.00), closest path point at (0.00, 0.00), distance=0.000m)
2025-12-01 13:36:32,460 - INFO - integration_test - Added spline variable: 0.0000
2025-12-01 13:36:32,461 - INFO - integration_test - Final initial state: [0. 0. 0. 1. 0.] (variables: ['x', 'y', 'psi', 'v', 'spline'])
2025-12-01 13:36:32,461 - INFO - integration_test - Step 0 (contouring until path end)
2025-12-01 13:36:32,461 - DEBUG - integration_test - Syncing planner state at step 0: vehicle_state=[0. 0. 0. 1. 0.]
2025-12-01 13:36:32,461 - DEBUG - integration_test - Step 0: Using propagated spline 0.0000 (close to path, dist=0.000m)
2025-12-01 13:36:32,461 - DEBUG - integration_test -   Set spline state to 0.0000
2025-12-01 13:36:32,462 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:32,476 - DEBUG - integration_test - Step 0: Checking path alignment: vehicle=(0.000, 0.000), path_start=(0.000, 0.000), dist=0.000m
2025-12-01 13:36:32,476 - INFO - integration_test - === Calling planner.solve_mpc() at step 0 ===
2025-12-01 13:36:32,478 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:32,479 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:32,479 - INFO - integration_test - Warmstart k=0: x0=0.0 , y0=0.0 , psi0=0.0 , v0=1.0 , spline0=0.0 , a0=0.0 , w0=0.0
2025-12-01 13:36:32,480 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:32,480 - INFO - integration_test - Dyn residual k=0: pred=[0.1, 0.0, 0.0, 1.0, 0.1], ws=[0.1, 0.0, 0.0, 1.0, 0.1], res=[0.0, 0.0, 0.0, 0.0, 0.0], res_norm=0.000e+00
2025-12-01 13:36:32,481 - INFO - integration_test - Dyn residual k=1: pred=[0.2, 0.0, 0.0, 1.0, 0.2], ws=[0.2, 0.0, 0.0, 1.0, 0.2127494608332952], res=[0.0, 0.0, 0.0, 0.0, -0.0127494608332952], res_norm=1.275e-02
2025-12-01 13:36:32,482 - INFO - integration_test - Dyn residual k=2: pred=[0.30000000000000004, 0.0, 0.0, 1.0, 0.31274946083329525], ws=[0.30000000000000004, 0.0, 0.0, 1.0, 0.3386985848683951], res=[0.0, 0.0, 0.0, 0.0, -0.025949124035099858], res_norm=2.595e-02
2025-12-01 13:36:32,496 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:32,508 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:32,524 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:32,536 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:32,554 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:32,566 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:32,583 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:32,595 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:32,612 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:32,625 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:32,642 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:32,654 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:32,671 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:32,683 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:32,698 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:32,710 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:32,725 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:32,737 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:32,753 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:32,764 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:32,779 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:32,791 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:33,497 - INFO - integration_test - Step 0: MPC solve successful
2025-12-01 13:36:33,532 - INFO - integration_test - Step 0: Computed 10 numeric contouring constraints for visualization (s=0.000)
2025-12-01 13:36:33,532 - DEBUG - integration_test - Step 0: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:33,533 - DEBUG - integration_test - Linearized constraints module not found at step 0
2025-12-01 13:36:33,533 - INFO - integration_test - === Applying control at step 0 ===
2025-12-01 13:36:33,533 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000199937054, 'w': 0.8000000098290423}
2025-12-01 13:36:33,533 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:33,533 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:33,534 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:33,534 - INFO - integration_test - Step 0 completed in 1.074s
2025-12-01 13:36:33,562 - INFO - integration_test - Step 1 (contouring until path end)
2025-12-01 13:36:33,563 - DEBUG - integration_test - Syncing planner state at step 1: vehicle_state=[0.10987738 0.00453085 0.08       1.2        0.12      ]
2025-12-01 13:36:33,563 - DEBUG - integration_test - Step 1: Using propagated spline 0.1200 (close to path, dist=0.110m)
2025-12-01 13:36:33,563 - DEBUG - integration_test -   Set spline state to 0.1200
2025-12-01 13:36:33,564 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:33,580 - DEBUG - integration_test - Step 1: Checking path alignment: vehicle=(0.110, 0.005), path_start=(0.000, 0.000), dist=0.110m
2025-12-01 13:36:33,580 - WARNING - integration_test - Could not update reference path at step 1: x and y must have the same length
2025-12-01 13:36:33,581 - INFO - integration_test - === Calling planner.solve_mpc() at step 1 ===
2025-12-01 13:36:33,583 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:33,585 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:33,585 - INFO - integration_test - Warmstart k=0: x0=0.10987737537798724 , y0=0.004530845114004267 , psi0=0.08000000098290423 , v0=1.2000000019993706 , spline0=0.12000000019993706 , a0=0.0 , w0=0.0
2025-12-01 13:36:33,585 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:33,586 - INFO - integration_test - Dyn residual k=0: pred=[0.22949358032417336, 0.014120608523854172, 0.08000000098290423, 1.2000000019993706, 0.24000000039987412], ws=[0.22949358032417339, 0.014120608523854172, 0.08000000098290405, 1.2000000019993706, 0.28256625370024535], res=[-2.7755575615628914e-17, 0.0, 1.8041124150158794e-16, 0.0, -0.042566253300371226], res_norm=4.257e-02
2025-12-01 13:36:33,587 - INFO - integration_test - Dyn residual k=1: pred=[0.3491097852703595, 0.023710371933704056, 0.08000000098290405, 1.2000000019993706, 0.4025662539001824], ws=[0.3491097852703595, 0.023710371933704056, 0.08000000098290405, 1.2000000019993706, 0.46285207129366923], res=[0.0, 0.0, 0.0, 0.0, -0.06028581739348682], res_norm=6.029e-02
2025-12-01 13:36:33,587 - INFO - integration_test - Dyn residual k=2: pred=[0.46872599021654565, 0.033300135343553944, 0.08000000098290405, 1.2000000019993706, 0.5828520714936063], ws=[0.46872599021654565, 0.033300135343553944, 0.08000000098290405, 1.2000000019993706, 0.6617370077588348], res=[0.0, 0.0, 0.0, 0.0, -0.07888493626522852], res_norm=7.888e-02
2025-12-01 13:36:33,605 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:33,618 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:33,637 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:33,652 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:33,674 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:33,688 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:33,709 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:33,722 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:33,741 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:33,754 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:33,772 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:33,787 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:33,810 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:33,827 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:33,850 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:33,867 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:33,888 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:33,903 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:33,925 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:33,938 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:33,955 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:33,967 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:34,192 - INFO - integration_test - Step 1: MPC solve successful
2025-12-01 13:36:34,203 - INFO - integration_test - Step 1: Computed 10 numeric contouring constraints for visualization (s=0.120)
2025-12-01 13:36:34,204 - DEBUG - integration_test - Step 1: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:34,204 - INFO - integration_test - === Applying control at step 1 ===
2025-12-01 13:36:34,204 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000097425303, 'w': 0.7999997916830157}
2025-12-01 13:36:34,204 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:34,204 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:34,205 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:34,205 - INFO - integration_test - Step 1 completed in 0.643s
2025-12-01 13:36:34,229 - INFO - integration_test - Step 2 (contouring until path end)
2025-12-01 13:36:34,230 - DEBUG - integration_test - Syncing planner state at step 2: vehicle_state=[0.23889213 0.02022162 0.15999998 1.4        0.26      ]
2025-12-01 13:36:34,230 - DEBUG - integration_test - Step 2: Using propagated spline 0.2600 (close to path, dist=0.240m)
2025-12-01 13:36:34,230 - DEBUG - integration_test -   Set spline state to 0.2600
2025-12-01 13:36:34,231 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:34,245 - DEBUG - integration_test - Step 2: Checking path alignment: vehicle=(0.239, 0.020), path_start=(0.000, 0.000), dist=0.240m
2025-12-01 13:36:34,245 - WARNING - integration_test - Could not update reference path at step 2: x and y must have the same length
2025-12-01 13:36:34,246 - INFO - integration_test - === Calling planner.solve_mpc() at step 2 ===
2025-12-01 13:36:34,248 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:34,249 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:34,249 - INFO - integration_test - Warmstart k=0: x0=0.23889212830694012 , y0=0.02022162056055901 , psi0=0.1599999801512058 , v0=1.4000000029736237 , spline0=0.26000000049729943 , a0=0.0 , w0=0.0
2025-12-01 13:36:34,249 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:34,250 - INFO - integration_test - Dyn residual k=0: pred=[0.37710394871581054, 0.04252616679059071, 0.1599999801512058, 1.4000000029736237, 0.4000000007946618], ws=[0.37710394871581054, 0.042526166790590715, 0.15999998015120598, 1.4000000029736237, 0.4922268649640175], res=[0.0, -6.938893903907228e-18, -1.6653345369377348e-16, 0.0, -0.09222686416935572], res_norm=9.223e-02
2025-12-01 13:36:34,251 - INFO - integration_test - Dyn residual k=1: pred=[0.5153157691246809, 0.06483071302062243, 0.15999998015120598, 1.4000000029736237, 0.6322268652613798], ws=[0.5153157691246809, 0.06483071302062243, 0.15999998015120598, 1.4000000029736237, 0.7474945960828354], res=[0.0, 0.0, 0.0, 0.0, -0.11526773082145558], res_norm=1.153e-01
2025-12-01 13:36:34,252 - INFO - integration_test - Dyn residual k=2: pred=[0.6535275895335513, 0.08713525925065416, 0.15999998015120598, 1.4000000029736237, 0.8874945963801978], ws=[0.6535275895335513, 0.08713525925065416, 0.15999998015120598, 1.4000000029736237, 0.9682208642070773], res=[0.0, 0.0, 0.0, 0.0, -0.08072626782687953], res_norm=8.073e-02
2025-12-01 13:36:34,266 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:34,278 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:34,294 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:34,305 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:34,320 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:34,332 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:34,347 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:34,358 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:34,373 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:34,385 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:34,402 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:34,414 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:34,430 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:34,441 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:34,457 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:34,469 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:34,485 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:34,497 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:34,513 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:34,524 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:34,539 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:34,551 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:34,792 - INFO - integration_test - Step 2: MPC solve successful
2025-12-01 13:36:34,804 - INFO - integration_test - Step 2: Computed 10 numeric contouring constraints for visualization (s=0.260)
2025-12-01 13:36:34,804 - DEBUG - integration_test - Step 2: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:34,805 - INFO - integration_test - === Applying control at step 2 ===
2025-12-01 13:36:34,805 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000186938296, 'w': 0.799999973391541}
2025-12-01 13:36:34,805 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:34,805 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:34,806 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:34,806 - INFO - integration_test - Step 2 completed in 0.577s
2025-12-01 13:36:34,830 - INFO - integration_test - Step 3 (contouring until path end)
2025-12-01 13:36:34,831 - DEBUG - integration_test - Syncing planner state at step 3: vehicle_state=[0.38583644 0.05014471 0.23999998 1.6        0.42      ]
2025-12-01 13:36:34,831 - DEBUG - integration_test - Step 3: Using propagated spline 0.4200 (close to path, dist=0.389m)
2025-12-01 13:36:34,831 - DEBUG - integration_test -   Set spline state to 0.4200
2025-12-01 13:36:34,832 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:34,846 - DEBUG - integration_test - Step 3: Checking path alignment: vehicle=(0.386, 0.050), path_start=(0.000, 0.000), dist=0.389m
2025-12-01 13:36:34,847 - WARNING - integration_test - Could not update reference path at step 3: x and y must have the same length
2025-12-01 13:36:34,847 - INFO - integration_test - === Calling planner.solve_mpc() at step 3 ===
2025-12-01 13:36:34,850 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:34,851 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:34,851 - INFO - integration_test - Warmstart k=0: x0=0.38583643638580944 , y0=0.05014471212865464 , psi0=0.2399999774903599 , v0=1.6000000048430065 , spline0=0.42000000098160006 , a0=0.0 , w0=0.0
2025-12-01 13:36:34,851 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:34,852 - INFO - integration_test - Dyn residual k=0: pred=[0.5412505136886498, 0.08817712897380077, 0.2399999774903599, 1.6000000048430065, 0.5800000014659007], ws=[0.5412505136886498, 0.08817712897380077, 0.23999997749035984, 1.6000000048430065, 0.728981760285256], res=[0.0, 0.0, 5.551115123125783e-17, 0.0, -0.14898175881935527], res_norm=1.490e-01
2025-12-01 13:36:34,852 - INFO - integration_test - Dyn residual k=1: pred=[0.6966645909914903, 0.1262095458189469, 0.23999997749035984, 1.6000000048430065, 0.8889817607695566], ws=[0.6966645909914903, 0.1262095458189469, 0.23999997749035984, 1.6000000048430065, 1.0077625415268368], res=[0.0, 0.0, 0.0, 0.0, -0.11878078075728016], res_norm=1.188e-01
2025-12-01 13:36:34,853 - INFO - integration_test - Dyn residual k=2: pred=[0.8520786682943307, 0.16424196266409302, 0.23999997749035984, 1.6000000048430065, 1.1677625420111375], ws=[0.8520786682943307, 0.16424196266409302, 0.23999997749035984, 1.6000000048430065, 1.3126338160552633], res=[0.0, 0.0, 0.0, 0.0, -0.1448712740441258], res_norm=1.449e-01
2025-12-01 13:36:34,869 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:34,881 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:34,897 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:34,909 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:34,925 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:34,936 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:34,951 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:34,962 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:34,978 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:34,989 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:35,004 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:35,015 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:35,030 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:35,041 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:35,056 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:35,067 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:35,083 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:35,094 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:35,110 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:35,121 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:35,136 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:35,148 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:35,374 - INFO - integration_test - Step 3: MPC solve successful
2025-12-01 13:36:35,387 - INFO - integration_test - Step 3: Computed 10 numeric contouring constraints for visualization (s=0.420)
2025-12-01 13:36:35,387 - DEBUG - integration_test - Step 3: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:35,387 - INFO - integration_test - === Applying control at step 3 ===
2025-12-01 13:36:35,388 - INFO - integration_test -   Control dict from planner: {'a': 1.9999999973023799, 'w': 0.7999992578173932}
2025-12-01 13:36:35,388 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:35,388 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:35,389 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:35,389 - INFO - integration_test - Step 3 completed in 0.559s
2025-12-01 13:36:35,411 - INFO - integration_test - Step 4 (contouring until path end)
2025-12-01 13:36:35,411 - DEBUG - integration_test - Syncing planner state at step 4: vehicle_state=[0.54913546 0.09724074 0.3199999  1.8        0.6       ]
2025-12-01 13:36:35,412 - DEBUG - integration_test - Step 4: Using propagated spline 0.6000 (close to path, dist=0.455m)
2025-12-01 13:36:35,412 - DEBUG - integration_test -   Set spline state to 0.6000
2025-12-01 13:36:35,412 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:35,427 - DEBUG - integration_test - Step 4: Checking path alignment: vehicle=(0.549, 0.097), path_start=(0.000, 0.000), dist=0.558m
2025-12-01 13:36:35,427 - WARNING - integration_test - Could not update reference path at step 4: x and y must have the same length
2025-12-01 13:36:35,428 - INFO - integration_test - === Calling planner.solve_mpc() at step 4 ===
2025-12-01 13:36:35,431 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:35,432 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:35,432 - INFO - integration_test - Warmstart k=0: x0=0.5491354646414116 , y0=0.09724074278779951 , psi0=0.3199999032720992 , v0=1.8000000045732445 , spline0=0.6000000014389245 , a0=0.0 , w0=0.0
2025-12-01 13:36:35,433 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:35,433 - INFO - integration_test - Dyn residual k=0: pred=[0.7199978458072841, 0.1538627073154005, 0.3199999032720992, 1.8000000045732445, 0.780000001896249], ws=[0.7199978458072841, 0.1538627073154005, 0.31999990327209904, 1.8000000045732445, 0.9928306770198877], res=[0.0, 0.0, 1.6653345369377348e-16, 0.0, -0.21283067512363874], res_norm=2.128e-01
2025-12-01 13:36:35,434 - INFO - integration_test - Dyn residual k=1: pred=[0.8908602269731566, 0.21048467184300146, 0.31999990327209904, 1.8000000045732445, 1.1728306774772121], ws=[0.8908602269731566, 0.21048467184300146, 0.31999990327209904, 1.8000000045732445, 1.3619893512900032], res=[0.0, 0.0, 0.0, 0.0, -0.18915867381279106], res_norm=1.892e-01
2025-12-01 13:36:35,435 - INFO - integration_test - Dyn residual k=2: pred=[1.061722608139029, 0.2671066363706024, 0.31999990327209904, 1.8000000045732445, 1.5419893517473278], ws=[1.0617226081390292, 0.26710663637060245, 0.31999990327209904, 1.8000000045732445, 1.7641730749829594], res=[-2.220446049250313e-16, -5.551115123125783e-17, 0.0, 0.0, -0.22218372323563162], res_norm=2.222e-01
2025-12-01 13:36:35,450 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:35,461 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:35,477 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:35,488 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:35,503 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:35,514 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:35,530 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:35,541 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:35,556 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:35,567 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:35,583 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:35,594 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:35,610 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:35,621 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:35,636 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:35,647 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:35,663 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:35,674 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:35,690 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:35,701 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:35,716 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:35,727 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:35,992 - INFO - integration_test - Step 4: MPC solve successful
2025-12-01 13:36:36,046 - INFO - integration_test - Step 4: Computed 10 numeric contouring constraints for visualization (s=0.600)
2025-12-01 13:36:36,046 - DEBUG - integration_test - Step 4: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:36,046 - INFO - integration_test - === Applying control at step 4 ===
2025-12-01 13:36:36,046 - INFO - integration_test -   Control dict from planner: {'a': 2.000000019726544, 'w': 0.799999996963127}
2025-12-01 13:36:36,046 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:36,046 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:36,047 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:36,048 - INFO - integration_test - Step 4 completed in 0.637s
2025-12-01 13:36:36,069 - INFO - integration_test - Step 5 (contouring until path end)
2025-12-01 13:36:36,069 - DEBUG - integration_test - Syncing planner state at step 5: vehicle_state=[0.7268615  0.16427974 0.3999999  2.00000001 0.8       ]
2025-12-01 13:36:36,070 - DEBUG - integration_test - Step 5: Using propagated spline 0.8000 (close to path, dist=0.375m)
2025-12-01 13:36:36,070 - DEBUG - integration_test -   Set spline state to 0.8000
2025-12-01 13:36:36,070 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:36,083 - DEBUG - integration_test - Step 5: Checking path alignment: vehicle=(0.727, 0.164), path_start=(0.000, 0.000), dist=0.745m
2025-12-01 13:36:36,084 - WARNING - integration_test - Could not update reference path at step 5: x and y must have the same length
2025-12-01 13:36:36,084 - INFO - integration_test - === Calling planner.solve_mpc() at step 5 ===
2025-12-01 13:36:36,086 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:36,088 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:36,088 - INFO - integration_test - Warmstart k=0: x0=0.7268614983314956 , y0=0.16427973687672018 , psi0=0.3999999029684119 , v0=2.000000006545899 , spline0=0.8000000020935144 , a0=0.0 , w0=0.0
2025-12-01 13:36:36,088 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:36,089 - INFO - integration_test - Dyn residual k=0: pred=[0.9110737052921651, 0.24216338771895696, 0.3999999029684119, 2.000000006545899, 1.0000000027481044], ws=[0.911073705292165, 0.24216338771895696, 0.3999999029684118, 2.000000006545899, 1.210095969728655], res=[1.1102230246251565e-16, 0.0, 1.1102230246251565e-16, 0.0, -0.21009596698055066], res_norm=2.101e-01
2025-12-01 13:36:36,089 - INFO - integration_test - Dyn residual k=1: pred=[1.0952859122528344, 0.3200470385611937, 0.3999999029684118, 2.000000006545899, 1.410095970383245], ws=[1.0952859122528344, 0.32004703856119376, 0.3999999029684118, 2.000000006545899, 1.6563639887988084], res=[0.0, -5.551115123125783e-17, 0.0, 0.0, -0.24626801841556345], res_norm=2.463e-01
2025-12-01 13:36:36,090 - INFO - integration_test - Dyn residual k=2: pred=[1.279498119213504, 0.3979306894034305, 0.3999999029684118, 2.000000006545899, 1.8563639894533983], ws=[1.279498119213504, 0.39793068940343057, 0.3999999029684118, 2.000000006545899, 2.0825433307687096], res=[0.0, -5.551115123125783e-17, 0.0, 0.0, -0.22617934131531126], res_norm=2.262e-01
2025-12-01 13:36:36,104 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:36,116 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:36,133 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:36,145 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:36,161 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:36,173 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:36,191 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:36,203 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:36,220 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:36,231 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:36,249 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:36,260 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:36,276 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:36,287 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:36,303 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:36,314 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:36,329 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:36,340 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:36,355 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:36,366 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:36,382 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:36,393 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:36,663 - INFO - integration_test - Step 5: MPC solve successful
2025-12-01 13:36:36,677 - INFO - integration_test - Step 5: Computed 10 numeric contouring constraints for visualization (s=0.800)
2025-12-01 13:36:36,678 - DEBUG - integration_test - Step 5: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:36,678 - INFO - integration_test - === Applying control at step 5 ===
2025-12-01 13:36:36,678 - INFO - integration_test -   Control dict from planner: {'a': 1.9999999806286353, 'w': 0.7999974445821613}
2025-12-01 13:36:36,678 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:36,678 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:36,679 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:36,679 - INFO - integration_test - Step 5 completed in 0.610s
2025-12-01 13:36:36,705 - INFO - integration_test - Step 6 (contouring until path end)
2025-12-01 13:36:36,706 - DEBUG - integration_test - Syncing planner state at step 6: vehicle_state=[0.91675193 0.25382373 0.47999965 2.2        1.02      ]
2025-12-01 13:36:36,706 - DEBUG - integration_test - Step 6: Using propagated spline 1.0200 (close to path, dist=0.373m)
2025-12-01 13:36:36,706 - DEBUG - integration_test -   Set spline state to 1.0200
2025-12-01 13:36:36,707 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:36,720 - DEBUG - integration_test - Step 6: Checking path alignment: vehicle=(0.917, 0.254), path_start=(0.000, 0.000), dist=0.951m
2025-12-01 13:36:36,721 - WARNING - integration_test - Could not update reference path at step 6: x and y must have the same length
2025-12-01 13:36:36,721 - INFO - integration_test - === Calling planner.solve_mpc() at step 6 ===
2025-12-01 13:36:36,723 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:36,724 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:36,724 - INFO - integration_test - Warmstart k=0: x0=0.916751932623896 , y0=0.25382373381524137 , psi0=0.47999964742662804 , v0=2.2000000046087624 , spline0=1.0200000025543907 , a0=0.0 , w0=0.0
2025-12-01 13:36:36,724 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:36,725 - INFO - integration_test - Dyn residual k=0: pred=[1.1118908518625503, 0.3554150838464102, 0.47999964742662804, 2.2000000046087624, 1.240000003015267], ws=[1.1118908518625503, 0.3554150838464102, 0.47999964742662815, 2.2000000046087624, 1.528421956535401], res=[0.0, 0.0, -1.1102230246251565e-16, 0.0, -0.288421953520134], res_norm=2.884e-01
2025-12-01 13:36:36,726 - INFO - integration_test - Dyn residual k=1: pred=[1.3070297711012047, 0.45700643387757905, 0.47999964742662815, 2.2000000046087624, 1.7484219569962771], ws=[1.3070297711012047, 0.45700643387757905, 0.47999964742662815, 2.2000000046087624, 2.0213814270648727], res=[0.0, 0.0, 0.0, 0.0, -0.27295947006859556], res_norm=2.730e-01
2025-12-01 13:36:36,727 - INFO - integration_test - Dyn residual k=2: pred=[1.502168690339859, 0.5585977839087479, 0.47999964742662815, 2.2000000046087624, 2.241381427525749], ws=[1.502168690339859, 0.5585977839087479, 0.47999964742662815, 2.2000000046087624, 2.557601243831898], res=[0.0, 0.0, 0.0, 0.0, -0.3162198163061487], res_norm=3.162e-01
2025-12-01 13:36:36,741 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:36,752 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:36,768 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:36,780 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:36,795 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:36,806 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:36,821 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:36,832 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:36,847 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:36,858 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:36,873 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:36,884 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:36,899 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:36,910 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:36,925 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:36,936 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:36,951 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:36,963 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:36,978 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:36,989 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:37,004 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:37,015 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:37,309 - INFO - integration_test - Step 6: MPC solve successful
2025-12-01 13:36:37,320 - INFO - integration_test - Step 6: Computed 10 numeric contouring constraints for visualization (s=1.020)
2025-12-01 13:36:37,321 - DEBUG - integration_test - Step 6: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:37,321 - INFO - integration_test - === Applying control at step 6 ===
2025-12-01 13:36:37,321 - INFO - integration_test -   Control dict from planner: {'a': 2.000000019844059, 'w': 0.799999997107925}
2025-12-01 13:36:37,321 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:37,321 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:37,322 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:37,322 - INFO - integration_test - Step 6 completed in 0.617s
2025-12-01 13:36:37,344 - INFO - integration_test - Step 7 (contouring until path end)
2025-12-01 13:36:37,344 - DEBUG - integration_test - Syncing planner state at step 7: vehicle_state=[1.11623093 0.3681913  0.55999965 2.40000001 1.26      ]
2025-12-01 13:36:37,345 - DEBUG - integration_test - Step 7: Using propagated spline 1.2600 (close to path, dist=0.475m)
2025-12-01 13:36:37,345 - DEBUG - integration_test -   Set spline state to 1.2600
2025-12-01 13:36:37,345 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:37,359 - DEBUG - integration_test - Step 7: Checking path alignment: vehicle=(1.116, 0.368), path_start=(0.000, 0.000), dist=1.175m
2025-12-01 13:36:37,359 - WARNING - integration_test - Could not update reference path at step 7: x and y must have the same length
2025-12-01 13:36:37,359 - INFO - integration_test - === Calling planner.solve_mpc() at step 7 ===
2025-12-01 13:36:37,362 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:37,363 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:37,363 - INFO - integration_test - Warmstart k=0: x0=1.116230932608989 , y0=0.36819130255732546 , psi0=0.5599996471374206 , v0=2.400000006593168 , spline0=1.2600000032137075 , a0=0.0 , w0=0.0
2025-12-01 13:36:37,363 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:37,364 - INFO - integration_test - Dyn residual k=0: pred=[1.3195722047953815, 0.49567591865703964, 0.5599996471374206, 2.400000006593168, 1.5000000038730243], ws=[1.3195722047953815, 0.49567591865703964, 0.5599996471374205, 2.400000006593168, 1.8738630796422608], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -0.3738630757692365], res_norm=3.739e-01
2025-12-01 13:36:37,365 - INFO - integration_test - Dyn residual k=1: pred=[1.522913476981774, 0.6231605347567538, 0.5599996471374205, 2.400000006593168, 2.1138630803015777], ws=[1.522913476981774, 0.6231605347567538, 0.5599996471374205, 2.400000006593168, 2.48138593323325], res=[0.0, 0.0, 0.0, 0.0, -0.36752285293167253], res_norm=3.675e-01
2025-12-01 13:36:37,365 - INFO - integration_test - Dyn residual k=2: pred=[1.7262547491681666, 0.750645150856468, 0.5599996471374205, 2.400000006593168, 2.721385933892567], ws=[1.7262547491681666, 0.750645150856468, 0.5599996471374205, 2.400000006593168, 3.082301548305276], res=[0.0, 0.0, 0.0, 0.0, -0.36091561441270903], res_norm=3.609e-01
2025-12-01 13:36:37,379 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:37,391 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:37,406 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:37,417 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:37,433 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:37,444 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:37,459 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:37,470 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:37,486 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:37,497 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:37,512 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:37,523 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:37,538 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:37,549 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:37,564 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:37,575 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:37,590 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:37,601 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:37,617 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:37,628 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:37,643 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:37,654 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:37,924 - INFO - integration_test - Step 7: MPC solve successful
2025-12-01 13:36:37,935 - INFO - integration_test - Step 7: Computed 10 numeric contouring constraints for visualization (s=1.260)
2025-12-01 13:36:37,935 - DEBUG - integration_test - Step 7: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:37,935 - INFO - integration_test - === Applying control at step 7 ===
2025-12-01 13:36:37,935 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000130005615, 'w': 0.7999993027745762}
2025-12-01 13:36:37,936 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:37,936 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:37,937 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:37,937 - INFO - integration_test - Step 7 completed in 0.593s
2025-12-01 13:36:37,959 - INFO - integration_test - Step 8 (contouring until path end)
2025-12-01 13:36:37,959 - DEBUG - integration_test - Syncing planner state at step 8: vehicle_state=[1.32243461 0.50942422 0.63999958 2.60000001 1.52      ]
2025-12-01 13:36:37,960 - DEBUG - integration_test - Step 8: Using propagated spline 1.5200 (close to path, dist=0.429m)
2025-12-01 13:36:37,960 - DEBUG - integration_test -   Set spline state to 1.5200
2025-12-01 13:36:37,960 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:37,974 - DEBUG - integration_test - Step 8: Checking path alignment: vehicle=(1.322, 0.509), path_start=(0.000, 0.000), dist=1.417m
2025-12-01 13:36:37,974 - WARNING - integration_test - Could not update reference path at step 8: x and y must have the same length
2025-12-01 13:36:37,974 - INFO - integration_test - === Calling planner.solve_mpc() at step 8 ===
2025-12-01 13:36:37,977 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:37,978 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:37,978 - INFO - integration_test - Warmstart k=0: x0=1.322434611227445 , y0=0.5094242189283167 , psi0=0.6399995774148782 , v0=2.6000000078932244 , spline0=1.52000000400303 , a0=0.0 , w0=0.0
2025-12-01 13:36:37,978 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:37,979 - INFO - integration_test - Dyn residual k=0: pred=[1.530979574525591, 0.6646949460259335, 0.6399995774148782, 2.6000000078932244, 1.7800000047923523], ws=[1.530979574525591, 0.6646949460259335, 0.6399995774148781, 2.6000000078932244, 2.1722695127312486], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -0.39226950793889626], res_norm=3.923e-01
2025-12-01 13:36:37,980 - INFO - integration_test - Dyn residual k=1: pred=[1.739524537823737, 0.8199656731235503, 0.6399995774148781, 2.6000000078932244, 2.432269513520571], ws=[1.739524537823737, 0.8199656731235503, 0.6399995774148781, 2.6000000078932244, 2.820811507970084], res=[0.0, 0.0, 0.0, 0.0, -0.388541994449513], res_norm=3.885e-01
2025-12-01 13:36:37,980 - INFO - integration_test - Dyn residual k=2: pred=[1.948069501121883, 0.9752364002211671, 0.6399995774148781, 2.6000000078932244, 3.080811508759407], ws=[1.948069501121883, 0.9752364002211671, 0.6399995774148781, 2.6000000078932244, 3.465637722618002], res=[0.0, 0.0, 0.0, 0.0, -0.38482621385859517], res_norm=3.848e-01
2025-12-01 13:36:37,994 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:38,006 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:38,022 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:38,033 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:38,048 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:38,059 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:38,074 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:38,085 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:38,100 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:38,111 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:38,126 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:38,137 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:38,152 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:38,162 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:38,177 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:38,189 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:38,204 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:38,215 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:38,230 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:38,241 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:38,256 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:38,267 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:38,592 - INFO - integration_test - Step 8: MPC solve successful
2025-12-01 13:36:38,603 - INFO - integration_test - Step 8: Computed 10 numeric contouring constraints for visualization (s=1.520)
2025-12-01 13:36:38,603 - DEBUG - integration_test - Step 8: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:38,603 - INFO - integration_test - === Applying control at step 8 ===
2025-12-01 13:36:38,604 - INFO - integration_test -   Control dict from planner: {'a': 2.000000017163843, 'w': 0.7999995893587011}
2025-12-01 13:36:38,604 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:38,604 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:38,604 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:38,605 - INFO - integration_test - Step 8 completed in 0.646s
2025-12-01 13:36:38,626 - INFO - integration_test - Step 9 (contouring until path end)
2025-12-01 13:36:38,627 - DEBUG - integration_test - Syncing planner state at step 9: vehicle_state=[1.53223953 0.67925662 0.71999954 2.80000001 1.8       ]
2025-12-01 13:36:38,627 - DEBUG - integration_test - Step 9: Using propagated spline 1.8000 (close to path, dist=0.464m)
2025-12-01 13:36:38,627 - DEBUG - integration_test -   Set spline state to 1.8000
2025-12-01 13:36:38,628 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:38,641 - DEBUG - integration_test - Step 9: Checking path alignment: vehicle=(1.532, 0.679), path_start=(0.000, 0.000), dist=1.676m
2025-12-01 13:36:38,642 - WARNING - integration_test - Could not update reference path at step 9: x and y must have the same length
2025-12-01 13:36:38,642 - INFO - integration_test - === Calling planner.solve_mpc() at step 9 ===
2025-12-01 13:36:38,644 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:38,646 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:38,646 - INFO - integration_test - Warmstart k=0: x0=1.5322395268398967 , y0=0.6792566246455156 , psi0=0.7199995363507483 , v0=2.8000000096096085 , spline0=1.8000000049639908 , a0=0.0 , w0=0.0
2025-12-01 13:36:38,646 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:38,646 - INFO - integration_test - Dyn residual k=0: pred=[1.7427452173242797, 0.8638842358303849, 0.7199995363507483, 2.8000000096096085, 2.0800000059249517], ws=[1.7427452173242797, 0.8638842358303849, 0.7199995363507483, 2.8000000096096085, 2.5726637923965896], res=[0.0, 0.0, 0.0, 0.0, -0.4926637864716379], res_norm=4.927e-01
2025-12-01 13:36:38,647 - INFO - integration_test - Dyn residual k=1: pred=[1.9532509078086626, 1.0485118470152541, 0.7199995363507483, 2.8000000096096085, 2.8526637933575505], ws=[1.9532509078086626, 1.0485118470152541, 0.7199995363507483, 2.8000000096096085, 3.353383279178176], res=[0.0, 0.0, 0.0, 0.0, -0.5007194858206256], res_norm=5.007e-01
2025-12-01 13:36:38,648 - INFO - integration_test - Dyn residual k=2: pred=[2.1637565982930456, 1.2331394582001234, 0.7199995363507483, 2.8000000096096085, 3.633383280139137], ws=[2.1637565982930456, 1.2331394582001234, 0.7199995363507483, 2.8000000096096085, 4.144520100512853], res=[0.0, 0.0, 0.0, 0.0, -0.5111368203737161], res_norm=5.111e-01
2025-12-01 13:36:38,662 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:38,673 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:38,689 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:38,701 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:38,716 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:38,727 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:38,742 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:38,753 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:38,768 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:38,779 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:38,795 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:38,806 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:38,821 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:38,832 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:38,847 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:38,859 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:38,875 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:38,886 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:38,901 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:38,912 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:38,927 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:38,938 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:39,374 - INFO - integration_test - Step 9: MPC solve successful
2025-12-01 13:36:39,384 - INFO - integration_test - Step 9: Computed 10 numeric contouring constraints for visualization (s=1.800)
2025-12-01 13:36:39,385 - DEBUG - integration_test - Step 9: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:39,385 - INFO - integration_test - === Applying control at step 9 ===
2025-12-01 13:36:39,385 - INFO - integration_test -   Control dict from planner: {'a': 2.000000018634327, 'w': 0.7999997287273134}
2025-12-01 13:36:39,385 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:39,385 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:39,386 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:39,386 - INFO - integration_test - Step 9 completed in 0.760s
2025-12-01 13:36:39,407 - INFO - integration_test - Step 10 (contouring until path end)
2025-12-01 13:36:39,407 - DEBUG - integration_test - Syncing planner state at step 10: vehicle_state=[1.74229419 0.87908709 0.79999951 3.00000001 2.10000001]
2025-12-01 13:36:39,408 - DEBUG - integration_test - Step 10: Using propagated spline 2.1000 (close to path, dist=0.397m)
2025-12-01 13:36:39,408 - DEBUG - integration_test -   Set spline state to 2.1000
2025-12-01 13:36:39,408 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:39,422 - DEBUG - integration_test - Step 10: Checking path alignment: vehicle=(1.742, 0.879), path_start=(0.000, 0.000), dist=1.952m
2025-12-01 13:36:39,423 - WARNING - integration_test - Could not update reference path at step 10: x and y must have the same length
2025-12-01 13:36:39,423 - INFO - integration_test - === Calling planner.solve_mpc() at step 10 ===
2025-12-01 13:36:39,425 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:39,427 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:39,427 - INFO - integration_test - Warmstart k=0: x0=1.7422941879375784 , y0=0.879087093760063 , psi0=0.7999995092234796 , v0=3.0 , spline0=2.100000006111295 , a0=0.0 , w0=0.0
2025-12-01 13:36:39,427 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:39,428 - INFO - integration_test - Dyn residual k=0: pred=[1.9513063063601606, 1.0942938184517055, 0.7999995092234796, 3.0, 2.400000006111295], ws=[1.9513063063601608, 1.0942938184517055, 0.7999995092234795, 3.0, 3.000185601887861], res=[-2.220446049250313e-16, 0.0, 1.1102230246251565e-16, 0.0, -0.600185595776566], res_norm=6.002e-01
2025-12-01 13:36:39,429 - INFO - integration_test - Dyn residual k=1: pred=[2.160318424782743, 1.309500543143348, 0.7999995092234795, 3.0, 3.3001856018878613], ws=[2.160318424782743, 1.309500543143348, 0.7999995092234795, 3.0, 3.860204111922527], res=[0.0, 0.0, 0.0, 0.0, -0.560018510034666], res_norm=5.600e-01
2025-12-01 13:36:39,429 - INFO - integration_test - Dyn residual k=2: pred=[2.3693305432053253, 1.5247072678349904, 0.7999995092234795, 3.0, 4.1602041119225275], ws=[2.3693305432053253, 1.5247072678349904, 0.7999995092234795, 3.0, 4.739620414398824], res=[0.0, 0.0, 0.0, 0.0, -0.5794163024762966], res_norm=5.794e-01
2025-12-01 13:36:39,444 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:39,455 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:39,470 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:39,481 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:39,496 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:39,508 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:39,523 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:39,534 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:39,549 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:39,561 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:39,576 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:39,587 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:39,602 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:39,613 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:39,628 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:39,639 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:39,655 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:39,666 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:39,681 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:39,693 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:39,708 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:39,720 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:39,987 - INFO - integration_test - Step 10: MPC solve successful
2025-12-01 13:36:39,998 - INFO - integration_test - Step 10: Computed 10 numeric contouring constraints for visualization (s=2.100)
2025-12-01 13:36:39,999 - DEBUG - integration_test - Step 10: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:39,999 - INFO - integration_test - === Applying control at step 10 ===
2025-12-01 13:36:39,999 - INFO - integration_test -   Control dict from planner: {'a': 1.23503668900184e-07, 'w': 0.8000000033046588}
2025-12-01 13:36:39,999 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:39,999 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:40,000 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:40,000 - INFO - integration_test - Step 10 completed in 0.593s
2025-12-01 13:36:40,021 - INFO - integration_test - Step 11 (contouring until path end)
2025-12-01 13:36:40,021 - DEBUG - integration_test - Syncing planner state at step 11: vehicle_state=[1.94247976 1.10242037 0.87999951 3.00000002 2.40000001]
2025-12-01 13:36:40,022 - DEBUG - integration_test - Step 11: Using propagated spline 2.4000 (close to path, dist=0.398m)
2025-12-01 13:36:40,022 - DEBUG - integration_test -   Set spline state to 2.4000
2025-12-01 13:36:40,022 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:40,036 - DEBUG - integration_test - Step 11: Checking path alignment: vehicle=(1.942, 1.102), path_start=(0.000, 0.000), dist=2.234m
2025-12-01 13:36:40,036 - WARNING - integration_test - Could not update reference path at step 11: x and y must have the same length
2025-12-01 13:36:40,036 - INFO - integration_test - === Calling planner.solve_mpc() at step 11 ===
2025-12-01 13:36:40,039 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:40,040 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:40,040 - INFO - integration_test - Warmstart k=0: x0=1.9424797565240461 , y0=1.1024203693497014 , psi0=0.8799995095539455 , v0=3.0 , spline0=2.400000008493636 , a0=0.0 , w0=0.0
2025-12-01 13:36:40,040 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:40,041 - INFO - integration_test - Dyn residual k=0: pred=[2.1336252131853497, 1.3336419392728849, 0.8799995095539455, 3.0, 2.700000008493636], ws=[2.1336252131853497, 1.3336419392728849, 0.8799995095539455, 3.0, 3.3331560242946883], res=[0.0, 0.0, 0.0, 0.0, -0.6331560158010521], res_norm=6.332e-01
2025-12-01 13:36:40,041 - INFO - integration_test - Dyn residual k=1: pred=[2.3247706698466533, 1.5648635091960683, 0.8799995095539455, 3.0, 3.6331560242946885], ws=[2.3247706698466533, 1.5648635091960683, 0.8799995095539455, 3.0, 4.291968866062172], res=[0.0, 0.0, 0.0, 0.0, -0.6588128417674834], res_norm=6.588e-01
2025-12-01 13:36:40,042 - INFO - integration_test - Dyn residual k=2: pred=[2.515916126507957, 1.7960850791192517, 0.8799995095539455, 3.0, 4.591968866062172], ws=[2.515916126507957, 1.7960850791192517, 0.8799995095539455, 3.0, 5.217337958486291], res=[0.0, 0.0, 0.0, 0.0, -0.6253690924241191], res_norm=6.254e-01
2025-12-01 13:36:40,057 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:40,068 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:40,084 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:40,096 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:40,112 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:40,123 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:40,138 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:40,149 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:40,165 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:40,176 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:40,191 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:40,203 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:40,218 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:40,229 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:40,244 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:40,255 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:40,270 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:40,281 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:40,296 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:40,308 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:40,323 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:40,334 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:40,593 - INFO - integration_test - Step 11: MPC solve successful
2025-12-01 13:36:40,605 - INFO - integration_test - Step 11: Computed 10 numeric contouring constraints for visualization (s=2.400)
2025-12-01 13:36:40,605 - DEBUG - integration_test - Step 11: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:40,605 - INFO - integration_test - === Applying control at step 11 ===
2025-12-01 13:36:40,605 - INFO - integration_test -   Control dict from planner: {'a': 4.117591204594858e-08, 'w': -0.5446354623836988}
2025-12-01 13:36:40,606 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:40,606 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:40,607 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:40,607 - INFO - integration_test - Step 11 completed in 0.586s
2025-12-01 13:36:40,630 - INFO - integration_test - Step 12 (contouring until path end)
2025-12-01 13:36:40,631 - DEBUG - integration_test - Syncing planner state at step 12: vehicle_state=[2.13982575 1.3283237  0.82553596 3.00000003 2.70000001]
2025-12-01 13:36:40,631 - DEBUG - integration_test - Step 12: Using propagated spline 2.7000 (close to path, dist=0.279m)
2025-12-01 13:36:40,631 - DEBUG - integration_test -   Set spline state to 2.7000
2025-12-01 13:36:40,632 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:40,645 - DEBUG - integration_test - Step 12: Checking path alignment: vehicle=(2.140, 1.328), path_start=(0.000, 0.000), dist=2.519m
2025-12-01 13:36:40,646 - WARNING - integration_test - Could not update reference path at step 12: x and y must have the same length
2025-12-01 13:36:40,646 - INFO - integration_test - === Calling planner.solve_mpc() at step 12 ===
2025-12-01 13:36:40,649 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:40,650 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:40,650 - INFO - integration_test - Warmstart k=0: x0=2.1398257481212344 , y0=1.3283237044700067 , psi0=0.8255359633155755 , v0=3.0 , spline0=2.700000011287736 , a0=0.0 , w0=0.0
2025-12-01 13:36:40,650 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:40,651 - INFO - integration_test - Dyn residual k=0: pred=[2.3432747013765924, 1.5487971119805253, 0.8255359633155755, 3.0, 3.000000011287736], ws=[2.3432747013765924, 1.5487971119805253, 0.8255359633155757, 3.0, 3.741721215551111], res=[0.0, 0.0, -1.1102230246251565e-16, 0.0, -0.7417212042633747], res_norm=7.417e-01
2025-12-01 13:36:40,652 - INFO - integration_test - Dyn residual k=1: pred=[2.5467236546319505, 1.7692705194910439, 0.8255359633155757, 3.0, 4.041721215551111], ws=[2.5467236546319505, 1.7692705194910439, 0.8255359633155757, 3.0, 4.757018665283008], res=[0.0, 0.0, 0.0, 0.0, -0.7152974497318967], res_norm=7.153e-01
2025-12-01 13:36:40,653 - INFO - integration_test - Dyn residual k=2: pred=[2.7501726078873086, 1.9897439270015624, 0.8255359633155757, 3.0, 5.057018665283008], ws=[2.7501726078873086, 1.9897439270015624, 0.8255359633155757, 3.0, 5.810058551600278], res=[0.0, 0.0, 0.0, 0.0, -0.7530398863172705], res_norm=7.530e-01
2025-12-01 13:36:40,667 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:40,678 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:40,694 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:40,705 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:40,721 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:40,732 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:40,747 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:40,758 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:40,773 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:40,784 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:40,799 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:40,818 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:40,832 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:40,843 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:40,858 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:40,869 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:40,883 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:40,894 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:40,910 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:40,922 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:40,937 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:40,948 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:41,193 - INFO - integration_test - Step 12: MPC solve successful
2025-12-01 13:36:41,206 - INFO - integration_test - Step 12: Computed 10 numeric contouring constraints for visualization (s=2.700)
2025-12-01 13:36:41,206 - DEBUG - integration_test - Step 12: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:41,206 - INFO - integration_test - === Applying control at step 12 ===
2025-12-01 13:36:41,206 - INFO - integration_test -   Control dict from planner: {'a': 5.300531393768354e-09, 'w': -0.5043712211424947}
2025-12-01 13:36:41,206 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:41,206 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:41,207 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:41,208 - INFO - integration_test - Step 12 completed in 0.577s
2025-12-01 13:36:41,231 - INFO - integration_test - Step 13 (contouring until path end)
2025-12-01 13:36:41,232 - DEBUG - integration_test - Syncing planner state at step 13: vehicle_state=[2.3487473  1.54357405 0.77509884 3.00000003 3.00000001]
2025-12-01 13:36:41,232 - DEBUG - integration_test - Step 13: Using propagated spline 3.0000 (close to path, dist=0.329m)
2025-12-01 13:36:41,232 - DEBUG - integration_test -   Set spline state to 3.0000
2025-12-01 13:36:41,233 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:41,247 - DEBUG - integration_test - Step 13: Checking path alignment: vehicle=(2.349, 1.544), path_start=(0.000, 0.000), dist=2.811m
2025-12-01 13:36:41,247 - WARNING - integration_test - Could not update reference path at step 13: x and y must have the same length
2025-12-01 13:36:41,247 - INFO - integration_test - === Calling planner.solve_mpc() at step 13 ===
2025-12-01 13:36:41,250 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:41,251 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:41,252 - INFO - integration_test - Warmstart k=0: x0=2.3487472992136174 , y0=1.5435740469289667 , psi0=0.7750988412013261 , v0=3.0 , spline0=3.000000014134841 , a0=0.0 , w0=0.0
2025-12-01 13:36:41,252 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:41,252 - INFO - integration_test - Dyn residual k=0: pred=[2.5630528601502487, 1.7535100527775007, 0.7750988412013261, 3.0, 3.3000000141348407], ws=[2.5630528601502487, 1.7535100527775007, 0.7750988412013262, 3.0, 4.073841089532655], res=[0.0, 0.0, -1.1102230246251565e-16, 0.0, -0.7738410753978142], res_norm=7.738e-01
2025-12-01 13:36:41,253 - INFO - integration_test - Dyn residual k=1: pred=[2.77735842108688, 1.9634460586260347, 0.7750988412013262, 3.0, 4.373841089532655], ws=[2.77735842108688, 1.9634460586260347, 0.7750988412013262, 3.0, 5.187102387460746], res=[0.0, 0.0, 0.0, 0.0, -0.8132612979280909], res_norm=8.133e-01
2025-12-01 13:36:41,254 - INFO - integration_test - Dyn residual k=2: pred=[2.9916639820235114, 2.173382064474569, 0.7750988412013262, 3.0, 5.487102387460745], ws=[2.9916639820235114, 2.173382064474569, 0.7750988412013262, 3.0, 6.282796012174005], res=[0.0, 0.0, 0.0, 0.0, -0.7956936247132598], res_norm=7.957e-01
2025-12-01 13:36:41,269 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:41,281 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:41,297 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:41,308 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:41,324 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:41,335 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:41,350 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:41,361 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:41,376 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:41,387 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:41,402 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:41,412 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:41,427 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:41,438 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:41,454 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:41,465 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:41,481 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:41,492 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:41,507 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:41,518 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:41,533 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:41,544 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:41,775 - INFO - integration_test - Step 13: MPC solve successful
2025-12-01 13:36:41,787 - INFO - integration_test - Step 13: Computed 10 numeric contouring constraints for visualization (s=3.000)
2025-12-01 13:36:41,787 - DEBUG - integration_test - Step 13: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:41,787 - INFO - integration_test - === Applying control at step 13 ===
2025-12-01 13:36:41,787 - INFO - integration_test -   Control dict from planner: {'a': 2.9449293423984954e-09, 'w': -0.47926581959566233}
2025-12-01 13:36:41,787 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:41,788 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:41,788 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:41,789 - INFO - integration_test - Step 13 completed in 0.558s
2025-12-01 13:36:41,811 - INFO - integration_test - Step 14 (contouring until path end)
2025-12-01 13:36:41,811 - DEBUG - integration_test - Syncing planner state at step 14: vehicle_state=[2.56800062 1.74829521 0.72717226 3.00000003 3.30000002]
2025-12-01 13:36:41,812 - DEBUG - integration_test - Step 14: Using propagated spline 3.3000 (close to path, dist=0.192m)
2025-12-01 13:36:41,812 - DEBUG - integration_test -   Set spline state to 3.3000
2025-12-01 13:36:41,812 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:41,827 - DEBUG - integration_test - Step 14: Checking path alignment: vehicle=(2.568, 1.748), path_start=(0.000, 0.000), dist=3.107m
2025-12-01 13:36:41,827 - WARNING - integration_test - Could not update reference path at step 14: x and y must have the same length
2025-12-01 13:36:41,827 - INFO - integration_test - === Calling planner.solve_mpc() at step 14 ===
2025-12-01 13:36:41,830 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:41,831 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:41,831 - INFO - integration_test - Warmstart k=0: x0=2.568000624995839 , y0=1.748295211734724 , psi0=0.7271722592417599 , v0=3.0 , spline0=3.3000000170113957 , a0=0.0 , w0=0.0
2025-12-01 13:36:41,831 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:41,833 - INFO - integration_test - Dyn residual k=0: pred=[2.7921177715048233, 1.9477231552147451, 0.7271722592417599, 3.0, 3.6000000170113955], ws=[2.7921177715048233, 1.9477231552147451, 0.72717225924176, 3.0, 4.483692216941106], res=[0.0, 0.0, -1.1102230246251565e-16, 0.0, -0.8836921999297109], res_norm=8.837e-01
2025-12-01 13:36:41,833 - INFO - integration_test - Dyn residual k=1: pred=[3.0162349180138075, 2.1471510986947666, 0.72717225924176, 3.0, 4.783692216941106], ws=[3.0162349180138075, 2.1471510986947666, 0.72717225924176, 3.0, 5.654008153933895], res=[0.0, 0.0, 0.0, 0.0, -0.8703159369927889], res_norm=8.703e-01
2025-12-01 13:36:41,834 - INFO - integration_test - Dyn residual k=2: pred=[3.2403520645227917, 2.346579042174788, 0.72717225924176, 3.0, 5.954008153933895], ws=[3.2403520645227917, 2.346579042174788, 0.72717225924176, 3.0, 6.810487368561208], res=[0.0, 0.0, 0.0, 0.0, -0.8564792146273135], res_norm=8.565e-01
2025-12-01 13:36:41,849 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:41,860 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:41,876 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:41,887 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:41,902 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:41,913 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:41,928 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:41,938 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:41,953 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:41,964 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:41,979 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:41,990 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:42,005 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:42,016 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:42,032 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:42,042 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:42,057 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:42,068 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:42,083 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:42,094 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:42,109 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:42,120 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:42,359 - INFO - integration_test - Step 14: MPC solve successful
2025-12-01 13:36:42,370 - INFO - integration_test - Step 14: Computed 10 numeric contouring constraints for visualization (s=3.300)
2025-12-01 13:36:42,370 - DEBUG - integration_test - Step 14: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:42,371 - INFO - integration_test - === Applying control at step 14 ===
2025-12-01 13:36:42,371 - INFO - integration_test -   Control dict from planner: {'a': -1.3186355947897088e-08, 'w': -0.44078869029322915}
2025-12-01 13:36:42,371 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:42,371 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:42,372 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:42,372 - INFO - integration_test - Step 14 completed in 0.561s
2025-12-01 13:36:42,394 - INFO - integration_test - Step 15 (contouring until path end)
2025-12-01 13:36:42,394 - DEBUG - integration_test - Syncing planner state at step 15: vehicle_state=[2.79643977 1.94271997 0.68309339 3.00000003 3.60000002]
2025-12-01 13:36:42,395 - DEBUG - integration_test - Step 15: Using propagated spline 3.6000 (close to path, dist=0.314m)
2025-12-01 13:36:42,395 - DEBUG - integration_test -   Set spline state to 3.6000
2025-12-01 13:36:42,395 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:42,410 - DEBUG - integration_test - Step 15: Checking path alignment: vehicle=(2.796, 1.943), path_start=(0.000, 0.000), dist=3.405m
2025-12-01 13:36:42,410 - WARNING - integration_test - Could not update reference path at step 15: x and y must have the same length
2025-12-01 13:36:42,410 - INFO - integration_test - === Calling planner.solve_mpc() at step 15 ===
2025-12-01 13:36:42,413 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:42,414 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:42,414 - INFO - integration_test - Warmstart k=0: x0=2.796439773880131 , y0=1.9427199684468068 , psi0=0.683093390212437 , v0=3.0 , spline0=3.6000000197560866 , a0=0.0 , w0=0.0
2025-12-01 13:36:42,414 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:42,415 - INFO - integration_test - Dyn residual k=0: pred=[3.0291269436847443, 2.13207857270951, 0.683093390212437, 3.0, 3.900000019756087], ws=[3.0291269436847443, 2.13207857270951, 0.683093390212437, 3.0, 4.814597716564745], res=[0.0, 0.0, 0.0, 0.0, -0.9145976968086584], res_norm=9.146e-01
2025-12-01 13:36:42,416 - INFO - integration_test - Dyn residual k=1: pred=[3.2618141134893577, 2.3214371769722133, 0.683093390212437, 3.0, 5.114597716564745], ws=[3.2618141134893577, 2.3214371769722133, 0.683093390212437, 3.0, 6.016198309379879], res=[0.0, 0.0, 0.0, 0.0, -0.901600592815134], res_norm=9.016e-01
2025-12-01 13:36:42,416 - INFO - integration_test - Dyn residual k=2: pred=[3.494501283293971, 2.5107957812349166, 0.683093390212437, 3.0, 6.316198309379879], ws=[3.494501283293971, 2.5107957812349166, 0.683093390212437, 3.0, 7.276310141958871], res=[0.0, 0.0, 0.0, 0.0, -0.9601118325789919], res_norm=9.601e-01
2025-12-01 13:36:42,431 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:42,442 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:42,457 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:42,469 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:42,484 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:42,495 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:42,510 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:42,521 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:42,536 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:42,547 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:42,562 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:42,573 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:42,588 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:42,599 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:42,614 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:42,625 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:42,640 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:42,651 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:42,667 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:42,678 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:42,693 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:42,704 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:42,945 - INFO - integration_test - Step 15: MPC solve successful
2025-12-01 13:36:42,957 - INFO - integration_test - Step 15: Computed 10 numeric contouring constraints for visualization (s=3.600)
2025-12-01 13:36:42,958 - DEBUG - integration_test - Step 15: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:42,958 - INFO - integration_test - === Applying control at step 15 ===
2025-12-01 13:36:42,958 - INFO - integration_test -   Control dict from planner: {'a': 1.6912409846750648e-08, 'w': -0.4972734987357318}
2025-12-01 13:36:42,958 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:42,958 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:42,959 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:42,959 - INFO - integration_test - Step 15 completed in 0.565s
2025-12-01 13:36:42,981 - INFO - integration_test - Step 16 (contouring until path end)
2025-12-01 13:36:42,981 - DEBUG - integration_test - Syncing planner state at step 16: vehicle_state=[3.03373824 2.12621628 0.63336604 3.00000003 3.90000002]
2025-12-01 13:36:42,982 - DEBUG - integration_test - Step 16: Using propagated spline 3.9000 (close to path, dist=0.150m)
2025-12-01 13:36:42,982 - DEBUG - integration_test -   Set spline state to 3.9000
2025-12-01 13:36:42,982 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:42,998 - DEBUG - integration_test - Step 16: Checking path alignment: vehicle=(3.034, 2.126), path_start=(0.000, 0.000), dist=3.705m
2025-12-01 13:36:42,998 - WARNING - integration_test - Could not update reference path at step 16: x and y must have the same length
2025-12-01 13:36:42,998 - INFO - integration_test - === Calling planner.solve_mpc() at step 16 ===
2025-12-01 13:36:43,001 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:43,003 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:43,003 - INFO - integration_test - Warmstart k=0: x0=3.0337382404488755 , y0=2.1262162771348456 , psi0=0.6333660403388638 , v0=3.0 , spline0=3.900000022669902 , a0=0.0 , w0=0.0
2025-12-01 13:36:43,003 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:43,004 - INFO - integration_test - Dyn residual k=0: pred=[3.275550195290726, 2.3037746576623856, 0.6333660403388638, 3.0, 4.200000022669902], ws=[3.275550195290726, 2.3037746576623856, 0.6333660403388639, 3.0, 5.225875790661837], res=[0.0, 0.0, -1.1102230246251565e-16, 0.0, -1.025875767991935], res_norm=1.026e+00
2025-12-01 13:36:43,005 - INFO - integration_test - Dyn residual k=1: pred=[3.517362150132577, 2.4813330381899257, 0.6333660403388639, 3.0, 5.5258757906618365], ws=[3.517362150132577, 2.4813330381899257, 0.6333660403388639, 3.0, 6.552002460500219], res=[0.0, 0.0, 0.0, 0.0, -1.0261266698383826], res_norm=1.026e+00
2025-12-01 13:36:43,006 - INFO - integration_test - Dyn residual k=2: pred=[3.7591741049744276, 2.6588914187174657, 0.6333660403388639, 3.0, 6.852002460500219], ws=[3.7591741049744276, 2.6588914187174657, 0.6333660403388639, 3.0, 7.879643629044208], res=[0.0, 0.0, 0.0, 0.0, -1.0276411685439886], res_norm=1.028e+00
2025-12-01 13:36:43,020 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:43,031 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:43,046 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:43,057 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:43,073 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:43,084 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:43,099 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:43,110 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:43,125 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:43,136 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:43,151 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:43,162 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:43,177 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:43,189 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:43,204 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:43,215 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:43,230 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:43,241 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:43,256 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:43,267 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:43,284 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:43,296 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:43,580 - INFO - integration_test - Step 16: MPC solve successful
2025-12-01 13:36:43,594 - INFO - integration_test - Step 16: Computed 10 numeric contouring constraints for visualization (s=3.900)
2025-12-01 13:36:43,595 - DEBUG - integration_test - Step 16: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:43,595 - INFO - integration_test - === Applying control at step 16 ===
2025-12-01 13:36:43,595 - INFO - integration_test -   Control dict from planner: {'a': 5.733136789092211e-09, 'w': -0.43321910828143073}
2025-12-01 13:36:43,595 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:43,595 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:43,596 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:43,596 - INFO - integration_test - Step 16 completed in 0.616s
2025-12-01 13:36:43,624 - INFO - integration_test - Step 17 (contouring until path end)
2025-12-01 13:36:43,624 - DEBUG - integration_test - Syncing planner state at step 17: vehicle_state=[3.27932005 2.29848207 0.59004413 3.00000003 4.20000003]
2025-12-01 13:36:43,624 - DEBUG - integration_test - Step 17: Using propagated spline 4.2000 (close to path, dist=0.317m)
2025-12-01 13:36:43,624 - DEBUG - integration_test -   Set spline state to 4.2000
2025-12-01 13:36:43,625 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:43,639 - DEBUG - integration_test - Step 17: Checking path alignment: vehicle=(3.279, 2.298), path_start=(0.000, 0.000), dist=4.005m
2025-12-01 13:36:43,639 - WARNING - integration_test - Could not update reference path at step 17: x and y must have the same length
2025-12-01 13:36:43,640 - INFO - integration_test - === Calling planner.solve_mpc() at step 17 ===
2025-12-01 13:36:43,642 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:43,643 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:43,643 - INFO - integration_test - Warmstart k=0: x0=3.2793200494812615 , y0=2.2984820660442717 , psi0=0.5900441295107207 , v0=3.0 , spline0=4.200000025641049 , a0=0.0 , w0=0.0
2025-12-01 13:36:43,643 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:43,644 - INFO - integration_test - Dyn residual k=0: pred=[3.5285948873866677, 2.4654013734572655, 0.5900441295107207, 3.0, 4.500000025641048], ws=[3.5285948873866677, 2.4654013734572655, 0.5900441295107206, 3.0, 5.55530910868087], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -1.0553090830398215], res_norm=1.055e+00
2025-12-01 13:36:43,645 - INFO - integration_test - Dyn residual k=1: pred=[3.777869725292074, 2.6323206808702593, 0.5900441295107206, 3.0, 5.85530910868087], ws=[3.777869725292074, 2.6323206808702593, 0.5900441295107206, 3.0, 6.911911793305724], res=[0.0, 0.0, 0.0, 0.0, -1.0566026846248544], res_norm=1.057e+00
2025-12-01 13:36:43,646 - INFO - integration_test - Dyn residual k=2: pred=[4.02714456319748, 2.799239988283253, 0.5900441295107206, 3.0, 7.211911793305724], ws=[4.02714456319748, 2.799239988283253, 0.5900441295107206, 3.0, 8.271038566658566], res=[0.0, 0.0, 0.0, 0.0, -1.0591267733528422], res_norm=1.059e+00
2025-12-01 13:36:43,660 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:43,672 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:43,687 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:43,698 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:43,714 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:43,725 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:43,740 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:43,751 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:43,766 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:43,777 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:43,792 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:43,803 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:43,818 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:43,829 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:43,844 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:43,855 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:43,871 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:43,882 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:43,897 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:43,908 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:43,924 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:43,935 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:44,157 - INFO - integration_test - Step 17: MPC solve successful
2025-12-01 13:36:44,169 - INFO - integration_test - Step 17: Computed 10 numeric contouring constraints for visualization (s=4.200)
2025-12-01 13:36:44,169 - DEBUG - integration_test - Step 17: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:44,169 - INFO - integration_test - === Applying control at step 17 ===
2025-12-01 13:36:44,169 - INFO - integration_test -   Control dict from planner: {'a': 1.782309160731478e-09, 'w': -0.22069431900052366}
2025-12-01 13:36:44,169 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:44,169 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:44,170 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:44,171 - INFO - integration_test - Step 17 completed in 0.547s
2025-12-01 13:36:44,196 - INFO - integration_test - Step 18 (contouring until path end)
2025-12-01 13:36:44,196 - DEBUG - integration_test - Syncing planner state at step 18: vehicle_state=[3.53041649 2.46263726 0.5679747  3.00000003 4.50000003]
2025-12-01 13:36:44,197 - DEBUG - integration_test - Step 18: Using propagated spline 4.5000 (close to path, dist=0.151m)
2025-12-01 13:36:44,197 - DEBUG - integration_test -   Set spline state to 4.5000
2025-12-01 13:36:44,197 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:44,212 - DEBUG - integration_test - Step 18: Checking path alignment: vehicle=(3.530, 2.463), path_start=(0.000, 0.000), dist=4.304m
2025-12-01 13:36:44,212 - WARNING - integration_test - Could not update reference path at step 18: x and y must have the same length
2025-12-01 13:36:44,212 - INFO - integration_test - === Calling planner.solve_mpc() at step 18 ===
2025-12-01 13:36:44,215 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:44,216 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:44,216 - INFO - integration_test - Warmstart k=0: x0=3.530416487486474 , y0=2.4626372600970536 , psi0=0.5679746976106683 , v0=3.0 , spline0=4.500000028630018 , a0=0.0 , w0=0.0
2025-12-01 13:36:44,216 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:44,217 - INFO - integration_test - Dyn residual k=0: pred=[3.7833141372317827, 2.62401501182665, 0.5679746976106683, 3.0, 4.800000028630018], ws=[3.7833141372317827, 2.62401501182665, 0.5679746976106683, 3.0, 5.9680106641021515], res=[0.0, 0.0, 0.0, 0.0, -1.1680106354721334], res_norm=1.168e+00
2025-12-01 13:36:44,218 - INFO - integration_test - Dyn residual k=1: pred=[4.036211786977091, 2.785392763556246, 0.5679746976106683, 3.0, 6.268010664102151], ws=[4.036211786977091, 2.785392763556246, 0.5679746976106683, 3.0, 7.4494344688398595], res=[0.0, 0.0, 0.0, 0.0, -1.1814238047377081], res_norm=1.181e+00
2025-12-01 13:36:44,218 - INFO - integration_test - Dyn residual k=2: pred=[4.2891094367224, 2.9467705152858423, 0.5679746976106683, 3.0, 7.749434468839859], ws=[4.2891094367224, 2.9467705152858423, 0.5679746976106683, 3.0, 8.873178943300704], res=[0.0, 0.0, 0.0, 0.0, -1.1237444744608451], res_norm=1.124e+00
2025-12-01 13:36:44,233 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:44,245 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:44,260 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:44,272 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:44,289 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:44,301 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:44,319 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:44,333 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:44,352 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:44,367 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:44,385 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:44,399 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:44,417 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:44,431 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:44,450 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:44,464 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:44,483 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:44,496 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:44,515 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:44,530 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:44,549 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:44,562 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:44,840 - INFO - integration_test - Step 18: MPC solve successful
2025-12-01 13:36:44,853 - INFO - integration_test - Step 18: Computed 10 numeric contouring constraints for visualization (s=4.500)
2025-12-01 13:36:44,854 - DEBUG - integration_test - Step 18: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:44,854 - INFO - integration_test - === Applying control at step 18 ===
2025-12-01 13:36:44,854 - INFO - integration_test -   Control dict from planner: {'a': 7.077895820075377e-10, 'w': -0.24869206951199302}
2025-12-01 13:36:44,854 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:44,854 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:44,855 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:44,856 - INFO - integration_test - Step 18 completed in 0.660s
2025-12-01 13:36:44,884 - INFO - integration_test - Step 19 (contouring until path end)
2025-12-01 13:36:44,885 - DEBUG - integration_test - Syncing planner state at step 19: vehicle_state=[3.78529464 2.62085386 0.54310549 3.00000003 4.80000003]
2025-12-01 13:36:44,885 - DEBUG - integration_test - Step 19: Using propagated spline 4.8000 (close to path, dist=0.300m)
2025-12-01 13:36:44,885 - DEBUG - integration_test -   Set spline state to 4.8000
2025-12-01 13:36:44,886 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:44,903 - DEBUG - integration_test - Step 19: Checking path alignment: vehicle=(3.785, 2.621), path_start=(0.000, 0.000), dist=4.604m
2025-12-01 13:36:44,903 - WARNING - integration_test - Could not update reference path at step 19: x and y must have the same length
2025-12-01 13:36:44,903 - INFO - integration_test - === Calling planner.solve_mpc() at step 19 ===
2025-12-01 13:36:44,907 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:44,908 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:44,909 - INFO - integration_test - Warmstart k=0: x0=3.785294636963163 , y0=2.620853859268497 , psi0=0.543105490659469 , v0=3.0 , spline0=4.800000031626066 , a0=0.0 , w0=0.0
2025-12-01 13:36:44,909 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:44,910 - INFO - integration_test - Dyn residual k=0: pred=[4.04212700801661, 2.775892993615489, 0.543105490659469, 3.0, 5.100000031626066], ws=[4.04212700801661, 2.775892993615489, 0.5431054906594692, 3.0, 6.2958291626112235], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, -1.1958291309851576], res_norm=1.196e+00
2025-12-01 13:36:44,910 - INFO - integration_test - Dyn residual k=1: pred=[4.298959379070057, 2.9309321279624805, 0.5431054906594692, 3.0, 6.595829162611223], ws=[4.298959379070057, 2.9309321279624805, 0.5431054906594692, 3.0, 7.806701458012714], res=[0.0, 0.0, 0.0, 0.0, -1.210872295401491], res_norm=1.211e+00
2025-12-01 13:36:44,911 - INFO - integration_test - Dyn residual k=2: pred=[4.555791750123504, 3.085971262309472, 0.5431054906594692, 3.0, 8.106701458012715], ws=[4.555791750123504, 3.085971262309472, 0.5431054906594692, 3.0, 9.33011271761833], res=[0.0, 0.0, 0.0, 0.0, -1.2234112596056157], res_norm=1.223e+00
2025-12-01 13:36:44,926 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:44,937 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:44,953 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:44,966 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:44,983 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:44,994 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:45,011 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:45,023 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:45,039 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:45,050 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:45,066 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:45,077 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:45,092 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:45,103 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:45,119 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:45,131 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:45,147 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:45,158 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:45,174 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:45,185 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:45,201 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:45,212 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:45,506 - INFO - integration_test - Step 19: MPC solve successful
2025-12-01 13:36:45,517 - INFO - integration_test - Step 19: Computed 10 numeric contouring constraints for visualization (s=4.800)
2025-12-01 13:36:45,518 - DEBUG - integration_test - Step 19: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:45,518 - INFO - integration_test - === Applying control at step 19 ===
2025-12-01 13:36:45,518 - INFO - integration_test -   Control dict from planner: {'a': 2.574918882035319e-10, 'w': -0.23757042400767373}
2025-12-01 13:36:45,518 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:45,518 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:45,519 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:45,519 - INFO - integration_test - Step 19 completed in 0.635s
2025-12-01 13:36:45,541 - INFO - integration_test - Step 20 (contouring until path end)
2025-12-01 13:36:45,542 - DEBUG - integration_test - Syncing planner state at step 20: vehicle_state=[4.0439444  2.77282777 0.51934845 3.00000003 5.10000003]
2025-12-01 13:36:45,542 - DEBUG - integration_test - Step 20: Using propagated spline 5.1000 (close to path, dist=0.169m)
2025-12-01 13:36:45,542 - DEBUG - integration_test -   Set spline state to 5.1000
2025-12-01 13:36:45,543 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:45,557 - DEBUG - integration_test - Step 20: Checking path alignment: vehicle=(4.044, 2.773), path_start=(0.000, 0.000), dist=4.903m
2025-12-01 13:36:45,557 - WARNING - integration_test - Could not update reference path at step 20: x and y must have the same length
2025-12-01 13:36:45,557 - INFO - integration_test - === Calling planner.solve_mpc() at step 20 ===
2025-12-01 13:36:45,560 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:45,561 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:45,561 - INFO - integration_test - Warmstart k=0: x0=4.043944401099885 , y0=2.772827766344354 , psi0=0.5193484482587016 , v0=3.0 , spline0=5.1000000346246885 , a0=0.0 , w0=0.0
2025-12-01 13:36:45,562 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:45,562 - INFO - integration_test - Dyn residual k=0: pred=[4.304387222671071, 2.9217221473398736, 0.5193484482587016, 3.0, 5.400000034624688], ws=[4.304387222671071, 2.9217221473398736, 0.5193484482587016, 3.0, 6.70975298464295], res=[0.0, 0.0, 0.0, 0.0, -1.3097529500182619], res_norm=1.310e+00
2025-12-01 13:36:45,563 - INFO - integration_test - Dyn residual k=1: pred=[4.564830044242258, 3.070616528335393, 0.5193484482587016, 3.0, 7.00975298464295], ws=[4.564830044242258, 3.0706165283353934, 0.5193484482587016, 3.0, 8.273912042116288], res=[0.0, -4.440892098500626e-16, 0.0, 0.0, -1.2641590574733383], res_norm=1.264e+00
2025-12-01 13:36:45,564 - INFO - integration_test - Dyn residual k=2: pred=[4.825272865813444, 3.219510909330913, 0.5193484482587016, 3.0, 8.573912042116289], ws=[4.825272865813444, 3.2195109093309133, 0.5193484482587016, 3.0, 9.852157373289941], res=[0.0, -4.440892098500626e-16, 0.0, 0.0, -1.2782453311736521], res_norm=1.278e+00
2025-12-01 13:36:45,579 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:45,590 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:45,607 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:45,619 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:45,635 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:45,646 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:45,662 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:45,674 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:45,690 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:45,702 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:45,718 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:45,729 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:45,745 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:45,756 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:45,772 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:45,784 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:45,800 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:45,811 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:45,828 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:45,839 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:45,855 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:45,866 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:46,180 - INFO - integration_test - Step 20: MPC solve successful
2025-12-01 13:36:46,191 - INFO - integration_test - Step 20: Computed 10 numeric contouring constraints for visualization (s=5.100)
2025-12-01 13:36:46,192 - DEBUG - integration_test - Step 20: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:46,192 - INFO - integration_test - === Applying control at step 20 ===
2025-12-01 13:36:46,192 - INFO - integration_test -   Control dict from planner: {'a': 8.909992296264864e-11, 'w': -0.23502340643894162}
2025-12-01 13:36:46,192 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:46,192 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:46,193 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:46,194 - INFO - integration_test - Step 20 completed in 0.653s
2025-12-01 13:36:46,219 - INFO - integration_test - Step 21 (contouring until path end)
2025-12-01 13:36:46,219 - DEBUG - integration_test - Syncing planner state at step 21: vehicle_state=[4.30611285 2.91864807 0.49584611 3.00000003 5.40000004]
2025-12-01 13:36:46,220 - DEBUG - integration_test - Step 21: Using propagated spline 5.4000 (close to path, dist=0.295m)
2025-12-01 13:36:46,220 - DEBUG - integration_test -   Set spline state to 5.4000
2025-12-01 13:36:46,220 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:46,235 - DEBUG - integration_test - Step 21: Checking path alignment: vehicle=(4.306, 2.919), path_start=(0.000, 0.000), dist=5.202m
2025-12-01 13:36:46,235 - WARNING - integration_test - Could not update reference path at step 21: x and y must have the same length
2025-12-01 13:36:46,235 - INFO - integration_test - === Calling planner.solve_mpc() at step 21 ===
2025-12-01 13:36:46,238 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:46,239 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:46,239 - INFO - integration_test - Warmstart k=0: x0=4.306112852309671 , y0=2.9186480748917063 , psi0=0.49584610761480746 , v0=3.0 , spline0=5.400000037624202 , a0=0.0 , w0=0.0
2025-12-01 13:36:46,239 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:46,240 - INFO - integration_test - Dyn residual k=0: pred=[4.569982792410512, 3.0613808837030607, 0.49584610761480746, 3.0, 5.700000037624202], ws=[4.569982792410512, 3.0613808837030607, 0.4958461076148075, 3.0, 7.122338730433266], res=[0.0, 0.0, -5.551115123125783e-17, 0.0, -1.4223386928090642], res_norm=1.422e+00
2025-12-01 13:36:46,240 - INFO - integration_test - Dyn residual k=1: pred=[4.833852732511352, 3.204113692514415, 0.4958461076148075, 3.0, 7.422338730433266], ws=[4.833852732511352, 3.204113692514415, 0.4958461076148075, 3.0, 8.809359505399838], res=[0.0, 0.0, 0.0, 0.0, -1.3870207749665724], res_norm=1.387e+00
2025-12-01 13:36:46,241 - INFO - integration_test - Dyn residual k=2: pred=[5.097722672612193, 3.3468465013257696, 0.4958461076148075, 3.0, 9.109359505399839], ws=[5.097722672612193, 3.3468465013257696, 0.4958461076148075, 3.0, 10.44375681254758], res=[0.0, 0.0, 0.0, 0.0, -1.334397307147741], res_norm=1.334e+00
2025-12-01 13:36:46,256 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:46,268 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:46,285 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:46,296 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:46,313 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:46,324 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:46,340 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:46,351 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:46,366 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:46,378 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:46,394 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:46,405 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:46,421 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:46,432 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:46,447 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:46,459 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:46,474 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:46,485 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:46,501 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:46,514 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:46,530 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:46,541 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:46,822 - INFO - integration_test - Step 21: MPC solve successful
2025-12-01 13:36:46,834 - INFO - integration_test - Step 21: Computed 10 numeric contouring constraints for visualization (s=5.400)
2025-12-01 13:36:46,835 - DEBUG - integration_test - Step 21: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:46,835 - INFO - integration_test - === Applying control at step 21 ===
2025-12-01 13:36:46,835 - INFO - integration_test -   Control dict from planner: {'a': -1.0266467046544836e-09, 'w': -0.2276879021849441}
2025-12-01 13:36:46,835 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:46,835 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:46,836 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:46,836 - INFO - integration_test - Step 21 completed in 0.617s
2025-12-01 13:36:46,857 - INFO - integration_test - Step 22 (contouring until path end)
2025-12-01 13:36:46,858 - DEBUG - integration_test - Syncing planner state at step 22: vehicle_state=[4.57158485 3.05836468 0.47307732 3.00000003 5.70000004]
2025-12-01 13:36:46,859 - DEBUG - integration_test - Step 22: Using propagated spline 5.7000 (close to path, dist=0.197m)
2025-12-01 13:36:46,859 - DEBUG - integration_test -   Set spline state to 5.7000
2025-12-01 13:36:46,859 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:46,875 - DEBUG - integration_test - Step 22: Checking path alignment: vehicle=(4.572, 3.058), path_start=(0.000, 0.000), dist=5.500m
2025-12-01 13:36:46,875 - WARNING - integration_test - Could not update reference path at step 22: x and y must have the same length
2025-12-01 13:36:46,875 - INFO - integration_test - === Calling planner.solve_mpc() at step 22 ===
2025-12-01 13:36:46,880 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:46,882 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:46,882 - INFO - integration_test - Warmstart k=0: x0=4.571584853022529 , y0=3.058364683011458 , psi0=0.47307731739631304 , v0=3.0 , spline0=5.700000040613449 , a0=0.0 , w0=0.0
2025-12-01 13:36:46,882 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:46,883 - INFO - integration_test - Dyn residual k=0: pred=[4.838635971231638, 3.195053015590593, 0.47307731739631304, 3.0, 6.000000040613449], ws=[4.838635971231638, 3.195053015590593, 0.4730773173963132, 3.0, 7.450611674054534], res=[0.0, 0.0, -1.6653345369377348e-16, 0.0, -1.4506116334410857], res_norm=1.451e+00
2025-12-01 13:36:46,884 - INFO - integration_test - Dyn residual k=1: pred=[5.105687089440748, 3.331741348169728, 0.4730773173963132, 3.0, 7.750611674054534], ws=[5.105687089440748, 3.331741348169728, 0.4730773173963132, 3.0, 9.16406283773919], res=[0.0, 0.0, 0.0, 0.0, -1.4134511636846554], res_norm=1.413e+00
2025-12-01 13:36:46,884 - INFO - integration_test - Dyn residual k=2: pred=[5.372738207649857, 3.4684296807488626, 0.4730773173963132, 3.0, 9.46406283773919], ws=[5.372738207649857, 3.4684296807488626, 0.4730773173963132, 3.0, 10.822765935595609], res=[0.0, 0.0, 0.0, 0.0, -1.3587030978564183], res_norm=1.359e+00
2025-12-01 13:36:46,900 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:46,913 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:46,929 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:46,940 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:46,956 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:46,968 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:46,983 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:46,995 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:47,012 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:47,024 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:47,040 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:47,052 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:47,067 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:47,080 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:47,097 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:47,108 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:47,124 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:47,137 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:47,153 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:47,165 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:47,181 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:47,193 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:47,503 - INFO - integration_test - Step 22: MPC solve successful
2025-12-01 13:36:47,515 - INFO - integration_test - Step 22: Computed 10 numeric contouring constraints for visualization (s=5.700)
2025-12-01 13:36:47,515 - DEBUG - integration_test - Step 22: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:47,515 - INFO - integration_test - === Applying control at step 22 ===
2025-12-01 13:36:47,515 - INFO - integration_test -   Control dict from planner: {'a': -7.140642644189622e-10, 'w': -0.22137508351541513}
2025-12-01 13:36:47,515 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:47,515 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:47,516 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:47,517 - INFO - integration_test - Step 22 completed in 0.659s
2025-12-01 13:36:47,541 - INFO - integration_test - Step 23 (contouring until path end)
2025-12-01 13:36:47,541 - DEBUG - integration_test - Syncing planner state at step 23: vehicle_state=[4.84012707 3.19208605 0.45093981 3.00000003 6.00000004]
2025-12-01 13:36:47,542 - DEBUG - integration_test - Step 23: Using propagated spline 6.0000 (close to path, dist=0.416m)
2025-12-01 13:36:47,542 - DEBUG - integration_test -   Set spline state to 6.0000
2025-12-01 13:36:47,542 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:47,557 - DEBUG - integration_test - Step 23: Checking path alignment: vehicle=(4.840, 3.192), path_start=(0.000, 0.000), dist=5.798m
2025-12-01 13:36:47,558 - WARNING - integration_test - Could not update reference path at step 23: x and y must have the same length
2025-12-01 13:36:47,558 - INFO - integration_test - === Calling planner.solve_mpc() at step 23 ===
2025-12-01 13:36:47,560 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:47,562 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:47,562 - INFO - integration_test - Warmstart k=0: x0=4.84012706996777 , y0=3.19208605028292 , psi0=0.45093980904477154 , v0=3.0 , spline0=6.000000043595555 , a0=0.0 , w0=0.0
2025-12-01 13:36:47,562 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:47,563 - INFO - integration_test - Dyn residual k=0: pred=[5.110138446031923, 3.3228295273513484, 0.45093980904477154, 3.0, 6.3000000435955545], ws=[5.110138446031923, 3.3228295273513484, 0.4509398090447716, 3.0, 7.863293508838364], res=[0.0, 0.0, -5.551115123125783e-17, 0.0, -1.5632934652428094], res_norm=1.563e+00
2025-12-01 13:36:47,564 - INFO - integration_test - Dyn residual k=1: pred=[5.380149822096075, 3.453573004419777, 0.4509398090447716, 3.0, 8.163293508838365], ws=[5.380149822096075, 3.453573004419777, 0.4509398090447716, 3.0, 9.693651668228167], res=[0.0, 0.0, 0.0, 0.0, -1.5303581593898024], res_norm=1.530e+00
2025-12-01 13:36:47,565 - INFO - integration_test - Dyn residual k=2: pred=[5.6501611981602275, 3.5843164814882056, 0.4509398090447716, 3.0, 9.993651668228168], ws=[5.6501611981602275, 3.5843164814882056, 0.4509398090447716, 3.0, 11.402091634021629], res=[0.0, 0.0, 0.0, 0.0, -1.4084399657934608], res_norm=1.408e+00
2025-12-01 13:36:47,581 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:47,594 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:47,611 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:47,624 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:47,641 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:47,653 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:47,669 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:47,682 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:47,699 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:47,711 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:47,728 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:47,740 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:47,757 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:47,768 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:47,785 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:47,797 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:47,815 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:47,827 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:47,844 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:47,856 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:47,873 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:47,885 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:48,175 - INFO - integration_test - Step 23: MPC solve successful
2025-12-01 13:36:48,188 - INFO - integration_test - Step 23: Computed 10 numeric contouring constraints for visualization (s=6.000)
2025-12-01 13:36:48,188 - DEBUG - integration_test - Step 23: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:48,188 - INFO - integration_test - === Applying control at step 23 ===
2025-12-01 13:36:48,188 - INFO - integration_test -   Control dict from planner: {'a': 3.8555438738047615e-10, 'w': -0.257311042486545}
2025-12-01 13:36:48,188 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:48,188 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:48,189 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:48,190 - INFO - integration_test - Step 23 completed in 0.649s
2025-12-01 13:36:48,213 - INFO - integration_test - Step 24 (contouring until path end)
2025-12-01 13:36:48,213 - DEBUG - integration_test - Syncing planner state at step 24: vehicle_state=[5.11179065 3.31934145 0.4252087  3.00000003 6.30000005]
2025-12-01 13:36:48,214 - DEBUG - integration_test - Step 24: Using propagated spline 6.3000 (close to path, dist=0.361m)
2025-12-01 13:36:48,214 - DEBUG - integration_test -   Set spline state to 6.3000
2025-12-01 13:36:48,215 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:48,229 - DEBUG - integration_test - Step 24: Checking path alignment: vehicle=(5.112, 3.319), path_start=(0.000, 0.000), dist=6.095m
2025-12-01 13:36:48,230 - WARNING - integration_test - Could not update reference path at step 24: x and y must have the same length
2025-12-01 13:36:48,230 - INFO - integration_test - === Calling planner.solve_mpc() at step 24 ===
2025-12-01 13:36:48,233 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:48,234 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:48,234 - INFO - integration_test - Warmstart k=0: x0=5.111790648682281 , y0=3.3193414480245815 , psi0=0.42520870479611705 , v0=3.0 , spline0=6.300000046581516 , a0=0.0 , w0=0.0
2025-12-01 13:36:48,235 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:48,236 - INFO - integration_test - Dyn residual k=0: pred=[5.385076446618861, 3.4430947212991385, 0.42520870479611705, 3.0, 6.600000046581516], ws=[5.385076446618861, 3.4430947212991385, 0.42520870479611705, 3.0, 8.189872466365093], res=[0.0, 0.0, 0.0, 0.0, -1.5898724197835774], res_norm=1.590e+00
2025-12-01 13:36:48,236 - INFO - integration_test - Dyn residual k=1: pred=[5.65836224455544, 3.5668479945736955, 0.42520870479611705, 3.0, 8.489872466365094], ws=[5.65836224455544, 3.5668479945736955, 0.42520870479611705, 3.0, 10.044703520566836], res=[0.0, 0.0, 0.0, 0.0, -1.5548310542017418], res_norm=1.555e+00
2025-12-01 13:36:48,237 - INFO - integration_test - Dyn residual k=2: pred=[5.93164804249202, 3.6906012678482525, 0.42520870479611705, 3.0, 10.344703520566837], ws=[5.93164804249202, 3.6906012678482525, 0.42520870479611705, 3.0, 11.839696370775664], res=[0.0, 0.0, 0.0, 0.0, -1.4949928502088277], res_norm=1.495e+00
2025-12-01 13:36:48,253 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:48,266 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:48,284 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:48,296 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:48,312 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:48,324 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:48,340 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:48,352 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:48,368 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:48,380 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:48,398 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:48,410 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:48,428 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:48,441 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:48,459 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:48,472 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:48,489 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:48,502 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:48,519 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:48,531 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:48,548 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:48,560 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:48,868 - INFO - integration_test - Step 24: MPC solve successful
2025-12-01 13:36:48,879 - INFO - integration_test - Step 24: Computed 10 numeric contouring constraints for visualization (s=6.300)
2025-12-01 13:36:48,879 - DEBUG - integration_test - Step 24: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:48,879 - INFO - integration_test - === Applying control at step 24 ===
2025-12-01 13:36:48,879 - INFO - integration_test -   Control dict from planner: {'a': -4.935230933932687e-10, 'w': -0.2170648394013753}
2025-12-01 13:36:48,879 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:48,879 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:48,880 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:48,881 - INFO - integration_test - Step 24 completed in 0.668s
2025-12-01 13:36:48,906 - INFO - integration_test - Step 25 (contouring until path end)
2025-12-01 13:36:48,906 - DEBUG - integration_test - Syncing planner state at step 25: vehicle_state=[5.38639806 3.44011908 0.40350222 3.00000003 6.60000005]
2025-12-01 13:36:48,907 - DEBUG - integration_test - Step 25: Using propagated spline 6.6000 (close to path, dist=0.230m)
2025-12-01 13:36:48,907 - DEBUG - integration_test -   Set spline state to 6.6000
2025-12-01 13:36:48,907 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:48,922 - DEBUG - integration_test - Step 25: Checking path alignment: vehicle=(5.386, 3.440), path_start=(0.000, 0.000), dist=6.391m
2025-12-01 13:36:48,922 - WARNING - integration_test - Could not update reference path at step 25: x and y must have the same length
2025-12-01 13:36:48,922 - INFO - integration_test - === Calling planner.solve_mpc() at step 25 ===
2025-12-01 13:36:48,925 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:48,926 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:48,926 - INFO - integration_test - Warmstart k=0: x0=5.386398060615965 , y0=3.440119084135938 , psi0=0.40350222085597953 , v0=3.0 , spline0=6.600000049562543 , a0=0.0 , w0=0.0
2025-12-01 13:36:48,926 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:48,927 - INFO - integration_test - Dyn residual k=0: pred=[5.662305516344849, 3.557911596093253, 0.40350222085597953, 3.0, 6.900000049562543], ws=[5.6623055163448495, 3.557911596093253, 0.4035022208559793, 3.0, 8.601681991883304], res=[-8.881784197001252e-16, 0.0, 2.220446049250313e-16, 0.0, -1.7016819423207608], res_norm=1.702e+00
2025-12-01 13:36:48,928 - INFO - integration_test - Dyn residual k=1: pred=[5.938212972073733, 3.6757041080505672, 0.4035022208559793, 3.0, 8.901681991883304], ws=[5.9382129720737336, 3.6757041080505672, 0.4035022208559793, 3.0, 10.502380682021256], res=[-8.881784197001252e-16, 0.0, 0.0, 0.0, -1.6006986901379516], res_norm=1.601e+00
2025-12-01 13:36:48,929 - INFO - integration_test - Dyn residual k=2: pred=[6.214120427802617, 3.7934966200078817, 0.4035022208559793, 3.0, 10.802380682021257], ws=[6.214120427802618, 3.7934966200078817, 0.4035022208559793, 3.0, 12.340716657742849], res=[-8.881784197001252e-16, 0.0, 0.0, 0.0, -1.5383359757215924], res_norm=1.538e+00
2025-12-01 13:36:48,944 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:48,956 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:48,972 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:48,984 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:49,003 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:49,014 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:49,030 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:49,043 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:49,059 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:49,071 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:49,088 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:49,100 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:49,117 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:49,129 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:49,146 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:49,158 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:49,175 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:49,187 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:49,204 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:49,216 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:49,233 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:49,245 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:49,644 - INFO - integration_test - Step 25: MPC solve successful
2025-12-01 13:36:49,662 - INFO - integration_test - Step 25: Computed 10 numeric contouring constraints for visualization (s=6.600)
2025-12-01 13:36:49,663 - DEBUG - integration_test - Step 25: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:49,663 - INFO - integration_test - === Applying control at step 25 ===
2025-12-01 13:36:49,663 - INFO - integration_test -   Control dict from planner: {'a': 1.2614103955789603e-09, 'w': -0.26730270701785563}
2025-12-01 13:36:49,663 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:49,663 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:49,664 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:49,665 - INFO - integration_test - Step 25 completed in 0.759s
2025-12-01 13:36:49,696 - INFO - integration_test - Step 26 (contouring until path end)
2025-12-01 13:36:49,697 - DEBUG - integration_test - Syncing planner state at step 26: vehicle_state=[5.66384688 3.55421025 0.37677195 3.00000003 6.90000005]
2025-12-01 13:36:49,697 - DEBUG - integration_test - Step 26: Using propagated spline 6.9000 (close to path, dist=0.383m)
2025-12-01 13:36:49,697 - DEBUG - integration_test -   Set spline state to 6.9000
2025-12-01 13:36:49,698 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:49,715 - DEBUG - integration_test - Step 26: Checking path alignment: vehicle=(5.664, 3.554), path_start=(0.000, 0.000), dist=6.687m
2025-12-01 13:36:49,716 - WARNING - integration_test - Could not update reference path at step 26: x and y must have the same length
2025-12-01 13:36:49,716 - INFO - integration_test - === Calling planner.solve_mpc() at step 26 ===
2025-12-01 13:36:49,721 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:49,723 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:49,723 - INFO - integration_test - Warmstart k=0: x0=5.663846883141777 , y0=3.5542102495501835 , psi0=0.37677195015419396 , v0=3.0 , spline0=6.900000052556184 , a0=0.0 , w0=0.0
2025-12-01 13:36:49,723 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:49,725 - INFO - integration_test - Dyn residual k=0: pred=[5.942804026575957, 3.6645864794506564, 0.37677195015419396, 3.0, 7.200000052556184], ws=[5.942804026575957, 3.6645864794506564, 0.3767719501541942, 3.0, 8.926536843948842], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, -1.7265367913926584], res_norm=1.727e+00
2025-12-01 13:36:49,726 - INFO - integration_test - Dyn residual k=1: pred=[6.221761170010137, 3.7749627093511293, 0.3767719501541942, 3.0, 9.226536843948843], ws=[6.221761170010137, 3.7749627093511293, 0.3767719501541942, 3.0, 10.911901947471016], res=[0.0, 0.0, 0.0, 0.0, -1.685365103522173], res_norm=1.685e+00
2025-12-01 13:36:49,727 - INFO - integration_test - Dyn residual k=2: pred=[6.500718313444318, 3.8853389392516022, 0.3767719501541942, 3.0, 11.211901947471016], ws=[6.500718313444318, 3.8853389392516022, 0.3767719501541942, 3.0, 12.76927306483075], res=[0.0, 0.0, 0.0, 0.0, -1.5573711173597342], res_norm=1.557e+00
2025-12-01 13:36:49,751 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:49,772 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:49,794 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:49,809 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:49,827 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:49,842 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:49,859 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:49,872 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:49,888 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:49,900 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:49,916 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:49,929 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:49,945 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:49,956 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:49,971 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:49,983 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:49,999 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:50,011 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:50,028 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:50,040 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:50,057 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:50,069 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:50,381 - INFO - integration_test - Step 26: MPC solve successful
2025-12-01 13:36:50,394 - INFO - integration_test - Step 26: Computed 10 numeric contouring constraints for visualization (s=6.900)
2025-12-01 13:36:50,394 - DEBUG - integration_test - Step 26: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:50,394 - INFO - integration_test - === Applying control at step 26 ===
2025-12-01 13:36:50,394 - INFO - integration_test -   Control dict from planner: {'a': -6.781629423845498e-09, 'w': -0.26008392359153637}
2025-12-01 13:36:50,394 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:50,394 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:50,395 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:50,395 - INFO - integration_test - Step 26 completed in 0.699s
2025-12-01 13:36:50,418 - INFO - integration_test - Step 27 (contouring until path end)
2025-12-01 13:36:50,419 - DEBUG - integration_test - Syncing planner state at step 27: vehicle_state=[5.94420785 3.66094663 0.35076356 3.00000003 7.20000006]
2025-12-01 13:36:50,419 - DEBUG - integration_test - Step 27: Using propagated spline 7.2000 (close to path, dist=0.263m)
2025-12-01 13:36:50,419 - DEBUG - integration_test -   Set spline state to 7.2000
2025-12-01 13:36:50,420 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:50,435 - DEBUG - integration_test - Step 27: Checking path alignment: vehicle=(5.944, 3.661), path_start=(0.000, 0.000), dist=6.981m
2025-12-01 13:36:50,436 - WARNING - integration_test - Could not update reference path at step 27: x and y must have the same length
2025-12-01 13:36:50,436 - INFO - integration_test - === Calling planner.solve_mpc() at step 27 ===
2025-12-01 13:36:50,439 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:50,441 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:50,441 - INFO - integration_test - Warmstart k=0: x0=5.944207854224234 , y0=3.6609466282543535 , psi0=0.3507635577950403 , v0=3.0 , spline0=7.2000000554820085 , a0=0.0 , w0=0.0
2025-12-01 13:36:50,441 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:50,442 - INFO - integration_test - Dyn residual k=0: pred=[6.225941039246916, 3.764031120089816, 0.3507635577950403, 3.0, 7.500000055482008], ws=[6.225941039246916, 3.764031120089816, 0.3507635577950401, 3.0, 9.336205404888334], res=[0.0, 0.0, 2.220446049250313e-16, 0.0, -1.8362053494063257], res_norm=1.836e+00
2025-12-01 13:36:50,443 - INFO - integration_test - Dyn residual k=1: pred=[6.507674224269597, 3.8671156119252785, 0.3507635577950401, 3.0, 9.636205404888335], ws=[6.507674224269597, 3.8671156119252785, 0.3507635577950401, 3.0, 11.363401814109688], res=[0.0, 0.0, 0.0, 0.0, -1.727196409221353], res_norm=1.727e+00
2025-12-01 13:36:50,444 - INFO - integration_test - Dyn residual k=2: pred=[6.789407409292279, 3.970200103760741, 0.3507635577950401, 3.0, 11.663401814109688], ws=[6.789407409292279, 3.970200103760741, 0.3507635577950401, 3.0, 13.261642038900082], res=[0.0, 0.0, 0.0, 0.0, -1.598240224790393], res_norm=1.598e+00
2025-12-01 13:36:50,460 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:50,473 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:50,490 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:50,503 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:50,521 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:50,533 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:50,550 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:50,563 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:50,580 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:50,592 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:50,608 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:50,620 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:50,636 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:50,648 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:50,663 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:50,674 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:50,690 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:50,701 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:50,718 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:50,730 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:50,747 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:50,759 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:51,083 - INFO - integration_test - Step 27: MPC solve successful
2025-12-01 13:36:51,096 - INFO - integration_test - Step 27: Computed 10 numeric contouring constraints for visualization (s=7.200)
2025-12-01 13:36:51,097 - DEBUG - integration_test - Step 27: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:51,097 - INFO - integration_test - === Applying control at step 27 ===
2025-12-01 13:36:51,097 - INFO - integration_test -   Control dict from planner: {'a': 3.607566237010244e-09, 'w': -0.23696076048931705}
2025-12-01 13:36:51,097 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:51,097 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:51,098 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:51,098 - INFO - integration_test - Step 27 completed in 0.680s
2025-12-01 13:36:51,128 - INFO - integration_test - Step 28 (contouring until path end)
2025-12-01 13:36:51,129 - DEBUG - integration_test - Syncing planner state at step 28: vehicle_state=[6.22713597 3.76068364 0.32706748 3.00000003 7.50000006]
2025-12-01 13:36:51,129 - DEBUG - integration_test - Step 28: Using propagated spline 7.5000 (close to path, dist=0.412m)
2025-12-01 13:36:51,129 - DEBUG - integration_test -   Set spline state to 7.5000
2025-12-01 13:36:51,130 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:51,145 - DEBUG - integration_test - Step 28: Checking path alignment: vehicle=(6.227, 3.761), path_start=(0.000, 0.000), dist=7.275m
2025-12-01 13:36:51,146 - WARNING - integration_test - Could not update reference path at step 28: x and y must have the same length
2025-12-01 13:36:51,146 - INFO - integration_test - === Calling planner.solve_mpc() at step 28 ===
2025-12-01 13:36:51,149 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:51,151 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:51,151 - INFO - integration_test - Warmstart k=0: x0=6.227135968905838 , y0=3.760683644989981 , psi0=0.3270674817461086 , v0=3.0 , spline0=7.500000058443908 , a0=0.0 , w0=0.0
2025-12-01 13:36:51,151 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:51,152 - INFO - integration_test - Dyn residual k=0: pred=[6.511232529838532, 3.8570638507700905, 0.3270674817461086, 3.0, 7.800000058443908], ws=[6.511232529838532, 3.8570638507700905, 0.3270674817461088, 3.0, 9.6593258297767], res=[0.0, 0.0, -1.6653345369377348e-16, 0.0, -1.8593257713327915], res_norm=1.859e+00
2025-12-01 13:36:51,153 - INFO - integration_test - Dyn residual k=1: pred=[6.795329090771226, 3.9534440565502, 0.3270674817461088, 3.0, 9.9593258297767], ws=[6.795329090771226, 3.9534440565502, 0.3270674817461088, 3.0, 11.705424114444384], res=[0.0, 0.0, 0.0, 0.0, -1.7460982846676831], res_norm=1.746e+00
2025-12-01 13:36:51,154 - INFO - integration_test - Dyn residual k=2: pred=[7.07942565170392, 4.04982426233031, 0.3270674817461088, 3.0, 12.005424114444384], ws=[7.07942565170392, 4.04982426233031, 0.3270674817461088, 3.0, 13.687975868471288], res=[0.0, 0.0, 0.0, 0.0, -1.6825517540269033], res_norm=1.683e+00
2025-12-01 13:36:51,175 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:51,191 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:51,214 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:51,229 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:51,249 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:51,264 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:51,284 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:51,301 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:51,325 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:51,343 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:51,364 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:51,377 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:51,394 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:51,405 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:51,421 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:51,432 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:51,448 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:51,459 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:51,475 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:51,487 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:51,502 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:51,514 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:51,757 - INFO - integration_test - Step 28: MPC solve successful
2025-12-01 13:36:51,768 - INFO - integration_test - Step 28: Computed 10 numeric contouring constraints for visualization (s=7.500)
2025-12-01 13:36:51,769 - DEBUG - integration_test - Step 28: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:51,769 - INFO - integration_test - === Applying control at step 28 ===
2025-12-01 13:36:51,769 - INFO - integration_test -   Control dict from planner: {'a': -1.9562181169383508e-07, 'w': -0.28594083027980416}
2025-12-01 13:36:51,769 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:51,769 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:51,770 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:51,770 - INFO - integration_test - Step 28 completed in 0.642s
2025-12-01 13:36:51,795 - INFO - integration_test - Step 29 (contouring until path end)
2025-12-01 13:36:51,795 - DEBUG - integration_test - Syncing planner state at step 29: vehicle_state=[6.51257168 3.85298925 0.2984734  3.00000001 7.80000006]
2025-12-01 13:36:51,796 - DEBUG - integration_test - Step 29: Using propagated spline 7.8000 (close to path, dist=0.296m)
2025-12-01 13:36:51,796 - DEBUG - integration_test -   Set spline state to 7.8000
2025-12-01 13:36:51,796 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:51,811 - DEBUG - integration_test - Step 29: Checking path alignment: vehicle=(6.513, 3.853), path_start=(0.000, 0.000), dist=7.567m
2025-12-01 13:36:51,811 - WARNING - integration_test - Could not update reference path at step 29: x and y must have the same length
2025-12-01 13:36:51,811 - INFO - integration_test - === Calling planner.solve_mpc() at step 29 ===
2025-12-01 13:36:51,814 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:51,815 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:51,815 - INFO - integration_test - Warmstart k=0: x0=6.512571677378899 , y0=3.852989254601192 , psi0=0.29847339871812817 , v0=3.0 , spline0=7.80000005944959 , a0=0.0 , w0=0.0
2025-12-01 13:36:51,815 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:51,816 - INFO - integration_test - Dyn residual k=0: pred=[6.7993076325585715, 3.941207688089897, 0.29847339871812817, 3.0, 8.10000005944959], ws=[6.7993076325585715, 3.9412076880898965, 0.2984733987181283, 3.0, 10.065420222396874], res=[0.0, 4.440892098500626e-16, -1.1102230246251565e-16, 0.0, -1.965420162947284], res_norm=1.965e+00
2025-12-01 13:36:51,817 - INFO - integration_test - Dyn residual k=1: pred=[7.086043587738244, 4.029426121578601, 0.2984733987181283, 3.0, 10.365420222396875], ws=[7.086043587738244, 4.029426121578601, 0.2984733987181283, 3.0, 12.20823842769915], res=[0.0, 0.0, 0.0, 0.0, -1.842818205302276], res_norm=1.843e+00
2025-12-01 13:36:51,817 - INFO - integration_test - Dyn residual k=2: pred=[7.372779542917916, 4.117644555067306, 0.2984733987181283, 3.0, 12.508238427699151], ws=[7.372779542917916, 4.117644555067306, 0.2984733987181283, 3.0, 14.231191372864533], res=[0.0, 0.0, 0.0, 0.0, -1.7229529451653818], res_norm=1.723e+00
2025-12-01 13:36:51,832 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:51,844 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:51,860 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:51,871 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:51,887 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:51,898 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:51,914 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:51,926 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:51,942 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:51,953 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:51,969 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:51,980 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:51,995 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:52,006 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:52,022 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:52,033 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:52,048 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:52,060 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:52,076 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:52,087 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:52,102 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:52,113 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:52,400 - INFO - integration_test - Step 29: MPC solve successful
2025-12-01 13:36:52,411 - INFO - integration_test - Step 29: Computed 10 numeric contouring constraints for visualization (s=7.800)
2025-12-01 13:36:52,412 - DEBUG - integration_test - Step 29: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:52,412 - INFO - integration_test - === Applying control at step 29 ===
2025-12-01 13:36:52,412 - INFO - integration_test -   Control dict from planner: {'a': -4.474563505218786e-08, 'w': -0.25454426725767815}
2025-12-01 13:36:52,412 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:52,412 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:52,413 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:52,414 - INFO - integration_test - Step 29 completed in 0.618s
2025-12-01 13:36:52,437 - INFO - integration_test - Step 30 (contouring until path end)
2025-12-01 13:36:52,438 - DEBUG - integration_test - Syncing planner state at step 30: vehicle_state=[6.80039938 3.93754901 0.27301897 3.00000001 8.10000006]
2025-12-01 13:36:52,438 - DEBUG - integration_test - Step 30: Using propagated spline 8.1000 (close to path, dist=0.325m)
2025-12-01 13:36:52,438 - DEBUG - integration_test -   Set spline state to 8.1000
2025-12-01 13:36:52,439 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:52,454 - DEBUG - integration_test - Step 30: Checking path alignment: vehicle=(6.800, 3.938), path_start=(0.000, 0.000), dist=7.858m
2025-12-01 13:36:52,454 - WARNING - integration_test - Could not update reference path at step 30: x and y must have the same length
2025-12-01 13:36:52,454 - INFO - integration_test - === Calling planner.solve_mpc() at step 30 ===
2025-12-01 13:36:52,457 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:52,458 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:52,458 - INFO - integration_test - Warmstart k=0: x0=6.800399384522686 , y0=3.9375490094606183 , psi0=0.27301897199236036 , v0=3.0 , spline0=8.100000060007815 , a0=0.0 , w0=0.0
2025-12-01 13:36:52,458 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:52,459 - INFO - integration_test - Dyn residual k=0: pred=[7.089287759780429, 4.018440953688343, 0.27301897199236036, 3.0, 8.400000060007816], ws=[7.089287759780429, 4.018440953688343, 0.27301897199236036, 3.0, 10.386817006209478], res=[0.0, 0.0, 0.0, 0.0, -1.986816946201662], res_norm=1.987e+00
2025-12-01 13:36:52,460 - INFO - integration_test - Dyn residual k=1: pred=[7.3781761350381725, 4.099332897916068, 0.27301897199236036, 3.0, 10.686817006209479], ws=[7.3781761350381725, 4.099332897916068, 0.27301897199236036, 3.0, 12.547212801476451], res=[0.0, 0.0, 0.0, 0.0, -1.8603957952669727], res_norm=1.860e+00
2025-12-01 13:36:52,461 - INFO - integration_test - Dyn residual k=2: pred=[7.667064510295916, 4.180224842143793, 0.27301897199236036, 3.0, 12.847212801476452], ws=[7.667064510295916, 4.180224842143793, 0.27301897199236036, 3.0, 14.589524354355941], res=[0.0, 0.0, 0.0, 0.0, -1.7423115528794888], res_norm=1.742e+00
2025-12-01 13:36:52,477 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:52,488 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:52,504 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:52,516 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:52,532 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:52,543 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:52,559 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:52,571 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:52,586 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:52,598 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:52,613 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:52,624 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:52,640 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:52,651 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:52,666 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:52,677 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:52,693 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:52,704 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:52,720 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:52,731 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:52,746 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:52,758 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:53,027 - INFO - integration_test - Step 30: MPC solve successful
2025-12-01 13:36:53,038 - INFO - integration_test - Step 30: Computed 10 numeric contouring constraints for visualization (s=8.100)
2025-12-01 13:36:53,038 - DEBUG - integration_test - Step 30: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:53,038 - INFO - integration_test - === Applying control at step 30 ===
2025-12-01 13:36:53,038 - INFO - integration_test -   Control dict from planner: {'a': 1.6113920607365185e-07, 'w': -0.2762744426630269}
2025-12-01 13:36:53,039 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:53,039 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:53,039 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:53,040 - INFO - integration_test - Step 30 completed in 0.602s
2025-12-01 13:36:53,061 - INFO - integration_test - Step 31 (contouring until path end)
2025-12-01 13:36:53,062 - DEBUG - integration_test - Syncing planner state at step 31: vehicle_state=[7.09036836 4.01444029 0.24539153 3.00000002 8.40000006]
2025-12-01 13:36:53,063 - DEBUG - integration_test - Step 31: Using propagated spline 8.4000 (close to path, dist=0.397m)
2025-12-01 13:36:53,063 - DEBUG - integration_test -   Set spline state to 8.4000
2025-12-01 13:36:53,064 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:53,078 - DEBUG - integration_test - Step 31: Checking path alignment: vehicle=(7.090, 4.014), path_start=(0.000, 0.000), dist=8.148m
2025-12-01 13:36:53,078 - WARNING - integration_test - Could not update reference path at step 31: x and y must have the same length
2025-12-01 13:36:53,078 - INFO - integration_test - === Calling planner.solve_mpc() at step 31 ===
2025-12-01 13:36:53,081 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:53,082 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:53,082 - INFO - integration_test - Warmstart k=0: x0=7.090368360083135 , y0=4.0144402940461 , psi0=0.24539152772605766 , v0=3.0 , spline0=8.400000062177433 , a0=0.0 , w0=0.0
2025-12-01 13:36:53,082 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:53,083 - INFO - integration_test - Dyn residual k=0: pred=[7.381381045010339, 4.08732113660064, 0.24539152772605766, 3.0, 8.700000062177434], ws=[7.381381045010339, 4.08732113660064, 0.24539152772605766, 3.0, 10.788024729035588], res=[0.0, 0.0, 0.0, 0.0, -2.0880246668581535], res_norm=2.088e+00
2025-12-01 13:36:53,084 - INFO - integration_test - Dyn residual k=1: pred=[7.672393729937543, 4.160201979155181, 0.24539152772605766, 3.0, 11.088024729035588], ws=[7.672393729937543, 4.160201979155181, 0.24539152772605766, 3.0, 12.983826254365432], res=[0.0, 0.0, 0.0, 0.0, -1.8958015253298441], res_norm=1.896e+00
2025-12-01 13:36:53,085 - INFO - integration_test - Dyn residual k=2: pred=[7.963406414864747, 4.233082821709721, 0.24539152772605766, 3.0, 13.283826254365433], ws=[7.963406414864747, 4.233082821709721, 0.24539152772605766, 3.0, 15.068723877520956], res=[0.0, 0.0, 0.0, 0.0, -1.7848976231555227], res_norm=1.785e+00
2025-12-01 13:36:53,099 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:53,111 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:53,127 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:53,138 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:53,154 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:53,165 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:53,181 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:53,192 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:53,207 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:53,219 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:53,234 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:53,246 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:53,261 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:53,273 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:53,288 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:53,299 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:53,315 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:53,326 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:53,341 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:53,352 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:53,367 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:53,379 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:53,685 - INFO - integration_test - Step 31: MPC solve successful
2025-12-01 13:36:53,697 - INFO - integration_test - Step 31: Computed 10 numeric contouring constraints for visualization (s=8.400)
2025-12-01 13:36:53,697 - DEBUG - integration_test - Step 31: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:53,697 - INFO - integration_test - === Applying control at step 31 ===
2025-12-01 13:36:53,697 - INFO - integration_test -   Control dict from planner: {'a': -4.663033694494915e-08, 'w': -0.23049662590015416}
2025-12-01 13:36:53,697 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:53,697 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:53,699 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:53,699 - INFO - integration_test - Step 31 completed in 0.637s
2025-12-01 13:36:53,721 - INFO - integration_test - Step 32 (contouring until path end)
2025-12-01 13:36:53,722 - DEBUG - integration_test - Syncing planner state at step 32: vehicle_state=[7.38219518 4.08396096 0.22234187 3.00000002 8.70000006]
2025-12-01 13:36:53,722 - DEBUG - integration_test - Step 32: Using propagated spline 8.7000 (close to path, dist=0.352m)
2025-12-01 13:36:53,722 - DEBUG - integration_test -   Set spline state to 8.7000
2025-12-01 13:36:53,723 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:53,737 - DEBUG - integration_test - Step 32: Checking path alignment: vehicle=(7.382, 4.084), path_start=(0.000, 0.000), dist=8.437m
2025-12-01 13:36:53,737 - WARNING - integration_test - Could not update reference path at step 32: x and y must have the same length
2025-12-01 13:36:53,737 - INFO - integration_test - === Calling planner.solve_mpc() at step 32 ===
2025-12-01 13:36:53,740 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:53,741 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:53,741 - INFO - integration_test - Warmstart k=0: x0=7.382195181295212 , y0=4.08396096017638 , psi0=0.22234186513604223 , v0=3.0 , spline0=8.700000063880747 , a0=0.0 , w0=0.0
2025-12-01 13:36:53,741 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:53,742 - INFO - integration_test - Dyn residual k=0: pred=[7.674810294109232, 4.150115293011339, 0.22234186513604223, 3.0, 9.000000063880748], ws=[7.674810294109232, 4.150115293011339, 0.22234186513604204, 3.0, 11.107767797042602], res=[0.0, 0.0, 1.942890293094024e-16, 0.0, -2.107767733161854], res_norm=2.108e+00
2025-12-01 13:36:53,742 - INFO - integration_test - Dyn residual k=1: pred=[7.967425406923252, 4.216269625846298, 0.22234186513604204, 3.0, 11.407767797042602], ws=[7.967425406923252, 4.216269625846298, 0.22234186513604204, 3.0, 13.377184053838562], res=[0.0, 0.0, 0.0, 0.0, -1.9694162567959594], res_norm=1.969e+00
2025-12-01 13:36:53,743 - INFO - integration_test - Dyn residual k=2: pred=[8.260040519737272, 4.282423958681257, 0.22234186513604204, 3.0, 13.677184053838563], ws=[8.260040519737272, 4.282423958681257, 0.22234186513604204, 3.0, 15.557815768709045], res=[0.0, 0.0, 0.0, 0.0, -1.880631714870482], res_norm=1.881e+00
2025-12-01 13:36:53,758 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:53,769 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:53,785 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:53,796 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:53,812 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:53,824 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:53,840 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:53,852 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:53,867 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:53,878 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:53,894 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:53,905 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:53,921 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:53,933 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:53,948 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:53,960 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:53,975 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:53,986 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:54,002 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:54,013 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:54,029 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:54,040 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:54,347 - INFO - integration_test - Step 32: MPC solve successful
2025-12-01 13:36:54,358 - INFO - integration_test - Step 32: Computed 10 numeric contouring constraints for visualization (s=8.700)
2025-12-01 13:36:54,358 - DEBUG - integration_test - Step 32: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:54,358 - INFO - integration_test - === Applying control at step 32 ===
2025-12-01 13:36:54,358 - INFO - integration_test -   Control dict from planner: {'a': -1.5896264265653114e-06, 'w': -0.2808975823758886}
2025-12-01 13:36:54,358 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:54,359 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:54,359 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:54,360 - INFO - integration_test - Step 32 completed in 0.638s
2025-12-01 13:36:54,381 - INFO - integration_test - Step 33 (contouring until path end)
2025-12-01 13:36:54,382 - DEBUG - integration_test - Syncing planner state at step 33: vehicle_state=[7.67570088 4.14599712 0.19425211 2.99999986 9.00000005]
2025-12-01 13:36:54,383 - DEBUG - integration_test - Step 33: Using propagated spline 9.0000 (close to path, dist=0.429m)
2025-12-01 13:36:54,383 - DEBUG - integration_test -   Set spline state to 9.0000
2025-12-01 13:36:54,383 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:54,397 - DEBUG - integration_test - Step 33: Checking path alignment: vehicle=(7.676, 4.146), path_start=(0.000, 0.000), dist=8.724m
2025-12-01 13:36:54,398 - WARNING - integration_test - Could not update reference path at step 33: x and y must have the same length
2025-12-01 13:36:54,398 - INFO - integration_test - === Calling planner.solve_mpc() at step 33 ===
2025-12-01 13:36:54,401 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:54,402 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:54,402 - INFO - integration_test - Warmstart k=0: x0=7.675700877519223 , y0=4.145997118770235 , psi0=0.19425210689845337 , v0=2.9999998580705003 , spline0=9.000000049687797 , a0=0.0 , w0=0.0
2025-12-01 13:36:54,402 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:54,403 - INFO - integration_test - Dyn residual k=0: pred=[7.9700585571389935, 4.20390694464715, 0.19425210689845337, 2.9999998580705003, 9.300000035494847], ws=[7.9700585571389935, 4.20390694464715, 0.1942521068984533, 2.9999998580705003, 11.503314902006489], res=[0.0, 0.0, 8.326672684688674e-17, 0.0, -2.2033148665116418], res_norm=2.203e+00
2025-12-01 13:36:54,404 - INFO - integration_test - Dyn residual k=1: pred=[8.264416236758764, 4.261816770524065, 0.1942521068984533, 2.9999998580705003, 11.803314887813539], ws=[8.264416236758764, 4.261816770524065, 0.1942521068984533, 2.9999998580705003, 13.807183076499328], res=[0.0, 0.0, 0.0, 0.0, -2.0038681886857894], res_norm=2.004e+00
2025-12-01 13:36:54,404 - INFO - integration_test - Dyn residual k=2: pred=[8.558773916378534, 4.3197265964009794, 0.1942521068984533, 2.9999998580705003, 14.107183062306378], ws=[8.558773916378534, 4.3197265964009794, 0.1942521068984533, 2.9999998580705003, 16.034967578161215], res=[0.0, 0.0, 0.0, 0.0, -1.927784515854837], res_norm=1.928e+00
2025-12-01 13:36:54,419 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:54,430 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:54,447 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:54,458 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:54,475 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:54,486 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:54,502 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:54,513 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:54,529 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:54,541 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:54,557 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:54,568 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:54,584 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:54,595 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:54,611 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:54,623 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:54,639 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:54,651 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:54,667 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:54,679 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:54,694 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:54,705 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:55,088 - INFO - integration_test - Step 33: MPC solve successful
2025-12-01 13:36:55,099 - INFO - integration_test - Step 33: Computed 10 numeric contouring constraints for visualization (s=9.000)
2025-12-01 13:36:55,099 - DEBUG - integration_test - Step 33: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:55,099 - INFO - integration_test - === Applying control at step 33 ===
2025-12-01 13:36:55,099 - INFO - integration_test -   Control dict from planner: {'a': 8.513174147213541e-07, 'w': -0.27820111667646}
2025-12-01 13:36:55,099 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:55,099 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:55,100 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:55,101 - INFO - integration_test - Step 33 completed in 0.719s
2025-12-01 13:36:55,125 - INFO - integration_test - Step 34 (contouring until path end)
2025-12-01 13:36:55,126 - DEBUG - integration_test - Syncing planner state at step 34: vehicle_state=[7.97082607 4.19980521 0.166432   2.99999994 9.30000004]
2025-12-01 13:36:55,127 - DEBUG - integration_test - Step 34: Using propagated spline 9.3000 (close to path, dist=0.375m)
2025-12-01 13:36:55,127 - DEBUG - integration_test -   Set spline state to 9.3000
2025-12-01 13:36:55,127 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:55,141 - DEBUG - integration_test - Step 34: Checking path alignment: vehicle=(7.971, 4.200), path_start=(0.000, 0.000), dist=9.010m
2025-12-01 13:36:55,141 - WARNING - integration_test - Could not update reference path at step 34: x and y must have the same length
2025-12-01 13:36:55,142 - INFO - integration_test - === Calling planner.solve_mpc() at step 34 ===
2025-12-01 13:36:55,144 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:55,145 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:55,145 - INFO - integration_test - Warmstart k=0: x0=7.970826069709204 , y0=4.199805208041106 , psi0=0.16643199523080737 , v0=2.999999943202242 , spline0=9.300000044008021 , a0=0.0 , w0=0.0
2025-12-01 13:36:55,145 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:55,146 - INFO - integration_test - Dyn residual k=0: pred=[8.266680704755643, 4.249504619643993, 0.16643199523080737, 2.999999943202242, 9.600000038328245], ws=[8.266680704755643, 4.249504619643993, 0.16643199523080732, 2.999999943202242, 11.821597880139523], res=[0.0, 0.0, 5.551115123125783e-17, 0.0, -2.2215978418112776], res_norm=2.222e+00
2025-12-01 13:36:55,147 - INFO - integration_test - Dyn residual k=1: pred=[8.562535339802082, 4.29920403124688, 0.16643199523080732, 2.999999943202242, 12.121597874459747], ws=[8.562535339802082, 4.29920403124688, 0.16643199523080732, 2.999999943202242, 14.141901128093753], res=[0.0, 0.0, 0.0, 0.0, -2.0203032536340064], res_norm=2.020e+00
2025-12-01 13:36:55,147 - INFO - integration_test - Dyn residual k=2: pred=[8.85838997484852, 4.3489034428497675, 0.16643199523080732, 2.999999943202242, 14.441901122413977], ws=[8.85838997484852, 4.3489034428497675, 0.16643199523080732, 2.999999943202242, 16.39264096844013], res=[0.0, 0.0, 0.0, 0.0, -1.9507398460261527], res_norm=1.951e+00
2025-12-01 13:36:55,162 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:55,174 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:55,190 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:55,201 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:55,218 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:55,229 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:55,244 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:55,256 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:55,271 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:55,282 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:55,298 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:55,310 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:55,325 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:55,337 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:55,352 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:55,363 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:55,379 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:55,390 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:55,406 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:55,417 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:55,432 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:55,444 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:55,791 - INFO - integration_test - Step 34: MPC solve successful
2025-12-01 13:36:55,802 - INFO - integration_test - Step 34: Computed 10 numeric contouring constraints for visualization (s=9.300)
2025-12-01 13:36:55,803 - DEBUG - integration_test - Step 34: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:55,803 - INFO - integration_test - === Applying control at step 34 ===
2025-12-01 13:36:55,803 - INFO - integration_test -   Control dict from planner: {'a': 4.346884658415855e-07, 'w': 0.779273370915781}
2025-12-01 13:36:55,803 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:55,803 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:55,804 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:55,804 - INFO - integration_test - Step 34 completed in 0.678s
2025-12-01 13:36:55,826 - INFO - integration_test - Step 35 (contouring until path end)
2025-12-01 13:36:55,827 - DEBUG - integration_test - Syncing planner state at step 35: vehicle_state=[8.26444587 4.26097608 0.24435933 2.99999999 9.60000004]
2025-12-01 13:36:55,827 - DEBUG - integration_test - Step 35: Using propagated spline 9.6000 (close to path, dist=0.447m)
2025-12-01 13:36:55,828 - DEBUG - integration_test -   Set spline state to 9.6000
2025-12-01 13:36:55,828 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:55,842 - DEBUG - integration_test - Step 35: Checking path alignment: vehicle=(8.264, 4.261), path_start=(0.000, 0.000), dist=9.298m
2025-12-01 13:36:55,842 - WARNING - integration_test - Could not update reference path at step 35: x and y must have the same length
2025-12-01 13:36:55,842 - INFO - integration_test - === Calling planner.solve_mpc() at step 35 ===
2025-12-01 13:36:55,845 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:55,846 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:55,846 - INFO - integration_test - Warmstart k=0: x0=8.264445871986212 , y0=4.260976084334422 , psi0=0.24435933232238546 , v0=2.9999999866710887 , spline0=9.60000004267513 , a0=0.0 , w0=0.0
2025-12-01 13:36:55,846 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:55,847 - INFO - integration_test - Dyn residual k=0: pred=[8.555533627851041, 4.333556505839419, 0.24435933232238546, 2.9999999866710887, 9.90000004134224], ws=[8.555533627851041, 4.333556505839419, 0.24435933232238538, 2.9999999866710887, 12.138260331233333], res=[0.0, 0.0, 8.326672684688674e-17, 0.0, -2.238260289891093], res_norm=2.238e+00
2025-12-01 13:36:55,848 - INFO - integration_test - Dyn residual k=1: pred=[8.84662138371587, 4.4061369273444155, 0.24435933232238538, 2.9999999866710887, 12.438260329900443], ws=[8.84662138371587, 4.4061369273444155, 0.24435933232238538, 2.9999999866710887, 14.537016332270937], res=[0.0, 0.0, 0.0, 0.0, -2.0987560023704948], res_norm=2.099e+00
2025-12-01 13:36:55,848 - INFO - integration_test - Dyn residual k=2: pred=[9.1377091395807, 4.478717348849412, 0.24435933232238538, 2.9999999866710887, 14.837016330938047], ws=[9.1377091395807, 4.478717348849412, 0.24435933232238538, 2.9999999866710887, 16.906296038077876], res=[0.0, 0.0, 0.0, 0.0, -2.0692797071398292], res_norm=2.069e+00
2025-12-01 13:36:55,863 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:55,875 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:55,891 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:55,902 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:55,918 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:55,930 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:55,945 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:55,957 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:55,972 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:55,983 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:55,999 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:56,011 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:56,026 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:56,038 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:56,054 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:56,065 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:56,080 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:56,091 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:56,107 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:56,118 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:56,134 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:56,145 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:56,453 - INFO - integration_test - Step 35: MPC solve successful
2025-12-01 13:36:56,465 - INFO - integration_test - Step 35: Computed 10 numeric contouring constraints for visualization (s=9.600)
2025-12-01 13:36:56,465 - DEBUG - integration_test - Step 35: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:56,465 - INFO - integration_test - === Applying control at step 35 ===
2025-12-01 13:36:56,465 - INFO - integration_test -   Control dict from planner: {'a': 2.888187879660581e-07, 'w': -0.8000000099932592}
2025-12-01 13:36:56,465 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:56,465 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:56,466 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:56,466 - INFO - integration_test - Step 35 completed in 0.640s
2025-12-01 13:36:56,490 - INFO - integration_test - Step 36 (contouring until path end)
2025-12-01 13:36:56,492 - DEBUG - integration_test - Syncing planner state at step 36: vehicle_state=[8.55812491 4.32184181 0.16435933 3.00000002 9.90000004]
2025-12-01 13:36:56,492 - DEBUG - integration_test - Step 36: Using propagated spline 9.9000 (close to path, dist=0.356m)
2025-12-01 13:36:56,492 - DEBUG - integration_test -   Set spline state to 9.9000
2025-12-01 13:36:56,493 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:56,513 - DEBUG - integration_test - Step 36: Checking path alignment: vehicle=(8.558, 4.322), path_start=(0.000, 0.000), dist=9.587m
2025-12-01 13:36:56,513 - WARNING - integration_test - Could not update reference path at step 36: x and y must have the same length
2025-12-01 13:36:56,513 - INFO - integration_test - === Calling planner.solve_mpc() at step 36 ===
2025-12-01 13:36:56,516 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:56,517 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:56,517 - INFO - integration_test - Warmstart k=0: x0=8.558124908019352 , y0=4.321841810799202 , psi0=0.16435933132305955 , v0=3.0 , spline0=9.900000044230428 , a0=0.0 , w0=0.0
2025-12-01 13:36:56,517 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:56,518 - INFO - integration_test - Dyn residual k=0: pred=[8.85408192328592, 4.370927909793766, 0.16435933132305955, 3.0, 10.200000044230428], ws=[8.85408192328592, 4.370927909793766, 0.16435933132305935, 3.0, 12.528872791806933], res=[0.0, 0.0, 1.942890293094024e-16, 0.0, -2.3288727475765043], res_norm=2.329e+00
2025-12-01 13:36:56,518 - INFO - integration_test - Dyn residual k=1: pred=[9.150038938552488, 4.420014008788329, 0.16435933132305935, 3.0, 12.828872791806933], ws=[9.150038938552488, 4.420014008788329, 0.16435933132305935, 3.0, 14.962886907686064], res=[0.0, 0.0, 0.0, 0.0, -2.134014115879131], res_norm=2.134e+00
2025-12-01 13:36:56,519 - INFO - integration_test - Dyn residual k=2: pred=[9.445995953819056, 4.469100107782893, 0.16435933132305935, 3.0, 15.262886907686065], ws=[9.445995953819056, 4.469100107782893, 0.16435933132305935, 3.0, 17.385078780175437], res=[0.0, 0.0, 0.0, 0.0, -2.1221918724893722], res_norm=2.122e+00
2025-12-01 13:36:56,534 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:56,547 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:56,563 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:56,574 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:56,591 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:56,602 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:56,618 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:56,629 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:56,645 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:56,656 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:56,672 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:56,683 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:56,699 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:56,711 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:56,727 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:56,739 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:56,755 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:56,766 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:56,783 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:56,795 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:56,811 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:56,822 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:57,147 - INFO - integration_test - Step 36: MPC solve successful
2025-12-01 13:36:57,158 - INFO - integration_test - Step 36: Computed 10 numeric contouring constraints for visualization (s=9.900)
2025-12-01 13:36:57,158 - DEBUG - integration_test - Step 36: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:57,158 - INFO - integration_test - === Applying control at step 36 ===
2025-12-01 13:36:57,158 - INFO - integration_test -   Control dict from planner: {'a': 9.617684120191937e-08, 'w': -0.8000000099902906}
2025-12-01 13:36:57,158 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:57,158 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:57,159 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:57,160 - INFO - integration_test - Step 36 completed in 0.668s
2025-12-01 13:36:57,181 - INFO - integration_test - Step 37 (contouring until path end)
2025-12-01 13:36:57,182 - DEBUG - integration_test - Syncing planner state at step 37: vehicle_state=[ 8.85572874  4.3590436   0.08435933  3.00000003 10.20000005]
2025-12-01 13:36:57,183 - DEBUG - integration_test - Step 37: Using propagated spline 10.2000 (close to path, dist=0.454m)
2025-12-01 13:36:57,183 - DEBUG - integration_test -   Set spline state to 10.2000
2025-12-01 13:36:57,183 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:57,197 - DEBUG - integration_test - Step 37: Checking path alignment: vehicle=(8.856, 4.359), path_start=(0.000, 0.000), dist=9.870m
2025-12-01 13:36:57,197 - WARNING - integration_test - Could not update reference path at step 37: x and y must have the same length
2025-12-01 13:36:57,197 - INFO - integration_test - === Calling planner.solve_mpc() at step 37 ===
2025-12-01 13:36:57,200 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:57,201 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:57,201 - INFO - integration_test - Warmstart k=0: x0=8.85572874009132 , y0=4.359043600458983 , psi0=0.08435933032403051 , v0=3.0 , spline0=10.200000046747492 , a0=0.0 , w0=0.0
2025-12-01 13:36:57,201 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:57,202 - INFO - integration_test - Dyn residual k=0: pred=[9.154661898505811, 4.3843213930908025, 0.08435933032403051, 3.0, 10.500000046747493], ws=[9.154661898505811, 4.3843213930908025, 0.08435933032403042, 3.0, 12.844604621982269], res=[0.0, 0.0, 8.326672684688674e-17, 0.0, -2.3446045752347757], res_norm=2.345e+00
2025-12-01 13:36:57,203 - INFO - integration_test - Dyn residual k=1: pred=[9.453595056920301, 4.409599185722622, 0.08435933032403042, 3.0, 13.14460462198227], ws=[9.453595056920301, 4.409599185722622, 0.08435933032403042, 3.0, 15.362705598328319], res=[0.0, 0.0, 0.0, 0.0, -2.218100976346049], res_norm=2.218e+00
2025-12-01 13:36:57,203 - INFO - integration_test - Dyn residual k=2: pred=[9.752528215334792, 4.434876978354442, 0.08435933032403042, 3.0, 15.66270559832832], ws=[9.752528215334792, 4.434876978354442, 0.08435933032403042, 3.0, 17.818310631633807], res=[0.0, 0.0, 0.0, 0.0, -2.1556050333054877], res_norm=2.156e+00
2025-12-01 13:36:57,218 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:57,230 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:57,246 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:57,258 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:57,274 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:57,285 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:57,301 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:57,312 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:57,328 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:57,339 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:57,355 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:57,366 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:57,382 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:57,393 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:57,409 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:57,420 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:57,435 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:57,447 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:57,462 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:57,474 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:57,491 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:57,502 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:57,866 - INFO - integration_test - Step 37: MPC solve successful
2025-12-01 13:36:57,877 - INFO - integration_test - Step 37: Computed 10 numeric contouring constraints for visualization (s=10.200)
2025-12-01 13:36:57,877 - DEBUG - integration_test - Step 37: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:57,878 - INFO - integration_test - === Applying control at step 37 ===
2025-12-01 13:36:57,878 - INFO - integration_test -   Control dict from planner: {'a': 3.216270114549186e-08, 'w': -0.8000000099987806}
2025-12-01 13:36:57,878 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:57,878 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:57,879 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:57,879 - INFO - integration_test - Step 37 completed in 0.697s
2025-12-01 13:36:57,901 - INFO - integration_test - Step 38 (contouring until path end)
2025-12-01 13:36:57,902 - DEBUG - integration_test - Syncing planner state at step 38: vehicle_state=[9.15535372e+00 4.37234349e+00 4.35932932e-03 3.00000003e+00
 1.05000000e+01]
2025-12-01 13:36:57,903 - DEBUG - integration_test - Step 38: Using propagated spline 10.5000 (close to path, dist=0.373m)
2025-12-01 13:36:57,903 - DEBUG - integration_test -   Set spline state to 10.5000
2025-12-01 13:36:57,903 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:57,917 - DEBUG - integration_test - Step 38: Checking path alignment: vehicle=(9.155, 4.372), path_start=(0.000, 0.000), dist=10.146m
2025-12-01 13:36:57,917 - WARNING - integration_test - Could not update reference path at step 38: x and y must have the same length
2025-12-01 13:36:57,917 - INFO - integration_test - === Calling planner.solve_mpc() at step 38 ===
2025-12-01 13:36:57,920 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:57,921 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:57,921 - INFO - integration_test - Warmstart k=0: x0=9.155353717992622 , y0=4.372343488438529 , psi0=0.00435932932415245 , v0=3.0 , spline0=10.500000049586184 , a0=0.0 , w0=0.0
2025-12-01 13:36:57,921 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:57,922 - INFO - integration_test - Dyn residual k=0: pred=[9.455350867434312, 4.373651283093597, 0.00435932932415245, 3.0, 10.800000049586185], ws=[9.455350867434312, 4.373651283093597, 0.0043593293241523945, 3.0, 13.231543505079332], res=[0.0, 0.0, 5.551115123125783e-17, 0.0, -2.4315434554931468], res_norm=2.432e+00
2025-12-01 13:36:57,923 - INFO - integration_test - Dyn residual k=1: pred=[9.755348016876003, 4.374959077748666, 0.0043593293241523945, 3.0, 13.531543505079332], ws=[9.755348016876003, 4.374959077748666, 0.0043593293241523945, 3.0, 15.788849212959718], res=[0.0, 0.0, 0.0, 0.0, -2.257305707880386], res_norm=2.257e+00
2025-12-01 13:36:57,923 - INFO - integration_test - Dyn residual k=2: pred=[10.055345166317693, 4.376266872403734, 0.0043593293241523945, 3.0, 16.08884921295972], ws=[10.055345166317693, 4.376266872403734, 0.0043593293241523945, 3.0, 18.303721180396597], res=[0.0, 0.0, 0.0, 0.0, -2.2148719674368778], res_norm=2.215e+00
2025-12-01 13:36:57,938 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:57,950 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:57,966 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:57,977 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:57,992 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:58,004 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:58,019 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:58,030 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:58,046 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:58,057 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:58,073 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:58,084 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:58,099 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:58,111 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:58,126 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:58,137 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:58,152 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:58,164 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:58,179 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:58,191 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:58,207 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:58,218 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:58,633 - INFO - integration_test - Step 38: MPC solve successful
2025-12-01 13:36:58,643 - INFO - integration_test - Step 38: Computed 10 numeric contouring constraints for visualization (s=10.500)
2025-12-01 13:36:58,644 - DEBUG - integration_test - Step 38: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:58,644 - INFO - integration_test - === Applying control at step 38 ===
2025-12-01 13:36:58,644 - INFO - integration_test -   Control dict from planner: {'a': -0.43330761308378324, 'w': -0.8000000022765867}
2025-12-01 13:36:58,644 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:58,644 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:58,645 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:58,645 - INFO - integration_test - Step 38 completed in 0.743s
2025-12-01 13:36:58,667 - INFO - integration_test - Step 39 (contouring until path end)
2025-12-01 13:36:58,668 - DEBUG - integration_test - Syncing planner state at step 39: vehicle_state=[ 9.45291971  4.36176244 -0.07564067  2.95666927 10.79566698]
2025-12-01 13:36:58,669 - INFO - integration_test - Step 39: Re-initialized spline from 10.7957 to 10.9043 (vehicle at (9.45, 4.36), closest path point at (9.75, 4.78), distance=0.514m)
2025-12-01 13:36:58,669 - DEBUG - integration_test -   Set spline state to 10.9043
2025-12-01 13:36:58,669 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:58,683 - DEBUG - integration_test - Step 39: Checking path alignment: vehicle=(9.453, 4.362), path_start=(0.000, 0.000), dist=10.411m
2025-12-01 13:36:58,683 - WARNING - integration_test - Could not update reference path at step 39: x and y must have the same length
2025-12-01 13:36:58,683 - INFO - integration_test - === Calling planner.solve_mpc() at step 39 ===
2025-12-01 13:36:58,686 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:58,687 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:58,687 - INFO - integration_test - Warmstart k=0: x0=9.452919708033862 , y0=4.361762441938851 , psi0=-0.07564067090350622 , v0=2.956669267078543 , spline0=10.904332608216187 , a0=0.0 , w0=0.0
2025-12-01 13:36:58,687 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:58,688 - INFO - integration_test - Dyn residual k=0: pred=[9.747741207149918, 4.33941931754164, -0.07564067090350622, 2.956669267078543, 11.199999534924041], ws=[9.747741207149918, 4.33941931754164, -0.07564067090350601, 2.956669267078543, 13.676701506954846], res=[0.0, 0.0, -2.0816681711721685e-16, 0.0, -2.4767019720308046], res_norm=2.477e+00
2025-12-01 13:36:58,689 - INFO - integration_test - Dyn residual k=1: pred=[10.042562706265974, 4.317076193144428, -0.07564067090350601, 2.956669267078543, 13.9723684336627], ws=[10.042562706265974, 4.317076193144428, -0.07564067090350601, 2.956669267078543, 16.289457533054396], res=[0.0, 0.0, 0.0, 0.0, -2.317089099391696], res_norm=2.317e+00
2025-12-01 13:36:58,689 - INFO - integration_test - Dyn residual k=2: pred=[10.33738420538203, 4.294733068747216, -0.07564067090350601, 2.956669267078543, 16.585124459762252], ws=[10.33738420538203, 4.294733068747216, -0.07564067090350601, 2.956669267078543, 18.890863972176305], res=[0.0, 0.0, 0.0, 0.0, -2.3057395124140534], res_norm=2.306e+00
2025-12-01 13:36:58,704 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:58,716 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:58,731 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:58,743 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:58,759 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:58,770 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:58,786 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:58,797 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:58,812 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:58,824 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:58,839 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:58,851 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:58,866 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:58,878 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:58,893 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:58,905 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:58,920 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:58,931 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:58,946 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:58,958 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:58,973 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:58,984 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:59,425 - INFO - integration_test - Step 39: MPC solve successful
2025-12-01 13:36:59,436 - INFO - integration_test - Step 39: Computed 10 numeric contouring constraints for visualization (s=10.904)
2025-12-01 13:36:59,436 - DEBUG - integration_test - Step 39: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:36:59,436 - INFO - integration_test - === Applying control at step 39 ===
2025-12-01 13:36:59,436 - INFO - integration_test -   Control dict from planner: {'a': -2.0000670070151423, 'w': -0.800201430383057}
2025-12-01 13:36:59,436 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:36:59,436 - INFO - integration_test -   Planner output success: True
2025-12-01 13:36:59,437 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:36:59,438 - INFO - integration_test - Step 39 completed in 0.770s
2025-12-01 13:36:59,458 - INFO - integration_test - Step 40 (contouring until path end)
2025-12-01 13:36:59,459 - DEBUG - integration_test - Syncing planner state at step 40: vehicle_state=[ 9.73661771  4.32893972 -0.15566081  2.75666257 11.17999886]
2025-12-01 13:36:59,460 - DEBUG - integration_test - Step 40: Using propagated spline 11.1800 (close to path, dist=0.453m)
2025-12-01 13:36:59,460 - DEBUG - integration_test -   Set spline state to 11.1800
2025-12-01 13:36:59,460 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:59,474 - DEBUG - integration_test - Step 40: Checking path alignment: vehicle=(9.737, 4.329), path_start=(0.000, 0.000), dist=10.656m
2025-12-01 13:36:59,475 - WARNING - integration_test - Could not update reference path at step 40: x and y must have the same length
2025-12-01 13:36:59,475 - INFO - integration_test - === Calling planner.solve_mpc() at step 40 ===
2025-12-01 13:36:59,478 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:36:59,479 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:36:59,479 - INFO - integration_test - Warmstart k=0: x0=9.73661770842987 , y0=4.328939724761108 , psi0=-0.15566081394181192 , v0=2.756662566377029 , spline0=11.17999886485389 , a0=0.0 , w0=0.0
2025-12-01 13:36:59,479 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:36:59,480 - INFO - integration_test - Dyn residual k=0: pred=[10.008950966655894, 4.286202369758236, -0.15566081394181192, 2.756662566377029, 11.455665121491592], ws=[10.008950966655894, 4.286202369758236, -0.15566081394181186, 2.756662566377029, 14.011409133180925], res=[0.0, 0.0, -5.551115123125783e-17, 0.0, -2.555744011689333], res_norm=2.556e+00
2025-12-01 13:36:59,481 - INFO - integration_test - Dyn residual k=1: pred=[10.281284224881917, 4.243465014755364, -0.15566081394181186, 2.756662566377029, 14.287075389818627], ws=[10.281284224881917, 4.243465014755364, -0.15566081394181186, 2.756662566377029, 16.635503191589567], res=[0.0, 0.0, 0.0, 0.0, -2.3484278017709403], res_norm=2.348e+00
2025-12-01 13:36:59,482 - INFO - integration_test - Dyn residual k=2: pred=[10.55361748310794, 4.200727659752491, -0.15566081394181186, 2.756662566377029, 16.91116944822727], ws=[10.55361748310794, 4.200727659752491, -0.15566081394181186, 2.756662566377029, 19.367005542596047], res=[0.0, 0.0, 0.0, 0.0, -2.4558360943687774], res_norm=2.456e+00
2025-12-01 13:36:59,497 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:59,508 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:59,525 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:59,536 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:59,553 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:59,564 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:59,580 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:59,591 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:59,607 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:59,618 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:59,635 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:59,647 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:59,663 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:59,674 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:59,690 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:59,701 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:59,717 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:59,729 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:59,745 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:59,757 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:36:59,772 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:36:59,784 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:00,471 - WARNING - integration_test - Step 40: MPC solve failed
2025-12-01 13:37:00,471 - WARNING - integration_test -   Consecutive MPC failures: 1/50
2025-12-01 13:37:00,479 - INFO - integration_test - Step 40: Computed 10 numeric contouring constraints for visualization (s=11.180)
2025-12-01 13:37:00,479 - DEBUG - integration_test - Step 40: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:00,479 - INFO - integration_test - === Applying control at step 40 ===
2025-12-01 13:37:00,479 - INFO - integration_test -   Control dict from planner: {'a': -2.0000670070151423, 'w': -0.800201430383057}
2025-12-01 13:37:00,479 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:00,479 - INFO - integration_test -   Planner output success: False
2025-12-01 13:37:00,480 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:00,481 - INFO - integration_test - Step 40 completed in 1.022s
2025-12-01 13:37:00,503 - INFO - integration_test - Step 41 (contouring until path end)
2025-12-01 13:37:00,504 - DEBUG - integration_test - Syncing planner state at step 41: vehicle_state=[ 9.99717045  4.27743229 -0.23568096  2.55665587 11.43566445]
2025-12-01 13:37:00,505 - INFO - integration_test - Step 41: Re-initialized spline from 11.4357 to 10.9043 (vehicle at (10.00, 4.28), closest path point at (9.75, 4.78), distance=0.562m)
2025-12-01 13:37:00,505 - DEBUG - integration_test -   Set spline state to 10.9043
2025-12-01 13:37:00,505 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:00,519 - DEBUG - integration_test - Step 41: Checking path alignment: vehicle=(9.997, 4.277), path_start=(0.000, 0.000), dist=10.874m
2025-12-01 13:37:00,520 - WARNING - integration_test - Could not update reference path at step 41: x and y must have the same length
2025-12-01 13:37:00,520 - INFO - integration_test - === Calling planner.solve_mpc() at step 41 ===
2025-12-01 13:37:00,522 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:00,523 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:00,523 - INFO - integration_test - Warmstart k=0: x0=9.997170453449133 , y0=4.277432288141927 , psi0=-0.2356809569801176 , v0=2.5566558656755145 , spline0=10.904332608216187 , a0=0.0 , w0=0.0
2025-12-01 13:37:00,523 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:00,524 - INFO - integration_test - Dyn residual k=0: pred=[10.245768308000184, 4.2177330514002005, -0.2356809569801176, 2.5566558656755145, 11.15999819478374], ws=[10.245768308000184, 4.2177330514002005, -0.2356809569801177, 2.5566558656755145, 13.636700166814542], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -2.476701972030803], res_norm=2.477e+00
2025-12-01 13:37:00,525 - INFO - integration_test - Dyn residual k=1: pred=[10.494366162551234, 4.158033814658474, -0.2356809569801177, 2.5566558656755145, 13.892365753382094], ws=[10.494366162551234, 4.158033814658474, -0.2356809569801177, 2.5566558656755145, 16.20550371921484], res=[0.0, 0.0, 0.0, 0.0, -2.3131379658327447], res_norm=2.313e+00
2025-12-01 13:37:00,526 - INFO - integration_test - Dyn residual k=2: pred=[10.742964017102285, 4.098334577916747, -0.2356809569801177, 2.5566558656755145, 16.46116930578239], ws=[10.742964017102285, 4.098334577916747, -0.2356809569801177, 2.5566558656755145, 18.853811023997185], res=[0.0, 0.0, 0.0, 0.0, -2.3926417182147937], res_norm=2.393e+00
2025-12-01 13:37:00,540 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:00,552 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:00,569 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:00,580 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:00,597 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:00,609 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:00,624 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:00,636 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:00,651 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:00,663 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:00,679 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:00,691 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:00,708 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:00,720 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:00,737 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:00,750 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:00,768 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:00,780 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:00,797 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:00,810 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:00,826 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:00,838 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:01,606 - WARNING - integration_test - Step 41: MPC solve failed
2025-12-01 13:37:01,606 - WARNING - integration_test -   Consecutive MPC failures: 2/50
2025-12-01 13:37:01,614 - INFO - integration_test - Step 41: Computed 10 numeric contouring constraints for visualization (s=10.904)
2025-12-01 13:37:01,614 - DEBUG - integration_test - Step 41: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:01,614 - INFO - integration_test - === Applying control at step 41 ===
2025-12-01 13:37:01,614 - INFO - integration_test -   Control dict from planner: {'a': -2.0000670070151423, 'w': -0.800201430383057}
2025-12-01 13:37:01,614 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:01,614 - INFO - integration_test -   Planner output success: False
2025-12-01 13:37:01,615 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:01,616 - INFO - integration_test - Step 41 completed in 1.112s
2025-12-01 13:37:01,638 - INFO - integration_test - Step 42 (contouring until path end)
2025-12-01 13:37:01,639 - DEBUG - integration_test - Syncing planner state at step 42: vehicle_state=[10.23353196  4.21070541 -0.3157011   2.35664916 11.13999752]
2025-12-01 13:37:01,640 - INFO - integration_test - Step 42: Re-initialized spline from 11.1400 to 11.5101 (vehicle at (10.23, 4.21), closest path point at (10.40, 4.79), distance=0.600m)
2025-12-01 13:37:01,640 - DEBUG - integration_test -   Set spline state to 11.5101
2025-12-01 13:37:01,640 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:01,654 - DEBUG - integration_test - Step 42: Checking path alignment: vehicle=(10.234, 4.211), path_start=(0.000, 0.000), dist=11.066m
2025-12-01 13:37:01,654 - WARNING - integration_test - Could not update reference path at step 42: x and y must have the same length
2025-12-01 13:37:01,654 - INFO - integration_test - === Calling planner.solve_mpc() at step 42 ===
2025-12-01 13:37:01,657 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:01,658 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:01,658 - INFO - integration_test - Warmstart k=0: x0=10.233531962377532 , y0=4.210705414664998 , psi0=-0.3157011000184233 , v0=2.3566491649740002 , spline0=11.510128864228196 , a0=0.0 , w0=0.0
2025-12-01 13:37:01,658 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:01,659 - INFO - integration_test - Dyn residual k=0: pred=[10.457550067228395, 4.137535464776032, -0.3157011000184233, 2.3566491649740002, 11.745793780725597], ws=[10.457550067228395, 4.137535464776032, -0.3157011000184231, 2.3566491649740002, 14.325985317887312], res=[0.0, 0.0, -1.6653345369377348e-16, 0.0, -2.5801915371617152], res_norm=2.580e+00
2025-12-01 13:37:01,660 - INFO - integration_test - Dyn residual k=1: pred=[10.681568172079258, 4.064365514887065, -0.3157011000184231, 2.3566491649740002, 14.561650234384713], ws=[10.681568172079258, 4.064365514887065, -0.3157011000184231, 2.3566491649740002, 17.02284426099654], res=[0.0, 0.0, 0.0, 0.0, -2.4611940266118264], res_norm=2.461e+00
2025-12-01 13:37:01,660 - INFO - integration_test - Dyn residual k=2: pred=[10.905586276930121, 3.9911955649980984, -0.3157011000184231, 2.3566491649740002, 17.258509177493938], ws=[10.905586276930121, 3.9911955649980984, -0.3157011000184231, 2.3566491649740002, 19.770248258743088], res=[0.0, 0.0, 0.0, 0.0, -2.51173908124915], res_norm=2.512e+00
2025-12-01 13:37:01,675 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:01,687 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:01,704 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:01,716 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:01,734 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:01,746 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:01,764 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:01,776 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:01,793 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:01,805 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:01,821 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:01,833 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:01,849 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:01,861 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:01,876 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:01,888 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:01,903 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:01,914 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:01,930 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:01,941 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:01,956 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:01,968 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:02,813 - WARNING - integration_test - Step 42: MPC solve failed
2025-12-01 13:37:02,813 - WARNING - integration_test -   Consecutive MPC failures: 3/50
2025-12-01 13:37:02,821 - INFO - integration_test - Step 42: Computed 10 numeric contouring constraints for visualization (s=11.510)
2025-12-01 13:37:02,822 - DEBUG - integration_test - Step 42: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:02,822 - INFO - integration_test - === Applying control at step 42 ===
2025-12-01 13:37:02,822 - INFO - integration_test -   Control dict from planner: {'a': -2.0000670070151423, 'w': -0.800201430383057}
2025-12-01 13:37:02,822 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:02,822 - INFO - integration_test -   Planner output success: False
2025-12-01 13:37:02,823 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:02,824 - INFO - integration_test - Step 42 completed in 1.185s
2025-12-01 13:37:02,848 - INFO - integration_test - Step 43 (contouring until path end)
2025-12-01 13:37:02,849 - DEBUG - integration_test - Syncing planner state at step 43: vehicle_state=[10.44505973  4.13226207 -0.39572124  2.15664246 11.72579311]
2025-12-01 13:37:02,850 - INFO - integration_test - Step 43: Re-initialized spline from 11.7258 to 11.5101 (vehicle at (10.45, 4.13), closest path point at (10.40, 4.79), distance=0.657m)
2025-12-01 13:37:02,850 - DEBUG - integration_test -   Set spline state to 11.5101
2025-12-01 13:37:02,850 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:02,865 - DEBUG - integration_test - Step 43: Checking path alignment: vehicle=(10.445, 4.132), path_start=(0.000, 0.000), dist=11.233m
2025-12-01 13:37:02,866 - WARNING - integration_test - Could not update reference path at step 43: x and y must have the same length
2025-12-01 13:37:02,866 - INFO - integration_test - === Calling planner.solve_mpc() at step 43 ===
2025-12-01 13:37:02,868 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:02,870 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:02,870 - INFO - integration_test - Warmstart k=0: x0=10.445059732051039 , y0=4.132262074623508 , psi0=-0.39572124305672896 , v0=2.156642464272486 , spline0=11.510128864228196 , a0=0.0 , w0=0.0
2025-12-01 13:37:02,870 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:02,871 - INFO - integration_test - Dyn residual k=0: pred=[10.644057183285069, 4.049129159425059, -0.39572124305672896, 2.156642464272486, 11.725793110655445], ws=[10.644057183285069, 4.049129159425059, -0.39572124305672896, 2.156642464272486, 14.305984647817162], res=[0.0, 0.0, 0.0, 0.0, -2.580191537161717], res_norm=2.580e+00
2025-12-01 13:37:02,872 - INFO - integration_test - Dyn residual k=1: pred=[10.843054634519099, 3.9659962442266092, -0.39572124305672896, 2.156642464272486, 14.52164889424441], ws=[10.843054634519099, 3.9659962442266092, -0.39572124305672896, 2.156642464272486, 16.980652545250642], res=[0.0, 0.0, 0.0, 0.0, -2.459003651006231], res_norm=2.459e+00
2025-12-01 13:37:02,873 - INFO - integration_test - Dyn residual k=2: pred=[11.042052085753129, 3.88286332902816, -0.39572124305672896, 2.156642464272486, 17.19631679167789], ws=[11.042052085753129, 3.88286332902816, -0.39572124305672896, 2.156642464272486, 19.699140095993155], res=[0.0, 0.0, 0.0, 0.0, -2.502823304315264], res_norm=2.503e+00
2025-12-01 13:37:02,889 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:02,902 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:02,919 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:02,932 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:02,949 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:02,961 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:02,978 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:02,990 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:03,006 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:03,017 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:03,033 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:03,044 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:03,059 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:03,070 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:03,086 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:03,097 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:03,113 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:03,124 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:03,140 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:03,151 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:03,166 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:03,177 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:03,652 - INFO - integration_test - Step 43: MPC solve successful
2025-12-01 13:37:03,663 - INFO - integration_test - Step 43: Computed 10 numeric contouring constraints for visualization (s=11.510)
2025-12-01 13:37:03,663 - DEBUG - integration_test - Step 43: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:03,664 - INFO - integration_test - === Applying control at step 43 ===
2025-12-01 13:37:03,664 - INFO - integration_test -   Control dict from planner: {'a': -2.000029982540483, 'w': -0.8001956734701869}
2025-12-01 13:37:03,664 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:03,664 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:03,665 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:03,665 - INFO - integration_test - Step 43 completed in 0.816s
2025-12-01 13:37:03,686 - INFO - integration_test - Step 44 (contouring until path end)
2025-12-01 13:37:03,687 - DEBUG - integration_test - Syncing planner state at step 44: vehicle_state=[10.63151347  4.04560079 -0.47574081  1.95663947 11.70579281]
2025-12-01 13:37:03,688 - INFO - integration_test - Step 44: Re-initialized spline from 11.7058 to 11.5101 (vehicle at (10.63, 4.05), closest path point at (10.40, 4.79), distance=0.778m)
2025-12-01 13:37:03,688 - DEBUG - integration_test -   Set spline state to 11.5101
2025-12-01 13:37:03,688 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:03,702 - DEBUG - integration_test - Step 44: Checking path alignment: vehicle=(10.632, 4.046), path_start=(0.000, 0.000), dist=11.375m
2025-12-01 13:37:03,703 - WARNING - integration_test - Could not update reference path at step 44: x and y must have the same length
2025-12-01 13:37:03,703 - INFO - integration_test - === Calling planner.solve_mpc() at step 44 ===
2025-12-01 13:37:03,705 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:03,707 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:03,707 - INFO - integration_test - Warmstart k=0: x0=10.631513471858543 , y0=4.045600794434467 , psi0=-0.47574081040374766 , v0=1.9566394660184376 , spline0=11.510128864228196 , a0=0.0 , w0=0.0
2025-12-01 13:37:03,707 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:03,708 - INFO - integration_test - Dyn residual k=0: pred=[10.805449656559027, 3.955987270613293, -0.47574081040374766, 1.9566394660184376, 11.70579281083004], ws=[10.805449656559027, 3.955987270613293, -0.4757408104037477, 1.9566394660184376, 14.285984347991757], res=[0.0, 0.0, 5.551115123125783e-17, 0.0, -2.580191537161717], res_norm=2.580e+00
2025-12-01 13:37:03,709 - INFO - integration_test - Dyn residual k=1: pred=[10.97938584125951, 3.866373746792119, -0.4757408104037477, 1.9566394660184376, 14.481648294593601], ws=[10.97938584125951, 3.866373746792119, -0.4757408104037477, 1.9566394660184376, 16.938600685884754], res=[0.0, 0.0, 0.0, 0.0, -2.4569523912911535], res_norm=2.457e+00
2025-12-01 13:37:03,710 - INFO - integration_test - Dyn residual k=2: pred=[11.153322025959994, 3.776760222970945, -0.4757408104037477, 1.9566394660184376, 17.134264632486598], ws=[11.153322025959994, 3.776760222970945, -0.4757408104037477, 1.9566394660184376, 19.628426903739467], res=[0.0, 0.0, 0.0, 0.0, -2.4941622712528684], res_norm=2.494e+00
2025-12-01 13:37:03,725 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:03,736 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:03,752 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:03,763 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:03,779 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:03,791 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:03,807 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:03,818 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:03,834 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:03,846 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:03,862 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:03,873 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:03,888 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:03,900 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:03,915 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:03,927 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:03,942 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:03,954 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:03,969 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:03,981 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:03,996 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:04,007 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:04,541 - INFO - integration_test - Step 44: MPC solve successful
2025-12-01 13:37:04,552 - INFO - integration_test - Step 44: Computed 10 numeric contouring constraints for visualization (s=11.510)
2025-12-01 13:37:04,553 - DEBUG - integration_test - Step 44: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:04,553 - INFO - integration_test - === Applying control at step 44 ===
2025-12-01 13:37:04,553 - INFO - integration_test -   Control dict from planner: {'a': -2.0000240600748875, 'w': -0.8001373904653936}
2025-12-01 13:37:04,553 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:04,553 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:04,554 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:04,554 - INFO - integration_test - Step 44 completed in 0.867s
2025-12-01 13:37:04,575 - INFO - integration_test - Step 45 (contouring until path end)
2025-12-01 13:37:04,578 - DEBUG - integration_test - Syncing planner state at step 45: vehicle_state=[10.7930496   3.95417451 -0.55575455  1.75663706 11.68579257]
2025-12-01 13:37:04,579 - INFO - integration_test - Step 45: Re-initialized spline from 11.6858 to 12.1159 (vehicle at (10.79, 3.95), closest path point at (11.05, 4.76), distance=0.848m)
2025-12-01 13:37:04,579 - DEBUG - integration_test -   Set spline state to 12.1159
2025-12-01 13:37:04,579 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:04,593 - DEBUG - integration_test - Step 45: Checking path alignment: vehicle=(10.793, 3.954), path_start=(0.000, 0.000), dist=11.495m
2025-12-01 13:37:04,594 - WARNING - integration_test - Could not update reference path at step 45: x and y must have the same length
2025-12-01 13:37:04,594 - INFO - integration_test - === Calling planner.solve_mpc() at step 45 ===
2025-12-01 13:37:04,597 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:04,598 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:04,598 - INFO - integration_test - Warmstart k=0: x0=10.793049604549163 , y0=3.9541745070024175 , psi0=-0.555754549450287 , v0=1.7566370600109489 , spline0=12.115925120240208 , a0=0.0 , w0=0.0
2025-12-01 13:37:04,598 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:04,599 - INFO - integration_test - Dyn residual k=0: pred=[10.94227637839617, 3.8614970686840575, -0.555754549450287, 1.7566370600109489, 12.291588826241302], ws=[10.94227637839617, 3.8614970686840575, -0.5557545494502869, 1.7566370600109489, 14.97961789440744], res=[0.0, 0.0, -1.1102230246251565e-16, 0.0, -2.688029068166138], res_norm=2.688e+00
2025-12-01 13:37:04,600 - INFO - integration_test - Dyn residual k=1: pred=[11.091503152243176, 3.7688196303656976, -0.5557545494502869, 1.7566370600109489, 15.155281600408534], ws=[11.091503152243176, 3.7688196303656976, -0.5557545494502869, 1.7566370600109489, 17.77947802144724], res=[0.0, 0.0, 0.0, 0.0, -2.6241964210387057], res_norm=2.624e+00
2025-12-01 13:37:04,601 - INFO - integration_test - Dyn residual k=2: pred=[11.240729926090182, 3.6761421920473376, -0.5557545494502869, 1.7566370600109489, 17.955141727448336], ws=[11.240729926090182, 3.6761421920473376, -0.5557545494502869, 1.7566370600109489, 20.696127338558398], res=[0.0, 0.0, 0.0, 0.0, -2.7409856111100623], res_norm=2.741e+00
2025-12-01 13:37:04,615 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:04,627 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:04,644 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:04,655 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:04,671 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:04,683 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:04,699 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:04,711 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:04,727 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:04,739 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:04,755 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:04,766 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:04,782 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:04,793 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:04,810 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:04,822 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:04,837 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:04,849 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:04,865 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:04,876 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:04,892 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:04,904 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:05,451 - INFO - integration_test - Step 45: MPC solve successful
2025-12-01 13:37:05,461 - INFO - integration_test - Step 45: Computed 10 numeric contouring constraints for visualization (s=12.116)
2025-12-01 13:37:05,462 - DEBUG - integration_test - Step 45: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:05,462 - INFO - integration_test - === Applying control at step 45 ===
2025-12-01 13:37:05,462 - INFO - integration_test -   Control dict from planner: {'a': -2.000012485477615, 'w': -0.8000769439133361}
2025-12-01 13:37:05,462 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:05,462 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:05,463 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:05,465 - INFO - integration_test - Step 45 completed in 0.888s
2025-12-01 13:37:05,488 - INFO - integration_test - Step 46 (contouring until path end)
2025-12-01 13:37:05,489 - DEBUG - integration_test - Syncing planner state at step 46: vehicle_state=[10.93021148  3.8613497  -0.63576224  1.55663581 12.2715887 ]
2025-12-01 13:37:05,489 - INFO - integration_test - Step 46: Re-initialized spline from 12.2716 to 12.1159 (vehicle at (10.93, 3.86), closest path point at (11.05, 4.76), distance=0.909m)
2025-12-01 13:37:05,489 - DEBUG - integration_test -   Set spline state to 12.1159
2025-12-01 13:37:05,490 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:05,504 - DEBUG - integration_test - Step 46: Checking path alignment: vehicle=(10.930, 3.861), path_start=(0.000, 0.000), dist=11.592m
2025-12-01 13:37:05,505 - WARNING - integration_test - Could not update reference path at step 46: x and y must have the same length
2025-12-01 13:37:05,505 - INFO - integration_test - === Calling planner.solve_mpc() at step 46 ===
2025-12-01 13:37:05,507 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:05,509 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:05,509 - INFO - integration_test - Warmstart k=0: x0=10.930211478687129 , y0=3.861349699384914 , psi0=-0.6357622438416206 , v0=1.5566358114631873 , spline0=12.115925120240208 , a0=0.0 , w0=0.0
2025-12-01 13:37:05,509 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:05,510 - INFO - integration_test - Dyn residual k=0: pred=[11.055461402988874, 3.7689180654184864, -0.6357622438416206, 1.5566358114631873, 12.271588701386527], ws=[11.055461402988874, 3.7689180654184864, -0.6357622438416204, 1.5566358114631873, 14.959617769552665], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, -2.688029068166138], res_norm=2.688e+00
2025-12-01 13:37:05,511 - INFO - integration_test - Dyn residual k=1: pred=[11.180711327290618, 3.6764864314520587, -0.6357622438416204, 1.5566358114631873, 15.115281350698984], ws=[11.180711327290618, 3.6764864314520587, -0.6357622438416204, 1.5566358114631873, 17.73654610260333], res=[0.0, 0.0, 0.0, 0.0, -2.621264751904347], res_norm=2.621e+00
2025-12-01 13:37:05,512 - INFO - integration_test - Dyn residual k=2: pred=[11.305961251592363, 3.584054797485631, -0.6357622438416204, 1.5566358114631873, 17.89220968374965], ws=[11.305961251592363, 3.584054797485631, -0.6357622438416204, 1.5566358114631873, 20.623534844836083], res=[0.0, 0.0, 0.0, 0.0, -2.731325161086435], res_norm=2.731e+00
2025-12-01 13:37:05,527 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:05,538 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:05,555 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:05,566 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:05,582 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:05,594 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:05,610 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:05,622 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:05,638 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:05,649 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:05,674 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:05,686 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:05,702 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:05,714 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:05,731 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:05,742 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:05,759 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:05,771 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:05,788 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:05,801 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:05,817 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:05,830 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:06,368 - INFO - integration_test - Step 46: MPC solve successful
2025-12-01 13:37:06,379 - INFO - integration_test - Step 46: Computed 10 numeric contouring constraints for visualization (s=12.116)
2025-12-01 13:37:06,380 - DEBUG - integration_test - Step 46: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:06,380 - INFO - integration_test - === Applying control at step 46 ===
2025-12-01 13:37:06,380 - INFO - integration_test -   Control dict from planner: {'a': -2.0000025677233753, 'w': -0.8000163643921443}
2025-12-01 13:37:06,380 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:06,380 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:06,381 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:06,381 - INFO - integration_test - Step 46 completed in 0.893s
2025-12-01 13:37:06,405 - INFO - integration_test - Step 47 (contouring until path end)
2025-12-01 13:37:06,406 - DEBUG - integration_test - Syncing planner state at step 47: vehicle_state=[11.04391562  3.77036648 -0.71576388  1.35663555 12.25158868]
2025-12-01 13:37:06,407 - INFO - integration_test - Step 47: Re-initialized spline from 12.2516 to 12.1159 (vehicle at (11.04, 3.77), closest path point at (11.05, 4.76), distance=0.993m)
2025-12-01 13:37:06,407 - DEBUG - integration_test -   Set spline state to 12.1159
2025-12-01 13:37:06,407 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:06,421 - DEBUG - integration_test - Step 47: Checking path alignment: vehicle=(11.044, 3.770), path_start=(0.000, 0.000), dist=11.670m
2025-12-01 13:37:06,422 - WARNING - integration_test - Could not update reference path at step 47: x and y must have the same length
2025-12-01 13:37:06,422 - INFO - integration_test - === Calling planner.solve_mpc() at step 47 ===
2025-12-01 13:37:06,424 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:06,425 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:06,425 - INFO - integration_test - Warmstart k=0: x0=11.043915622811143 , y0=3.770366476400598 , psi0=-0.715763880280835 , v0=1.3566355546908497 , spline0=12.115925120240208 , a0=0.0 , w0=0.0
2025-12-01 13:37:06,426 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:06,426 - INFO - integration_test - Dyn residual k=0: pred=[11.146286284642484, 3.6813448617290665, -0.715763880280835, 1.3566355546908497, 12.251588675709293], ws=[11.146286284642484, 3.6813448617290665, -0.7157638802808348, 1.3566355546908497, 14.939617743875434], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, -2.6880290681661414], res_norm=2.688e+00
2025-12-01 13:37:06,427 - INFO - integration_test - Dyn residual k=1: pred=[11.248656946473824, 3.592323247057535, -0.7157638802808348, 1.3566355546908497, 15.07528129934452], ws=[11.248656946473824, 3.592323247057535, -0.7157638802808348, 1.3566355546908497, 17.693517174747118], res=[0.0, 0.0, 0.0, 0.0, -2.6182358754025987], res_norm=2.618e+00
2025-12-01 13:37:06,428 - INFO - integration_test - Dyn residual k=2: pred=[11.351027608305165, 3.503301632386003, -0.7157638802808348, 1.3566355546908497, 17.8291807302162], ws=[11.351027608305165, 3.503301632386003, -0.7157638802808348, 1.3566355546908497, 20.550471576499028], res=[0.0, 0.0, 0.0, 0.0, -2.7212908462828267], res_norm=2.721e+00
2025-12-01 13:37:06,443 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:06,454 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:06,470 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:06,482 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:06,499 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:06,510 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:06,525 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:06,537 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:06,553 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:06,564 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:06,581 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:06,592 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:06,608 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:06,619 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:06,635 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:06,646 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:06,662 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:06,674 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:06,690 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:06,701 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:06,718 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:06,730 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:07,314 - INFO - integration_test - Step 47: MPC solve successful
2025-12-01 13:37:07,326 - INFO - integration_test - Step 47: Computed 10 numeric contouring constraints for visualization (s=12.116)
2025-12-01 13:37:07,327 - DEBUG - integration_test - Step 47: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:07,327 - INFO - integration_test - === Applying control at step 47 ===
2025-12-01 13:37:07,327 - INFO - integration_test -   Control dict from planner: {'a': -1.8066722429716708, 'w': -0.8000000093113988}
2025-12-01 13:37:07,327 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:07,327 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:07,328 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:07,328 - INFO - integration_test - Step 47 completed in 0.922s
2025-12-01 13:37:07,353 - INFO - integration_test - Step 48 (contouring until path end)
2025-12-01 13:37:07,355 - DEBUG - integration_test - Syncing planner state at step 48: vehicle_state=[11.13612849  3.68362861 -0.79576388  1.17596833 12.23352195]
2025-12-01 13:37:07,355 - INFO - integration_test - Step 48: Re-initialized spline from 12.2335 to 12.1159 (vehicle at (11.14, 3.68), closest path point at (11.05, 4.76), distance=1.083m)
2025-12-01 13:37:07,355 - DEBUG - integration_test -   Set spline state to 12.1159
2025-12-01 13:37:07,356 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:07,370 - DEBUG - integration_test - Step 48: Checking path alignment: vehicle=(11.136, 3.684), path_start=(0.000, 0.000), dist=11.730m
2025-12-01 13:37:07,370 - WARNING - integration_test - Could not update reference path at step 48: x and y must have the same length
2025-12-01 13:37:07,370 - INFO - integration_test - === Calling planner.solve_mpc() at step 48 ===
2025-12-01 13:37:07,373 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:07,374 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:07,374 - INFO - integration_test - Warmstart k=0: x0=11.136128487741516 , y0=3.6836286051591665 , psi0=-0.7957638812119749 , v0=1.1759683303936828 , spline0=12.115925120240208 , a0=0.0 , w0=0.0
2025-12-01 13:37:07,374 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:07,375 - INFO - integration_test - Dyn residual k=0: pred=[11.218415608057583, 3.5996176239068434, -0.7957638812119749, 1.1759683303936828, 12.233521953279576], ws=[11.218415608057583, 3.5996176239068434, -0.7957638812119749, 1.1759683303936828, 14.921551021445714], res=[0.0, 0.0, 0.0, 0.0, -2.688029068166138], res_norm=2.688e+00
2025-12-01 13:37:07,376 - INFO - integration_test - Dyn residual k=1: pred=[11.30070272837365, 3.5156066426545203, -0.7957638812119749, 1.1759683303936828, 15.039147854485082], ws=[11.30070272837365, 3.5156066426545203, -0.7957638812119749, 1.1759683303936828, 17.654615561747796], res=[0.0, 0.0, 0.0, 0.0, -2.615467707262715], res_norm=2.615e+00
2025-12-01 13:37:07,376 - INFO - integration_test - Dyn residual k=2: pred=[11.382989848689718, 3.431595661402197, -0.7957638812119749, 1.1759683303936828, 17.772212394787164], ws=[11.382989848689718, 3.431595661402197, -0.7957638812119749, 1.1759683303936828, 20.48427277262333], res=[0.0, 0.0, 0.0, 0.0, -2.712060377836167], res_norm=2.712e+00
2025-12-01 13:37:07,391 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:07,403 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:07,419 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:07,430 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:07,446 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:07,458 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:07,473 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:07,485 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:07,501 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:07,512 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:07,528 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:07,539 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:07,555 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:07,566 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:07,582 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:07,594 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:07,611 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:07,624 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:07,642 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:07,654 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:07,671 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:07,684 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:08,140 - INFO - integration_test - Step 48: MPC solve successful
2025-12-01 13:37:08,151 - INFO - integration_test - Step 48: Computed 10 numeric contouring constraints for visualization (s=12.116)
2025-12-01 13:37:08,152 - DEBUG - integration_test - Step 48: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:08,152 - INFO - integration_test - === Applying control at step 48 ===
2025-12-01 13:37:08,152 - INFO - integration_test -   Control dict from planner: {'a': 2.00000001999727, 'w': -0.8000000099852294}
2025-12-01 13:37:08,152 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:08,152 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:08,153 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:08,153 - INFO - integration_test - Step 48 completed in 0.799s
2025-12-01 13:37:08,178 - INFO - integration_test - Step 49 (contouring until path end)
2025-12-01 13:37:08,179 - DEBUG - integration_test - Syncing planner state at step 49: vehicle_state=[11.22157466  3.58891197 -0.87576388  1.37596833 12.25352195]
2025-12-01 13:37:08,179 - INFO - integration_test - Step 49: Re-initialized spline from 12.2535 to 12.1159 (vehicle at (11.22, 3.59), closest path point at (11.05, 4.76), distance=1.187m)
2025-12-01 13:37:08,179 - DEBUG - integration_test -   Set spline state to 12.1159
2025-12-01 13:37:08,180 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:08,194 - DEBUG - integration_test - Step 49: Checking path alignment: vehicle=(11.222, 3.589), path_start=(0.000, 0.000), dist=11.782m
2025-12-01 13:37:08,194 - WARNING - integration_test - Could not update reference path at step 49: x and y must have the same length
2025-12-01 13:37:08,194 - INFO - integration_test - === Calling planner.solve_mpc() at step 49 ===
2025-12-01 13:37:08,196 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:08,198 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:08,198 - INFO - integration_test - Warmstart k=0: x0=11.22157465964589 , y0=3.588911972813006 , psi0=-0.8757638822104978 , v0=1.3759683323934098 , spline0=12.115925120240208 , a0=0.0 , w0=0.0
2025-12-01 13:37:08,198 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:08,198 - INFO - integration_test - Dyn residual k=0: pred=[11.30969309693227, 3.483233074599118, -0.8757638822104978, 1.3759683323934098, 12.253521953479549], ws=[11.30969309693227, 3.483233074599118, -0.8757638822104976, 1.3759683323934098, 14.94155102164569], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, -2.6880290681661414], res_norm=2.688e+00
2025-12-01 13:37:08,199 - INFO - integration_test - Dyn residual k=1: pred=[11.397811534218649, 3.3775541763852295, -0.8757638822104976, 1.3759683323934098, 15.079147854885031], ws=[11.397811534218649, 3.3775541763852295, -0.8757638822104976, 1.3759683323934098, 17.700518768268843], res=[0.0, 0.0, 0.0, 0.0, -2.621370913383812], res_norm=2.621e+00
2025-12-01 13:37:08,200 - INFO - integration_test - Dyn residual k=2: pred=[11.485929971505028, 3.271875278171341, -0.8757638822104976, 1.3759683323934098, 17.838115601508186], ws=[11.485929971505028, 3.271875278171341, -0.8757638822104976, 1.3759683323934098, 20.567253739072264], res=[0.0, 0.0, 0.0, 0.0, -2.729138137564078], res_norm=2.729e+00
2025-12-01 13:37:08,215 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:08,227 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:08,242 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:08,254 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:08,271 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:08,282 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:08,298 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:08,310 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:08,325 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:08,337 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:08,353 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:08,365 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:08,380 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:08,391 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:08,407 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:08,418 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:08,434 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:08,445 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:08,461 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:08,473 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:08,488 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:08,499 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:08,899 - INFO - integration_test - Step 49: MPC solve successful
2025-12-01 13:37:08,911 - INFO - integration_test - Step 49: Computed 10 numeric contouring constraints for visualization (s=12.116)
2025-12-01 13:37:08,911 - DEBUG - integration_test - Step 49: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:08,911 - INFO - integration_test - === Applying control at step 49 ===
2025-12-01 13:37:08,911 - INFO - integration_test -   Control dict from planner: {'a': 1.9999999665270662, 'w': -0.7999998121868463}
2025-12-01 13:37:08,911 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:08,911 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:08,912 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:08,913 - INFO - integration_test - Step 49 completed in 0.734s
2025-12-01 13:37:08,933 - INFO - integration_test - Step 50 (contouring until path end)
2025-12-01 13:37:08,934 - DEBUG - integration_test - Syncing planner state at step 50: vehicle_state=[11.31135875  3.47181353 -0.95576386  1.57596833 12.27352195]
2025-12-01 13:37:08,935 - INFO - integration_test - Step 50: Re-initialized spline from 12.2735 to 12.7217 (vehicle at (11.31, 3.47), closest path point at (11.70, 4.71), distance=1.300m)
2025-12-01 13:37:08,935 - DEBUG - integration_test -   Set spline state to 12.7217
2025-12-01 13:37:08,935 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:08,951 - DEBUG - integration_test - Step 50: Checking path alignment: vehicle=(11.311, 3.472), path_start=(0.000, 0.000), dist=11.832m
2025-12-01 13:37:08,951 - WARNING - integration_test - Could not update reference path at step 50: x and y must have the same length
2025-12-01 13:37:08,951 - INFO - integration_test - === Calling planner.solve_mpc() at step 50 ===
2025-12-01 13:37:08,953 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:08,955 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:08,955 - INFO - integration_test - Warmstart k=0: x0=11.31135875086727 , y0=3.471813533905582 , psi0=-0.9557638634291825 , v0=1.5759683290461164 , spline0=12.721721376252217 , a0=0.0 , w0=0.0
2025-12-01 13:37:08,955 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:08,956 - INFO - integration_test - Dyn residual k=0: pred=[11.402289765362786, 3.343095577332381, -0.9557638634291825, 1.5759683290461164, 12.879318209156828], ws=[11.402289765362786, 3.343095577332381, -0.9557638634291825, 1.5759683290461164, 15.68340118060073], res=[0.0, 0.0, 0.0, 0.0, -2.8040829714439024], res_norm=2.804e+00
2025-12-01 13:37:08,957 - INFO - integration_test - Dyn residual k=1: pred=[11.493220779858301, 3.21437762075918, -0.9557638634291825, 1.5759683290461164, 15.840998013505342], ws=[11.493220779858301, 3.21437762075918, -0.9557638634291825, 1.5759683290461164, 18.55904258649248], res=[0.0, 0.0, 0.0, 0.0, -2.7180445729871394], res_norm=2.718e+00
2025-12-01 13:37:08,958 - INFO - integration_test - Dyn residual k=2: pred=[11.584151794353817, 3.085659664185979, -0.9557638634291825, 1.5759683290461164, 18.716639419397094], ws=[11.584151794353817, 3.085659664185979, -0.9557638634291825, 1.5759683290461164, 21.593424779398543], res=[0.0, 0.0, 0.0, 0.0, -2.876785360001449], res_norm=2.877e+00
2025-12-01 13:37:08,973 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:08,985 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:09,001 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:09,012 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:09,028 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:09,040 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:09,055 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:09,067 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:09,082 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:09,094 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:09,109 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:09,120 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:09,136 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:09,148 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:09,163 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:09,176 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:09,191 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:09,202 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:09,218 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:09,230 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:09,245 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:09,257 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:09,640 - INFO - integration_test - Step 50: MPC solve successful
2025-12-01 13:37:09,650 - INFO - integration_test - Step 50: Computed 10 numeric contouring constraints for visualization (s=12.722)
2025-12-01 13:37:09,651 - DEBUG - integration_test - Step 50: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:09,651 - INFO - integration_test - === Applying control at step 50 ===
2025-12-01 13:37:09,651 - INFO - integration_test -   Control dict from planner: {'a': 2.00000001789398, 'w': 0.07580648354224159}
2025-12-01 13:37:09,651 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:09,651 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:09,652 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:09,652 - INFO - integration_test - Step 50 completed in 0.718s
2025-12-01 13:37:09,678 - INFO - integration_test - Step 51 (contouring until path end)
2025-12-01 13:37:09,679 - DEBUG - integration_test - Syncing planner state at step 51: vehicle_state=[11.40858782  3.3353032  -0.94818322  1.77596833 12.89931821]
2025-12-01 13:37:09,679 - INFO - integration_test - Step 51: Re-initialized spline from 12.8993 to 12.7217 (vehicle at (11.41, 3.34), closest path point at (11.70, 4.71), distance=1.408m)
2025-12-01 13:37:09,679 - DEBUG - integration_test -   Set spline state to 12.7217
2025-12-01 13:37:09,680 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:09,694 - DEBUG - integration_test - Step 51: Checking path alignment: vehicle=(11.409, 3.335), path_start=(0.000, 0.000), dist=11.886m
2025-12-01 13:37:09,694 - WARNING - integration_test - Could not update reference path at step 51: x and y must have the same length
2025-12-01 13:37:09,694 - INFO - integration_test - === Calling planner.solve_mpc() at step 51 ===
2025-12-01 13:37:09,697 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:09,698 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:09,698 - INFO - integration_test - Warmstart k=0: x0=11.408587819054333 , y0=3.335303195921827 , psi0=-0.9481832150749584 , v0=1.7759683308355143 , spline0=12.721721376252217 , a0=0.0 , w0=0.0
2025-12-01 13:37:09,698 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:09,699 - INFO - integration_test - Dyn residual k=0: pred=[11.512155175749431, 3.191031099699109, -0.9481832150749584, 1.7759683308355143, 12.89931820933577], ws=[11.512155175749431, 3.191031099699109, -0.9481832150749585, 1.7759683308355143, 15.703401180779672], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -2.8040829714439024], res_norm=2.804e+00
2025-12-01 13:37:09,700 - INFO - integration_test - Dyn residual k=1: pred=[11.61572253244453, 3.0467590034763914, -0.9481832150749585, 1.7759683308355143, 15.880998013863223], ws=[11.61572253244453, 3.0467590034763914, -0.9481832150749585, 1.7759683308355143, 18.60431021325729], res=[0.0, 0.0, 0.0, 0.0, -2.7233121993940657], res_norm=2.723e+00
2025-12-01 13:37:09,700 - INFO - integration_test - Dyn residual k=2: pred=[11.719289889139628, 2.9024869072536736, -0.9481832150749585, 1.7759683308355143, 18.78190704634084], ws=[11.719289889139628, 2.9024869072536736, -0.9481832150749585, 1.7759683308355143, 21.673242515354783], res=[0.0, 0.0, 0.0, 0.0, -2.891335469013942], res_norm=2.891e+00
2025-12-01 13:37:09,715 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:09,727 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:09,743 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:09,755 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:09,772 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:09,783 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:09,799 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:09,810 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:09,826 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:09,837 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:09,853 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:09,865 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:09,880 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:09,892 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:09,908 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:09,919 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:09,934 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:09,945 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:09,961 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:09,973 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:09,988 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:10,000 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:10,374 - INFO - integration_test - Step 51: MPC solve successful
2025-12-01 13:37:10,385 - INFO - integration_test - Step 51: Computed 10 numeric contouring constraints for visualization (s=12.722)
2025-12-01 13:37:10,385 - DEBUG - integration_test - Step 51: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:10,385 - INFO - integration_test - === Applying control at step 51 ===
2025-12-01 13:37:10,385 - INFO - integration_test -   Control dict from planner: {'a': 1.9999998500184157, 'w': 0.799999863693786}
2025-12-01 13:37:10,385 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:10,385 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:10,386 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:10,386 - INFO - integration_test - Step 51 completed in 0.708s
2025-12-01 13:37:10,408 - INFO - integration_test - Step 52 (contouring until path end)
2025-12-01 13:37:10,409 - DEBUG - integration_test - Syncing planner state at step 52: vehicle_state=[11.52406779  3.18752565 -0.86818323  1.97596832 12.91931821]
2025-12-01 13:37:10,410 - INFO - integration_test - Step 52: Re-initialized spline from 12.9193 to 12.7217 (vehicle at (11.52, 3.19), closest path point at (11.70, 4.71), distance=1.536m)
2025-12-01 13:37:10,410 - DEBUG - integration_test -   Set spline state to 12.7217
2025-12-01 13:37:10,410 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:10,424 - DEBUG - integration_test - Step 52: Checking path alignment: vehicle=(11.524, 3.188), path_start=(0.000, 0.000), dist=11.957m
2025-12-01 13:37:10,425 - WARNING - integration_test - Could not update reference path at step 52: x and y must have the same length
2025-12-01 13:37:10,425 - INFO - integration_test - === Calling planner.solve_mpc() at step 52 ===
2025-12-01 13:37:10,427 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:10,429 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:10,429 - INFO - integration_test - Warmstart k=0: x0=11.524067786992557 , y0=3.1875256539400243 , psi0=-0.8681832287055798 , v0=1.9759683158373558 , spline0=12.721721376252217 , a0=0.0 , w0=0.0
2025-12-01 13:37:10,429 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:10,430 - INFO - integration_test - Dyn residual k=0: pred=[11.651757644328251, 3.0367284119708113, -0.8681832287055798, 1.9759683158373558, 12.919318207835953], ws=[11.651757644328251, 3.0367284119708113, -0.86818322870558, 1.9759683158373558, 15.723401179279852], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -2.804082971443899], res_norm=2.804e+00
2025-12-01 13:37:10,431 - INFO - integration_test - Dyn residual k=1: pred=[11.779447501663945, 2.8859311700015984, -0.86818322870558, 1.9759683158373558, 15.920998010863588], ws=[11.779447501663945, 2.8859311700015984, -0.86818322870558, 1.9759683158373558, 18.64755700303294], res=[0.0, 0.0, 0.0, 0.0, -2.726558992169352], res_norm=2.727e+00
2025-12-01 13:37:10,431 - INFO - integration_test - Dyn residual k=2: pred=[11.90713735899964, 2.7351339280323854, -0.86818322870558, 1.9759683158373558, 18.845153834616674], ws=[11.90713735899964, 2.7351339280323854, -0.86818322870558, 1.9759683158373558, 21.745969599520148], res=[0.0, 0.0, 0.0, 0.0, -2.9008157649034736], res_norm=2.901e+00
2025-12-01 13:37:10,447 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:10,458 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:10,475 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:10,486 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:10,503 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:10,514 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:10,530 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:10,542 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:10,558 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:10,569 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:10,586 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:10,597 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:10,613 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:10,624 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:10,640 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:10,652 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:10,668 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:10,680 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:10,695 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:10,707 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:10,722 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:10,734 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:11,107 - INFO - integration_test - Step 52: MPC solve successful
2025-12-01 13:37:11,119 - INFO - integration_test - Step 52: Computed 10 numeric contouring constraints for visualization (s=12.722)
2025-12-01 13:37:11,119 - DEBUG - integration_test - Step 52: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:11,119 - INFO - integration_test - === Applying control at step 52 ===
2025-12-01 13:37:11,119 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000186660194, 'w': 0.8000000088483438}
2025-12-01 13:37:11,119 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:11,119 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:11,120 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:11,120 - INFO - integration_test - Step 52 completed in 0.712s
2025-12-01 13:37:11,143 - INFO - integration_test - Step 53 (contouring until path end)
2025-12-01 13:37:11,144 - DEBUG - integration_test - Syncing planner state at step 53: vehicle_state=[11.66450871  3.03471914 -0.78818323  2.17596832 12.93931821]
2025-12-01 13:37:11,144 - INFO - integration_test - Step 53: Re-initialized spline from 12.9393 to 12.7217 (vehicle at (11.66, 3.03), closest path point at (11.70, 4.71), distance=1.679m)
2025-12-01 13:37:11,144 - DEBUG - integration_test -   Set spline state to 12.7217
2025-12-01 13:37:11,145 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:11,159 - DEBUG - integration_test - Step 53: Checking path alignment: vehicle=(11.665, 3.035), path_start=(0.000, 0.000), dist=12.053m
2025-12-01 13:37:11,159 - WARNING - integration_test - Could not update reference path at step 53: x and y must have the same length
2025-12-01 13:37:11,159 - INFO - integration_test - === Calling planner.solve_mpc() at step 53 ===
2025-12-01 13:37:11,162 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:11,163 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:11,164 - INFO - integration_test - Warmstart k=0: x0=11.664508711777817 , y0=3.034719141338344 , psi0=-0.7881832278207455 , v0=2.1759683177039575 , spline0=12.721721376252217 , a0=0.0 , w0=0.0
2025-12-01 13:37:11,164 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:11,164 - INFO - integration_test - Dyn residual k=0: pred=[11.817943789215093, 2.88042702161627, -0.7881832278207455, 2.1759683177039575, 12.939318208022613], ws=[11.817943789215093, 2.88042702161627, -0.7881832278207455, 2.1759683177039575, 15.743401179466513], res=[0.0, 0.0, 0.0, 0.0, -2.8040829714439006], res_norm=2.804e+00
2025-12-01 13:37:11,165 - INFO - integration_test - Dyn residual k=1: pred=[11.971378866652369, 2.7261349018941963, -0.7881832278207455, 2.1759683177039575, 15.960998011236908], ws=[11.971378866652369, 2.7261349018941963, -0.7881832278207455, 2.1759683177039575, 18.69059249148474], res=[0.0, 0.0, 0.0, 0.0, -2.7295944802478314], res_norm=2.730e+00
2025-12-01 13:37:11,166 - INFO - integration_test - Dyn residual k=2: pred=[12.124813944089645, 2.5718427821721224, -0.7881832278207455, 2.1759683177039575, 18.908189323255137], ws=[12.124813944089645, 2.5718427821721224, -0.7881832278207455, 2.1759683177039575, 21.817747445844866], res=[0.0, 0.0, 0.0, 0.0, -2.909558122589729], res_norm=2.910e+00
2025-12-01 13:37:11,181 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:11,192 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:11,208 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:11,220 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:11,235 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:11,247 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:11,262 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:11,273 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:11,289 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:11,300 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:11,315 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:11,327 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:11,342 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:11,353 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:11,369 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:11,380 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:11,396 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:11,407 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:11,422 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:11,433 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:11,449 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:11,460 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:11,832 - INFO - integration_test - Step 53: MPC solve successful
2025-12-01 13:37:11,843 - INFO - integration_test - Step 53: Computed 10 numeric contouring constraints for visualization (s=12.722)
2025-12-01 13:37:11,843 - DEBUG - integration_test - Step 53: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:11,843 - INFO - integration_test - === Applying control at step 53 ===
2025-12-01 13:37:11,843 - INFO - integration_test -   Control dict from planner: {'a': 1.9999998552157507, 'w': 0.7999997833697856}
2025-12-01 13:37:11,843 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:11,843 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:11,845 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:11,845 - INFO - integration_test - Step 53 completed in 0.702s
2025-12-01 13:37:11,868 - INFO - integration_test - Step 54 (contouring until path end)
2025-12-01 13:37:11,869 - DEBUG - integration_test - Syncing planner state at step 54: vehicle_state=[11.83136656  2.8800221  -0.70818325  2.3759683  12.95931821]
2025-12-01 13:37:11,870 - INFO - integration_test - Step 54: Re-initialized spline from 12.9593 to 13.3275 (vehicle at (11.83, 2.88), closest path point at (12.34, 4.65), distance=1.838m)
2025-12-01 13:37:11,870 - DEBUG - integration_test -   Set spline state to 13.3275
2025-12-01 13:37:11,870 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:11,885 - DEBUG - integration_test - Step 54: Checking path alignment: vehicle=(11.831, 2.880), path_start=(0.000, 0.000), dist=12.177m
2025-12-01 13:37:11,885 - WARNING - integration_test - Could not update reference path at step 54: x and y must have the same length
2025-12-01 13:37:11,885 - INFO - integration_test - === Calling planner.solve_mpc() at step 54 ===
2025-12-01 13:37:11,888 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:11,889 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:11,889 - INFO - integration_test - Warmstart k=0: x0=11.831366561288599 , y0=2.8800221023484167 , psi0=-0.7081832494837669 , v0=2.3759683032255325 , spline0=13.327517632264229 , a0=0.0 , w0=0.0
2025-12-01 13:37:11,889 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:11,890 - INFO - integration_test - Dyn residual k=0: pred=[12.011832008511606, 2.725476069924662, -0.7081832494837669, 2.3759683032255325, 13.565114462586783], ws=[12.011832008511606, 2.725476069924662, -0.708183249483767, 2.3759683032255325, 16.496673522380753], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -2.9315590597939707], res_norm=2.932e+00
2025-12-01 13:37:11,891 - INFO - integration_test - Dyn residual k=1: pred=[12.192297455734613, 2.5709300375009074, -0.708183249483767, 2.3759683032255325, 16.734270352703305], ws=[12.192297455734613, 2.5709300375009074, -0.708183249483767, 2.3759683032255325, 19.678522791371662], res=[0.0, 0.0, 0.0, 0.0, -2.9442524386683573], res_norm=2.944e+00
2025-12-01 13:37:11,892 - INFO - integration_test - Dyn residual k=2: pred=[12.37276290295762, 2.416384005077153, -0.708183249483767, 2.3759683032255325, 19.916119621694214], ws=[12.37276290295762, 2.416384005077153, -0.708183249483767, 2.3759683032255325, 22.994106204692258], res=[0.0, 0.0, 0.0, 0.0, -3.0779865829980437], res_norm=3.078e+00
2025-12-01 13:37:11,906 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:11,918 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:11,934 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:11,945 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:11,962 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:11,973 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:11,988 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:12,000 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:12,015 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:12,026 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:12,042 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:12,053 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:12,068 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:12,079 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:12,095 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:12,106 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:12,123 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:12,135 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:12,151 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:12,162 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:12,177 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:12,189 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:12,625 - INFO - integration_test - Step 54: MPC solve successful
2025-12-01 13:37:12,637 - INFO - integration_test - Step 54: Computed 10 numeric contouring constraints for visualization (s=13.328)
2025-12-01 13:37:12,638 - DEBUG - integration_test - Step 54: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:12,638 - INFO - integration_test - === Applying control at step 54 ===
2025-12-01 13:37:12,638 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000175405437, 'w': 0.8000000074995658}
2025-12-01 13:37:12,638 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:12,638 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:12,639 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:12,639 - INFO - integration_test - Step 54 completed in 0.770s
2025-12-01 13:37:12,661 - INFO - integration_test - Step 55 (contouring until path end)
2025-12-01 13:37:12,663 - DEBUG - integration_test - Syncing planner state at step 55: vehicle_state=[12.0257481   2.72676631 -0.62818325  2.5759683  13.58511446]
2025-12-01 13:37:12,663 - INFO - integration_test - Step 55: Re-initialized spline from 13.5851 to 13.3275 (vehicle at (12.03, 2.73), closest path point at (12.34, 4.65), distance=1.945m)
2025-12-01 13:37:12,663 - DEBUG - integration_test -   Set spline state to 13.3275
2025-12-01 13:37:12,664 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:12,678 - DEBUG - integration_test - Step 55: Checking path alignment: vehicle=(12.026, 2.727), path_start=(0.000, 0.000), dist=12.331m
2025-12-01 13:37:12,679 - WARNING - integration_test - Could not update reference path at step 55: x and y must have the same length
2025-12-01 13:37:12,679 - INFO - integration_test - === Calling planner.solve_mpc() at step 55 ===
2025-12-01 13:37:12,682 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:12,683 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:12,683 - INFO - integration_test - Warmstart k=0: x0=12.025748100087883 , y0=2.726766307286343 , psi0=-0.6281832487338103 , v0=2.575968304979587 , spline0=13.327517632264229 , a0=0.0 , w0=0.0
2025-12-01 13:37:12,683 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:12,684 - INFO - integration_test - Dyn residual k=0: pred=[12.23416879501491, 2.57538288346217, -0.6281832487338103, 2.575968304979587, 13.585114462762187], ws=[12.23416879501491, 2.57538288346217, -0.6281832487338104, 2.575968304979587, 16.516673522556157], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -2.9315590597939707], res_norm=2.932e+00
2025-12-01 13:37:12,685 - INFO - integration_test - Dyn residual k=1: pred=[12.442589489941936, 2.423999459637997, -0.6281832487338104, 2.575968304979587, 16.774270353054117], ws=[12.442589489941936, 2.423999459637997, -0.6281832487338104, 2.575968304979587, 19.72211560230601], res=[0.0, 0.0, 0.0, 0.0, -2.947845249251891], res_norm=2.948e+00
2025-12-01 13:37:12,686 - INFO - integration_test - Dyn residual k=2: pred=[12.651010184868962, 2.2726160358138237, -0.6281832487338104, 2.575968304979587, 19.979712432803968], ws=[12.651010184868962, 2.2726160358138237, -0.6281832487338104, 2.575968304979587, 23.064130125133705], res=[0.0, 0.0, 0.0, 0.0, -3.084417692329737], res_norm=3.084e+00
2025-12-01 13:37:12,701 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:12,712 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:12,728 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:12,740 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:12,755 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:12,767 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:12,783 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:12,794 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:12,810 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:12,822 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:12,837 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:12,849 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:12,865 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:12,876 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:12,892 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:12,903 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:12,919 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:12,930 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:12,946 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:12,958 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:12,973 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:12,984 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:13,373 - INFO - integration_test - Step 55: MPC solve successful
2025-12-01 13:37:13,385 - INFO - integration_test - Step 55: Computed 10 numeric contouring constraints for visualization (s=13.328)
2025-12-01 13:37:13,385 - DEBUG - integration_test - Step 55: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:13,385 - INFO - integration_test - === Applying control at step 55 ===
2025-12-01 13:37:13,385 - INFO - integration_test -   Control dict from planner: {'a': 1.999999978770223, 'w': 0.7999999786952074}
2025-12-01 13:37:13,385 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:13,385 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:13,386 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:13,387 - INFO - integration_test - Step 55 completed in 0.724s
2025-12-01 13:37:13,409 - INFO - integration_test - Step 56 (contouring until path end)
2025-12-01 13:37:13,411 - DEBUG - integration_test - Syncing planner state at step 56: vehicle_state=[12.2483899   2.57844056 -0.54818325  2.7759683  13.60511446]
2025-12-01 13:37:13,411 - INFO - integration_test - Step 56: Re-initialized spline from 13.6051 to 13.3275 (vehicle at (12.25, 2.58), closest path point at (12.34, 4.65), distance=2.070m)
2025-12-01 13:37:13,411 - DEBUG - integration_test -   Set spline state to 13.3275
2025-12-01 13:37:13,412 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:13,426 - DEBUG - integration_test - Step 56: Checking path alignment: vehicle=(12.248, 2.578), path_start=(0.000, 0.000), dist=12.517m
2025-12-01 13:37:13,427 - WARNING - integration_test - Could not update reference path at step 56: x and y must have the same length
2025-12-01 13:37:13,427 - INFO - integration_test - === Calling planner.solve_mpc() at step 56 ===
2025-12-01 13:37:13,429 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:13,430 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:13,430 - INFO - integration_test - Warmstart k=0: x0=12.248389904537678 , y0=2.578440559242491 , psi0=-0.5481832508642895 , v0=2.7759683028566093 , spline0=13.327517632264229 , a0=0.0 , w0=0.0
2025-12-01 13:37:13,430 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:13,432 - INFO - integration_test - Dyn residual k=0: pred=[12.485311222513385, 2.433774428882616, -0.5481832508642895, 2.7759683028566093, 13.60511446254989], ws=[12.485311222513385, 2.433774428882616, -0.5481832508642897, 2.7759683028566093, 16.53667352234386], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -2.9315590597939707], res_norm=2.932e+00
2025-12-01 13:37:13,432 - INFO - integration_test - Dyn residual k=1: pred=[12.722232540489092, 2.2891082985227413, -0.5481832508642897, 2.7759683028566093, 16.81427035262952], ws=[12.722232540489092, 2.2891082985227413, -0.5481832508642897, 2.7759683028566093, 19.765684039381696], res=[0.0, 0.0, 0.0, 0.0, -2.9514136867521756], res_norm=2.951e+00
2025-12-01 13:37:13,433 - INFO - integration_test - Dyn residual k=2: pred=[12.959153858464799, 2.1444421681628665, -0.5481832508642897, 2.7759683028566093, 20.043280869667356], ws=[12.959153858464799, 2.1444421681628665, -0.5481832508642897, 2.7759683028566093, 23.133621923164362], res=[0.0, 0.0, 0.0, 0.0, -3.0903410534970064], res_norm=3.090e+00
2025-12-01 13:37:13,448 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:13,459 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:13,475 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:13,487 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:13,503 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:13,514 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:13,529 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:13,541 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:13,556 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:13,568 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:13,584 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:13,596 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:13,611 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:13,623 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:13,638 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:13,650 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:13,666 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:13,677 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:13,693 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:13,704 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:13,719 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:13,730 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:14,171 - INFO - integration_test - Step 56: MPC solve successful
2025-12-01 13:37:14,183 - INFO - integration_test - Step 56: Computed 10 numeric contouring constraints for visualization (s=13.328)
2025-12-01 13:37:14,183 - DEBUG - integration_test - Step 56: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:14,183 - INFO - integration_test - === Applying control at step 56 ===
2025-12-01 13:37:14,183 - INFO - integration_test -   Control dict from planner: {'a': 1.9999999984027224, 'w': 0.8000000017758275}
2025-12-01 13:37:14,183 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:14,183 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:14,184 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:14,185 - INFO - integration_test - Step 56 completed in 0.774s
2025-12-01 13:37:14,208 - INFO - integration_test - Step 57 (contouring until path end)
2025-12-01 13:37:14,209 - DEBUG - integration_test - Syncing planner state at step 57: vehicle_state=[12.49964098  2.43865233 -0.46818325  2.9759683  13.62511446]
2025-12-01 13:37:14,210 - INFO - integration_test - Step 57: Re-initialized spline from 13.6251 to 13.9333 (vehicle at (12.50, 2.44), closest path point at (12.98, 4.57), distance=2.183m)
2025-12-01 13:37:14,210 - DEBUG - integration_test -   Set spline state to 13.9333
2025-12-01 13:37:14,210 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:14,224 - DEBUG - integration_test - Step 57: Checking path alignment: vehicle=(12.500, 2.439), path_start=(0.000, 0.000), dist=12.735m
2025-12-01 13:37:14,225 - WARNING - integration_test - Could not update reference path at step 57: x and y must have the same length
2025-12-01 13:37:14,225 - INFO - integration_test - === Calling planner.solve_mpc() at step 57 ===
2025-12-01 13:37:14,227 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:14,229 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:14,229 - INFO - integration_test - Warmstart k=0: x0=12.499640982154073 , y0=2.4386523291259703 , psi0=-0.4681832506867068 , v0=2.9759683026968817 , spline0=13.933313888276238 , a0=0.0 , w0=0.0
2025-12-01 13:37:14,229 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:14,229 - INFO - integration_test - Dyn residual k=0: pred=[12.765213297660043, 2.304357062555017, -0.4681832506867068, 2.9759683026968817, 14.230910718545926], ws=[12.765213297660043, 2.304357062555017, -0.46818325068670674, 2.9759683026968817, 17.303721189294283], res=[0.0, 0.0, -5.551115123125783e-17, 0.0, -3.0728104707483563], res_norm=3.073e+00
2025-12-01 13:37:14,230 - INFO - integration_test - Dyn residual k=1: pred=[13.030785613166014, 2.170061795984064, -0.46818325068670674, 2.9759683026968817, 17.601318019563973], ws=[13.030785613166014, 2.170061795984064, -0.46818325068670674, 2.9759683026968817, 20.792197103457397], res=[0.0, 0.0, 0.0, 0.0, -3.1908790838934245], res_norm=3.191e+00
2025-12-01 13:37:14,231 - INFO - integration_test - Dyn residual k=2: pred=[13.296357928671984, 2.035766529413111, -0.46818325068670674, 2.9759683026968817, 21.089793933727087], ws=[13.296357928671984, 2.035766529413111, -0.46818325068670674, 2.9759683026968817, 24.334497699608917], res=[0.0, 0.0, 0.0, 0.0, -3.2447037658818303], res_norm=3.245e+00
2025-12-01 13:37:14,246 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:14,257 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:14,273 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:14,284 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:14,300 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:14,312 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:14,328 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:14,341 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:14,360 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:14,373 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:14,391 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:14,406 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:14,424 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:14,436 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:14,454 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:14,467 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:14,485 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:14,497 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:14,514 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:14,526 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:14,543 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:14,555 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:14,926 - INFO - integration_test - Step 57: MPC solve successful
2025-12-01 13:37:14,937 - INFO - integration_test - Step 57: Computed 10 numeric contouring constraints for visualization (s=13.933)
2025-12-01 13:37:14,937 - DEBUG - integration_test - Step 57: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:14,937 - INFO - integration_test - === Applying control at step 57 ===
2025-12-01 13:37:14,938 - INFO - integration_test -   Control dict from planner: {'a': 0.24031565687554268, 'w': 0.7999994490041722}
2025-12-01 13:37:14,938 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:14,938 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:14,939 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:14,939 - INFO - integration_test - Step 57 completed in 0.730s
2025-12-01 13:37:14,962 - INFO - integration_test - Step 58 (contouring until path end)
2025-12-01 13:37:14,963 - DEBUG - integration_test - Syncing planner state at step 58: vehicle_state=[12.77139852  2.31463327 -0.38818331  2.99999987 14.23331388]
2025-12-01 13:37:14,963 - INFO - integration_test - Step 58: Re-initialized spline from 14.2333 to 13.9333 (vehicle at (12.77, 2.31), closest path point at (12.98, 4.57), distance=2.263m)
2025-12-01 13:37:14,963 - DEBUG - integration_test -   Set spline state to 13.9333
2025-12-01 13:37:14,964 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:14,977 - DEBUG - integration_test - Step 58: Checking path alignment: vehicle=(12.771, 2.315), path_start=(0.000, 0.000), dist=12.979m
2025-12-01 13:37:14,978 - WARNING - integration_test - Could not update reference path at step 58: x and y must have the same length
2025-12-01 13:37:14,978 - INFO - integration_test - === Calling planner.solve_mpc() at step 58 ===
2025-12-01 13:37:14,980 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:14,981 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:14,981 - INFO - integration_test - Warmstart k=0: x0=12.771398518722512 , y0=2.314633269987257 , psi0=-0.38818330578628957 , v0=2.999999868384436 , spline0=13.933313888276238 , a0=0.0 , w0=0.0
2025-12-01 13:37:14,981 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:14,982 - INFO - integration_test - Dyn residual k=0: pred=[13.049077972329297, 2.2010810214507175, -0.38818330578628957, 2.999999868384436, 14.233313875114682], ws=[13.049077972329297, 2.2010810214507175, -0.38818330578628935, 2.999999868384436, 17.30612434586304], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, -3.072810470748358], res_norm=3.073e+00
2025-12-01 13:37:14,983 - INFO - integration_test - Dyn residual k=1: pred=[13.326757425936082, 2.087528772914178, -0.38818330578628935, 2.999999868384436, 17.606124332701484], ws=[13.326757425936082, 2.087528772914178, -0.38818330578628935, 2.999999868384436, 20.79587153573791], res=[0.0, 0.0, 0.0, 0.0, -3.1897472030364256], res_norm=3.190e+00
2025-12-01 13:37:14,984 - INFO - integration_test - Dyn residual k=2: pred=[13.604436879542867, 1.9739765243776382, -0.38818330578628935, 2.999999868384436, 21.095871522576353], ws=[13.604436879542867, 1.9739765243776382, -0.38818330578628935, 2.999999868384436, 24.335910812090642], res=[0.0, 0.0, 0.0, 0.0, -3.2400392895142893], res_norm=3.240e+00
2025-12-01 13:37:14,998 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:15,010 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:15,026 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:15,037 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:15,053 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:15,065 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:15,080 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:15,091 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:15,107 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:15,118 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:15,133 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:15,145 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:15,160 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:15,172 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:15,188 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:15,200 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:15,215 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:15,227 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:15,243 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:15,255 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:15,272 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:15,283 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:15,640 - INFO - integration_test - Step 58: MPC solve successful
2025-12-01 13:37:15,651 - INFO - integration_test - Step 58: Computed 10 numeric contouring constraints for visualization (s=13.933)
2025-12-01 13:37:15,651 - DEBUG - integration_test - Step 58: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:15,651 - INFO - integration_test - === Applying control at step 58 ===
2025-12-01 13:37:15,651 - INFO - integration_test -   Control dict from planner: {'a': 1.0772380807075252e-06, 'w': 0.8000000099215843}
2025-12-01 13:37:15,651 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:15,651 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:15,652 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:15,653 - INFO - integration_test - Step 58 completed in 0.690s
2025-12-01 13:37:15,676 - INFO - integration_test - Step 59 (contouring until path end)
2025-12-01 13:37:15,678 - DEBUG - integration_test - Syncing planner state at step 59: vehicle_state=[13.05332155  2.21230336 -0.3081833   2.99999998 14.23331389]
2025-12-01 13:37:15,678 - INFO - integration_test - Step 59: Re-initialized spline from 14.2333 to 14.5391 (vehicle at (13.05, 2.21), closest path point at (13.62, 4.48), distance=2.342m)
2025-12-01 13:37:15,678 - DEBUG - integration_test -   Set spline state to 14.5391
2025-12-01 13:37:15,679 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:15,693 - DEBUG - integration_test - Step 59: Checking path alignment: vehicle=(13.053, 2.212), path_start=(0.000, 0.000), dist=13.239m
2025-12-01 13:37:15,693 - WARNING - integration_test - Could not update reference path at step 59: x and y must have the same length
2025-12-01 13:37:15,693 - INFO - integration_test - === Calling planner.solve_mpc() at step 59 ===
2025-12-01 13:37:15,696 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:15,697 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:15,697 - INFO - integration_test - Warmstart k=0: x0=13.053321552834518 , y0=2.2123033575905855 , psi0=-0.30818330479413114 , v0=2.9999999761082443 , spline0=14.539110144288248 , a0=0.0 , w0=0.0
2025-12-01 13:37:15,697 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:15,698 - INFO - integration_test - Dyn residual k=0: pred=[13.339187409541386, 2.121304948067436, -0.30818330479413114, 2.9999999761082443, 14.839110141899072], ws=[13.339187409541386, 2.121304948067436, -0.3081833047941309, 2.9999999761082443, 18.06839309235605], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, -3.2292829504569784], res_norm=3.229e+00
2025-12-01 13:37:15,699 - INFO - integration_test - Dyn residual k=1: pred=[13.625053266248255, 2.0303065385442864, -0.3081833047941309, 2.9999999761082443, 18.368393089966876], ws=[13.625053266248255, 2.0303065385442864, -0.3081833047941309, 2.9999999761082443, 21.685465005897047], res=[0.0, 0.0, 0.0, 0.0, -3.317071915930171], res_norm=3.317e+00
2025-12-01 13:37:15,700 - INFO - integration_test - Dyn residual k=2: pred=[13.910919122955123, 1.939308129021137, -0.3081833047941309, 2.9999999761082443, 21.985465003507873], ws=[13.910919122955123, 1.939308129021137, -0.3081833047941309, 2.9999999761082443, 25.405233602521285], res=[0.0, 0.0, 0.0, 0.0, -3.4197685990134126], res_norm=3.420e+00
2025-12-01 13:37:15,715 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:15,726 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:15,742 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:15,754 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:15,771 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:15,782 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:15,798 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:15,810 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:15,826 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:15,837 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:15,854 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:15,865 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:15,881 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:15,893 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:15,909 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:15,920 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:15,937 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:15,949 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:15,964 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:15,976 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:15,992 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:16,003 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:16,333 - INFO - integration_test - Step 59: MPC solve successful
2025-12-01 13:37:16,344 - INFO - integration_test - Step 59: Computed 10 numeric contouring constraints for visualization (s=14.539)
2025-12-01 13:37:16,344 - DEBUG - integration_test - Step 59: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:16,344 - INFO - integration_test - === Applying control at step 59 ===
2025-12-01 13:37:16,344 - INFO - integration_test -   Control dict from planner: {'a': 1.6175929174397838e-07, 'w': 0.7999999297874387}
2025-12-01 13:37:16,344 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:16,344 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:16,345 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:16,346 - INFO - integration_test - Step 59 completed in 0.668s
2025-12-01 13:37:16,369 - INFO - integration_test - Step 60 (contouring until path end)
2025-12-01 13:37:16,370 - DEBUG - integration_test - Syncing planner state at step 60: vehicle_state=[13.34252058  2.13283052 -0.22818331  2.99999999 14.83911014]
2025-12-01 13:37:16,371 - INFO - integration_test - Step 60: Re-initialized spline from 14.8391 to 14.5391 (vehicle at (13.34, 2.13), closest path point at (13.62, 4.48), distance=2.368m)
2025-12-01 13:37:16,371 - DEBUG - integration_test -   Set spline state to 14.5391
2025-12-01 13:37:16,371 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:16,386 - DEBUG - integration_test - Step 60: Checking path alignment: vehicle=(13.343, 2.133), path_start=(0.000, 0.000), dist=13.512m
2025-12-01 13:37:16,386 - WARNING - integration_test - Could not update reference path at step 60: x and y must have the same length
2025-12-01 13:37:16,386 - INFO - integration_test - === Calling planner.solve_mpc() at step 60 ===
2025-12-01 13:37:16,388 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:16,390 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:16,390 - INFO - integration_test - Warmstart k=0: x0=13.342520583648104 , y0=2.132830516725712 , psi0=-0.22818331181538726 , v0=2.9999999922841734 , spline0=14.539110144288248 , a0=0.0 , w0=0.0
2025-12-01 13:37:16,390 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:16,391 - INFO - integration_test - Dyn residual k=0: pred=[13.634744268535078, 2.064968026879486, -0.22818331181538726, 2.9999999922841734, 14.839110143516665], ws=[13.634744268535078, 2.064968026879486, -0.2281833118153873, 2.9999999922841734, 18.06839309397365], res=[0.0, 0.0, 5.551115123125783e-17, 0.0, -3.2292829504569855], res_norm=3.229e+00
2025-12-01 13:37:16,391 - INFO - integration_test - Dyn residual k=1: pred=[13.926967953422052, 1.9971055370332607, -0.2281833118153873, 2.9999999922841734, 18.36839309320207], ws=[13.926967953422052, 1.9971055370332604, -0.2281833118153873, 2.9999999922841734, 21.684179717859525], res=[0.0, 2.220446049250313e-16, 0.0, 0.0, -3.3157866246574557], res_norm=3.316e+00
2025-12-01 13:37:16,392 - INFO - integration_test - Dyn residual k=2: pred=[14.219191638309026, 1.929243047187035, -0.2281833118153873, 2.9999999922841734, 21.984179717087944], ws=[14.219191638309026, 1.9292430471870348, -0.2281833118153873, 2.9999999922841734, 25.39886778784752], res=[0.0, 2.220446049250313e-16, 0.0, 0.0, -3.4146880707595777], res_norm=3.415e+00
2025-12-01 13:37:16,407 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:16,419 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:16,435 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:16,446 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:16,463 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:16,474 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:16,490 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:16,501 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:16,517 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:16,528 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:16,543 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:16,554 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:16,570 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:16,581 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:16,597 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:16,608 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:16,624 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:16,635 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:16,651 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:16,662 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:16,677 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:16,688 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:16,998 - INFO - integration_test - Step 60: MPC solve successful
2025-12-01 13:37:17,009 - INFO - integration_test - Step 60: Computed 10 numeric contouring constraints for visualization (s=14.539)
2025-12-01 13:37:17,009 - DEBUG - integration_test - Step 60: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:17,009 - INFO - integration_test - === Applying control at step 60 ===
2025-12-01 13:37:17,009 - INFO - integration_test -   Control dict from planner: {'a': 2.5040513517834433e-07, 'w': 0.8000000095114022}
2025-12-01 13:37:17,009 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:17,009 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:17,010 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:17,011 - INFO - integration_test - Step 60 completed in 0.641s
2025-12-01 13:37:17,033 - INFO - integration_test - Step 61 (contouring until path end)
2025-12-01 13:37:17,035 - DEBUG - integration_test - Syncing planner state at step 61: vehicle_state=[13.63714572  2.0767231  -0.14818331  3.00000002 14.83911015]
2025-12-01 13:37:17,035 - INFO - integration_test - Step 61: Re-initialized spline from 14.8391 to 15.1449 (vehicle at (13.64, 2.08), closest path point at (13.82, 4.46), distance=2.388m)
2025-12-01 13:37:17,035 - DEBUG - integration_test -   Set spline state to 15.1449
2025-12-01 13:37:17,036 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:17,050 - DEBUG - integration_test - Step 61: Checking path alignment: vehicle=(13.637, 2.077), path_start=(0.000, 0.000), dist=13.794m
2025-12-01 13:37:17,050 - WARNING - integration_test - Could not update reference path at step 61: x and y must have the same length
2025-12-01 13:37:17,050 - INFO - integration_test - === Calling planner.solve_mpc() at step 61 ===
2025-12-01 13:37:17,052 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:17,054 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:17,054 - INFO - integration_test - Warmstart k=0: x0=13.637145720619785 , y0=2.076723104119695 , psi0=-0.14818331086424705 , v0=3.0 , spline0=15.14490640030026 , a0=0.0 , w0=0.0
2025-12-01 13:37:17,054 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:17,054 - INFO - integration_test - Dyn residual k=0: pred=[13.933857999250462, 2.032430624963617, -0.14818331086424705, 3.0, 15.44490640030026], ws=[13.933857999250462, 2.032430624963617, -0.1481833108642472, 3.0, 18.726225860904886], res=[0.0, 0.0, 1.3877787807814457e-16, 0.0, -3.2813194606046263], res_norm=3.281e+00
2025-12-01 13:37:17,055 - INFO - integration_test - Dyn residual k=1: pred=[14.230570277881139, 1.988138145807539, -0.1481833108642472, 3.0, 19.026225860904887], ws=[14.230570277881139, 1.988138145807539, -0.1481833108642472, 3.0, 22.53521090801718], res=[0.0, 0.0, 0.0, 0.0, -3.5089850471122936], res_norm=3.509e+00
2025-12-01 13:37:17,056 - INFO - integration_test - Dyn residual k=2: pred=[14.527282556511816, 1.9438456666514607, -0.1481833108642472, 3.0, 22.83521090801718], ws=[14.527282556511816, 1.9438456666514607, -0.1481833108642472, 3.0, 26.315234571034807], res=[0.0, 0.0, 0.0, 0.0, -3.480023663017626], res_norm=3.480e+00
2025-12-01 13:37:17,071 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:17,082 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:17,098 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:17,109 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:17,126 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:17,138 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:17,153 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:17,164 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:17,180 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:17,191 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:17,207 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:17,218 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:17,233 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:17,245 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:17,260 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:17,272 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:17,287 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:17,298 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:17,314 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:17,325 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:17,341 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:17,353 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:17,639 - INFO - integration_test - Step 61: MPC solve successful
2025-12-01 13:37:17,651 - INFO - integration_test - Step 61: Computed 10 numeric contouring constraints for visualization (s=15.145)
2025-12-01 13:37:17,651 - DEBUG - integration_test - Step 61: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:17,651 - INFO - integration_test - === Applying control at step 61 ===
2025-12-01 13:37:17,651 - INFO - integration_test -   Control dict from planner: {'a': 8.44916907787688e-08, 'w': 0.8000000099943401}
2025-12-01 13:37:17,651 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:17,651 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:17,653 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:17,653 - INFO - integration_test - Step 61 completed in 0.619s
2025-12-01 13:37:17,677 - INFO - integration_test - Step 62 (contouring until path end)
2025-12-01 13:37:17,678 - DEBUG - integration_test - Syncing planner state at step 62: vehicle_state=[13.93531237  2.04434002 -0.06818331  3.00000003 15.4449064 ]
2025-12-01 13:37:17,679 - INFO - integration_test - Step 62: Re-initialized spline from 15.4449 to 15.7507 (vehicle at (13.94, 2.04), closest path point at (14.46, 4.38), distance=2.391m)
2025-12-01 13:37:17,679 - DEBUG - integration_test -   Set spline state to 15.7507
2025-12-01 13:37:17,679 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:17,693 - DEBUG - integration_test - Step 62: Checking path alignment: vehicle=(13.935, 2.044), path_start=(0.000, 0.000), dist=14.084m
2025-12-01 13:37:17,694 - WARNING - integration_test - Could not update reference path at step 62: x and y must have the same length
2025-12-01 13:37:17,694 - INFO - integration_test - === Calling planner.solve_mpc() at step 62 ===
2025-12-01 13:37:17,697 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:17,698 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:17,698 - INFO - integration_test - Warmstart k=0: x0=13.935312368275156 , y0=2.044340017253575 , psi0=-0.06818330986481305 , v0=3.0 , spline0=15.750702656312269 , a0=0.0 , w0=0.0
2025-12-01 13:37:17,698 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:17,699 - INFO - integration_test - Dyn residual k=0: pred=[14.234615293832475, 2.0239008696972234, -0.06818330986481305, 3.0, 16.050702656312268], ws=[14.234615293832475, 2.0239008696972234, -0.06818330986481325, 3.0, 19.509161161280097], res=[0.0, 0.0, 1.942890293094024e-16, 0.0, -3.4584585049678296], res_norm=3.458e+00
2025-12-01 13:37:17,700 - INFO - integration_test - Dyn residual k=1: pred=[14.533918219389793, 2.0034617221408713, -0.06818330986481325, 3.0, 19.809161161280098], ws=[14.533918219389793, 2.0034617221408713, -0.06818330986481325, 3.0, 23.552919443713144], res=[0.0, 0.0, 0.0, 0.0, -3.7437582824330455], res_norm=3.744e+00
2025-12-01 13:37:17,701 - INFO - integration_test - Dyn residual k=2: pred=[14.833221144947112, 1.9830225745845194, -0.06818330986481325, 3.0, 23.852919443713144], ws=[14.833221144947112, 1.9830225745845194, -0.06818330986481325, 3.0, 27.479126173429947], res=[0.0, 0.0, 0.0, 0.0, -3.6262067297168024], res_norm=3.626e+00
2025-12-01 13:37:17,715 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:17,727 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:17,743 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:17,756 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:17,773 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:17,786 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:17,803 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:17,815 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:17,833 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:17,846 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:17,863 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:17,876 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:17,891 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:17,902 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:17,918 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:17,929 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:17,946 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:17,957 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:17,973 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:17,985 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:18,000 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:18,012 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:18,285 - INFO - integration_test - Step 62: MPC solve successful
2025-12-01 13:37:18,296 - INFO - integration_test - Step 62: Computed 10 numeric contouring constraints for visualization (s=15.751)
2025-12-01 13:37:18,296 - DEBUG - integration_test - Step 62: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:18,297 - INFO - integration_test - === Applying control at step 62 ===
2025-12-01 13:37:18,297 - INFO - integration_test -   Control dict from planner: {'a': -5.003175203505735e-09, 'w': 0.7999999912288007}
2025-12-01 13:37:18,297 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:18,297 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:18,298 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:18,299 - INFO - integration_test - Step 62 completed in 0.621s
2025-12-01 13:37:18,322 - INFO - integration_test - Step 63 (contouring until path end)
2025-12-01 13:37:18,323 - DEBUG - integration_test - Syncing planner state at step 63: vehicle_state=[1.42351133e+01 2.03588840e+00 1.18166893e-02 3.00000003e+00
 1.60507027e+01]
2025-12-01 13:37:18,323 - INFO - integration_test - Step 63: Re-initialized spline from 16.0507 to 15.7507 (vehicle at (14.24, 2.04), closest path point at (14.46, 4.38), distance=2.352m)
2025-12-01 13:37:18,323 - DEBUG - integration_test -   Set spline state to 15.7507
2025-12-01 13:37:18,324 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:18,338 - DEBUG - integration_test - Step 63: Checking path alignment: vehicle=(14.235, 2.036), path_start=(0.000, 0.000), dist=14.380m
2025-12-01 13:37:18,338 - WARNING - integration_test - Could not update reference path at step 63: x and y must have the same length
2025-12-01 13:37:18,338 - INFO - integration_test - === Calling planner.solve_mpc() at step 63 ===
2025-12-01 13:37:18,340 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:18,342 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:18,342 - INFO - integration_test - Warmstart k=0: x0=14.235113276298522 , y0=2.035888397410344 , psi0=0.011816689258067017 , v0=3.0 , spline0=15.750702656312269 , a0=0.0 , w0=0.0
2025-12-01 13:37:18,342 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:18,343 - INFO - integration_test - Dyn residual k=0: pred=[14.535092331420488, 2.039433321687675, 0.011816689258067017, 3.0, 16.050702656312268], ws=[14.535092331420488, 2.039433321687675, 0.011816689258067115, 3.0, 19.509161161280097], res=[0.0, 0.0, -9.71445146547012e-17, 0.0, -3.4584585049678296], res_norm=3.458e+00
2025-12-01 13:37:18,343 - INFO - integration_test - Dyn residual k=1: pred=[14.835071386542454, 2.042978245965006, 0.011816689258067115, 3.0, 19.809161161280098], ws=[14.835071386542454, 2.042978245965006, 0.011816689258067115, 3.0, 23.552047358506954], res=[0.0, 0.0, 0.0, 0.0, -3.7428861972268557], res_norm=3.743e+00
2025-12-01 13:37:18,344 - INFO - integration_test - Dyn residual k=2: pred=[15.13505044166442, 2.0465231702423368, 0.011816689258067115, 3.0, 23.852047358506955], ws=[15.13505044166442, 2.0465231702423368, 0.011816689258067115, 3.0, 27.474039168015725], res=[0.0, 0.0, 0.0, 0.0, -3.6219918095087706], res_norm=3.622e+00
2025-12-01 13:37:18,359 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:18,371 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:18,387 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:18,398 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:18,414 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:18,426 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:18,442 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:18,453 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:18,469 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:18,480 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:18,497 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:18,509 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:18,524 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:18,536 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:18,551 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:18,564 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:18,580 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:18,592 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:18,608 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:18,619 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:18,635 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:18,647 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:18,944 - INFO - integration_test - Step 63: MPC solve successful
2025-12-01 13:37:18,956 - INFO - integration_test - Step 63: Computed 10 numeric contouring constraints for visualization (s=15.751)
2025-12-01 13:37:18,956 - DEBUG - integration_test - Step 63: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:18,956 - INFO - integration_test - === Applying control at step 63 ===
2025-12-01 13:37:18,956 - INFO - integration_test -   Control dict from planner: {'a': 3.129833568547695e-08, 'w': 0.8000000098588966}
2025-12-01 13:37:18,957 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:18,957 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:18,958 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:18,958 - INFO - integration_test - Step 63 completed in 0.635s
2025-12-01 13:37:18,981 - INFO - integration_test - Step 64 (contouring until path end)
2025-12-01 13:37:18,982 - DEBUG - integration_test - Syncing planner state at step 64: vehicle_state=[14.53463074  2.05142231  0.09181669  3.00000003 16.05070266]
2025-12-01 13:37:18,983 - INFO - integration_test - Step 64: Re-initialized spline from 16.0507 to 16.3565 (vehicle at (14.53, 2.05), closest path point at (15.10, 4.31), distance=2.325m)
2025-12-01 13:37:18,983 - DEBUG - integration_test -   Set spline state to 16.3565
2025-12-01 13:37:18,984 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:18,998 - DEBUG - integration_test - Step 64: Checking path alignment: vehicle=(14.535, 2.051), path_start=(0.000, 0.000), dist=14.679m
2025-12-01 13:37:18,998 - WARNING - integration_test - Could not update reference path at step 64: x and y must have the same length
2025-12-01 13:37:18,998 - INFO - integration_test - === Calling planner.solve_mpc() at step 64 ===
2025-12-01 13:37:19,001 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:19,002 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:19,002 - INFO - integration_test - Warmstart k=0: x0=14.534630741707177 , y0=2.051422306171278 , psi0=0.09181669024395668 , v0=3.0 , spline0=16.35649891232428 , a0=0.0 , w0=0.0
2025-12-01 13:37:19,003 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:19,003 - INFO - integration_test - Dyn residual k=0: pred=[14.833367084141916, 2.07892862742139, 0.09181669024395668, 3.0, 16.65649891232428], ws=[14.833367084141916, 2.07892862742139, 0.09181669024395678, 3.0, 20.30676171328543], res=[0.0, 0.0, -9.71445146547012e-17, 0.0, -3.6502628009611477], res_norm=3.650e+00
2025-12-01 13:37:19,004 - INFO - integration_test - Dyn residual k=1: pred=[15.132103426576654, 2.1064349486715015, 0.09181669024395678, 3.0, 20.60676171328543], ws=[15.132103426576654, 2.1064349486715015, 0.09181669024395678, 3.0, 24.467054655147994], res=[0.0, 0.0, 0.0, 0.0, -3.860292941862564], res_norm=3.860e+00
2025-12-01 13:37:19,005 - INFO - integration_test - Dyn residual k=2: pred=[15.430839769011392, 2.133941269921613, 0.09181669024395678, 3.0, 24.767054655147994], ws=[15.430839769011392, 2.133941269921613, 0.09181669024395678, 3.0, 28.463197742897318], res=[0.0, 0.0, 0.0, 0.0, -3.6961430877493235], res_norm=3.696e+00
2025-12-01 13:37:19,020 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:19,032 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:19,049 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:19,060 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:19,077 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:19,088 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:19,104 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:19,116 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:19,132 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:19,144 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:19,159 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:19,171 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:19,186 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:19,197 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:19,213 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:19,225 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:19,240 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:19,251 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:19,267 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:19,278 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:19,294 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:19,305 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:19,587 - INFO - integration_test - Step 64: MPC solve successful
2025-12-01 13:37:19,598 - INFO - integration_test - Step 64: Computed 10 numeric contouring constraints for visualization (s=16.356)
2025-12-01 13:37:19,598 - DEBUG - integration_test - Step 64: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:19,598 - INFO - integration_test - === Applying control at step 64 ===
2025-12-01 13:37:19,598 - INFO - integration_test -   Control dict from planner: {'a': -2.3096070951237666e-08, 'w': 0.7999999758392106}
2025-12-01 13:37:19,598 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:19,598 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:19,599 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:19,600 - INFO - integration_test - Step 64 completed in 0.618s
2025-12-01 13:37:19,624 - INFO - integration_test - Step 65 (contouring until path end)
2025-12-01 13:37:19,625 - DEBUG - integration_test - Syncing planner state at step 65: vehicle_state=[14.83194887  2.09084238  0.17181669  3.00000003 16.65649891]
2025-12-01 13:37:19,626 - INFO - integration_test - Step 65: Re-initialized spline from 16.6565 to 16.3565 (vehicle at (14.83, 2.09), closest path point at (15.10, 4.31), distance=2.231m)
2025-12-01 13:37:19,626 - DEBUG - integration_test -   Set spline state to 16.3565
2025-12-01 13:37:19,626 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:19,640 - DEBUG - integration_test - Step 65: Checking path alignment: vehicle=(14.832, 2.091), path_start=(0.000, 0.000), dist=14.979m
2025-12-01 13:37:19,640 - WARNING - integration_test - Could not update reference path at step 65: x and y must have the same length
2025-12-01 13:37:19,640 - INFO - integration_test - === Calling planner.solve_mpc() at step 65 ===
2025-12-01 13:37:19,643 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:19,644 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:19,644 - INFO - integration_test - Warmstart k=0: x0=14.83194887480524 , y0=2.09084237930636 , psi0=0.17181668782787773 , v0=3.0 , spline0=16.35649891232428 , a0=0.0 , w0=0.0
2025-12-01 13:37:19,644 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:19,645 - INFO - integration_test - Dyn residual k=0: pred=[15.127531611557796, 2.1421341499315703, 0.17181668782787773, 3.0, 16.65649891232428], ws=[15.127531611557796, 2.1421341499315703, 0.17181668782787796, 3.0, 20.306761713285425], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, -3.650262800961144], res_norm=3.650e+00
2025-12-01 13:37:19,646 - INFO - integration_test - Dyn residual k=1: pred=[15.423114348310351, 2.1934259205567805, 0.17181668782787796, 3.0, 20.606761713285426], ws=[15.423114348310351, 2.1934259205567805, 0.17181668782787796, 3.0, 24.46669533305291], res=[0.0, 0.0, 0.0, 0.0, -3.859933619767485], res_norm=3.860e+00
2025-12-01 13:37:19,646 - INFO - integration_test - Dyn residual k=2: pred=[15.718697085062907, 2.244717691181991, 0.17181668782787796, 3.0, 24.766695333052912], ws=[15.718697085062907, 2.244717691181991, 0.17181668782787796, 3.0, 28.459674856430883], res=[0.0, 0.0, 0.0, 0.0, -3.6929795233779714], res_norm=3.693e+00
2025-12-01 13:37:19,661 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:19,673 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:19,689 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:19,700 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:19,716 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:19,728 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:19,743 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:19,754 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:19,770 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:19,781 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:19,797 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:19,808 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:19,824 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:19,836 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:19,852 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:19,864 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:19,879 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:19,891 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:19,906 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:19,918 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:19,933 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:19,945 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:20,218 - INFO - integration_test - Step 65: MPC solve successful
2025-12-01 13:37:20,229 - INFO - integration_test - Step 65: Computed 10 numeric contouring constraints for visualization (s=16.356)
2025-12-01 13:37:20,230 - DEBUG - integration_test - Step 65: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:20,230 - INFO - integration_test - === Applying control at step 65 ===
2025-12-01 13:37:20,230 - INFO - integration_test -   Control dict from planner: {'a': 2.3879434182421976e-08, 'w': 0.8000000071954861}
2025-12-01 13:37:20,230 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:20,230 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:20,231 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:20,231 - INFO - integration_test - Step 65 completed in 0.606s
2025-12-01 13:37:20,255 - INFO - integration_test - Step 66 (contouring until path end)
2025-12-01 13:37:20,257 - DEBUG - integration_test - Syncing planner state at step 66: vehicle_state=[15.12516585  2.15389646  0.25181669  3.00000003 16.65649892]
2025-12-01 13:37:20,257 - INFO - integration_test - Step 66: Re-initialized spline from 16.6565 to 16.3565 (vehicle at (15.13, 2.15), closest path point at (15.10, 4.31), distance=2.151m)
2025-12-01 13:37:20,257 - DEBUG - integration_test -   Set spline state to 16.3565
2025-12-01 13:37:20,258 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:20,272 - DEBUG - integration_test - Step 66: Checking path alignment: vehicle=(15.125, 2.154), path_start=(0.000, 0.000), dist=15.278m
2025-12-01 13:37:20,272 - WARNING - integration_test - Could not update reference path at step 66: x and y must have the same length
2025-12-01 13:37:20,272 - INFO - integration_test - === Calling planner.solve_mpc() at step 66 ===
2025-12-01 13:37:20,275 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:20,276 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:20,276 - INFO - integration_test - Warmstart k=0: x0=15.125165854161793 , y0=2.153896462841841 , psi0=0.25181668854742634 , v0=3.0 , spline0=16.35649891232428 , a0=0.0 , w0=0.0
2025-12-01 13:37:20,276 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:20,277 - INFO - integration_test - Dyn residual k=0: pred=[15.415704264303903, 2.2286455914795407, 0.25181668854742634, 3.0, 16.65649891232428], ws=[15.415704264303903, 2.2286455914795407, 0.25181668854742645, 3.0, 20.30676171328543], res=[0.0, 0.0, -1.1102230246251565e-16, 0.0, -3.6502628009611477], res_norm=3.650e+00
2025-12-01 13:37:20,278 - INFO - integration_test - Dyn residual k=1: pred=[15.706242674446013, 2.3033947201172404, 0.25181668854742645, 3.0, 20.60676171328543], ws=[15.706242674446013, 2.3033947201172404, 0.25181668854742645, 3.0, 24.466719571822182], res=[0.0, 0.0, 0.0, 0.0, -3.8599578585367524], res_norm=3.860e+00
2025-12-01 13:37:20,278 - INFO - integration_test - Dyn residual k=2: pred=[15.996781084588124, 2.3781438487549402, 0.25181668854742645, 3.0, 24.766719571822183], ws=[15.996781084588124, 2.3781438487549402, 0.25181668854742645, 3.0, 28.457274108578186], res=[0.0, 0.0, 0.0, 0.0, -3.6905545367560038], res_norm=3.691e+00
2025-12-01 13:37:20,293 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:20,305 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:20,321 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:20,333 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:20,349 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:20,360 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:20,376 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:20,387 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:20,403 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:20,414 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:20,430 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:20,441 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:20,457 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:20,468 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:20,484 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:20,496 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:20,511 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:20,523 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:20,538 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:20,550 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:20,566 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:20,577 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:20,887 - INFO - integration_test - Step 66: MPC solve successful
2025-12-01 13:37:20,898 - INFO - integration_test - Step 66: Computed 10 numeric contouring constraints for visualization (s=16.356)
2025-12-01 13:37:20,898 - DEBUG - integration_test - Step 66: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:20,898 - INFO - integration_test - === Applying control at step 66 ===
2025-12-01 13:37:20,898 - INFO - integration_test -   Control dict from planner: {'a': -2.382927247022828e-06, 'w': 0.7999956232162144}
2025-12-01 13:37:20,898 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:20,898 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:20,899 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:20,900 - INFO - integration_test - Step 66 completed in 0.643s
2025-12-01 13:37:20,922 - INFO - integration_test - Step 67 (contouring until path end)
2025-12-01 13:37:20,924 - DEBUG - integration_test - Syncing planner state at step 67: vehicle_state=[15.4124061   2.24018116  0.33181625  2.99999979 16.65649889]
2025-12-01 13:37:20,925 - INFO - integration_test - Step 67: Re-initialized spline from 16.6565 to 16.9623 (vehicle at (15.41, 2.24), closest path point at (15.75, 4.25), distance=2.038m)
2025-12-01 13:37:20,925 - DEBUG - integration_test -   Set spline state to 16.9623
2025-12-01 13:37:20,925 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:20,939 - DEBUG - integration_test - Step 67: Checking path alignment: vehicle=(15.412, 2.240), path_start=(0.000, 0.000), dist=15.574m
2025-12-01 13:37:20,939 - WARNING - integration_test - Could not update reference path at step 67: x and y must have the same length
2025-12-01 13:37:20,939 - INFO - integration_test - === Calling planner.solve_mpc() at step 67 ===
2025-12-01 13:37:20,942 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:20,943 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:20,943 - INFO - integration_test - Warmstart k=0: x0=15.41240610015559 , y0=2.2401811600211747 , psi0=0.33181625086904776 , v0=2.999999790188984 , spline0=16.96229516833629 , a0=0.0 , w0=0.0
2025-12-01 13:37:20,943 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:20,944 - INFO - integration_test - Dyn residual k=0: pred=[15.696041752329078, 2.337909376148654, 0.33181625086904776, 2.999999790188984, 17.26229514735519], ws=[15.696041752329078, 2.337909376148654, 0.33181625086904765, 2.999999790188984, 21.116561046997244], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -3.854265899642055], res_norm=3.854e+00
2025-12-01 13:37:20,945 - INFO - integration_test - Dyn residual k=1: pred=[15.979677404502567, 2.4356375922761324, 0.33181625086904765, 2.999999790188984, 21.416561026016144], ws=[15.979677404502567, 2.435637592276133, 0.33181625086904765, 2.999999790188984, 25.464769421709114], res=[0.0, -4.440892098500626e-16, 0.0, 0.0, -4.048208395692971], res_norm=4.048e+00
2025-12-01 13:37:20,945 - INFO - integration_test - Dyn residual k=2: pred=[16.263313056676054, 2.5333658084036115, 0.33181625086904765, 2.999999790188984, 25.764769400728014], ws=[16.263313056676054, 2.5333658084036115, 0.33181625086904765, 2.999999790188984, 29.585074815897553], res=[0.0, 0.0, 0.0, 0.0, -3.820305415169539], res_norm=3.820e+00
2025-12-01 13:37:20,960 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:20,972 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:20,990 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:21,001 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:21,017 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:21,029 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:21,046 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:21,057 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:21,073 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:21,084 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:21,100 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:21,112 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:21,127 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:21,139 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:21,155 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:21,166 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:21,182 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:21,194 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:21,210 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:21,222 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:21,238 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:21,249 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:21,538 - INFO - integration_test - Step 67: MPC solve successful
2025-12-01 13:37:21,549 - INFO - integration_test - Step 67: Computed 10 numeric contouring constraints for visualization (s=16.962)
2025-12-01 13:37:21,549 - DEBUG - integration_test - Step 67: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:21,549 - INFO - integration_test - === Applying control at step 67 ===
2025-12-01 13:37:21,549 - INFO - integration_test -   Control dict from planner: {'a': 1.5981255104104425e-06, 'w': 0.800000007855709}
2025-12-01 13:37:21,549 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:21,549 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:21,550 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:21,551 - INFO - integration_test - Step 67 completed in 0.627s
2025-12-01 13:37:21,573 - INFO - integration_test - Step 68 (contouring until path end)
2025-12-01 13:37:21,576 - DEBUG - integration_test - Syncing planner state at step 68: vehicle_state=[15.69183227  2.34914455  0.41181625  2.99999995 17.26229516]
2025-12-01 13:37:21,576 - INFO - integration_test - Step 68: Re-initialized spline from 17.2623 to 16.9623 (vehicle at (15.69, 2.35), closest path point at (15.75, 4.25), distance=1.902m)
2025-12-01 13:37:21,576 - DEBUG - integration_test -   Set spline state to 16.9623
2025-12-01 13:37:21,577 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:21,590 - DEBUG - integration_test - Step 68: Checking path alignment: vehicle=(15.692, 2.349), path_start=(0.000, 0.000), dist=15.867m
2025-12-01 13:37:21,591 - WARNING - integration_test - Could not update reference path at step 68: x and y must have the same length
2025-12-01 13:37:21,591 - INFO - integration_test - === Calling planner.solve_mpc() at step 68 ===
2025-12-01 13:37:21,594 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:21,595 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:21,595 - INFO - integration_test - Warmstart k=0: x0=15.69183227154626 , y0=2.349144547215371 , psi0=0.41181625165461866 , v0=2.999999950001535 , spline0=16.96229516833629 , a0=0.0 , w0=0.0
2025-12-01 13:37:21,595 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:21,596 - INFO - integration_test - Dyn residual k=0: pred=[15.966750867667884, 2.4692268627601996, 0.41181625165461866, 2.999999950001535, 17.262295163336443], ws=[15.966750867667884, 2.4692268627601996, 0.4118162516546189, 2.999999950001535, 21.116561062978498], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, -3.854265899642055], res_norm=3.854e+00
2025-12-01 13:37:21,597 - INFO - integration_test - Dyn residual k=1: pred=[16.241669463789506, 2.589309178305028, 0.4118162516546189, 2.999999950001535, 21.41656105797865], ws=[16.241669463789506, 2.589309178305028, 0.4118162516546189, 2.999999950001535, 25.465100295821667], res=[0.0, 0.0, 0.0, 0.0, -4.048539237843016], res_norm=4.049e+00
2025-12-01 13:37:21,597 - INFO - integration_test - Dyn residual k=2: pred=[16.51658805991113, 2.7093914938498567, 0.4118162516546189, 2.999999950001535, 25.76510029082182], ws=[16.51658805991113, 2.7093914938498567, 0.4118162516546189, 2.999999950001535, 29.583919001748193], res=[0.0, 0.0, 0.0, 0.0, -3.8188187109263723], res_norm=3.819e+00
2025-12-01 13:37:21,612 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:21,624 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:21,640 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:21,652 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:21,668 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:21,679 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:21,695 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:21,707 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:21,723 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:21,734 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:21,750 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:21,761 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:21,777 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:21,788 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:21,804 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:21,816 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:21,833 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:21,844 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:21,860 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:21,872 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:21,888 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:21,900 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:22,186 - INFO - integration_test - Step 68: MPC solve successful
2025-12-01 13:37:22,198 - INFO - integration_test - Step 68: Computed 10 numeric contouring constraints for visualization (s=16.962)
2025-12-01 13:37:22,199 - DEBUG - integration_test - Step 68: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:22,199 - INFO - integration_test - === Applying control at step 68 ===
2025-12-01 13:37:22,199 - INFO - integration_test -   Control dict from planner: {'a': 5.085295170291729e-07, 'w': 0.7999998718398922}
2025-12-01 13:37:22,199 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:22,199 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:22,200 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:22,200 - INFO - integration_test - Step 68 completed in 0.625s
2025-12-01 13:37:22,224 - INFO - integration_test - Step 69 (contouring until path end)
2025-12-01 13:37:22,225 - DEBUG - integration_test - Syncing planner state at step 69: vehicle_state=[15.96165699  2.4800897   0.49181624  3.         17.26229517]
2025-12-01 13:37:22,226 - INFO - integration_test - Step 69: Re-initialized spline from 17.2623 to 16.9623 (vehicle at (15.96, 2.48), closest path point at (15.75, 4.25), distance=1.782m)
2025-12-01 13:37:22,226 - DEBUG - integration_test -   Set spline state to 16.9623
2025-12-01 13:37:22,226 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:22,241 - DEBUG - integration_test - Step 69: Checking path alignment: vehicle=(15.962, 2.480), path_start=(0.000, 0.000), dist=16.153m
2025-12-01 13:37:22,241 - WARNING - integration_test - Could not update reference path at step 69: x and y must have the same length
2025-12-01 13:37:22,241 - INFO - integration_test - === Calling planner.solve_mpc() at step 69 ===
2025-12-01 13:37:22,244 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:22,246 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:22,246 - INFO - integration_test - Warmstart k=0: x0=15.961656990550253 , y0=2.480089697389812 , psi0=0.49181623883860787 , v0=3.0 , spline0=16.96229516833629 , a0=0.0 , w0=0.0
2025-12-01 13:37:22,246 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:22,247 - INFO - integration_test - Dyn residual k=0: pred=[16.226099980983605, 2.6217579888691223, 0.49181623883860787, 3.0, 17.26229516833629], ws=[16.226099980983605, 2.6217579888691223, 0.49181623883860803, 3.0, 21.116561067978346], res=[0.0, 0.0, -1.6653345369377348e-16, 0.0, -3.854265899642055], res_norm=3.854e+00
2025-12-01 13:37:22,247 - INFO - integration_test - Dyn residual k=1: pred=[16.490542971416957, 2.7634262803484324, 0.49181623883860803, 3.0, 21.416561067978346], ws=[16.490542971416957, 2.7634262803484324, 0.49181623883860803, 3.0, 25.465812664359365], res=[0.0, 0.0, 0.0, 0.0, -4.049251596381019], res_norm=4.049e+00
2025-12-01 13:37:22,248 - INFO - integration_test - Dyn residual k=2: pred=[16.75498596185031, 2.9050945718277426, 0.49181623883860803, 3.0, 25.765812664359366], ws=[16.75498596185031, 2.9050945718277426, 0.49181623883860803, 3.0, 29.583913675064533], res=[0.0, 0.0, 0.0, 0.0, -3.818101010705167], res_norm=3.818e+00
2025-12-01 13:37:22,263 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:22,275 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:22,291 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:22,303 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:22,319 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:22,330 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:22,347 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:22,359 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:22,375 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:22,387 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:22,402 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:22,413 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:22,429 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:22,441 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:22,456 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:22,468 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:22,483 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:22,495 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:22,510 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:22,522 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:22,537 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:22,549 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:22,828 - INFO - integration_test - Step 69: MPC solve successful
2025-12-01 13:37:22,840 - INFO - integration_test - Step 69: Computed 10 numeric contouring constraints for visualization (s=16.962)
2025-12-01 13:37:22,840 - DEBUG - integration_test - Step 69: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:22,840 - INFO - integration_test - === Applying control at step 69 ===
2025-12-01 13:37:22,840 - INFO - integration_test -   Control dict from planner: {'a': -2.389169771508552e-07, 'w': 0.7999967930815632}
2025-12-01 13:37:22,840 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:22,840 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:22,841 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:22,842 - INFO - integration_test - Step 69 completed in 0.618s
2025-12-01 13:37:22,866 - INFO - integration_test - Step 70 (contouring until path end)
2025-12-01 13:37:22,867 - DEBUG - integration_test - Syncing planner state at step 70: vehicle_state=[16.22015432  2.63217896  0.57181592  2.99999998 17.26229517]
2025-12-01 13:37:22,868 - INFO - integration_test - Step 70: Re-initialized spline from 17.2623 to 17.5681 (vehicle at (16.22, 2.63), closest path point at (16.40, 4.22), distance=1.595m)
2025-12-01 13:37:22,868 - DEBUG - integration_test -   Set spline state to 17.5681
2025-12-01 13:37:22,868 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:22,882 - DEBUG - integration_test - Step 70: Checking path alignment: vehicle=(16.220, 2.632), path_start=(0.000, 0.000), dist=16.432m
2025-12-01 13:37:22,883 - WARNING - integration_test - Could not update reference path at step 70: x and y must have the same length
2025-12-01 13:37:22,883 - INFO - integration_test - === Calling planner.solve_mpc() at step 70 ===
2025-12-01 13:37:22,885 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:22,886 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:22,886 - INFO - integration_test - Warmstart k=0: x0=16.220154316332003 , y0=2.6321789642074744 , psi0=0.5718159181467641 , v0=2.999999976962789 , spline0=17.5680914243483 , a0=0.0 , w0=0.0
2025-12-01 13:37:22,886 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:22,887 - INFO - integration_test - Dyn residual k=0: pred=[16.472430212383475, 2.7945269573863056, 0.5718159181467641, 2.999999976962789, 17.86809142204458], ws=[16.472430212383475, 2.7945269573863056, 0.5718159181467639, 2.999999976962789, 21.93442388175178], res=[0.0, 0.0, 2.220446049250313e-16, 0.0, -4.066332459707201], res_norm=4.066e+00
2025-12-01 13:37:22,888 - INFO - integration_test - Dyn residual k=1: pred=[16.724706108434948, 2.956874950565137, 0.5718159181467639, 2.999999976962789, 22.23442387944806], ws=[16.724706108434948, 2.956874950565137, 0.5718159181467639, 2.999999976962789, 26.375305644669538], res=[0.0, 0.0, 0.0, 0.0, -4.140881765221479], res_norm=4.141e+00
2025-12-01 13:37:22,889 - INFO - integration_test - Dyn residual k=2: pred=[16.97698200448642, 3.119222943743968, 0.5718159181467639, 2.999999976962789, 26.675305642365817], ws=[16.97698200448642, 3.119222943743968, 0.5718159181467639, 2.999999976962789, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -3.008710902222692], res_norm=3.009e+00
2025-12-01 13:37:22,904 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:22,915 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:22,931 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:22,944 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:22,961 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:22,972 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:22,988 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:23,000 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:23,015 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:23,027 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:23,043 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:23,054 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:23,070 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:23,082 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:23,097 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:23,109 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:23,125 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:23,136 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:23,152 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:23,164 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:23,180 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:23,192 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:23,480 - INFO - integration_test - Step 70: MPC solve successful
2025-12-01 13:37:23,492 - INFO - integration_test - Step 70: Computed 10 numeric contouring constraints for visualization (s=17.568)
2025-12-01 13:37:23,492 - DEBUG - integration_test - Step 70: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:23,492 - INFO - integration_test - === Applying control at step 70 ===
2025-12-01 13:37:23,492 - INFO - integration_test -   Control dict from planner: {'a': 3.5086954202101134e-07, 'w': 0.799999938423466}
2025-12-01 13:37:23,492 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:23,492 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:23,493 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:23,494 - INFO - integration_test - Step 70 completed in 0.627s
2025-12-01 13:37:23,519 - INFO - integration_test - Step 71 (contouring until path end)
2025-12-01 13:37:23,520 - DEBUG - integration_test - Syncing planner state at step 71: vehicle_state=[16.46567075  2.8044395   0.65181591  3.00000001 17.86809143]
2025-12-01 13:37:23,521 - INFO - integration_test - Step 71: Re-initialized spline from 17.8681 to 17.5681 (vehicle at (16.47, 2.80), closest path point at (16.40, 4.22), distance=1.414m)
2025-12-01 13:37:23,521 - DEBUG - integration_test -   Set spline state to 17.5681
2025-12-01 13:37:23,521 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:23,536 - DEBUG - integration_test - Step 71: Checking path alignment: vehicle=(16.466, 2.804), path_start=(0.000, 0.000), dist=16.703m
2025-12-01 13:37:23,536 - WARNING - integration_test - Could not update reference path at step 71: x and y must have the same length
2025-12-01 13:37:23,536 - INFO - integration_test - === Calling planner.solve_mpc() at step 71 ===
2025-12-01 13:37:23,538 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:23,540 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:23,540 - INFO - integration_test - Warmstart k=0: x0=16.465670752604527 , y0=2.804439499432257 , psi0=0.6518159119891107 , v0=3.0 , spline0=17.5680914243483 , a0=0.0 , w0=0.0
2025-12-01 13:37:23,540 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:23,541 - INFO - integration_test - Dyn residual k=0: pred=[16.70416580900831, 2.986428807005413, 0.6518159119891107, 3.0, 17.8680914243483], ws=[16.70416580900831, 2.986428807005413, 0.6518159119891109, 3.0, 21.9344238840555], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, -4.066332459707201], res_norm=4.066e+00
2025-12-01 13:37:23,542 - INFO - integration_test - Dyn residual k=1: pred=[16.94266086541209, 3.168418114578569, 0.6518159119891109, 3.0, 22.234423884055502], ws=[16.94266086541209, 3.168418114578569, 0.6518159119891109, 3.0, 26.37652836896952], res=[0.0, 0.0, 0.0, 0.0, -4.142104484914018], res_norm=4.142e+00
2025-12-01 13:37:23,542 - INFO - integration_test - Dyn residual k=2: pred=[17.181155921815872, 3.350407422151725, 0.6518159119891109, 3.0, 26.67652836896952], ws=[17.181155921815872, 3.350407422151725, 0.6518159119891109, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -3.007488175618988], res_norm=3.007e+00
2025-12-01 13:37:23,564 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:23,576 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:23,592 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:23,603 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:23,619 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:23,632 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:23,649 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:23,661 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:23,678 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:23,689 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:23,705 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:23,717 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:23,733 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:23,744 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:23,761 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:23,772 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:23,787 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:23,799 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:23,815 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:23,826 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:23,843 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:23,855 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:24,130 - INFO - integration_test - Step 71: MPC solve successful
2025-12-01 13:37:24,143 - INFO - integration_test - Step 71: Computed 10 numeric contouring constraints for visualization (s=17.568)
2025-12-01 13:37:24,144 - DEBUG - integration_test - Step 71: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:24,144 - INFO - integration_test - === Applying control at step 71 ===
2025-12-01 13:37:24,144 - INFO - integration_test -   Control dict from planner: {'a': 1.0672650670866433e-07, 'w': 0.7999995374456795}
2025-12-01 13:37:24,144 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:24,144 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:24,146 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:24,146 - INFO - integration_test - Step 71 completed in 0.626s
2025-12-01 13:37:24,175 - INFO - integration_test - Step 72 (contouring until path end)
2025-12-01 13:37:24,176 - DEBUG - integration_test - Syncing planner state at step 72: vehicle_state=[16.69663581  2.99576946  0.73181587  3.00000002 17.86809143]
2025-12-01 13:37:24,176 - INFO - integration_test - Step 72: Re-initialized spline from 17.8681 to 17.5681 (vehicle at (16.70, 3.00), closest path point at (16.40, 4.22), distance=1.257m)
2025-12-01 13:37:24,176 - DEBUG - integration_test -   Set spline state to 17.5681
2025-12-01 13:37:24,177 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:24,192 - DEBUG - integration_test - Step 72: Checking path alignment: vehicle=(16.697, 2.996), path_start=(0.000, 0.000), dist=16.963m
2025-12-01 13:37:24,192 - WARNING - integration_test - Could not update reference path at step 72: x and y must have the same length
2025-12-01 13:37:24,192 - INFO - integration_test - === Calling planner.solve_mpc() at step 72 ===
2025-12-01 13:37:24,195 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:24,196 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:24,196 - INFO - integration_test - Warmstart k=0: x0=16.69663581409856 , y0=2.99576946118706 , psi0=0.7318158657336786 , v0=3.0 , spline0=17.5680914243483 , a0=0.0 , w0=0.0
2025-12-01 13:37:24,196 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:24,199 - INFO - integration_test - Dyn residual k=0: pred=[16.919824482718884, 3.1962359626267944, 0.7318158657336786, 3.0, 17.8680914243483], ws=[16.919824482718884, 3.1962359626267944, 0.7318158657336786, 3.0, 21.9344238840555], res=[0.0, 0.0, 0.0, 0.0, -4.066332459707201], res_norm=4.066e+00
2025-12-01 13:37:24,200 - INFO - integration_test - Dyn residual k=1: pred=[17.143013151339208, 3.396702464066529, 0.7318158657336786, 3.0, 22.234423884055502], ws=[17.143013151339208, 3.396702464066529, 0.7318158657336786, 3.0, 26.378118007581367], res=[0.0, 0.0, 0.0, 0.0, -4.143694123525865], res_norm=4.144e+00
2025-12-01 13:37:24,201 - INFO - integration_test - Dyn residual k=2: pred=[17.36620181995953, 3.5971689655062637, 0.7318158657336786, 3.0, 26.678118007581368], ws=[17.36620181995953, 3.5971689655062637, 0.7318158657336786, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -3.005898537007141], res_norm=3.006e+00
2025-12-01 13:37:24,217 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:24,231 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:24,251 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:24,266 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:24,286 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:24,299 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:24,318 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:24,332 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:24,354 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:24,370 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:24,388 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:24,402 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:24,420 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:24,435 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:24,455 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:24,470 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:24,489 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:24,504 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:24,524 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:24,540 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:24,560 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:24,574 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:25,060 - INFO - integration_test - Step 72: MPC solve successful
2025-12-01 13:37:25,076 - INFO - integration_test - Step 72: Computed 10 numeric contouring constraints for visualization (s=17.568)
2025-12-01 13:37:25,076 - DEBUG - integration_test - Step 72: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:25,076 - INFO - integration_test - === Applying control at step 72 ===
2025-12-01 13:37:25,076 - INFO - integration_test -   Control dict from planner: {'a': 3.3215367245260194e-08, 'w': 0.7999994225521307}
2025-12-01 13:37:25,077 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:25,077 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:25,078 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:25,078 - INFO - integration_test - Step 72 completed in 0.903s
2025-12-01 13:37:25,116 - INFO - integration_test - Step 73 (contouring until path end)
2025-12-01 13:37:25,117 - DEBUG - integration_test - Syncing planner state at step 73: vehicle_state=[16.91157212  3.20494499  0.81181581  3.00000003 17.86809143]
2025-12-01 13:37:25,118 - INFO - integration_test - Step 73: Re-initialized spline from 17.8681 to 18.1739 (vehicle at (16.91, 3.20), closest path point at (17.05, 4.21), distance=1.017m)
2025-12-01 13:37:25,118 - DEBUG - integration_test -   Set spline state to 18.1739
2025-12-01 13:37:25,119 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:25,136 - DEBUG - integration_test - Step 73: Checking path alignment: vehicle=(16.912, 3.205), path_start=(0.000, 0.000), dist=17.213m
2025-12-01 13:37:25,137 - WARNING - integration_test - Could not update reference path at step 73: x and y must have the same length
2025-12-01 13:37:25,137 - INFO - integration_test - === Calling planner.solve_mpc() at step 73 ===
2025-12-01 13:37:25,140 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:25,141 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:25,141 - INFO - integration_test - Warmstart k=0: x0=16.911572117549674 , y0=3.2049449850616023 , psi0=0.8118158079888917 , v0=3.0 , spline0=18.173887680360313 , a0=0.0 , w0=0.0
2025-12-01 13:37:25,142 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:25,143 - INFO - integration_test - Dyn residual k=0: pred=[17.118026756713007, 3.422606377981748, 0.8118158079888917, 3.0, 18.473887680360313], ws=[17.118026756713007, 3.422606377981748, 0.811815807988892, 3.0, 22.75454950059166], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, -4.280661820231348], res_norm=4.281e+00
2025-12-01 13:37:25,144 - INFO - integration_test - Dyn residual k=1: pred=[17.32448139587634, 3.640267770901894, 0.811815807988892, 3.0, 23.054549500591662], ws=[17.32448139587634, 3.640267770901894, 0.811815807988892, 3.0, 27.336491490351747], res=[0.0, 0.0, 0.0, 0.0, -4.281941989760085], res_norm=4.282e+00
2025-12-01 13:37:25,145 - INFO - integration_test - Dyn residual k=2: pred=[17.530936035039673, 3.85792916382204, 0.811815807988892, 3.0, 27.636491490351748], ws=[17.530936035039673, 3.85792916382204, 0.811815807988892, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -2.047525054236761], res_norm=2.048e+00
2025-12-01 13:37:25,164 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:25,179 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:25,199 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:25,213 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:25,233 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:25,246 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:25,264 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:25,278 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:25,299 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:25,313 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:25,335 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:25,349 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:25,370 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:25,385 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:25,404 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:25,419 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:25,438 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:25,451 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:25,471 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:25,485 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:25,504 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:25,519 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:25,918 - INFO - integration_test - Step 73: MPC solve successful
2025-12-01 13:37:25,932 - INFO - integration_test - Step 73: Computed 10 numeric contouring constraints for visualization (s=18.174)
2025-12-01 13:37:25,932 - DEBUG - integration_test - Step 73: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:25,932 - INFO - integration_test - === Applying control at step 73 ===
2025-12-01 13:37:25,932 - INFO - integration_test -   Control dict from planner: {'a': -5.41160420281229e-08, 'w': -0.7246789864796781}
2025-12-01 13:37:25,932 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:25,932 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:25,934 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:25,934 - INFO - integration_test - Step 73 completed in 0.817s
2025-12-01 13:37:25,967 - INFO - integration_test - Step 74 (contouring until path end)
2025-12-01 13:37:25,969 - DEBUG - integration_test - Syncing planner state at step 74: vehicle_state=[17.12572939  3.41493853  0.73934791  3.00000002 18.47388768]
2025-12-01 13:37:25,970 - INFO - integration_test - Step 74: Re-initialized spline from 18.4739 to 18.1739 (vehicle at (17.13, 3.41), closest path point at (17.05, 4.21), distance=0.801m)
2025-12-01 13:37:25,970 - DEBUG - integration_test -   Set spline state to 18.1739
2025-12-01 13:37:25,970 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:25,986 - DEBUG - integration_test - Step 74: Checking path alignment: vehicle=(17.126, 3.415), path_start=(0.000, 0.000), dist=17.463m
2025-12-01 13:37:25,986 - WARNING - integration_test - Could not update reference path at step 74: x and y must have the same length
2025-12-01 13:37:25,986 - INFO - integration_test - === Calling planner.solve_mpc() at step 74 ===
2025-12-01 13:37:25,989 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:25,991 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:25,991 - INFO - integration_test - Warmstart k=0: x0=17.12572938612374 , y0=3.4149385262990672 , psi0=0.739347909340924 , v0=3.0 , spline0=18.173887680360313 , a0=0.0 , w0=0.0
2025-12-01 13:37:25,991 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:25,992 - INFO - integration_test - Dyn residual k=0: pred=[17.347401815685895, 3.617080392254669, 0.739347909340924, 3.0, 18.473887680360313], ws=[17.347401815685895, 3.617080392254669, 0.7393479093409239, 3.0, 22.75454950059166], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -4.280661820231348], res_norm=4.281e+00
2025-12-01 13:37:25,993 - INFO - integration_test - Dyn residual k=1: pred=[17.56907424524805, 3.8192222582102704, 0.7393479093409239, 3.0, 23.054549500591662], ws=[17.56907424524805, 3.8192222582102704, 0.7393479093409239, 3.0, 27.335039815069855], res=[0.0, 0.0, 0.0, 0.0, -4.280490314478193], res_norm=4.280e+00
2025-12-01 13:37:25,994 - INFO - integration_test - Dyn residual k=2: pred=[17.790746674810205, 4.0213641241658715, 0.7393479093409239, 3.0, 27.635039815069856], ws=[17.790746674810205, 4.0213641241658715, 0.7393479093409239, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -2.048976729518653], res_norm=2.049e+00
2025-12-01 13:37:26,012 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:26,026 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:26,044 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:26,058 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:26,077 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:26,091 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:26,109 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:26,122 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:26,141 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:26,154 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:26,173 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:26,187 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:26,205 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:26,218 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:26,238 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:26,253 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:26,274 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:26,287 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:26,305 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:26,317 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:26,334 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:26,346 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:26,668 - INFO - integration_test - Step 74: MPC solve successful
2025-12-01 13:37:26,679 - INFO - integration_test - Step 74: Computed 10 numeric contouring constraints for visualization (s=18.174)
2025-12-01 13:37:26,680 - DEBUG - integration_test - Step 74: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:26,680 - INFO - integration_test - === Applying control at step 74 ===
2025-12-01 13:37:26,680 - INFO - integration_test -   Control dict from planner: {'a': 5.9514457801382824e-08, 'w': 0.4080670884830352}
2025-12-01 13:37:26,680 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:26,680 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:26,681 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:26,681 - INFO - integration_test - Step 74 completed in 0.713s
2025-12-01 13:37:26,708 - INFO - integration_test - Step 75 (contouring until path end)
2025-12-01 13:37:26,710 - DEBUG - integration_test - Syncing planner state at step 75: vehicle_state=[17.3432165   3.62154653  0.78015462  3.00000003 18.47388768]
2025-12-01 13:37:26,710 - INFO - integration_test - Step 75: Re-initialized spline from 18.4739 to 18.1739 (vehicle at (17.34, 3.62), closest path point at (17.05, 4.21), distance=0.660m)
2025-12-01 13:37:26,710 - DEBUG - integration_test -   Set spline state to 18.1739
2025-12-01 13:37:26,711 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:26,724 - DEBUG - integration_test - Step 75: Checking path alignment: vehicle=(17.343, 3.622), path_start=(0.000, 0.000), dist=17.717m
2025-12-01 13:37:26,725 - WARNING - integration_test - Could not update reference path at step 75: x and y must have the same length
2025-12-01 13:37:26,725 - INFO - integration_test - === Calling planner.solve_mpc() at step 75 ===
2025-12-01 13:37:26,727 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:26,729 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:26,729 - INFO - integration_test - Warmstart k=0: x0=17.343216501855654 , y0=3.621546531630967 , psi0=0.7801546181892275 , v0=3.0 , spline0=18.173887680360313 , a0=0.0 , w0=0.0
2025-12-01 13:37:26,729 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:26,730 - INFO - integration_test - Dyn residual k=0: pred=[17.556457938773022, 3.8325633309181697, 0.7801546181892275, 3.0, 18.473887680360313], ws=[17.556457938773022, 3.8325633309181697, 0.7801546181892274, 3.0, 22.75454950059166], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -4.280661820231348], res_norm=4.281e+00
2025-12-01 13:37:26,730 - INFO - integration_test - Dyn residual k=1: pred=[17.76969937569039, 4.043580130205372, 0.7801546181892274, 3.0, 23.054549500591662], ws=[17.76969937569039, 4.043580130205372, 0.7801546181892274, 3.0, 27.335820743260054], res=[0.0, 0.0, 0.0, 0.0, -4.281271242668392], res_norm=4.281e+00
2025-12-01 13:37:26,731 - INFO - integration_test - Dyn residual k=2: pred=[17.982940812607758, 4.254596929492575, 0.7801546181892274, 3.0, 27.635820743260055], ws=[17.982940812607758, 4.254596929492575, 0.7801546181892274, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -2.048195801328454], res_norm=2.048e+00
2025-12-01 13:37:26,746 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:26,757 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:26,774 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:26,785 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:26,801 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:26,813 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:26,828 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:26,839 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:26,855 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:26,866 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:26,882 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:26,893 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:26,909 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:26,920 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:26,936 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:26,948 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:26,963 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:26,975 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:26,990 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:27,002 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:27,018 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:27,029 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:27,309 - INFO - integration_test - Step 75: MPC solve successful
2025-12-01 13:37:27,320 - INFO - integration_test - Step 75: Computed 10 numeric contouring constraints for visualization (s=18.174)
2025-12-01 13:37:27,320 - DEBUG - integration_test - Step 75: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:27,320 - INFO - integration_test - === Applying control at step 75 ===
2025-12-01 13:37:27,320 - INFO - integration_test -   Control dict from planner: {'a': 2.0741231112273494e-08, 'w': -0.3629553843444838}
2025-12-01 13:37:27,320 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:27,320 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:27,321 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:27,322 - INFO - integration_test - Step 75 completed in 0.613s
2025-12-01 13:37:27,346 - INFO - integration_test - Step 76 (contouring until path end)
2025-12-01 13:37:27,347 - DEBUG - integration_test - Syncing planner state at step 76: vehicle_state=[17.56024019  3.82864757  0.74385908  3.00000003 18.47388768]
2025-12-01 13:37:27,347 - DEBUG - integration_test - Step 76: Using propagated spline 18.4739 (close to path, dist=0.436m)
2025-12-01 13:37:27,347 - DEBUG - integration_test -   Set spline state to 18.4739
2025-12-01 13:37:27,348 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:27,361 - DEBUG - integration_test - Step 76: Checking path alignment: vehicle=(17.560, 3.829), path_start=(0.000, 0.000), dist=17.973m
2025-12-01 13:37:27,362 - WARNING - integration_test - Could not update reference path at step 76: x and y must have the same length
2025-12-01 13:37:27,362 - INFO - integration_test - === Calling planner.solve_mpc() at step 76 ===
2025-12-01 13:37:27,364 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:27,365 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:27,365 - INFO - integration_test - Warmstart k=0: x0=17.560240188269297 , y0=3.8286475733690164 , psi0=0.743859079754779 , v0=3.0 , spline0=18.473887683226103 , a0=0.0 , w0=0.0
2025-12-01 13:37:27,365 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:27,366 - INFO - integration_test - Dyn residual k=0: pred=[17.780998468933163, 4.031787381182093, 0.743859079754779, 3.0, 18.773887683226103], ws=[17.780998468933163, 4.031787381182093, 0.7438590797547793, 3.0, 23.085779261064275], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, -4.311891577838171], res_norm=4.312e+00
2025-12-01 13:37:27,367 - INFO - integration_test - Dyn residual k=1: pred=[18.00175674959703, 4.234927188995169, 0.7438590797547793, 3.0, 23.385779261064275], ws=[18.00175674959703, 4.234927188995169, 0.7438590797547793, 3.0, 27.68586970110845], res=[0.0, 0.0, 0.0, 0.0, -4.300090440044176], res_norm=4.300e+00
2025-12-01 13:37:27,368 - INFO - integration_test - Dyn residual k=2: pred=[18.222515030260894, 4.438066996808245, 0.7438590797547793, 3.0, 27.985869701108452], ws=[18.222515030260894, 4.438066996808245, 0.7438590797547793, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -1.6981468434800568], res_norm=1.698e+00
2025-12-01 13:37:27,383 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:27,394 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:27,410 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:27,421 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:27,437 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:27,449 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:27,464 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:27,476 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:27,491 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:27,502 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:27,518 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:27,530 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:27,545 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:27,556 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:27,572 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:27,583 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:27,598 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:27,610 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:27,625 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:27,637 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:27,652 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:27,664 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:27,985 - INFO - integration_test - Step 76: MPC solve successful
2025-12-01 13:37:27,996 - INFO - integration_test - Step 76: Computed 10 numeric contouring constraints for visualization (s=18.474)
2025-12-01 13:37:27,996 - DEBUG - integration_test - Step 76: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:27,996 - INFO - integration_test - === Applying control at step 76 ===
2025-12-01 13:37:27,996 - INFO - integration_test -   Control dict from planner: {'a': 8.816074012847643e-09, 'w': -0.5680100055672017}
2025-12-01 13:37:27,996 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:27,996 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:27,997 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:27,998 - INFO - integration_test - Step 76 completed in 0.651s
2025-12-01 13:37:28,021 - INFO - integration_test - Step 77 (contouring until path end)
2025-12-01 13:37:28,023 - DEBUG - integration_test - Syncing planner state at step 77: vehicle_state=[17.7866475   4.02541021  0.68705808  3.00000003 18.77388769]
2025-12-01 13:37:28,024 - DEBUG - integration_test - Step 77: Using propagated spline 18.7739 (close to path, dist=0.233m)
2025-12-01 13:37:28,024 - DEBUG - integration_test -   Set spline state to 18.7739
2025-12-01 13:37:28,024 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:28,039 - DEBUG - integration_test - Step 77: Checking path alignment: vehicle=(17.787, 4.025), path_start=(0.000, 0.000), dist=18.236m
2025-12-01 13:37:28,040 - WARNING - integration_test - Could not update reference path at step 77: x and y must have the same length
2025-12-01 13:37:28,040 - INFO - integration_test - === Calling planner.solve_mpc() at step 77 ===
2025-12-01 13:37:28,042 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:28,044 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:28,044 - INFO - integration_test - Warmstart k=0: x0=17.786647504907176 , y0=4.025410207826039 , psi0=0.6870580791980588 , v0=3.0 , spline0=18.773887686180053 , a0=0.0 , w0=0.0
2025-12-01 13:37:28,044 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:28,045 - INFO - integration_test - Dyn residual k=0: pred=[18.018582099931592, 4.215689853691961, 0.6870580791980588, 3.0, 19.073887686180054], ws=[18.018582099931592, 4.215689853691961, 0.6870580791980587, 3.0, 23.560836189033306], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -4.486948502853252], res_norm=4.487e+00
2025-12-01 13:37:28,046 - INFO - integration_test - Dyn residual k=1: pred=[18.25051669495601, 4.405969499557883, 0.6870580791980587, 3.0, 23.860836189033307], ws=[18.25051669495601, 4.405969499557883, 0.6870580791980587, 3.0, 28.258055126410415], res=[0.0, 0.0, 0.0, 0.0, -4.397218937377108], res_norm=4.397e+00
2025-12-01 13:37:28,047 - INFO - integration_test - Dyn residual k=2: pred=[18.482451289980425, 4.596249145423805, 0.6870580791980587, 3.0, 28.558055126410416], ws=[18.482451289980425, 4.596249145423805, 0.6870580791980587, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -1.1259614181780933], res_norm=1.126e+00
2025-12-01 13:37:28,061 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:28,073 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:28,090 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:28,101 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:28,118 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:28,129 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:28,145 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:28,157 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:28,173 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:28,185 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:28,200 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:28,212 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:28,227 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:28,239 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:28,255 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:28,266 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:28,282 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:28,294 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:28,310 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:28,321 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:28,337 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:28,349 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:28,660 - INFO - integration_test - Step 77: MPC solve successful
2025-12-01 13:37:28,671 - INFO - integration_test - Step 77: Computed 10 numeric contouring constraints for visualization (s=18.774)
2025-12-01 13:37:28,671 - DEBUG - integration_test - Step 77: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:28,671 - INFO - integration_test - === Applying control at step 77 ===
2025-12-01 13:37:28,671 - INFO - integration_test -   Control dict from planner: {'a': 1.9194074533560278e-09, 'w': -0.5235613030200098}
2025-12-01 13:37:28,671 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:28,671 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:28,673 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:28,674 - INFO - integration_test - Step 77 completed in 0.651s
2025-12-01 13:37:28,697 - INFO - integration_test - Step 78 (contouring until path end)
2025-12-01 13:37:28,699 - DEBUG - integration_test - Syncing planner state at step 78: vehicle_state=[18.02345617  4.20953272  0.63470195  3.00000003 19.07388769]
2025-12-01 13:37:28,699 - DEBUG - integration_test - Step 78: Using propagated spline 19.0739 (close to path, dist=0.326m)
2025-12-01 13:37:28,699 - DEBUG - integration_test -   Set spline state to 19.0739
2025-12-01 13:37:28,700 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:28,713 - DEBUG - integration_test - Step 78: Checking path alignment: vehicle=(18.023, 4.210), path_start=(0.000, 0.000), dist=18.509m
2025-12-01 13:37:28,714 - WARNING - integration_test - Could not update reference path at step 78: x and y must have the same length
2025-12-01 13:37:28,714 - INFO - integration_test - === Calling planner.solve_mpc() at step 78 ===
2025-12-01 13:37:28,716 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:28,718 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:28,718 - INFO - integration_test - Warmstart k=0: x0=18.02345617082619 , y0=4.209532724478637 , psi0=0.6347019488960579 , v0=3.0 , spline0=19.0738876891532 , a0=0.0 , w0=0.0
2025-12-01 13:37:28,718 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:28,718 - INFO - integration_test - Dyn residual k=0: pred=[18.265030708203625, 4.38741398512989, 0.6347019488960579, 3.0, 19.3738876891532], ws=[18.265030708203625, 4.38741398512989, 0.6347019488960579, 3.0, 23.890703426362588], res=[0.0, 0.0, 0.0, 0.0, -4.516815737209388], res_norm=4.517e+00
2025-12-01 13:37:28,719 - INFO - integration_test - Dyn residual k=1: pred=[18.50660524558106, 4.565295245781143, 0.6347019488960579, 3.0, 24.19070342636259], ws=[18.50660524558106, 4.565295245781143, 0.6347019488960579, 3.0, 28.605086661337197], res=[0.0, 0.0, 0.0, 0.0, -4.414383234974608], res_norm=4.414e+00
2025-12-01 13:37:28,720 - INFO - integration_test - Dyn residual k=2: pred=[18.748179782958495, 4.743176506432396, 0.6347019488960579, 3.0, 28.905086661337197], ws=[18.748179782958495, 4.743176506432396, 0.6347019488960579, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -0.7789298832513118], res_norm=7.789e-01
2025-12-01 13:37:28,735 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:28,746 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:28,763 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:28,774 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:28,790 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:28,802 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:28,818 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:28,829 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:28,845 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:28,857 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:28,873 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:28,884 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:28,900 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:28,911 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:28,927 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:28,938 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:28,954 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:28,966 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:28,982 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:28,994 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:29,010 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:29,021 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:29,331 - INFO - integration_test - Step 78: MPC solve successful
2025-12-01 13:37:29,342 - INFO - integration_test - Step 78: Computed 10 numeric contouring constraints for visualization (s=19.074)
2025-12-01 13:37:29,343 - DEBUG - integration_test - Step 78: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:29,343 - INFO - integration_test - === Applying control at step 78 ===
2025-12-01 13:37:29,343 - INFO - integration_test -   Control dict from planner: {'a': 1.5355945699894633e-09, 'w': -0.30407374575216556}
2025-12-01 13:37:29,343 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:29,343 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:29,344 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:29,344 - INFO - integration_test - Step 78 completed in 0.646s
2025-12-01 13:37:29,368 - INFO - integration_test - Step 79 (contouring until path end)
2025-12-01 13:37:29,369 - DEBUG - integration_test - Syncing planner state at step 79: vehicle_state=[18.26769773  4.38371404  0.60429457  3.00000003 19.37388769]
2025-12-01 13:37:29,369 - DEBUG - integration_test - Step 79: Using propagated spline 19.3739 (close to path, dist=0.107m)
2025-12-01 13:37:29,369 - DEBUG - integration_test -   Set spline state to 19.3739
2025-12-01 13:37:29,370 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:29,384 - DEBUG - integration_test - Step 79: Checking path alignment: vehicle=(18.268, 4.384), path_start=(0.000, 0.000), dist=18.786m
2025-12-01 13:37:29,384 - WARNING - integration_test - Could not update reference path at step 79: x and y must have the same length
2025-12-01 13:37:29,384 - INFO - integration_test - === Calling planner.solve_mpc() at step 79 ===
2025-12-01 13:37:29,387 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:29,388 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:29,388 - INFO - integration_test - Warmstart k=0: x0=18.267697728136202 , y0=4.383714035689316 , psi0=0.6042945743208413 , v0=3.0 , spline0=19.3738876921417 , a0=0.0 , w0=0.0
2025-12-01 13:37:29,388 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:29,389 - INFO - integration_test - Dyn residual k=0: pred=[18.514568661833426, 4.554168551896607, 0.6042945743208413, 3.0, 19.6738876921417], ws=[18.514568661833426, 4.554168551896607, 0.6042945743208414, 3.0, 24.35578091518486], res=[0.0, 0.0, -1.1102230246251565e-16, 0.0, -4.681893223043158], res_norm=4.682e+00
2025-12-01 13:37:29,390 - INFO - integration_test - Dyn residual k=1: pred=[18.76143959553065, 4.724623068103899, 0.6042945743208414, 3.0, 24.65578091518486], ws=[18.76143959553065, 4.724623068103899, 0.6042945743208414, 3.0, 29.115462917877984], res=[0.0, 0.0, 0.0, 0.0, -4.459682002693125], res_norm=4.460e+00
2025-12-01 13:37:29,390 - INFO - integration_test - Dyn residual k=2: pred=[19.008310529227874, 4.89507758431119, 0.6042945743208414, 3.0, 29.415462917877985], ws=[19.008310529227874, 4.89507758431119, 0.6042945743208414, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -0.2685536267105242], res_norm=2.686e-01
2025-12-01 13:37:29,405 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:29,417 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:29,434 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:29,446 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:29,462 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:29,473 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:29,489 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:29,501 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:29,517 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:29,529 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:29,545 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:29,556 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:29,572 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:29,584 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:29,599 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:29,611 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:29,627 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:29,639 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:29,655 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:29,666 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:29,682 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:29,693 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:30,035 - INFO - integration_test - Step 79: MPC solve successful
2025-12-01 13:37:30,046 - INFO - integration_test - Step 79: Computed 10 numeric contouring constraints for visualization (s=19.374)
2025-12-01 13:37:30,047 - DEBUG - integration_test - Step 79: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:30,047 - INFO - integration_test - === Applying control at step 79 ===
2025-12-01 13:37:30,047 - INFO - integration_test -   Control dict from planner: {'a': -1.0595867985101063e-08, 'w': -0.7999997951212457}
2025-12-01 13:37:30,047 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:30,047 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:30,048 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:30,048 - INFO - integration_test - Step 79 completed in 0.680s
2025-12-01 13:37:30,072 - INFO - integration_test - Step 80 (contouring until path end)
2025-12-01 13:37:30,073 - DEBUG - integration_test - Syncing planner state at step 80: vehicle_state=[18.52111997  4.54411723  0.52429459  3.00000003 19.6738877 ]
2025-12-01 13:37:30,074 - DEBUG - integration_test - Step 80: Using propagated spline 19.6739 (close to path, dist=0.296m)
2025-12-01 13:37:30,074 - DEBUG - integration_test -   Set spline state to 19.6739
2025-12-01 13:37:30,074 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:30,089 - DEBUG - integration_test - Step 80: Checking path alignment: vehicle=(18.521, 4.544), path_start=(0.000, 0.000), dist=19.070m
2025-12-01 13:37:30,089 - WARNING - integration_test - Could not update reference path at step 80: x and y must have the same length
2025-12-01 13:37:30,089 - INFO - integration_test - === Calling planner.solve_mpc() at step 80 ===
2025-12-01 13:37:30,092 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:30,093 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:30,093 - INFO - integration_test - Warmstart k=0: x0=18.52111996662661 , y0=4.544117226497378 , psi0=0.5242945948087168 , v0=3.0 , spline0=19.67388769502424 , a0=0.0 , w0=0.0
2025-12-01 13:37:30,093 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:30,094 - INFO - integration_test - Dyn residual k=0: pred=[18.780823151994007, 4.694297969304262, 0.5242945948087168, 3.0, 19.973887695024242], ws=[18.780823151994007, 4.694297969304262, 0.5242945948087168, 3.0, 24.683298203705906], res=[0.0, 0.0, 0.0, 0.0, -4.709410508681664], res_norm=4.709e+00
2025-12-01 13:37:30,094 - INFO - integration_test - Dyn residual k=1: pred=[19.040526337361403, 4.844478712111147, 0.5242945948087168, 3.0, 24.983298203705907], ws=[19.040526337361403, 4.844478712111147, 0.5242945948087168, 3.0, 29.507225826276454], res=[0.0, 0.0, 0.0, 0.0, -4.523927622570547], res_norm=4.524e+00
2025-12-01 13:37:30,095 - INFO - integration_test - Dyn residual k=2: pred=[19.3002295227288, 4.994659454918031, 0.5242945948087168, 3.0, 29.807225826276454], ws=[19.3002295227288, 4.994659454918031, 0.5242945948087168, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.1232092816879451], res_norm=1.232e-01
2025-12-01 13:37:30,110 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:30,122 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:30,138 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:30,149 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:30,165 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:30,177 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:30,194 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:30,206 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:30,222 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:30,234 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:30,250 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:30,261 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:30,277 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:30,289 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:30,305 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:30,316 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:30,332 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:30,343 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:30,359 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:30,371 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:30,386 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:30,398 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:30,725 - INFO - integration_test - Step 80: MPC solve successful
2025-12-01 13:37:30,736 - INFO - integration_test - Step 80: Computed 10 numeric contouring constraints for visualization (s=19.674)
2025-12-01 13:37:30,737 - DEBUG - integration_test - Step 80: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:30,737 - INFO - integration_test - === Applying control at step 80 ===
2025-12-01 13:37:30,737 - INFO - integration_test -   Control dict from planner: {'a': 7.82382173545931e-09, 'w': -0.8000000098297946}
2025-12-01 13:37:30,737 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:30,737 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:30,738 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:30,738 - INFO - integration_test - Step 80 completed in 0.665s
2025-12-01 13:37:30,759 - INFO - integration_test - Step 81 (contouring until path end)
2025-12-01 13:37:30,760 - DEBUG - integration_test - Syncing planner state at step 81: vehicle_state=[18.78655026  4.68375524  0.44429459  3.00000003 19.9738877 ]
2025-12-01 13:37:30,761 - DEBUG - integration_test - Step 81: Using propagated spline 19.9739 (close to path, dist=0.332m)
2025-12-01 13:37:30,761 - DEBUG - integration_test -   Set spline state to 19.9739
2025-12-01 13:37:30,761 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:30,776 - DEBUG - integration_test - Step 81: Checking path alignment: vehicle=(18.787, 4.684), path_start=(0.000, 0.000), dist=19.362m
2025-12-01 13:37:30,777 - WARNING - integration_test - Could not update reference path at step 81: x and y must have the same length
2025-12-01 13:37:30,777 - INFO - integration_test - === Calling planner.solve_mpc() at step 81 ===
2025-12-01 13:37:30,779 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:30,780 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:30,780 - INFO - integration_test - Warmstart k=0: x0=18.786550256862487 , y0=4.683755242718365 , psi0=0.4442945938257373 , v0=3.0 , spline0=19.97388769798502 , a0=0.0 , w0=0.0
2025-12-01 13:37:30,781 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:30,782 - INFO - integration_test - Dyn residual k=0: pred=[19.05742448339716, 4.812701562554344, 0.4442945938257373, 3.0, 20.27388769798502], ws=[19.05742448339716, 4.812701562554344, 0.4442945938257372, 3.0, 25.13389112237501], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -4.860003424389991], res_norm=4.860e+00
2025-12-01 13:37:30,783 - INFO - integration_test - Dyn residual k=1: pred=[19.328298709931833, 4.941647882390323, 0.4442945938257372, 3.0, 25.433891122375012], ws=[19.328298709931833, 4.941647882390323, 0.4442945938257372, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -4.250125422213497], res_norm=4.250e+00
2025-12-01 13:37:30,784 - INFO - integration_test - Dyn residual k=2: pred=[19.599172936466505, 5.070594202226302, 0.4442945938257372, 3.0, 29.98401654458851], ws=[19.599172936466505, 5.070594202226302, 0.4442945938257372, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:37:30,799 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:30,810 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:30,827 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:30,838 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:30,855 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:30,866 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:30,882 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:30,894 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:30,911 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:30,922 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:30,938 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:30,949 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:30,965 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:30,977 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:30,993 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:31,004 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:31,020 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:31,031 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:31,048 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:31,060 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:31,075 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:31,086 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:31,368 - INFO - integration_test - Step 81: MPC solve successful
2025-12-01 13:37:31,380 - INFO - integration_test - Step 81: Computed 10 numeric contouring constraints for visualization (s=19.974)
2025-12-01 13:37:31,380 - DEBUG - integration_test - Step 81: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:31,380 - INFO - integration_test - === Applying control at step 81 ===
2025-12-01 13:37:31,380 - INFO - integration_test -   Control dict from planner: {'a': -2.3246283419299324e-09, 'w': -0.7999998770798905}
2025-12-01 13:37:31,380 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:31,380 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:31,381 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:31,382 - INFO - integration_test - Step 81 completed in 0.622s
2025-12-01 13:37:31,406 - INFO - integration_test - Step 82 (contouring until path end)
2025-12-01 13:37:31,407 - DEBUG - integration_test - Syncing planner state at step 82: vehicle_state=[19.06229075  4.80173488  0.36429461  3.00000003 20.2738877 ]
2025-12-01 13:37:31,408 - DEBUG - integration_test - Step 82: Using propagated spline 20.2739 (close to path, dist=0.398m)
2025-12-01 13:37:31,408 - DEBUG - integration_test -   Set spline state to 20.2739
2025-12-01 13:37:31,408 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:31,423 - DEBUG - integration_test - Step 82: Checking path alignment: vehicle=(19.062, 4.802), path_start=(0.000, 0.000), dist=19.658m
2025-12-01 13:37:31,423 - WARNING - integration_test - Could not update reference path at step 82: x and y must have the same length
2025-12-01 13:37:31,423 - INFO - integration_test - === Calling planner.solve_mpc() at step 82 ===
2025-12-01 13:37:31,426 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:31,427 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:31,427 - INFO - integration_test - Warmstart k=0: x0=19.062290751789064 , y0=4.801734876718864 , psi0=0.3642946061177483 , v0=3.0 , spline0=20.273887700922554 , a0=0.0 , w0=0.0
2025-12-01 13:37:31,427 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:31,428 - INFO - integration_test - Dyn residual k=0: pred=[19.342603347366513, 4.908621960880762, 0.3642946061177483, 3.0, 20.573887700922555], ws=[19.342603347366513, 4.908621960880762, 0.3642946061177481, 3.0, 25.458450741908578], res=[0.0, 0.0, 1.6653345369377348e-16, 0.0, -4.8845630409860235], res_norm=4.885e+00
2025-12-01 13:37:31,429 - INFO - integration_test - Dyn residual k=1: pred=[19.622915942943962, 5.015509045042659, 0.3642946061177481, 3.0, 25.75845074190858], ws=[19.622915942943962, 5.015509045042659, 0.3642946061177481, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -3.9255658026799303], res_norm=3.926e+00
2025-12-01 13:37:31,429 - INFO - integration_test - Dyn residual k=2: pred=[19.90322853852141, 5.122396129204557, 0.3642946061177481, 3.0, 29.98401654458851], ws=[19.90322853852141, 5.122396129204557, 0.3642946061177481, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:37:31,444 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:31,456 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:31,472 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:31,484 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:31,500 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:31,512 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:31,528 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:31,540 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:31,555 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:31,567 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:31,583 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:31,595 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:31,610 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:31,622 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:31,638 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:31,650 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:31,666 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:31,678 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:31,694 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:31,705 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:31,721 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:31,732 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:32,022 - INFO - integration_test - Step 82: MPC solve successful
2025-12-01 13:37:32,033 - INFO - integration_test - Step 82: Computed 10 numeric contouring constraints for visualization (s=20.274)
2025-12-01 13:37:32,034 - DEBUG - integration_test - Step 82: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:32,034 - INFO - integration_test - === Applying control at step 82 ===
2025-12-01 13:37:32,034 - INFO - integration_test -   Control dict from planner: {'a': 3.80669959605228e-09, 'w': -0.7999999973900435}
2025-12-01 13:37:32,034 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:32,034 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:32,035 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:32,035 - INFO - integration_test - Step 82 completed in 0.628s
2025-12-01 13:37:32,059 - INFO - integration_test - Step 83 (contouring until path end)
2025-12-01 13:37:32,060 - DEBUG - integration_test - Syncing planner state at step 83: vehicle_state=[19.34657765  4.89730146  0.28429461  3.00000003 20.5738877 ]
2025-12-01 13:37:32,061 - DEBUG - integration_test - Step 83: Using propagated spline 20.5739 (close to path, dist=0.424m)
2025-12-01 13:37:32,061 - DEBUG - integration_test -   Set spline state to 20.5739
2025-12-01 13:37:32,061 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:32,075 - DEBUG - integration_test - Step 83: Checking path alignment: vehicle=(19.347, 4.897), path_start=(0.000, 0.000), dist=19.957m
2025-12-01 13:37:32,076 - WARNING - integration_test - Could not update reference path at step 83: x and y must have the same length
2025-12-01 13:37:32,076 - INFO - integration_test - === Calling planner.solve_mpc() at step 83 ===
2025-12-01 13:37:32,078 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:32,079 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:32,079 - INFO - integration_test - Warmstart k=0: x0=19.346577653358874 , y0=4.897301461711191 , psi0=0.28429460637874393 , v0=3.0 , spline0=20.573887703898155 , a0=0.0 , w0=0.0
2025-12-01 13:37:32,079 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:32,080 - INFO - integration_test - Dyn residual k=0: pred=[19.634535575526687, 4.981445594369362, 0.28429460637874393, 3.0, 20.873887703898156], ws=[19.634535575526687, 4.981445594369362, 0.2842946063787437, 3.0, 25.892146801759626], res=[0.0, 0.0, 2.220446049250313e-16, 0.0, -5.0182590978614705], res_norm=5.018e+00
2025-12-01 13:37:32,081 - INFO - integration_test - Dyn residual k=1: pred=[19.9224934976945, 5.0655897270275325, 0.2842946063787437, 3.0, 26.192146801759627], ws=[19.9224934976945, 5.0655897270275325, 0.2842946063787437, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -3.4918697428288823], res_norm=3.492e+00
2025-12-01 13:37:32,082 - INFO - integration_test - Dyn residual k=2: pred=[20.210451419862313, 5.149733859685703, 0.2842946063787437, 3.0, 29.98401654458851], ws=[20.210451419862313, 5.149733859685703, 0.2842946063787437, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:37:32,097 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:32,109 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:32,125 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:32,136 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:32,153 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:32,164 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:32,180 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:32,192 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:32,207 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:32,219 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:32,235 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:32,247 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:32,262 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:32,274 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:32,290 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:32,301 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:32,318 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:32,329 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:32,345 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:32,357 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:32,372 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:32,384 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:32,673 - INFO - integration_test - Step 83: MPC solve successful
2025-12-01 13:37:32,684 - INFO - integration_test - Step 83: Computed 10 numeric contouring constraints for visualization (s=20.574)
2025-12-01 13:37:32,685 - DEBUG - integration_test - Step 83: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:32,685 - INFO - integration_test - === Applying control at step 83 ===
2025-12-01 13:37:32,685 - INFO - integration_test -   Control dict from planner: {'a': -5.933179168501871e-09, 'w': -0.7999996337502828}
2025-12-01 13:37:32,685 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:32,685 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:32,686 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:32,686 - INFO - integration_test - Step 83 completed in 0.627s
2025-12-01 13:37:32,710 - INFO - integration_test - Step 84 (contouring until path end)
2025-12-01 13:37:32,712 - DEBUG - integration_test - Syncing planner state at step 84: vehicle_state=[19.6375925   4.9698437   0.20429464  3.00000003 20.87388771]
2025-12-01 13:37:32,712 - DEBUG - integration_test - Step 84: Using propagated spline 20.8739 (close to path, dist=0.416m)
2025-12-01 13:37:32,712 - DEBUG - integration_test -   Set spline state to 20.8739
2025-12-01 13:37:32,713 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:32,727 - DEBUG - integration_test - Step 84: Checking path alignment: vehicle=(19.638, 4.970), path_start=(0.000, 0.000), dist=20.257m
2025-12-01 13:37:32,727 - WARNING - integration_test - Could not update reference path at step 84: x and y must have the same length
2025-12-01 13:37:32,727 - INFO - integration_test - === Calling planner.solve_mpc() at step 84 ===
2025-12-01 13:37:32,729 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:32,731 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:32,731 - INFO - integration_test - Warmstart k=0: x0=19.63759249503867 , y0=4.969843701341487 , psi0=0.20429464300371564 , v0=3.0 , spline0=20.873887706814422 , a0=0.0 , w0=0.0
2025-12-01 13:37:32,731 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:32,732 - INFO - integration_test - Dyn residual k=0: pred=[19.931353793580477, 5.030706657883465, 0.20429464300371564, 3.0, 21.173887706814423], ws=[19.931353793580477, 5.030706657883465, 0.20429464300371558, 3.0, 26.213649605784745], res=[0.0, 0.0, 5.551115123125783e-17, 0.0, -5.039761898970323], res_norm=5.040e+00
2025-12-01 13:37:32,732 - INFO - integration_test - Dyn residual k=1: pred=[20.225115092122284, 5.091569614425444, 0.20429464300371558, 3.0, 26.513649605784746], ws=[20.225115092122284, 5.091569614425444, 0.20429464300371558, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -3.170366938803763], res_norm=3.170e+00
2025-12-01 13:37:32,733 - INFO - integration_test - Dyn residual k=2: pred=[20.51887639066409, 5.152432570967422, 0.20429464300371558, 3.0, 29.98401654458851], ws=[20.51887639066409, 5.152432570967422, 0.20429464300371558, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:37:32,748 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:32,760 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:32,776 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:32,788 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:32,804 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:32,816 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:32,831 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:32,843 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:32,858 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:32,870 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:32,887 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:32,898 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:32,914 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:32,925 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:32,941 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:32,953 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:32,969 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:32,981 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:32,997 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:33,008 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:33,024 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:33,036 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:33,342 - INFO - integration_test - Step 84: MPC solve successful
2025-12-01 13:37:33,353 - INFO - integration_test - Step 84: Computed 10 numeric contouring constraints for visualization (s=20.874)
2025-12-01 13:37:33,353 - DEBUG - integration_test - Step 84: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:33,353 - INFO - integration_test - === Applying control at step 84 ===
2025-12-01 13:37:33,353 - INFO - integration_test -   Control dict from planner: {'a': 5.483186116904549e-09, 'w': -0.7999999983195308}
2025-12-01 13:37:33,353 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:33,353 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:33,354 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:33,355 - INFO - integration_test - Step 84 completed in 0.643s
2025-12-01 13:37:33,379 - INFO - integration_test - Step 85 (contouring until path end)
2025-12-01 13:37:33,380 - DEBUG - integration_test - Syncing planner state at step 85: vehicle_state=[19.93347378  5.01889757  0.12429464  3.00000003 21.17388771]
2025-12-01 13:37:33,380 - DEBUG - integration_test - Step 85: Using propagated spline 21.1739 (close to path, dist=0.391m)
2025-12-01 13:37:33,380 - DEBUG - integration_test -   Set spline state to 21.1739
2025-12-01 13:37:33,381 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:33,395 - DEBUG - integration_test - Step 85: Checking path alignment: vehicle=(19.933, 5.019), path_start=(0.000, 0.000), dist=20.556m
2025-12-01 13:37:33,395 - WARNING - integration_test - Could not update reference path at step 85: x and y must have the same length
2025-12-01 13:37:33,395 - INFO - integration_test - === Calling planner.solve_mpc() at step 85 ===
2025-12-01 13:37:33,398 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:33,399 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:33,399 - INFO - integration_test - Warmstart k=0: x0=19.933473775687947 , y0=5.018897573000793 , psi0=0.12429464317176254 , v0=3.0 , spline0=21.17388770978552 , a0=0.0 , w0=0.0
2025-12-01 13:37:33,399 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:33,400 - INFO - integration_test - Dyn residual k=0: pred=[20.231159383859957, 5.056090027709529, 0.12429464317176254, 3.0, 21.473887709785522], ws=[20.231159383859957, 5.056090027709529, 0.12429464317176242, 3.0, 26.630461969128476], res=[0.0, 0.0, 1.249000902703301e-16, 0.0, -5.156574259342953], res_norm=5.157e+00
2025-12-01 13:37:33,400 - INFO - integration_test - Dyn residual k=1: pred=[20.528844992031967, 5.093282482418265, 0.12429464317176242, 3.0, 26.930461969128476], ws=[20.528844992031967, 5.093282482418265, 0.12429464317176242, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -2.753554575460033], res_norm=2.754e+00
2025-12-01 13:37:33,401 - INFO - integration_test - Dyn residual k=2: pred=[20.826530600203977, 5.130474937127, 0.12429464317176242, 3.0, 29.98401654458851], ws=[20.826530600203977, 5.130474937127, 0.12429464317176242, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:37:33,416 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:33,427 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:33,444 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:33,456 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:33,472 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:33,484 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:33,500 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:33,511 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:33,527 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:33,539 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:33,555 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:33,566 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:33,582 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:33,594 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:33,609 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:33,621 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:33,637 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:33,648 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:33,664 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:33,675 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:33,691 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:33,702 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:47,968 - WARNING - integration_test - Step 85: MPC solve failed
2025-12-01 13:37:47,968 - WARNING - integration_test -   Consecutive MPC failures: 1/50
2025-12-01 13:37:47,976 - INFO - integration_test - Step 85: Computed 10 numeric contouring constraints for visualization (s=21.174)
2025-12-01 13:37:47,976 - DEBUG - integration_test - Step 85: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:47,976 - INFO - integration_test - === Applying control at step 85 ===
2025-12-01 13:37:47,976 - INFO - integration_test -   Control dict from planner: {'a': 5.483186116904549e-09, 'w': -0.7999999983195308}
2025-12-01 13:37:47,976 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:47,976 - INFO - integration_test -   Planner output success: False
2025-12-01 13:37:47,978 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:47,978 - INFO - integration_test - Step 85 completed in 14.599s
2025-12-01 13:37:48,000 - INFO - integration_test - Step 86 (contouring until path end)
2025-12-01 13:37:48,001 - DEBUG - integration_test - Syncing planner state at step 86: vehicle_state=[20.23232887  5.04414929  0.04429464  3.00000003 21.47388771]
2025-12-01 13:37:48,002 - DEBUG - integration_test - Step 86: Using propagated spline 21.4739 (close to path, dist=0.312m)
2025-12-01 13:37:48,002 - DEBUG - integration_test -   Set spline state to 21.4739
2025-12-01 13:37:48,002 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:48,016 - DEBUG - integration_test - Step 86: Checking path alignment: vehicle=(20.232, 5.044), path_start=(0.000, 0.000), dist=20.852m
2025-12-01 13:37:48,017 - WARNING - integration_test - Could not update reference path at step 86: x and y must have the same length
2025-12-01 13:37:48,017 - INFO - integration_test - === Calling planner.solve_mpc() at step 86 ===
2025-12-01 13:37:48,019 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:48,020 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:48,021 - INFO - integration_test - Warmstart k=0: x0=20.232328866294186 , y0=5.044149294032083 , psi0=0.04429464333980945 , v0=3.0 , spline0=21.473887712811454 , a0=0.0 , w0=0.0
2025-12-01 13:37:48,021 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:48,021 - INFO - integration_test - Dyn residual k=0: pred=[20.532034612095554, 5.057433342121605, 0.04429464333980945, 3.0, 21.773887712811455], ws=[20.532034612095554, 5.057433342121605, 0.04429464333980926, 3.0, 26.949252713706485], res=[0.0, 0.0, 1.942890293094024e-16, 0.0, -5.175365000895031], res_norm=5.175e+00
2025-12-01 13:37:48,022 - INFO - integration_test - Dyn residual k=1: pred=[20.831740357896923, 5.0707173902111276, 0.04429464333980926, 3.0, 27.249252713706486], ws=[20.831740357896923, 5.0707173902111276, 0.04429464333980926, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -2.434763830882023], res_norm=2.435e+00
2025-12-01 13:37:48,023 - INFO - integration_test - Dyn residual k=2: pred=[21.13144610369829, 5.08400143830065, 0.04429464333980926, 3.0, 29.98401654458851], ws=[21.13144610369829, 5.08400143830065, 0.04429464333980926, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:37:48,038 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:48,050 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:48,066 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:48,078 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:48,095 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:48,107 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:48,123 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:48,134 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:48,150 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:48,162 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:48,178 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:48,189 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:48,205 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:48,216 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:48,232 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:48,244 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:48,260 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:48,272 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:48,289 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:48,302 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:48,319 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:48,332 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:48,625 - INFO - integration_test - Step 86: MPC solve successful
2025-12-01 13:37:48,638 - INFO - integration_test - Step 86: Computed 10 numeric contouring constraints for visualization (s=21.474)
2025-12-01 13:37:48,638 - DEBUG - integration_test - Step 86: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:48,638 - INFO - integration_test - === Applying control at step 86 ===
2025-12-01 13:37:48,638 - INFO - integration_test -   Control dict from planner: {'a': -1.918184526782598e-09, 'w': 0.8000000098484722}
2025-12-01 13:37:48,638 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:48,638 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:48,639 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:48,640 - INFO - integration_test - Step 86 completed in 0.638s
2025-12-01 13:37:48,662 - INFO - integration_test - Step 87 (contouring until path end)
2025-12-01 13:37:48,665 - DEBUG - integration_test - Syncing planner state at step 87: vehicle_state=[20.53118396  5.06940102  0.12429464  3.00000003 21.77388772]
2025-12-01 13:37:48,665 - DEBUG - integration_test - Step 87: Using propagated spline 21.7739 (close to path, dist=0.280m)
2025-12-01 13:37:48,665 - DEBUG - integration_test -   Set spline state to 21.7739
2025-12-01 13:37:48,666 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:48,680 - DEBUG - integration_test - Step 87: Checking path alignment: vehicle=(20.531, 5.069), path_start=(0.000, 0.000), dist=21.148m
2025-12-01 13:37:48,680 - WARNING - integration_test - Could not update reference path at step 87: x and y must have the same length
2025-12-01 13:37:48,680 - INFO - integration_test - === Calling planner.solve_mpc() at step 87 ===
2025-12-01 13:37:48,683 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:48,684 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:48,684 - INFO - integration_test - Warmstart k=0: x0=20.531183956901305 , y0=5.06940101523719 , psi0=0.12429464432465667 , v0=3.0 , spline0=21.773887715818205 , a0=0.0 , w0=0.0
2025-12-01 13:37:48,684 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:48,685 - INFO - integration_test - Dyn residual k=0: pred=[20.828869565030434, 5.106593470289126, 0.12429464432465667, 3.0, 22.073887715818206], ws=[20.828869565030434, 5.106593470289126, 0.12429464432465664, 3.0, 27.351219710208085], res=[0.0, 0.0, 2.7755575615628914e-17, 0.0, -5.277331994389879], res_norm=5.277e+00
2025-12-01 13:37:48,686 - INFO - integration_test - Dyn residual k=1: pred=[21.126555173159563, 5.143785925341062, 0.12429464432465664, 3.0, 27.651219710208085], ws=[21.126555173159563, 5.143785925341062, 0.12429464432465664, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -2.0327968343804237], res_norm=2.033e+00
2025-12-01 13:37:48,686 - INFO - integration_test - Dyn residual k=2: pred=[21.42424078128869, 5.180978380392998, 0.12429464432465664, 3.0, 29.98401654458851], ws=[21.42424078128869, 5.180978380392998, 0.12429464432465664, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:37:48,702 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:48,713 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:48,730 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:48,742 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:48,758 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:48,770 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:48,786 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:48,797 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:48,813 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:48,825 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:48,841 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:48,852 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:48,868 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:48,880 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:48,896 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:48,908 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:48,923 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:48,935 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:48,951 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:48,963 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:48,979 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:48,991 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:51,214 - WARNING - integration_test - Step 87: MPC solve failed
2025-12-01 13:37:51,215 - WARNING - integration_test -   Consecutive MPC failures: 1/50
2025-12-01 13:37:51,224 - INFO - integration_test - Step 87: Computed 10 numeric contouring constraints for visualization (s=21.774)
2025-12-01 13:37:51,224 - DEBUG - integration_test - Step 87: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:51,224 - INFO - integration_test - === Applying control at step 87 ===
2025-12-01 13:37:51,224 - INFO - integration_test -   Control dict from planner: {'a': -1.918184526782598e-09, 'w': 0.8000000098484722}
2025-12-01 13:37:51,224 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:51,224 - INFO - integration_test -   Planner output success: False
2025-12-01 13:37:51,225 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:51,226 - INFO - integration_test - Step 87 completed in 2.561s
2025-12-01 13:37:51,250 - INFO - integration_test - Step 88 (contouring until path end)
2025-12-01 13:37:51,251 - DEBUG - integration_test - Syncing planner state at step 88: vehicle_state=[20.82706524  5.11845489  0.20429465  3.00000003 22.07388772]
2025-12-01 13:37:51,252 - DEBUG - integration_test - Step 88: Using propagated spline 22.0739 (close to path, dist=0.170m)
2025-12-01 13:37:51,252 - DEBUG - integration_test -   Set spline state to 22.0739
2025-12-01 13:37:51,252 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:51,267 - DEBUG - integration_test - Step 88: Checking path alignment: vehicle=(20.827, 5.118), path_start=(0.000, 0.000), dist=21.447m
2025-12-01 13:37:51,267 - WARNING - integration_test - Could not update reference path at step 88: x and y must have the same length
2025-12-01 13:37:51,267 - INFO - integration_test - === Calling planner.solve_mpc() at step 88 ===
2025-12-01 13:37:51,270 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:51,271 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:51,271 - INFO - integration_test - Warmstart k=0: x0=20.827065237516177 , y0=5.118454887416778 , psi0=0.2042946453095039 , v0=3.0 , spline0=22.073887718805775 , a0=0.0 , w0=0.0
2025-12-01 13:37:51,272 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:51,272 - INFO - integration_test - Dyn residual k=0: pred=[21.120826535917647, 5.179317844636108, 0.2042946453095039, 3.0, 22.373887718805776], ws=[21.120826535917647, 5.179317844636108, 0.20429464530950403, 3.0, 27.66790693110957], res=[0.0, 0.0, -1.3877787807814457e-16, 0.0, -5.294019212303795], res_norm=5.294e+00
2025-12-01 13:37:51,273 - INFO - integration_test - Dyn residual k=1: pred=[21.414587834319118, 5.240180801855438, 0.20429464530950403, 3.0, 27.96790693110957], ws=[21.414587834319118, 5.240180801855438, 0.20429464530950403, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -1.7161096134789382], res_norm=1.716e+00
2025-12-01 13:37:51,274 - INFO - integration_test - Dyn residual k=2: pred=[21.70834913272059, 5.301043759074767, 0.20429464530950403, 3.0, 29.98401654458851], ws=[21.70834913272059, 5.301043759074767, 0.20429464530950403, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:37:51,289 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:51,301 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:51,317 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:51,329 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:51,345 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:51,357 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:51,373 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:51,385 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:51,401 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:51,413 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:51,429 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:51,441 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:51,457 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:51,468 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:51,485 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:51,496 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:51,513 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:51,525 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:51,543 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:51,556 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:51,574 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:51,586 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:51,947 - INFO - integration_test - Step 88: MPC solve successful
2025-12-01 13:37:51,959 - INFO - integration_test - Step 88: Computed 10 numeric contouring constraints for visualization (s=22.074)
2025-12-01 13:37:51,960 - DEBUG - integration_test - Step 88: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:51,960 - INFO - integration_test - === Applying control at step 88 ===
2025-12-01 13:37:51,960 - INFO - integration_test -   Control dict from planner: {'a': -2.0000000199882506, 'w': 0.8000000099899911}
2025-12-01 13:37:51,960 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:51,960 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:51,961 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:51,961 - INFO - integration_test - Step 88 completed in 0.710s
2025-12-01 13:37:51,983 - INFO - integration_test - Step 89 (contouring until path end)
2025-12-01 13:37:51,984 - DEBUG - integration_test - Syncing planner state at step 89: vehicle_state=[21.10841182  5.18844972  0.28429465  2.80000003 22.35388772]
2025-12-01 13:37:51,985 - DEBUG - integration_test - Step 89: Using propagated spline 22.3539 (close to path, dist=0.227m)
2025-12-01 13:37:51,985 - DEBUG - integration_test -   Set spline state to 22.3539
2025-12-01 13:37:51,985 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:52,000 - DEBUG - integration_test - Step 89: Checking path alignment: vehicle=(21.108, 5.188), path_start=(0.000, 0.000), dist=21.737m
2025-12-01 13:37:52,000 - WARNING - integration_test - Could not update reference path at step 89: x and y must have the same length
2025-12-01 13:37:52,000 - INFO - integration_test - === Calling planner.solve_mpc() at step 89 ===
2025-12-01 13:37:52,003 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:52,004 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:52,004 - INFO - integration_test - Warmstart k=0: x0=21.10841182395874 , y0=5.18844971839643 , psi0=0.284294646308503 , v0=2.8000000278768633 , spline0=22.353887721593463 , a0=0.0 , w0=0.0
2025-12-01 13:37:52,004 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:52,005 - INFO - integration_test - Dyn residual k=0: pred=[21.37717255085529, 5.266984253724165, 0.284294646308503, 2.8000000278768633, 22.63388772438115], ws=[21.37717255085529, 5.266984253724165, 0.28429464630850276, 2.8000000278768633, 28.012431688075342], res=[0.0, 0.0, 2.220446049250313e-16, 0.0, -5.378543963694192], res_norm=5.379e+00
2025-12-01 13:37:52,006 - INFO - integration_test - Dyn residual k=1: pred=[21.645933277751837, 5.3455187890519005, 0.28429464630850276, 2.8000000278768633, 28.29243169086303], ws=[21.645933277751837, 5.3455187890519005, 0.28429464630850276, 2.8000000278768633, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -1.3915848537254796], res_norm=1.392e+00
2025-12-01 13:37:52,007 - INFO - integration_test - Dyn residual k=2: pred=[21.914694004648386, 5.424053324379636, 0.28429464630850276, 2.8000000278768633, 29.964016547376197], ws=[21.914694004648386, 5.424053324379636, 0.28429464630850276, 2.8000000278768633, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.28000000278768766], res_norm=2.800e-01
2025-12-01 13:37:52,022 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:52,034 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:52,051 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:52,062 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:52,078 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:52,090 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:52,106 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:52,118 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:52,134 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:52,146 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:52,162 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:52,173 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:52,189 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:52,201 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:52,217 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:52,229 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:52,245 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:52,257 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:52,273 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:52,285 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:52,301 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:52,313 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:52,652 - INFO - integration_test - Step 89: MPC solve successful
2025-12-01 13:37:52,663 - INFO - integration_test - Step 89: Computed 10 numeric contouring constraints for visualization (s=22.354)
2025-12-01 13:37:52,664 - DEBUG - integration_test - Step 89: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:52,664 - INFO - integration_test - === Applying control at step 89 ===
2025-12-01 13:37:52,664 - INFO - integration_test -   Control dict from planner: {'a': -2.000000018425868, 'w': 0.8000000029682526}
2025-12-01 13:37:52,664 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:52,664 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:52,665 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:52,665 - INFO - integration_test - Step 89 completed in 0.681s
2025-12-01 13:37:52,688 - INFO - integration_test - Step 90 (contouring until path end)
2025-12-01 13:37:52,689 - DEBUG - integration_test - Syncing planner state at step 90: vehicle_state=[21.36431251  5.27433331  0.36429465  2.60000003 22.61388772]
2025-12-01 13:37:52,690 - DEBUG - integration_test - Step 90: Using propagated spline 22.6139 (close to path, dist=0.156m)
2025-12-01 13:37:52,690 - DEBUG - integration_test -   Set spline state to 22.6139
2025-12-01 13:37:52,691 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:52,705 - DEBUG - integration_test - Step 90: Checking path alignment: vehicle=(21.364, 5.274), path_start=(0.000, 0.000), dist=22.006m
2025-12-01 13:37:52,706 - WARNING - integration_test - Could not update reference path at step 90: x and y must have the same length
2025-12-01 13:37:52,706 - INFO - integration_test - === Calling planner.solve_mpc() at step 90 ===
2025-12-01 13:37:52,708 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:52,710 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:52,710 - INFO - integration_test - Warmstart k=0: x0=21.364312505987414 , y0=5.2743333054572625 , psi0=0.36429464660532823 , v0=2.6000000260342766 , spline0=22.61388772419689 , a0=0.0 , w0=0.0
2025-12-01 13:37:52,710 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:52,711 - INFO - integration_test - Dyn residual k=0: pred=[21.607250087503196, 5.366968789161104, 0.36429464660532823, 2.6000000260342766, 22.873887726800316], ws=[21.607250087503196, 5.366968789161104, 0.36429464660532807, 2.6000000260342766, 28.256516144447485], res=[0.0, 0.0, 1.6653345369377348e-16, 0.0, -5.382628417647169], res_norm=5.383e+00
2025-12-01 13:37:52,712 - INFO - integration_test - Dyn residual k=1: pred=[21.85018766901898, 5.459604272864946, 0.36429464660532807, 2.6000000260342766, 28.51651614705091], ws=[21.85018766901898, 5.459604272864946, 0.36429464660532807, 2.6000000260342766, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -1.167500397537598], res_norm=1.168e+00
2025-12-01 13:37:52,712 - INFO - integration_test - Dyn residual k=2: pred=[22.09312525053476, 5.552239756568788, 0.36429464660532807, 2.6000000260342766, 29.944016547191936], ws=[22.09312525053476, 5.552239756568788, 0.36429464660532807, 2.6000000260342766, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.2600000026034266], res_norm=2.600e-01
2025-12-01 13:37:52,727 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:52,739 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:52,756 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:52,768 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:52,784 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:52,796 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:52,812 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:52,824 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:52,840 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:52,852 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:52,868 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:52,880 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:52,896 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:52,908 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:52,924 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:52,936 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:52,952 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:52,963 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:52,980 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:52,992 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:53,008 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:53,020 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:53,346 - INFO - integration_test - Step 90: MPC solve successful
2025-12-01 13:37:53,357 - INFO - integration_test - Step 90: Computed 10 numeric contouring constraints for visualization (s=22.614)
2025-12-01 13:37:53,357 - DEBUG - integration_test - Step 90: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:53,357 - INFO - integration_test - === Applying control at step 90 ===
2025-12-01 13:37:53,357 - INFO - integration_test -   Control dict from planner: {'a': -2.000000019998376, 'w': 0.8000000099868093}
2025-12-01 13:37:53,357 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:53,357 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:53,359 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:53,359 - INFO - integration_test - Step 90 completed in 0.670s
2025-12-01 13:37:53,384 - INFO - integration_test - Step 91 (contouring until path end)
2025-12-01 13:37:53,385 - DEBUG - integration_test - Syncing planner state at step 91: vehicle_state=[21.59414868  5.37252713  0.44429465  2.40000002 22.85388773]
2025-12-01 13:37:53,385 - DEBUG - integration_test - Step 91: Using propagated spline 22.8539 (close to path, dist=0.135m)
2025-12-01 13:37:53,385 - DEBUG - integration_test -   Set spline state to 22.8539
2025-12-01 13:37:53,386 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:53,400 - DEBUG - integration_test - Step 91: Checking path alignment: vehicle=(21.594, 5.373), path_start=(0.000, 0.000), dist=22.252m
2025-12-01 13:37:53,400 - WARNING - integration_test - Could not update reference path at step 91: x and y must have the same length
2025-12-01 13:37:53,400 - INFO - integration_test - === Calling planner.solve_mpc() at step 91 ===
2025-12-01 13:37:53,403 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:53,404 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:53,404 - INFO - integration_test - Warmstart k=0: x0=21.594148682545992 , y0=5.3725271266355055 , psi0=0.44429464760400916 , v0=2.400000024034439 , spline0=22.853887726600334 , a0=0.0 , w0=0.0
2025-12-01 13:37:53,404 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:53,405 - INFO - integration_test - Dyn residual k=0: pred=[21.810848060396225, 5.475684195191057, 0.44429464760400916, 2.400000024034439, 23.09388772900378], ws=[21.810848060396225, 5.475684195191057, 0.4442946476040093, 2.400000024034439, 28.54333616399797], res=[0.0, 0.0, -1.1102230246251565e-16, 0.0, -5.449448434994192], res_norm=5.449e+00
2025-12-01 13:37:53,406 - INFO - integration_test - Dyn residual k=1: pred=[22.027547438246458, 5.578841263746609, 0.4442946476040093, 2.400000024034439, 28.783336166401416], ws=[22.027547438246458, 5.578841263746609, 0.4442946476040093, 2.400000024034439, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -0.9006803781870936], res_norm=9.007e-01
2025-12-01 13:37:53,406 - INFO - integration_test - Dyn residual k=2: pred=[22.24424681609669, 5.681998332302161, 0.4442946476040093, 2.400000024034439, 29.924016546991954], ws=[22.24424681609669, 5.681998332302161, 0.4442946476040093, 2.400000024034439, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.24000000240344477], res_norm=2.400e-01
2025-12-01 13:37:53,422 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:53,434 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:53,450 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:53,462 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:53,478 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:53,490 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:53,507 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:53,519 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:53,535 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:53,546 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:53,563 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:53,574 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:53,591 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:53,602 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:53,618 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:53,630 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:53,646 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:53,658 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:53,674 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:53,686 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:53,702 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:53,713 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:54,013 - INFO - integration_test - Step 91: MPC solve successful
2025-12-01 13:37:54,024 - INFO - integration_test - Step 91: Computed 10 numeric contouring constraints for visualization (s=22.854)
2025-12-01 13:37:54,024 - DEBUG - integration_test - Step 91: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:54,024 - INFO - integration_test - === Applying control at step 91 ===
2025-12-01 13:37:54,025 - INFO - integration_test -   Control dict from planner: {'a': -2.0000000188979468, 'w': 0.7999999957684689}
2025-12-01 13:37:54,025 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:54,025 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:54,026 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:54,026 - INFO - integration_test - Step 91 completed in 0.642s
2025-12-01 13:37:54,051 - INFO - integration_test - Step 92 (contouring until path end)
2025-12-01 13:37:54,052 - DEBUG - integration_test - Syncing planner state at step 92: vehicle_state=[21.79770729  5.47946498  0.52429465  2.20000002 23.07388773]
2025-12-01 13:37:54,052 - DEBUG - integration_test - Step 92: Using propagated spline 23.0739 (close to path, dist=0.263m)
2025-12-01 13:37:54,053 - DEBUG - integration_test -   Set spline state to 23.0739
2025-12-01 13:37:54,053 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:54,067 - DEBUG - integration_test - Step 92: Checking path alignment: vehicle=(21.798, 5.479), path_start=(0.000, 0.000), dist=22.476m
2025-12-01 13:37:54,068 - WARNING - integration_test - Could not update reference path at step 92: x and y must have the same length
2025-12-01 13:37:54,068 - INFO - integration_test - === Calling planner.solve_mpc() at step 92 ===
2025-12-01 13:37:54,070 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:54,071 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:54,071 - INFO - integration_test - Warmstart k=0: x0=21.797707294119846 , y0=5.479464980893445 , psi0=0.524294647180856 , v0=2.200000022144644 , spline0=23.0738877288148 , a0=0.0 , w0=0.0
2025-12-01 13:37:54,071 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:54,072 - INFO - integration_test - Dyn residual k=0: pred=[21.988156292871736, 5.589597536701281, 0.524294647180856, 2.200000022144644, 23.293887731029265], ws=[21.988156292871736, 5.589597536701281, 0.5242946471808558, 2.200000022144644, 28.737530469474308], res=[0.0, 0.0, 2.220446049250313e-16, 0.0, -5.4436427384450425], res_norm=5.444e+00
2025-12-01 13:37:54,073 - INFO - integration_test - Dyn residual k=1: pred=[22.178605291623626, 5.699730092509117, 0.5242946471808558, 2.200000022144644, 28.957530471688774], ws=[22.178605291623626, 5.699730092509117, 0.5242946471808558, 2.200000022144644, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -0.7264860728997355], res_norm=7.265e-01
2025-12-01 13:37:54,074 - INFO - integration_test - Dyn residual k=2: pred=[22.369054290375516, 5.809862648316954, 0.5242946471808558, 2.200000022144644, 29.904016546802975], ws=[22.369054290375516, 5.809862648316954, 0.5242946471808558, 2.200000022144644, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.2200000022144657], res_norm=2.200e-01
2025-12-01 13:37:54,089 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:54,101 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:54,117 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:54,129 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:54,145 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:54,157 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:54,173 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:54,185 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:54,201 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:54,213 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:54,229 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:54,241 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:54,257 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:54,268 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:54,284 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:54,296 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:54,312 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:54,323 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:54,339 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:54,351 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:54,367 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:54,379 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:54,838 - INFO - integration_test - Step 92: MPC solve successful
2025-12-01 13:37:54,849 - INFO - integration_test - Step 92: Computed 10 numeric contouring constraints for visualization (s=23.074)
2025-12-01 13:37:54,850 - DEBUG - integration_test - Step 92: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:54,850 - INFO - integration_test - === Applying control at step 92 ===
2025-12-01 13:37:54,850 - INFO - integration_test -   Control dict from planner: {'a': -2.0000000190070577, 'w': 0.7999999901620947}
2025-12-01 13:37:54,850 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:54,850 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:54,851 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:54,851 - INFO - integration_test - Step 92 completed in 0.800s
2025-12-01 13:37:54,874 - INFO - integration_test - Step 93 (contouring until path end)
2025-12-01 13:37:54,875 - DEBUG - integration_test - Syncing planner state at step 93: vehicle_state=[21.97517414  5.59163459  0.60429465  2.00000002 23.27388773]
2025-12-01 13:37:54,876 - DEBUG - integration_test - Step 93: Using propagated spline 23.2739 (close to path, dist=0.104m)
2025-12-01 13:37:54,876 - DEBUG - integration_test -   Set spline state to 23.2739
2025-12-01 13:37:54,876 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:54,891 - DEBUG - integration_test - Step 93: Checking path alignment: vehicle=(21.975, 5.592), path_start=(0.000, 0.000), dist=22.675m
2025-12-01 13:37:54,891 - WARNING - integration_test - Could not update reference path at step 93: x and y must have the same length
2025-12-01 13:37:54,892 - INFO - integration_test - === Calling planner.solve_mpc() at step 93 ===
2025-12-01 13:37:54,894 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:54,895 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:54,895 - INFO - integration_test - Warmstart k=0: x0=21.97517414443153 , y0=5.591634593400613 , psi0=0.6042946461970655 , v0=2.000000020243938 , spline0=23.273887730839192 , a0=0.0 , w0=0.0
2025-12-01 13:37:54,895 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:54,897 - INFO - integration_test - Dyn residual k=0: pred=[22.139754760394474, 5.7052709505184644, 0.6042946461970655, 2.000000020243938, 23.473887732863584], ws=[22.139754760394474, 5.7052709505184644, 0.6042946461970655, 2.000000020243938, 28.970300058570977], res=[0.0, 0.0, 0.0, 0.0, -5.496412325707393], res_norm=5.496e+00
2025-12-01 13:37:54,897 - INFO - integration_test - Dyn residual k=1: pred=[22.304335376357418, 5.818907307636316, 0.6042946461970655, 2.000000020243938, 29.17030006059537], ws=[22.304335376357418, 5.818907307636316, 0.6042946461970655, 2.000000020243938, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -0.5137164839931394], res_norm=5.137e-01
2025-12-01 13:37:54,898 - INFO - integration_test - Dyn residual k=2: pred=[22.468915992320362, 5.932543664754167, 0.6042946461970655, 2.000000020243938, 29.8840165466129], ws=[22.468915992320362, 5.932543664754167, 0.6042946461970655, 2.000000020243938, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.2000000020243924], res_norm=2.000e-01
2025-12-01 13:37:54,913 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:54,925 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:54,942 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:54,953 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:54,969 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:54,981 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:54,997 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:55,009 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:55,025 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:55,036 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:55,052 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:55,064 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:55,080 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:55,092 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:55,108 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:55,120 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:55,135 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:55,147 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:55,164 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:55,176 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:55,191 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:55,203 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:55,525 - INFO - integration_test - Step 93: MPC solve successful
2025-12-01 13:37:55,537 - INFO - integration_test - Step 93: Computed 10 numeric contouring constraints for visualization (s=23.274)
2025-12-01 13:37:55,538 - DEBUG - integration_test - Step 93: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:55,538 - INFO - integration_test - === Applying control at step 93 ===
2025-12-01 13:37:55,538 - INFO - integration_test -   Control dict from planner: {'a': 1.999999850796277, 'w': 0.7999986664929662}
2025-12-01 13:37:55,538 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:55,538 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:55,539 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:55,539 - INFO - integration_test - Step 93 completed in 0.664s
2025-12-01 13:37:55,563 - INFO - integration_test - Step 94 (contouring until path end)
2025-12-01 13:37:55,566 - DEBUG - integration_test - Syncing planner state at step 94: vehicle_state=[22.14294928  5.7178408   0.68429451  2.20000001 23.49388773]
2025-12-01 13:37:55,567 - DEBUG - integration_test - Step 94: Using propagated spline 23.4939 (close to path, dist=0.210m)
2025-12-01 13:37:55,567 - DEBUG - integration_test -   Set spline state to 23.4939
2025-12-01 13:37:55,567 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:55,581 - DEBUG - integration_test - Step 94: Checking path alignment: vehicle=(22.143, 5.718), path_start=(0.000, 0.000), dist=22.869m
2025-12-01 13:37:55,582 - WARNING - integration_test - Could not update reference path at step 94: x and y must have the same length
2025-12-01 13:37:55,582 - INFO - integration_test - === Calling planner.solve_mpc() at step 94 ===
2025-12-01 13:37:55,585 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:55,586 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:55,586 - INFO - integration_test - Warmstart k=0: x0=22.142949284941274 , y0=5.717840801176493 , psi0=0.6842945128463621 , v0=2.2000000053235658 , spline0=23.493887731371547 , a0=0.0 , w0=0.0
2025-12-01 13:37:55,586 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:55,587 - INFO - integration_test - Dyn residual k=0: pred=[22.313419628697766, 5.856908634027157, 0.6842945128463621, 2.2000000053235658, 23.713887731903903], ws=[22.313419628697766, 5.856908634027157, 0.6842945128463622, 2.2000000053235658, 29.267030611451645], res=[0.0, 0.0, -1.1102230246251565e-16, 0.0, -5.553142879547742], res_norm=5.553e+00
2025-12-01 13:37:55,588 - INFO - integration_test - Dyn residual k=1: pred=[22.483889972454257, 5.995976466877821, 0.6842945128463622, 2.2000000053235658, 29.487030611984], ws=[22.483889972454257, 5.995976466877821, 0.6842945128463622, 2.2000000053235658, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -0.19698593260450892], res_norm=1.970e-01
2025-12-01 13:37:55,588 - INFO - integration_test - Dyn residual k=2: pred=[22.65436031621075, 6.135044299728484, 0.6842945128463622, 2.2000000053235658, 29.904016545120864], ws=[22.65436031621075, 6.135044299728484, 0.6842945128463622, 2.2000000053235658, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.22000000053235524], res_norm=2.200e-01
2025-12-01 13:37:55,604 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:55,616 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:55,633 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:55,645 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:55,661 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:55,673 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:55,689 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:55,700 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:55,716 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:55,728 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:55,744 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:55,755 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:55,771 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:55,783 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:55,799 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:55,811 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:55,827 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:55,838 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:55,855 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:55,866 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:55,882 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:55,894 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:56,186 - INFO - integration_test - Step 94: MPC solve successful
2025-12-01 13:37:56,197 - INFO - integration_test - Step 94: Computed 10 numeric contouring constraints for visualization (s=23.494)
2025-12-01 13:37:56,197 - DEBUG - integration_test - Step 94: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:56,197 - INFO - integration_test - === Applying control at step 94 ===
2025-12-01 13:37:56,197 - INFO - integration_test -   Control dict from planner: {'a': 2.000000012069305, 'w': 0.7999997722227294}
2025-12-01 13:37:56,197 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:56,197 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:56,198 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:56,199 - INFO - integration_test - Step 94 completed in 0.633s
2025-12-01 13:37:56,224 - INFO - integration_test - Step 95 (contouring until path end)
2025-12-01 13:37:56,224 - DEBUG - integration_test - Syncing planner state at step 95: vehicle_state=[22.31507746  5.87029966  0.76429449  2.40000001 23.73388773]
2025-12-01 13:37:56,225 - DEBUG - integration_test - Step 95: Using propagated spline 23.7339 (close to path, dist=0.430m)
2025-12-01 13:37:56,225 - DEBUG - integration_test -   Set spline state to 23.7339
2025-12-01 13:37:56,225 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:56,239 - DEBUG - integration_test - Step 95: Checking path alignment: vehicle=(22.315, 5.870), path_start=(0.000, 0.000), dist=23.074m
2025-12-01 13:37:56,240 - WARNING - integration_test - Could not update reference path at step 95: x and y must have the same length
2025-12-01 13:37:56,240 - INFO - integration_test - === Calling planner.solve_mpc() at step 95 ===
2025-12-01 13:37:56,242 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:56,244 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:56,244 - INFO - integration_test - Warmstart k=0: x0=22.315077458492603 , y0=5.87029966158069 , psi0=0.764294490068635 , v0=2.4000000065304965 , spline0=23.7338877320246 , a0=0.0 , w0=0.0
2025-12-01 13:37:56,244 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:56,245 - INFO - integration_test - Dyn residual k=0: pred=[22.488326443666686, 6.036386354153016, 0.764294490068635, 2.4000000065304965, 23.97388773267765], ws=[22.488326443666686, 6.036386354153016, 0.764294490068635, 2.4000000065304965, 29.527169725024248], res=[0.0, 0.0, 0.0, 0.0, -5.553281992346598], res_norm=5.553e+00
2025-12-01 13:37:56,245 - INFO - integration_test - Dyn residual k=1: pred=[22.66157542884077, 6.202473046725341, 0.764294490068635, 2.4000000065304965, 29.7671697256773], ws=[22.66157542884077, 6.202473046725341, 0.764294490068635, 2.4000000065304965, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.08315318108878955], res_norm=8.315e-02
2025-12-01 13:37:56,246 - INFO - integration_test - Dyn residual k=2: pred=[22.834824414014854, 6.368559739297667, 0.764294490068635, 2.4000000065304965, 29.92401654524156], ws=[22.834824414014854, 6.368559739297667, 0.764294490068635, 2.4000000065304965, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.24000000065305116], res_norm=2.400e-01
2025-12-01 13:37:56,261 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:56,273 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:56,289 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:56,301 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:56,317 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:56,329 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:56,345 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:56,356 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:56,372 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:56,384 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:56,400 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:56,412 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:56,428 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:56,440 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:56,456 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:56,468 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:56,485 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:56,497 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:56,514 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:56,526 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:56,542 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:56,554 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:56,976 - INFO - integration_test - Step 95: MPC solve successful
2025-12-01 13:37:56,987 - INFO - integration_test - Step 95: Computed 10 numeric contouring constraints for visualization (s=23.734)
2025-12-01 13:37:56,987 - DEBUG - integration_test - Step 95: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:56,987 - INFO - integration_test - === Applying control at step 95 ===
2025-12-01 13:37:56,987 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000185561615, 'w': 0.7999995891559171}
2025-12-01 13:37:56,988 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:56,988 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:56,989 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:56,989 - INFO - integration_test - Step 95 completed in 0.765s
2025-12-01 13:37:57,012 - INFO - integration_test - Step 96 (contouring until path end)
2025-12-01 13:37:57,014 - DEBUG - integration_test - Syncing planner state at step 96: vehicle_state=[22.48834011  6.05042947  0.84429445  2.60000001 23.99388773]
2025-12-01 13:37:57,014 - DEBUG - integration_test - Step 96: Using propagated spline 23.9939 (close to path, dist=0.411m)
2025-12-01 13:37:57,014 - DEBUG - integration_test -   Set spline state to 23.9939
2025-12-01 13:37:57,015 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:57,029 - DEBUG - integration_test - Step 96: Checking path alignment: vehicle=(22.488, 6.050), path_start=(0.000, 0.000), dist=23.288m
2025-12-01 13:37:57,029 - WARNING - integration_test - Could not update reference path at step 96: x and y must have the same length
2025-12-01 13:37:57,030 - INFO - integration_test - === Calling planner.solve_mpc() at step 96 ===
2025-12-01 13:37:57,032 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:57,033 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:57,033 - INFO - integration_test - Warmstart k=0: x0=22.48834011165985 , y0=6.050429466851211 , psi0=0.8442944489842268 , v0=2.600000008386113 , spline0=23.99388773286321 , a0=0.0 , w0=0.0
2025-12-01 13:37:57,033 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:57,034 - INFO - integration_test - Dyn residual k=0: pred=[22.661047412961484, 6.244780151216314, 0.8442944489842268, 2.600000008386113, 24.253887733701823], ws=[22.661047412961484, 6.244780151216314, 0.8442944489842268, 2.600000008386113, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -5.430128810886686], res_norm=5.430e+00
2025-12-01 13:37:57,035 - INFO - integration_test - Dyn residual k=1: pred=[22.83375471426312, 6.439130835581416, 0.8442944489842268, 2.600000008386113, 29.94401654542712], ws=[22.83375471426312, 6.439130835581416, 0.8442944489842268, 2.600000008386113, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.2600000008386125], res_norm=2.600e-01
2025-12-01 13:37:57,036 - INFO - integration_test - Dyn residual k=2: pred=[23.006462015564754, 6.6334815199465185, 0.8442944489842268, 2.600000008386113, 29.94401654542712], ws=[23.006462015564754, 6.6334815199465185, 0.8442944489842268, 2.600000008386113, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.2600000008386125], res_norm=2.600e-01
2025-12-01 13:37:57,051 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:57,062 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:57,079 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:57,090 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:57,107 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:57,119 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:57,135 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:57,147 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:57,163 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:57,174 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:57,190 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:57,202 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:57,218 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:57,230 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:57,246 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:57,257 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:57,273 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:57,285 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:57,302 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:57,314 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:57,330 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:57,341 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:57,665 - INFO - integration_test - Step 96: MPC solve successful
2025-12-01 13:37:57,677 - INFO - integration_test - Step 96: Computed 10 numeric contouring constraints for visualization (s=23.994)
2025-12-01 13:37:57,677 - DEBUG - integration_test - Step 96: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:57,677 - INFO - integration_test - === Applying control at step 96 ===
2025-12-01 13:37:57,677 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000199289185, 'w': -0.7999999023052706}
2025-12-01 13:37:57,677 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:57,677 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:57,678 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:57,679 - INFO - integration_test - Step 96 completed in 0.665s
2025-12-01 13:37:57,702 - INFO - integration_test - Step 97 (contouring until path end)
2025-12-01 13:37:57,704 - DEBUG - integration_test - Syncing planner state at step 97: vehicle_state=[22.6756635   6.24477734  0.76429446  2.80000001 24.27388773]
2025-12-01 13:37:57,705 - DEBUG - integration_test - Step 97: Using propagated spline 24.2739 (close to path, dist=0.330m)
2025-12-01 13:37:57,705 - DEBUG - integration_test -   Set spline state to 24.2739
2025-12-01 13:37:57,706 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:57,720 - DEBUG - integration_test - Step 97: Checking path alignment: vehicle=(22.676, 6.245), path_start=(0.000, 0.000), dist=23.520m
2025-12-01 13:37:57,720 - WARNING - integration_test - Could not update reference path at step 97: x and y must have the same length
2025-12-01 13:37:57,720 - INFO - integration_test - === Calling planner.solve_mpc() at step 97 ===
2025-12-01 13:37:57,723 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:57,724 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:57,724 - INFO - integration_test - Warmstart k=0: x0=22.675663501540594 , y0=6.244777341174809 , psi0=0.7642944587536997 , v0=2.8000000103790046 , spline0=24.273887733901113 , a0=0.0 , w0=0.0
2025-12-01 13:37:57,724 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:57,725 - INFO - integration_test - Dyn residual k=0: pred=[22.877787323844093, 6.438545143037367, 0.7642944587536997, 2.8000000103790046, 24.553887734939014], ws=[22.877787323844093, 6.438545143037367, 0.7642944587536995, 2.8000000103790046, 29.68401654458851], res=[0.0, 0.0, 2.220446049250313e-16, 0.0, -5.130128809649495], res_norm=5.130e+00
2025-12-01 13:37:57,726 - INFO - integration_test - Dyn residual k=1: pred=[23.07991114614759, 6.632312944899925, 0.7642944587536995, 2.8000000103790046, 29.96401654562641], ws=[23.07991114614759, 6.632312944899925, 0.7642944587536995, 2.8000000103790046, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.28000000103790157], res_norm=2.800e-01
2025-12-01 13:37:57,727 - INFO - integration_test - Dyn residual k=2: pred=[23.28203496845109, 6.826080746762483, 0.7642944587536995, 2.8000000103790046, 29.96401654562641], ws=[23.28203496845109, 6.826080746762483, 0.7642944587536995, 2.8000000103790046, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.28000000103790157], res_norm=2.800e-01
2025-12-01 13:37:57,742 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:57,755 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:57,772 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:57,783 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:57,800 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:57,811 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:57,827 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:57,839 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:57,855 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:57,867 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:57,884 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:57,896 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:57,912 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:57,923 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:57,939 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:57,951 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:57,967 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:57,978 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:57,995 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:58,006 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:58,022 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:58,034 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:58,346 - INFO - integration_test - Step 97: MPC solve successful
2025-12-01 13:37:58,358 - INFO - integration_test - Step 97: Computed 10 numeric contouring constraints for visualization (s=24.274)
2025-12-01 13:37:58,358 - DEBUG - integration_test - Step 97: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:58,358 - INFO - integration_test - === Applying control at step 97 ===
2025-12-01 13:37:58,358 - INFO - integration_test -   Control dict from planner: {'a': 2.000000018961844, 'w': -0.5296567115049448}
2025-12-01 13:37:58,358 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:58,358 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:58,359 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:58,360 - INFO - integration_test - Step 97 completed in 0.656s
2025-12-01 13:37:58,381 - INFO - integration_test - Step 98 (contouring until path end)
2025-12-01 13:37:58,382 - DEBUG - integration_test - Syncing planner state at step 98: vehicle_state=[22.89028109  6.4397636   0.71132879  3.00000001 24.57388774]
2025-12-01 13:37:58,383 - DEBUG - integration_test - Step 98: Using propagated spline 24.5739 (close to path, dist=0.440m)
2025-12-01 13:37:58,383 - DEBUG - integration_test -   Set spline state to 24.5739
2025-12-01 13:37:58,383 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:58,398 - DEBUG - integration_test - Step 98: Checking path alignment: vehicle=(22.890, 6.440), path_start=(0.000, 0.000), dist=23.779m
2025-12-01 13:37:58,399 - WARNING - integration_test - Could not update reference path at step 98: x and y must have the same length
2025-12-01 13:37:58,399 - INFO - integration_test - === Calling planner.solve_mpc() at step 98 ===
2025-12-01 13:37:58,401 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:58,402 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:58,402 - INFO - integration_test - Warmstart k=0: x0=22.89028108670686 , y0=6.439763602149302 , psi0=0.7113287876032053 , v0=3.0 , spline0=24.573887735128633 , a0=0.0 , w0=0.0
2025-12-01 13:37:58,402 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:58,403 - INFO - integration_test - Dyn residual k=0: pred=[23.117529604136962, 6.635615871285557, 0.7113287876032053, 3.0, 24.873887735128633], ws=[23.117529604136962, 6.635615871285557, 0.7113287876032053, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -4.810128809459876], res_norm=4.810e+00
2025-12-01 13:37:58,404 - INFO - integration_test - Dyn residual k=1: pred=[23.344778121567064, 6.831468140421812, 0.7113287876032053, 3.0, 29.98401654458851], ws=[23.344778121567064, 6.831468140421812, 0.7113287876032053, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:37:58,405 - INFO - integration_test - Dyn residual k=2: pred=[23.572026638997166, 7.027320409558067, 0.7113287876032053, 3.0, 29.98401654458851], ws=[23.572026638997166, 7.027320409558067, 0.7113287876032053, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:37:58,420 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:58,432 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:58,448 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:58,460 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:58,476 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:58,487 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:58,504 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:58,515 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:58,531 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:58,543 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:58,559 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:58,570 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:58,586 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:58,598 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:58,614 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:58,625 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:58,641 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:58,653 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:58,669 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:58,680 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:58,696 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:58,707 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:59,439 - INFO - integration_test - Step 98: MPC solve successful
2025-12-01 13:37:59,450 - INFO - integration_test - Step 98: Computed 10 numeric contouring constraints for visualization (s=24.574)
2025-12-01 13:37:59,451 - DEBUG - integration_test - Step 98: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:37:59,451 - INFO - integration_test - === Applying control at step 98 ===
2025-12-01 13:37:59,451 - INFO - integration_test -   Control dict from planner: {'a': 1.1806345305147052e-07, 'w': -0.16673582036710838}
2025-12-01 13:37:59,451 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:37:59,451 - INFO - integration_test -   Planner output success: True
2025-12-01 13:37:59,452 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:37:59,452 - INFO - integration_test - Step 98 completed in 1.070s
2025-12-01 13:37:59,476 - INFO - integration_test - Step 99 (contouring until path end)
2025-12-01 13:37:59,478 - DEBUG - integration_test - Syncing planner state at step 99: vehicle_state=[23.11915182  6.63371232  0.69465521  3.00000002 24.87388774]
2025-12-01 13:37:59,479 - DEBUG - integration_test - Step 99: Using propagated spline 24.8739 (close to path, dist=0.423m)
2025-12-01 13:37:59,479 - DEBUG - integration_test -   Set spline state to 24.8739
2025-12-01 13:37:59,479 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:59,493 - DEBUG - integration_test - Step 99: Checking path alignment: vehicle=(23.119, 6.634), path_start=(0.000, 0.000), dist=24.052m
2025-12-01 13:37:59,494 - WARNING - integration_test - Could not update reference path at step 99: x and y must have the same length
2025-12-01 13:37:59,494 - INFO - integration_test - === Calling planner.solve_mpc() at step 99 ===
2025-12-01 13:37:59,496 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:37:59,498 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:37:59,498 - INFO - integration_test - Warmstart k=0: x0=23.119151817791675 , y0=6.633712318321895 , psi0=0.6946552055664944 , v0=3.0 , spline0=24.873887737536787 , a0=0.0 , w0=0.0
2025-12-01 13:37:59,498 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:37:59,499 - INFO - integration_test - Dyn residual k=0: pred=[23.349634155032135, 6.82574849257085, 0.6946552055664944, 3.0, 25.173887737536788], ws=[23.349634155032135, 6.82574849257085, 0.6946552055664945, 3.0, 29.68401654458851], res=[0.0, 0.0, -1.1102230246251565e-16, 0.0, -4.510128807051721], res_norm=4.510e+00
2025-12-01 13:37:59,499 - INFO - integration_test - Dyn residual k=1: pred=[23.580116492272595, 7.0177846668198045, 0.6946552055664945, 3.0, 29.98401654458851], ws=[23.580116492272595, 7.0177846668198045, 0.6946552055664945, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:37:59,500 - INFO - integration_test - Dyn residual k=2: pred=[23.810598829513054, 7.209820841068759, 0.6946552055664945, 3.0, 29.98401654458851], ws=[23.810598829513054, 7.209820841068759, 0.6946552055664945, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:37:59,515 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:59,527 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:59,543 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:59,554 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:59,571 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:59,584 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:59,601 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:59,613 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:59,632 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:59,645 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:59,663 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:59,676 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:59,694 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:59,706 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:59,723 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:59,735 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:59,751 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:59,763 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:59,779 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:59,791 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:37:59,807 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:37:59,819 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:00,247 - INFO - integration_test - Step 99: MPC solve successful
2025-12-01 13:38:00,258 - INFO - integration_test - Step 99: Computed 10 numeric contouring constraints for visualization (s=24.874)
2025-12-01 13:38:00,259 - DEBUG - integration_test - Step 99: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:38:00,259 - INFO - integration_test - === Applying control at step 99 ===
2025-12-01 13:38:00,259 - INFO - integration_test -   Control dict from planner: {'a': 3.9453603434942994e-08, 'w': -0.14471411489403457}
2025-12-01 13:38:00,259 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:38:00,259 - INFO - integration_test -   Planner output success: True
2025-12-01 13:38:00,260 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:38:00,260 - INFO - integration_test - Step 99 completed in 0.783s
2025-12-01 13:38:00,289 - INFO - integration_test - Step 100 (contouring until path end)
2025-12-01 13:38:00,290 - DEBUG - integration_test - Syncing planner state at step 100: vehicle_state=[23.35101561  6.82407412  0.68018379  3.00000003 25.17388774]
2025-12-01 13:38:00,291 - INFO - integration_test - Step 100: Re-initialized spline from 25.1739 to 24.8376 (vehicle at (23.35, 6.82), closest path point at (23.38, 6.30), distance=0.523m)
2025-12-01 13:38:00,291 - DEBUG - integration_test -   Set spline state to 24.8376
2025-12-01 13:38:00,291 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:38:00,306 - DEBUG - integration_test - Step 100: Checking path alignment: vehicle=(23.351, 6.824), path_start=(0.000, 0.000), dist=24.328m
2025-12-01 13:38:00,307 - WARNING - integration_test - Could not update reference path at step 100: x and y must have the same length
2025-12-01 13:38:00,307 - INFO - integration_test - === Calling planner.solve_mpc() at step 100 ===
2025-12-01 13:38:00,309 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:38:00,310 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:38:00,311 - INFO - integration_test - Warmstart k=0: x0=23.35101560546457 , y0=6.824074118270782 , psi0=0.680183794077091 , v0=3.0 , spline0=24.837646496492425 , a0=0.0 , w0=0.0
2025-12-01 13:38:00,311 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:38:00,312 - INFO - integration_test - Dyn residual k=0: pred=[23.584252746619995, 7.012754896268026, 0.680183794077091, 3.0, 25.137646496492426], ws=[23.584252746619995, 7.012754896268026, 0.6801837940770907, 3.0, 29.68401654458851], res=[0.0, 0.0, 2.220446049250313e-16, 0.0, -4.546370048096083], res_norm=4.546e+00
2025-12-01 13:38:00,313 - INFO - integration_test - Dyn residual k=1: pred=[23.81748988777542, 7.20143567426527, 0.6801837940770907, 3.0, 29.98401654458851], ws=[23.81748988777542, 7.20143567426527, 0.6801837940770907, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:38:00,313 - INFO - integration_test - Dyn residual k=2: pred=[24.050727028930844, 7.3901164522625145, 0.6801837940770907, 3.0, 29.98401654458851], ws=[24.050727028930844, 7.3901164522625145, 0.6801837940770907, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:38:00,328 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:00,340 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:00,357 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:00,368 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:00,384 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:00,396 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:00,412 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:00,424 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:00,440 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:00,451 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:00,467 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:00,479 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:00,495 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:00,507 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:00,523 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:00,535 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:00,550 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:00,562 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:00,578 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:00,590 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:00,606 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:00,618 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:01,901 - INFO - integration_test - Step 100: MPC solve successful
2025-12-01 13:38:01,912 - INFO - integration_test - Step 100: Computed 10 numeric contouring constraints for visualization (s=24.838)
2025-12-01 13:38:01,912 - DEBUG - integration_test - Step 100: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:38:01,912 - INFO - integration_test - === Applying control at step 100 ===
2025-12-01 13:38:01,912 - INFO - integration_test -   Control dict from planner: {'a': 1.31320992704845e-08, 'w': 0.2097124586641853}
2025-12-01 13:38:01,912 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:38:01,912 - INFO - integration_test -   Planner output success: True
2025-12-01 13:38:01,913 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:38:01,914 - INFO - integration_test - Step 100 completed in 1.624s
2025-12-01 13:38:01,939 - INFO - integration_test - Step 101 (contouring until path end)
2025-12-01 13:38:01,940 - DEBUG - integration_test - Syncing planner state at step 101: vehicle_state=[23.58225729  7.01518662  0.70115504  3.00000003 25.1376465 ]
2025-12-01 13:38:01,940 - DEBUG - integration_test - Step 101: Using propagated spline 25.1376 (close to path, dist=0.484m)
2025-12-01 13:38:01,941 - DEBUG - integration_test -   Set spline state to 25.1376
2025-12-01 13:38:01,941 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:38:01,956 - DEBUG - integration_test - Step 101: Checking path alignment: vehicle=(23.582, 7.015), path_start=(0.000, 0.000), dist=24.604m
2025-12-01 13:38:01,956 - WARNING - integration_test - Could not update reference path at step 101: x and y must have the same length
2025-12-01 13:38:01,956 - INFO - integration_test - === Calling planner.solve_mpc() at step 101 ===
2025-12-01 13:38:01,959 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:38:01,960 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:38:01,960 - INFO - integration_test - Warmstart k=0: x0=23.582257290220603 , y0=7.015186615412994 , psi0=0.7011550399435095 , v0=3.0 , spline0=25.137646499426435 , a0=0.0 , w0=0.0
2025-12-01 13:38:01,960 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:38:01,961 - INFO - integration_test - Dyn residual k=0: pred=[23.811486564248906, 7.208716819589133, 0.7011550399435095, 3.0, 25.437646499426435], ws=[23.811486564248906, 7.208716819589133, 0.7011550399435094, 3.0, 29.68401654458851], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -4.246370045162074], res_norm=4.246e+00
2025-12-01 13:38:01,962 - INFO - integration_test - Dyn residual k=1: pred=[24.040715838277208, 7.402247023765272, 0.7011550399435094, 3.0, 29.98401654458851], ws=[24.040715838277208, 7.402247023765272, 0.7011550399435094, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:38:01,963 - INFO - integration_test - Dyn residual k=2: pred=[24.26994511230551, 7.5957772279414115, 0.7011550399435094, 3.0, 29.98401654458851], ws=[24.26994511230551, 7.5957772279414115, 0.7011550399435094, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:38:01,981 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:01,994 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:02,013 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:02,025 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:02,044 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:02,058 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:02,075 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:02,089 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:02,107 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:02,120 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:02,137 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:02,150 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:02,167 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:02,179 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:02,196 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:02,207 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:02,223 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:02,235 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:02,251 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:02,263 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:02,279 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:02,291 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:02,794 - INFO - integration_test - Step 101: MPC solve successful
2025-12-01 13:38:02,806 - INFO - integration_test - Step 101: Computed 10 numeric contouring constraints for visualization (s=25.138)
2025-12-01 13:38:02,807 - DEBUG - integration_test - Step 101: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:38:02,807 - INFO - integration_test - === Applying control at step 101 ===
2025-12-01 13:38:02,807 - INFO - integration_test -   Control dict from planner: {'a': 4.397425810578064e-09, 'w': -0.32529172108383425}
2025-12-01 13:38:02,807 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:38:02,807 - INFO - integration_test -   Planner output success: True
2025-12-01 13:38:02,808 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:38:02,808 - INFO - integration_test - Step 101 completed in 0.869s
2025-12-01 13:38:02,831 - INFO - integration_test - Step 102 (contouring until path end)
2025-12-01 13:38:02,832 - DEBUG - integration_test - Syncing planner state at step 102: vehicle_state=[23.81459355  7.2049547   0.66862587  3.00000003 25.4376465 ]
2025-12-01 13:38:02,833 - INFO - integration_test - Step 102: Re-initialized spline from 25.4376 to 26.0492 (vehicle at (23.81, 7.20), closest path point at (24.32, 6.94), distance=0.570m)
2025-12-01 13:38:02,833 - DEBUG - integration_test -   Set spline state to 26.0492
2025-12-01 13:38:02,833 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:38:02,848 - DEBUG - integration_test - Step 102: Checking path alignment: vehicle=(23.815, 7.205), path_start=(0.000, 0.000), dist=24.881m
2025-12-01 13:38:02,848 - WARNING - integration_test - Could not update reference path at step 102: x and y must have the same length
2025-12-01 13:38:02,848 - INFO - integration_test - === Calling planner.solve_mpc() at step 102 ===
2025-12-01 13:38:02,851 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:38:02,852 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:38:02,852 - INFO - integration_test - Warmstart k=0: x0=23.814593553497748 , y0=7.204954702263655 , psi0=0.668625867835126 , v0=3.0 , spline0=26.049239008516444 , a0=0.0 , w0=0.0
2025-12-01 13:38:02,852 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:38:02,853 - INFO - integration_test - Dyn residual k=0: pred=[24.04999582622067, 7.390927200222043, 0.668625867835126, 3.0, 26.349239008516445], ws=[24.04999582622067, 7.390927200222043, 0.668625867835126, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -3.334777536072064], res_norm=3.335e+00
2025-12-01 13:38:02,854 - INFO - integration_test - Dyn residual k=1: pred=[24.285398098943592, 7.576899698180431, 0.668625867835126, 3.0, 29.98401654458851], ws=[24.285398098943592, 7.576899698180431, 0.668625867835126, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:38:02,855 - INFO - integration_test - Dyn residual k=2: pred=[24.520800371666514, 7.762872196138819, 0.668625867835126, 3.0, 29.98401654458851], ws=[24.520800371666514, 7.762872196138819, 0.668625867835126, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:38:02,870 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:02,882 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:02,898 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:02,910 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:02,926 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:02,938 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:02,954 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:02,966 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:02,982 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:02,994 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:03,010 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:03,022 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:03,038 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:03,049 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:03,066 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:03,077 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:03,094 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:03,106 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:03,122 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:03,134 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:03,151 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:03,164 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:03,713 - INFO - integration_test - Step 102: MPC solve successful
2025-12-01 13:38:03,728 - INFO - integration_test - Step 102: Computed 10 numeric contouring constraints for visualization (s=26.049)
2025-12-01 13:38:03,728 - DEBUG - integration_test - Step 102: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:38:03,728 - INFO - integration_test - === Applying control at step 102 ===
2025-12-01 13:38:03,728 - INFO - integration_test -   Control dict from planner: {'a': 2.199868164888511e-09, 'w': -0.19247324047487954}
2025-12-01 13:38:03,728 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:38:03,728 - INFO - integration_test -   Planner output success: True
2025-12-01 13:38:03,729 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:38:03,730 - INFO - integration_test - Step 102 completed in 0.898s
2025-12-01 13:38:03,762 - INFO - integration_test - Step 103 (contouring until path end)
2025-12-01 13:38:03,762 - DEBUG - integration_test - Syncing planner state at step 103: vehicle_state=[24.05177098  7.38865036  0.64937854  3.00000003 26.34923901]
2025-12-01 13:38:03,763 - INFO - integration_test - Step 103: Re-initialized spline from 26.3492 to 26.0492 (vehicle at (24.05, 7.39), closest path point at (24.32, 6.94), distance=0.524m)
2025-12-01 13:38:03,763 - DEBUG - integration_test -   Set spline state to 26.0492
2025-12-01 13:38:03,764 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:38:03,778 - DEBUG - integration_test - Step 103: Checking path alignment: vehicle=(24.052, 7.389), path_start=(0.000, 0.000), dist=25.161m
2025-12-01 13:38:03,779 - WARNING - integration_test - Could not update reference path at step 103: x and y must have the same length
2025-12-01 13:38:03,779 - INFO - integration_test - === Calling planner.solve_mpc() at step 103 ===
2025-12-01 13:38:03,781 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:38:03,783 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:38:03,783 - INFO - integration_test - Warmstart k=0: x0=24.051770975578247 , y0=7.3886503577521525 , psi0=0.649378543787638 , v0=3.0 , spline0=26.049239008516444 , a0=0.0 , w0=0.0
2025-12-01 13:38:03,783 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:38:03,783 - INFO - integration_test - Dyn residual k=0: pred=[24.290708898073078, 7.570057825056709, 0.649378543787638, 3.0, 26.349239008516445], ws=[24.290708898073078, 7.570057825056709, 0.649378543787638, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -3.334777536072064], res_norm=3.335e+00
2025-12-01 13:38:03,784 - INFO - integration_test - Dyn residual k=1: pred=[24.52964682056791, 7.751465292361266, 0.649378543787638, 3.0, 29.98401654458851], ws=[24.52964682056791, 7.751465292361266, 0.649378543787638, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:38:03,785 - INFO - integration_test - Dyn residual k=2: pred=[24.76858474306274, 7.932872759665823, 0.649378543787638, 3.0, 29.98401654458851], ws=[24.76858474306274, 7.932872759665823, 0.649378543787638, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:38:03,800 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:03,812 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:03,829 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:03,841 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:03,858 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:03,870 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:03,887 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:03,899 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:03,915 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:03,927 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:03,944 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:03,955 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:03,972 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:03,983 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:03,999 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:04,011 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:04,028 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:04,040 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:04,058 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:04,070 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:04,089 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:04,102 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:04,550 - INFO - integration_test - Step 103: MPC solve successful
2025-12-01 13:38:04,562 - INFO - integration_test - Step 103: Computed 10 numeric contouring constraints for visualization (s=26.049)
2025-12-01 13:38:04,562 - DEBUG - integration_test - Step 103: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:38:04,562 - INFO - integration_test - === Applying control at step 103 ===
2025-12-01 13:38:04,562 - INFO - integration_test -   Control dict from planner: {'a': 5.428954767203054e-13, 'w': 0.06211662495988752}
2025-12-01 13:38:04,562 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:38:04,562 - INFO - integration_test -   Planner output success: True
2025-12-01 13:38:04,563 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:38:04,563 - INFO - integration_test - Step 103 completed in 0.801s
2025-12-01 13:38:04,587 - INFO - integration_test - Step 104 (contouring until path end)
2025-12-01 13:38:04,588 - DEBUG - integration_test - Syncing planner state at step 104: vehicle_state=[24.29014394  7.57079876  0.65559021  3.00000003 26.34923901]
2025-12-01 13:38:04,588 - INFO - integration_test - Step 104: Re-initialized spline from 26.3492 to 26.6550 (vehicle at (24.29, 7.57), closest path point at (24.77, 7.27), distance=0.571m)
2025-12-01 13:38:04,589 - DEBUG - integration_test -   Set spline state to 26.6550
2025-12-01 13:38:04,589 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:38:04,604 - DEBUG - integration_test - Step 104: Checking path alignment: vehicle=(24.290, 7.571), path_start=(0.000, 0.000), dist=25.443m
2025-12-01 13:38:04,604 - WARNING - integration_test - Could not update reference path at step 104: x and y must have the same length
2025-12-01 13:38:04,604 - INFO - integration_test - === Calling planner.solve_mpc() at step 104 ===
2025-12-01 13:38:04,607 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:38:04,608 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:38:04,608 - INFO - integration_test - Warmstart k=0: x0=24.29014394473089 , y0=7.570798758766742 , psi0=0.6555902062836267 , v0=3.0 , spline0=26.655035264528458 , a0=0.0 , w0=0.0
2025-12-01 13:38:04,608 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:38:04,609 - INFO - integration_test - Dyn residual k=0: pred=[24.52795042284575, 7.753686918489034, 0.6555902062836267, 3.0, 26.95503526452846], ws=[24.52795042284575, 7.753686918489034, 0.6555902062836267, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -2.728981280060051], res_norm=2.729e+00
2025-12-01 13:38:04,610 - INFO - integration_test - Dyn residual k=1: pred=[24.765756900960607, 7.936575078211327, 0.6555902062836267, 3.0, 29.98401654458851], ws=[24.765756900960607, 7.936575078211327, 0.6555902062836267, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:38:04,611 - INFO - integration_test - Dyn residual k=2: pred=[25.003563379075466, 8.11946323793362, 0.6555902062836267, 3.0, 29.98401654458851], ws=[25.003563379075466, 8.11946323793362, 0.6555902062836267, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:38:04,626 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:04,637 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:04,655 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:04,666 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:04,683 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:04,695 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:04,711 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:04,723 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:04,740 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:04,752 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:04,768 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:04,780 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:04,797 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:04,809 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:04,825 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:04,837 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:04,853 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:04,865 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:04,881 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:04,893 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:04,909 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:04,920 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:05,382 - INFO - integration_test - Step 104: MPC solve successful
2025-12-01 13:38:05,393 - INFO - integration_test - Step 104: Computed 10 numeric contouring constraints for visualization (s=26.655)
2025-12-01 13:38:05,394 - DEBUG - integration_test - Step 104: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:38:05,394 - INFO - integration_test - === Applying control at step 104 ===
2025-12-01 13:38:05,394 - INFO - integration_test -   Control dict from planner: {'a': -6.700243327456775e-13, 'w': -0.08189600539881543}
2025-12-01 13:38:05,394 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:38:05,394 - INFO - integration_test -   Planner output success: True
2025-12-01 13:38:05,395 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:38:05,395 - INFO - integration_test - Step 104 completed in 0.808s
2025-12-01 13:38:05,420 - INFO - integration_test - Step 105 (contouring until path end)
2025-12-01 13:38:05,420 - DEBUG - integration_test - Syncing planner state at step 105: vehicle_state=[24.52869665  7.75271111  0.64740061  3.00000003 26.95503527]
2025-12-01 13:38:05,421 - INFO - integration_test - Step 105: Re-initialized spline from 26.9550 to 26.6550 (vehicle at (24.53, 7.75), closest path point at (24.77, 7.27), distance=0.543m)
2025-12-01 13:38:05,421 - DEBUG - integration_test -   Set spline state to 26.6550
2025-12-01 13:38:05,422 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:38:05,436 - DEBUG - integration_test - Step 105: Checking path alignment: vehicle=(24.529, 7.753), path_start=(0.000, 0.000), dist=25.725m
2025-12-01 13:38:05,437 - WARNING - integration_test - Could not update reference path at step 105: x and y must have the same length
2025-12-01 13:38:05,437 - INFO - integration_test - === Calling planner.solve_mpc() at step 105 ===
2025-12-01 13:38:05,439 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:38:05,440 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:38:05,440 - INFO - integration_test - Warmstart k=0: x0=24.528696653278192 , y0=7.752711111355716 , psi0=0.6474006057437452 , v0=3.0 , spline0=26.655035264528458 , a0=0.0 , w0=0.0
2025-12-01 13:38:05,440 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:38:05,442 - INFO - integration_test - Dyn residual k=0: pred=[24.767992920879127, 7.933645619706839, 0.6474006057437452, 3.0, 26.95503526452846], ws=[24.767992920879127, 7.933645619706839, 0.6474006057437451, 3.0, 29.68401654458851], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -2.728981280060051], res_norm=2.729e+00
2025-12-01 13:38:05,443 - INFO - integration_test - Dyn residual k=1: pred=[25.007289188480062, 8.11458012805796, 0.6474006057437451, 3.0, 29.98401654458851], ws=[25.007289188480062, 8.11458012805796, 0.6474006057437451, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:38:05,443 - INFO - integration_test - Dyn residual k=2: pred=[25.246585456080997, 8.295514636409083, 0.6474006057437451, 3.0, 29.98401654458851], ws=[25.246585456080997, 8.295514636409083, 0.6474006057437451, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:38:05,459 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:05,471 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:05,487 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:05,499 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:05,515 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:05,526 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:05,542 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:05,554 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:05,570 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:05,581 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:05,597 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:05,610 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:05,626 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:05,638 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:05,654 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:05,666 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:05,682 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:05,693 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:05,709 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:05,721 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:05,737 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:05,748 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:06,202 - INFO - integration_test - Step 105: MPC solve successful
2025-12-01 13:38:06,214 - INFO - integration_test - Step 105: Computed 10 numeric contouring constraints for visualization (s=26.655)
2025-12-01 13:38:06,214 - DEBUG - integration_test - Step 105: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:38:06,214 - INFO - integration_test - === Applying control at step 105 ===
2025-12-01 13:38:06,214 - INFO - integration_test -   Control dict from planner: {'a': -1.3684624028802873e-10, 'w': 0.04210530810856479}
2025-12-01 13:38:06,214 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:38:06,214 - INFO - integration_test -   Planner output success: True
2025-12-01 13:38:06,215 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:38:06,216 - INFO - integration_test - Step 105 completed in 0.796s
2025-12-01 13:38:06,240 - INFO - integration_test - Step 106 (contouring until path end)
2025-12-01 13:38:06,242 - DEBUG - integration_test - Syncing planner state at step 106: vehicle_state=[24.7676113   7.93414887  0.65161114  3.00000003 26.95503527]
2025-12-01 13:38:06,242 - INFO - integration_test - Step 106: Re-initialized spline from 26.9550 to 27.2608 (vehicle at (24.77, 7.93), closest path point at (25.23, 7.61), distance=0.563m)
2025-12-01 13:38:06,242 - DEBUG - integration_test -   Set spline state to 27.2608
2025-12-01 13:38:06,243 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:38:06,258 - DEBUG - integration_test - Step 106: Checking path alignment: vehicle=(24.768, 7.934), path_start=(0.000, 0.000), dist=26.007m
2025-12-01 13:38:06,258 - WARNING - integration_test - Could not update reference path at step 106: x and y must have the same length
2025-12-01 13:38:06,258 - INFO - integration_test - === Calling planner.solve_mpc() at step 106 ===
2025-12-01 13:38:06,261 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:38:06,262 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:38:06,262 - INFO - integration_test - Warmstart k=0: x0=24.767611301606618 , y0=7.934148868312495 , psi0=0.6516111365546017 , v0=3.0 , spline0=27.260831520540467 , a0=0.0 , w0=0.0
2025-12-01 13:38:06,262 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:38:06,263 - INFO - integration_test - Dyn residual k=0: pred=[25.00614361994927, 8.116089334141511, 0.6516111365546017, 3.0, 27.560831520540468], ws=[25.00614361994927, 8.116089334141511, 0.6516111365546018, 3.0, 29.68401654458851], res=[0.0, 0.0, -1.1102230246251565e-16, 0.0, -2.123185024048041], res_norm=2.123e+00
2025-12-01 13:38:06,264 - INFO - integration_test - Dyn residual k=1: pred=[25.244675938291923, 8.298029799970529, 0.6516111365546018, 3.0, 29.98401654458851], ws=[25.244675938291923, 8.298029799970529, 0.6516111365546018, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:38:06,265 - INFO - integration_test - Dyn residual k=2: pred=[25.483208256634576, 8.479970265799546, 0.6516111365546018, 3.0, 29.98401654458851], ws=[25.483208256634576, 8.479970265799546, 0.6516111365546018, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:38:06,280 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:06,292 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:06,309 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:06,320 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:06,337 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:06,348 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:06,365 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:06,377 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:06,393 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:06,405 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:06,421 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:06,433 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:06,449 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:06,461 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:06,477 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:06,489 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:06,504 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:06,516 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:06,532 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:06,544 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:06,561 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:06,573 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:06,977 - INFO - integration_test - Step 106: MPC solve successful
2025-12-01 13:38:06,988 - INFO - integration_test - Step 106: Computed 10 numeric contouring constraints for visualization (s=27.261)
2025-12-01 13:38:06,989 - DEBUG - integration_test - Step 106: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:38:06,989 - INFO - integration_test - === Applying control at step 106 ===
2025-12-01 13:38:06,989 - INFO - integration_test -   Control dict from planner: {'a': 6.620276828127983e-11, 'w': -0.05666927869739717}
2025-12-01 13:38:06,989 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:38:06,989 - INFO - integration_test -   Planner output success: True
2025-12-01 13:38:06,990 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:38:06,990 - INFO - integration_test - Step 106 completed in 0.749s
2025-12-01 13:38:07,016 - INFO - integration_test - Step 107 (contouring until path end)
2025-12-01 13:38:07,017 - DEBUG - integration_test - Syncing planner state at step 107: vehicle_state=[25.00665787  8.11541249  0.64594421  3.00000003 27.56083152]
2025-12-01 13:38:07,017 - INFO - integration_test - Step 107: Re-initialized spline from 27.5608 to 27.2608 (vehicle at (25.01, 8.12), closest path point at (25.23, 7.61), distance=0.554m)
2025-12-01 13:38:07,018 - DEBUG - integration_test -   Set spline state to 27.2608
2025-12-01 13:38:07,018 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:38:07,032 - DEBUG - integration_test - Step 107: Checking path alignment: vehicle=(25.007, 8.115), path_start=(0.000, 0.000), dist=26.291m
2025-12-01 13:38:07,032 - WARNING - integration_test - Could not update reference path at step 107: x and y must have the same length
2025-12-01 13:38:07,032 - INFO - integration_test - === Calling planner.solve_mpc() at step 107 ===
2025-12-01 13:38:07,035 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:38:07,036 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:38:07,036 - INFO - integration_test - Warmstart k=0: x0=25.006657866002307 , y0=8.115412491234377 , psi0=0.6459442086848619 , v0=3.0 , spline0=27.260831520540467 , a0=0.0 , w0=0.0
2025-12-01 13:38:07,036 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:38:07,037 - INFO - integration_test - Dyn residual k=0: pred=[25.246217392211197, 8.295998297438997, 0.6459442086848619, 3.0, 27.560831520540468], ws=[25.246217392211197, 8.295998297438997, 0.6459442086848619, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -2.123185024048041], res_norm=2.123e+00
2025-12-01 13:38:07,038 - INFO - integration_test - Dyn residual k=1: pred=[25.485776918420086, 8.476584103643617, 0.6459442086848619, 3.0, 29.98401654458851], ws=[25.485776918420086, 8.476584103643617, 0.6459442086848619, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:38:07,038 - INFO - integration_test - Dyn residual k=2: pred=[25.725336444628976, 8.657169909848237, 0.6459442086848619, 3.0, 29.98401654458851], ws=[25.725336444628976, 8.657169909848237, 0.6459442086848619, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:38:07,054 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:07,066 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:07,082 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:07,094 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:07,111 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:07,123 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:07,139 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:07,150 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:07,166 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:07,178 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:07,195 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:07,207 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:07,223 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:07,235 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:07,251 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:07,263 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:07,280 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:07,292 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:07,308 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:07,319 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:07,335 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:07,347 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:07,749 - INFO - integration_test - Step 107: MPC solve successful
2025-12-01 13:38:07,761 - INFO - integration_test - Step 107: Computed 10 numeric contouring constraints for visualization (s=27.261)
2025-12-01 13:38:07,761 - DEBUG - integration_test - Step 107: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:38:07,761 - INFO - integration_test - === Applying control at step 107 ===
2025-12-01 13:38:07,761 - INFO - integration_test -   Control dict from planner: {'a': 3.581975205908864e-11, 'w': 0.1146796754485121}
2025-12-01 13:38:07,761 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:38:07,761 - INFO - integration_test -   Planner output success: True
2025-12-01 13:38:07,762 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:38:07,762 - INFO - integration_test - Step 107 completed in 0.746s
2025-12-01 13:38:07,788 - INFO - integration_test - Step 108 (contouring until path end)
2025-12-01 13:38:07,788 - DEBUG - integration_test - Syncing planner state at step 108: vehicle_state=[25.24517668  8.29736796  0.65741218  3.00000003 27.56083152]
2025-12-01 13:38:07,789 - INFO - integration_test - Step 108: Re-initialized spline from 27.5608 to 27.8666 (vehicle at (25.25, 8.30), closest path point at (25.67, 7.95), distance=0.551m)
2025-12-01 13:38:07,789 - DEBUG - integration_test -   Set spline state to 27.8666
2025-12-01 13:38:07,789 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:38:07,804 - DEBUG - integration_test - Step 108: Checking path alignment: vehicle=(25.245, 8.297), path_start=(0.000, 0.000), dist=26.574m
2025-12-01 13:38:07,804 - WARNING - integration_test - Could not update reference path at step 108: x and y must have the same length
2025-12-01 13:38:07,804 - INFO - integration_test - === Calling planner.solve_mpc() at step 108 ===
2025-12-01 13:38:07,806 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:38:07,808 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:38:07,808 - INFO - integration_test - Warmstart k=0: x0=25.24517667898146 , y0=8.297367956398183 , psi0=0.6574121762297132 , v0=3.0 , spline0=27.866627776552477 , a0=0.0 , w0=0.0
2025-12-01 13:38:07,808 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:38:07,809 - INFO - integration_test - Dyn residual k=0: pred=[25.482649545842115, 8.48068908858152, 0.6574121762297132, 3.0, 28.166627776552478], ws=[25.482649545842115, 8.48068908858152, 0.6574121762297134, 3.0, 29.68401654458851], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, -1.5173887680360316], res_norm=1.517e+00
2025-12-01 13:38:07,809 - INFO - integration_test - Dyn residual k=1: pred=[25.72012241270277, 8.664010220764858, 0.6574121762297134, 3.0, 29.98401654458851], ws=[25.72012241270277, 8.664010220764858, 0.6574121762297134, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:38:07,810 - INFO - integration_test - Dyn residual k=2: pred=[25.957595279563428, 8.847331352948196, 0.6574121762297134, 3.0, 29.98401654458851], ws=[25.957595279563428, 8.847331352948196, 0.6574121762297134, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:38:07,825 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:07,837 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:07,854 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:07,865 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:07,882 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:07,894 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:07,910 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:07,922 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:07,938 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:07,950 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:07,966 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:07,977 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:07,994 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:08,005 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:08,022 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:08,033 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:08,049 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:08,061 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:08,077 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:08,089 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:08,105 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:08,117 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:08,518 - INFO - integration_test - Step 108: MPC solve successful
2025-12-01 13:38:08,530 - INFO - integration_test - Step 108: Computed 10 numeric contouring constraints for visualization (s=27.867)
2025-12-01 13:38:08,530 - DEBUG - integration_test - Step 108: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:38:08,530 - INFO - integration_test - === Applying control at step 108 ===
2025-12-01 13:38:08,530 - INFO - integration_test -   Control dict from planner: {'a': 2.2355666862284002e-11, 'w': -0.1389277373800236}
2025-12-01 13:38:08,531 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:38:08,531 - INFO - integration_test -   Planner output success: True
2025-12-01 13:38:08,531 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:38:08,532 - INFO - integration_test - Step 108 completed in 0.744s
2025-12-01 13:38:08,556 - INFO - integration_test - Step 109 (contouring until path end)
2025-12-01 13:38:08,558 - DEBUG - integration_test - Syncing planner state at step 109: vehicle_state=[25.48391531  8.47903364  0.6435194   3.00000003 28.16662778]
2025-12-01 13:38:08,558 - INFO - integration_test - Step 109: Re-initialized spline from 28.1666 to 27.8666 (vehicle at (25.48, 8.48), closest path point at (25.67, 7.95), distance=0.562m)
2025-12-01 13:38:08,558 - DEBUG - integration_test -   Set spline state to 27.8666
2025-12-01 13:38:08,559 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:38:08,573 - DEBUG - integration_test - Step 109: Checking path alignment: vehicle=(25.484, 8.479), path_start=(0.000, 0.000), dist=26.857m
2025-12-01 13:38:08,573 - WARNING - integration_test - Could not update reference path at step 109: x and y must have the same length
2025-12-01 13:38:08,573 - INFO - integration_test - === Calling planner.solve_mpc() at step 109 ===
2025-12-01 13:38:08,576 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:38:08,577 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:38:08,577 - INFO - integration_test - Warmstart k=0: x0=25.48391530825667 , y0=8.479033641475297 , psi0=0.6435194024917108 , v0=3.0 , spline0=27.866627776552477 , a0=0.0 , w0=0.0
2025-12-01 13:38:08,577 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:38:08,578 - INFO - integration_test - Dyn residual k=0: pred=[25.723912015350795, 8.6590380319328, 0.6435194024917108, 3.0, 28.166627776552478], ws=[25.723912015350795, 8.6590380319328, 0.6435194024917106, 3.0, 29.68401654458851], res=[0.0, 0.0, 2.220446049250313e-16, 0.0, -1.5173887680360316], res_norm=1.517e+00
2025-12-01 13:38:08,579 - INFO - integration_test - Dyn residual k=1: pred=[25.96390872244492, 8.839042422390303, 0.6435194024917106, 3.0, 29.98401654458851], ws=[25.96390872244492, 8.839042422390303, 0.6435194024917106, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:38:08,580 - INFO - integration_test - Dyn residual k=2: pred=[26.203905429539045, 9.019046812847806, 0.6435194024917106, 3.0, 29.98401654458851], ws=[26.203905429539045, 9.019046812847806, 0.6435194024917106, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:38:08,595 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:08,607 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:08,623 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:08,635 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:08,651 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:08,663 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:08,679 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:08,691 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:08,707 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:08,719 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:08,735 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:08,747 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:08,763 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:08,775 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:08,791 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:08,803 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:08,819 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:08,830 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:08,846 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:08,858 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:08,874 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:08,886 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:09,267 - INFO - integration_test - Step 109: MPC solve successful
2025-12-01 13:38:09,278 - INFO - integration_test - Step 109: Computed 10 numeric contouring constraints for visualization (s=27.867)
2025-12-01 13:38:09,279 - DEBUG - integration_test - Step 109: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:38:09,279 - INFO - integration_test - === Applying control at step 109 ===
2025-12-01 13:38:09,279 - INFO - integration_test -   Control dict from planner: {'a': 6.251165918985285e-12, 'w': 0.8000000099565572}
2025-12-01 13:38:09,279 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:38:09,279 - INFO - integration_test -   Planner output success: True
2025-12-01 13:38:09,280 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:38:09,280 - INFO - integration_test - Step 109 completed in 0.723s
2025-12-01 13:38:09,307 - INFO - integration_test - Step 110 (contouring until path end)
2025-12-01 13:38:09,308 - DEBUG - integration_test - Syncing planner state at step 110: vehicle_state=[25.71645977  8.66844084  0.7235194   3.00000003 28.16662778]
2025-12-01 13:38:09,309 - INFO - integration_test - Step 110: Re-initialized spline from 28.1666 to 28.4724 (vehicle at (25.72, 8.67), closest path point at (26.12, 8.30), distance=0.546m)
2025-12-01 13:38:09,309 - DEBUG - integration_test -   Set spline state to 28.4724
2025-12-01 13:38:09,309 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:38:09,323 - DEBUG - integration_test - Step 110: Checking path alignment: vehicle=(25.716, 8.668), path_start=(0.000, 0.000), dist=27.138m
2025-12-01 13:38:09,324 - WARNING - integration_test - Could not update reference path at step 110: x and y must have the same length
2025-12-01 13:38:09,324 - INFO - integration_test - === Calling planner.solve_mpc() at step 110 ===
2025-12-01 13:38:09,326 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:38:09,327 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:38:09,327 - INFO - integration_test - Warmstart k=0: x0=25.716459769963308 , y0=8.668440842830739 , psi0=0.7235194034873665 , v0=3.0 , spline0=28.472424032564486 , a0=0.0 , w0=0.0
2025-12-01 13:38:09,327 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:38:09,328 - INFO - integration_test - Dyn residual k=0: pred=[25.941303901127476, 8.867048790005644, 0.7235194034873665, 3.0, 28.772424032564487], ws=[25.941303901127476, 8.867048790005644, 0.7235194034873667, 3.0, 29.68401654458851], res=[0.0, 0.0, -1.1102230246251565e-16, 0.0, -0.911592512024022], res_norm=9.116e-01
2025-12-01 13:38:09,329 - INFO - integration_test - Dyn residual k=1: pred=[26.166148032291645, 9.065656737180548, 0.7235194034873667, 3.0, 29.98401654458851], ws=[26.166148032291645, 9.065656737180548, 0.7235194034873667, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:38:09,330 - INFO - integration_test - Dyn residual k=2: pred=[26.390992163455813, 9.264264684355453, 0.7235194034873667, 3.0, 29.98401654458851], ws=[26.390992163455813, 9.264264684355453, 0.7235194034873667, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 13:38:09,345 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:09,357 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:09,373 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:09,385 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:09,402 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:09,414 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:09,430 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:09,441 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:09,457 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:09,469 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:09,485 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:09,497 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:09,513 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:09,525 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:09,541 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:09,553 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:09,569 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:09,581 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:09,597 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:09,609 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:09,624 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:09,636 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:09,947 - INFO - integration_test - Step 110: MPC solve successful
2025-12-01 13:38:09,959 - INFO - integration_test - Step 110: Computed 10 numeric contouring constraints for visualization (s=28.472)
2025-12-01 13:38:09,959 - DEBUG - integration_test - Step 110: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:38:09,959 - INFO - integration_test - === Applying control at step 110 ===
2025-12-01 13:38:09,959 - INFO - integration_test -   Control dict from planner: {'a': -1.9999999919466276, 'w': 0.7999993726996721}
2025-12-01 13:38:09,959 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:38:09,959 - INFO - integration_test -   Planner output success: True
2025-12-01 13:38:09,960 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:38:09,961 - INFO - integration_test - Step 110 completed in 0.653s
2025-12-01 13:38:09,984 - INFO - integration_test - Step 111 (contouring until path end)
2025-12-01 13:38:09,985 - DEBUG - integration_test - Syncing planner state at step 111: vehicle_state=[25.9259941   8.86881684  0.80351934  2.80000003 28.75242404]
2025-12-01 13:38:09,986 - INFO - integration_test - Step 111: Re-initialized spline from 28.7524 to 28.4724 (vehicle at (25.93, 8.87), closest path point at (26.12, 8.30), distance=0.602m)
2025-12-01 13:38:09,986 - DEBUG - integration_test -   Set spline state to 28.4724
2025-12-01 13:38:09,987 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:38:10,002 - DEBUG - integration_test - Step 111: Checking path alignment: vehicle=(25.926, 8.869), path_start=(0.000, 0.000), dist=27.401m
2025-12-01 13:38:10,002 - WARNING - integration_test - Could not update reference path at step 111: x and y must have the same length
2025-12-01 13:38:10,002 - INFO - integration_test - === Calling planner.solve_mpc() at step 111 ===
2025-12-01 13:38:10,007 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 13:38:10,008 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 13:38:10,009 - INFO - integration_test - Warmstart k=0: x0=25.92599410186983 , y0=8.86881684433559 , psi0=0.8035193407573338 , v0=2.800000030804537 , spline0=28.472424032564486 , a0=0.0 , w0=0.0
2025-12-01 13:38:10,009 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 13:38:10,010 - INFO - integration_test - Dyn residual k=0: pred=[26.120363882244167, 9.070361852217914, 0.8035193407573338, 2.800000030804537, 28.75242403564494], ws=[26.120363882244167, 9.070361852217914, 0.803519340757334, 2.800000030804537, 29.68401654458851], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, -0.9315925089435702], res_norm=9.316e-01
2025-12-01 13:38:10,011 - INFO - integration_test - Dyn residual k=1: pred=[26.314733662618504, 9.271906860100238, 0.803519340757334, 2.800000030804537, 29.96401654766896], ws=[26.314733662618504, 9.271906860100238, 0.803519340757334, 2.800000030804537, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.2800000030804526], res_norm=2.800e-01
2025-12-01 13:38:10,012 - INFO - integration_test - Dyn residual k=2: pred=[26.509103442992842, 9.473451867982561, 0.803519340757334, 2.800000030804537, 29.96401654766896], ws=[26.509103442992842, 9.473451867982561, 0.803519340757334, 2.800000030804537, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.2800000030804526], res_norm=2.800e-01
2025-12-01 13:38:10,030 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:10,044 - INFO - integration_test - Stage 0: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:10,062 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:10,075 - INFO - integration_test - Stage 1: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:10,092 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:10,105 - INFO - integration_test - Stage 2: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:10,122 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:10,134 - INFO - integration_test - Stage 3: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:10,150 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:10,162 - INFO - integration_test - Stage 4: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:10,179 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:10,191 - INFO - integration_test - Stage 5: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:10,209 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:10,223 - INFO - integration_test - Stage 6: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:10,240 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:10,253 - INFO - integration_test - Stage 7: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:10,270 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:10,282 - INFO - integration_test - Stage 8: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:10,299 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:10,311 - INFO - integration_test - Stage 9: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:10,327 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 13:38:10,340 - INFO - integration_test - Stage 10: constraints count=3 (linearized=0, contouring=3, other=0)
2025-12-01 13:38:10,636 - INFO - integration_test - Step 111: MPC solve successful
2025-12-01 13:38:10,648 - INFO - integration_test - Step 111: Computed 10 numeric contouring constraints for visualization (s=28.472)
2025-12-01 13:38:10,648 - DEBUG - integration_test - Step 111: Captured 10 contouring constraint halfspaces for visualization
2025-12-01 13:38:10,648 - INFO - integration_test - === Applying control at step 111 ===
2025-12-01 13:38:10,648 - INFO - integration_test -   Control dict from planner: {'a': -2.000000019957181, 'w': -0.33087218547957475}
2025-12-01 13:38:10,648 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 13:38:10,648 - INFO - integration_test -   Planner output success: True
2025-12-01 13:38:10,649 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 13:38:10,650 - INFO - integration_test - Goal reached at step 111!
2025-12-01 13:38:10,650 - INFO - integration_test - Step 111 completed in 0.665s
2025-12-01 13:38:10,674 - INFO - integration_test - Goal reached at step 111, added 3 extra frames for visualization
2025-12-01 13:38:10,675 - INFO - integration_test - Saving test results...
2025-12-01 13:38:10,676 - INFO - integration_test - Saved 116 vehicle states to test_outputs/20251201_133632_contouring_contouring_gaussian_contouring_unicycle/vehicle_states.csv
2025-12-01 13:38:10,676 - INFO - integration_test - Saved obstacle summary to test_outputs/20251201_133632_contouring_contouring_gaussian_contouring_unicycle/obstacle_summary.csv
2025-12-01 13:38:10,676 - INFO - integration_test - Saved 123 states for obstacle 0 to test_outputs/20251201_133632_contouring_contouring_gaussian_contouring_unicycle/obstacle_0_detailed_states.csv
2025-12-01 13:38:10,676 - INFO - integration_test - Saved state history: 116 vehicle states, 1 obstacles
2025-12-01 13:38:10,676 - INFO - integration_test - Creating animation...
2025-12-01 13:38:10,692 - DEBUG - integration_test - Frame 0: Drawing 10 contouring constraint halfspaces
2025-12-01 13:38:10,700 - INFO - integration_test - Frame 0: Found Gaussian module 'gaussian_constraints', calling visualizer
2025-12-01 13:38:10,700 - INFO - integration_test - Frame 0: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:10,700 - INFO - integration_test - Frame 0: Obstacle 0 has Gaussian prediction with major_radius=0.7, minor_radius=0.6, position=[13.72020142  4.47095892]
2025-12-01 13:38:10,700 - INFO - integration_test - Frame 0: Found 1/1 obstacles with Gaussian predictions, calling visualizer
2025-12-01 13:38:10,700 - INFO - integration_test - Frame 0: About to call Gaussian visualizer.visualize()
2025-12-01 13:38:10,700 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:10,700 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:10,702 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:10,703 - INFO - integration_test - Frame 0: Gaussian visualizer.visualize() completed
2025-12-01 13:38:10,703 - INFO - integration_test - Frame 0: Visualizer added 2 ellipses, 1 markers, and 1 text annotations for Gaussian constraints
2025-12-01 13:38:10,704 - DEBUG - integration_test - Frame 0: Drawing 10 contouring constraint halfspaces
2025-12-01 13:38:10,711 - INFO - integration_test - Frame 0: Found Gaussian module 'gaussian_constraints', calling visualizer
2025-12-01 13:38:10,711 - INFO - integration_test - Frame 0: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:10,712 - INFO - integration_test - Frame 0: Obstacle 0 has Gaussian prediction with major_radius=0.7, minor_radius=0.6, position=[13.72020142  4.47095892]
2025-12-01 13:38:10,712 - INFO - integration_test - Frame 0: Found 1/1 obstacles with Gaussian predictions, calling visualizer
2025-12-01 13:38:10,712 - INFO - integration_test - Frame 0: About to call Gaussian visualizer.visualize()
2025-12-01 13:38:10,712 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:10,712 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:10,713 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:10,715 - INFO - integration_test - Frame 0: Gaussian visualizer.visualize() completed
2025-12-01 13:38:10,715 - INFO - integration_test - Frame 0: Visualizer added 2 ellipses, 1 markers, and 1 text annotations for Gaussian constraints
2025-12-01 13:38:10,883 - DEBUG - integration_test - Frame 1: Drawing 10 contouring constraint halfspaces
2025-12-01 13:38:10,891 - INFO - integration_test - Frame 1: Found Gaussian module 'gaussian_constraints', calling visualizer
2025-12-01 13:38:10,892 - INFO - integration_test - Frame 1: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:10,892 - INFO - integration_test - Frame 1: Obstacle 0 has Gaussian prediction with major_radius=0.7, minor_radius=0.6, position=[13.72020142  4.47095892]
2025-12-01 13:38:10,892 - INFO - integration_test - Frame 1: Found 1/1 obstacles with Gaussian predictions, calling visualizer
2025-12-01 13:38:10,892 - INFO - integration_test - Frame 1: About to call Gaussian visualizer.visualize()
2025-12-01 13:38:10,892 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:10,892 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:10,894 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:10,895 - INFO - integration_test - Frame 1: Gaussian visualizer.visualize() completed
2025-12-01 13:38:10,896 - INFO - integration_test - Frame 1: Visualizer added 2 ellipses, 1 markers, and 1 text annotations for Gaussian constraints
2025-12-01 13:38:10,958 - DEBUG - integration_test - Frame 2: Drawing 10 contouring constraint halfspaces
2025-12-01 13:38:10,967 - INFO - integration_test - Frame 2: Found Gaussian module 'gaussian_constraints', calling visualizer
2025-12-01 13:38:10,967 - INFO - integration_test - Frame 2: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:10,967 - INFO - integration_test - Frame 2: Obstacle 0 has Gaussian prediction with major_radius=0.7, minor_radius=0.6, position=[13.72020142  4.47095892]
2025-12-01 13:38:10,967 - INFO - integration_test - Frame 2: Found 1/1 obstacles with Gaussian predictions, calling visualizer
2025-12-01 13:38:10,967 - INFO - integration_test - Frame 2: About to call Gaussian visualizer.visualize()
2025-12-01 13:38:10,967 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:10,967 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:10,969 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:10,971 - INFO - integration_test - Frame 2: Gaussian visualizer.visualize() completed
2025-12-01 13:38:10,971 - INFO - integration_test - Frame 2: Visualizer added 2 ellipses, 1 markers, and 1 text annotations for Gaussian constraints
2025-12-01 13:38:11,041 - INFO - integration_test - Frame 3: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:11,042 - INFO - integration_test - Frame 3: Obstacle 0 has Gaussian prediction with major_radius=0.7, minor_radius=0.6, position=[13.72020142  4.47095892]
2025-12-01 13:38:11,042 - INFO - integration_test - Frame 3: Found 1/1 obstacles with Gaussian predictions, calling visualizer
2025-12-01 13:38:11,042 - INFO - integration_test - Frame 3: About to call Gaussian visualizer.visualize()
2025-12-01 13:38:11,042 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:11,042 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:11,043 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:11,045 - INFO - integration_test - Frame 3: Gaussian visualizer.visualize() completed
2025-12-01 13:38:11,045 - INFO - integration_test - Frame 3: Visualizer added 2 ellipses, 1 markers, and 1 text annotations for Gaussian constraints
2025-12-01 13:38:11,109 - INFO - integration_test - Frame 4: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:11,109 - INFO - integration_test - Frame 4: Obstacle 0 has Gaussian prediction with major_radius=0.7, minor_radius=0.6, position=[13.72020142  4.47095892]
2025-12-01 13:38:11,109 - INFO - integration_test - Frame 4: Found 1/1 obstacles with Gaussian predictions, calling visualizer
2025-12-01 13:38:11,109 - INFO - integration_test - Frame 4: About to call Gaussian visualizer.visualize()
2025-12-01 13:38:11,109 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:11,109 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:11,111 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:11,112 - INFO - integration_test - Frame 4: Gaussian visualizer.visualize() completed
2025-12-01 13:38:11,112 - INFO - integration_test - Frame 4: Visualizer added 2 ellipses, 1 markers, and 1 text annotations for Gaussian constraints
2025-12-01 13:38:11,175 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:11,175 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:11,177 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:11,242 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:11,242 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:11,244 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:11,308 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:11,309 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:11,310 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:11,375 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:11,375 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:11,377 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:11,441 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:11,441 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:11,443 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:11,507 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:11,507 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:11,509 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:11,573 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:11,574 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:11,575 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:11,640 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:11,640 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:11,641 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:11,706 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:11,706 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:11,708 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:11,772 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:11,772 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:11,774 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:11,839 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:11,839 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:11,841 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:11,906 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:11,906 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:11,908 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:11,973 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:11,973 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:11,975 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:12,040 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:12,041 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:12,042 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:12,106 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:12,106 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:12,108 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:12,173 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:12,173 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:12,175 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:12,242 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:12,242 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:12,244 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:12,309 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:12,309 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:12,310 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:12,375 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:12,375 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:12,377 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:12,442 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:12,442 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:12,444 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:12,509 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:12,509 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:12,510 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:12,574 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:12,574 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:12,576 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:12,641 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:12,641 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:12,643 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:12,708 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:12,708 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:12,710 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:12,775 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:12,775 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:12,777 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:12,843 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:12,843 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:12,844 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:12,909 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:12,909 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:12,911 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:12,975 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:12,976 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:12,977 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:13,043 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:13,043 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:13,045 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:13,111 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:13,111 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:13,113 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:13,177 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:13,177 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:13,179 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:13,243 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:13,243 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:13,245 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:13,311 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:13,311 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:13,312 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:13,378 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:13,378 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:13,380 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:13,445 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:13,445 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:13,446 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:13,511 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:13,511 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:13,513 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:13,578 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:13,578 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:13,579 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:13,644 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:13,644 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:13,646 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:13,711 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:13,711 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:13,713 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:13,779 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:13,779 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:13,780 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:13,847 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:13,848 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:13,850 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:13,914 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:13,915 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:13,916 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:13,981 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:13,981 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:13,983 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:14,049 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:14,049 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:14,051 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:14,116 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:14,116 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:14,118 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:14,184 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:14,184 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:14,185 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:14,252 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:14,252 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:14,254 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:14,321 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:14,321 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:14,323 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:14,398 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:14,398 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:14,401 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:14,472 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:14,472 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:14,473 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:14,544 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:14,544 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:14,546 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:14,617 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:14,617 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:14,619 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:14,686 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:14,687 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:14,688 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:14,752 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:14,752 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:14,754 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:14,819 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:14,819 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:14,820 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:14,885 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:14,885 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:14,887 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:14,952 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:14,952 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:14,953 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:15,018 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:15,018 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:15,020 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:15,084 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:15,085 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:15,087 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:15,152 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:15,152 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:15,154 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:15,219 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:15,219 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:15,221 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:15,290 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:15,290 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:15,292 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:15,358 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:15,358 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:15,359 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:15,428 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:15,428 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:15,429 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:15,508 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:15,509 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:15,511 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:15,627 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:15,627 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:15,629 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:15,743 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:15,743 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:15,745 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:15,850 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:15,850 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:15,854 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:15,931 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:15,931 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:15,933 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:15,998 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:15,998 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:15,999 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:16,065 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:16,065 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:16,067 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:16,132 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:16,132 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:16,133 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:16,200 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:16,200 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:16,202 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:16,270 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:16,270 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:16,272 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:16,340 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:16,340 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:16,342 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:16,410 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:16,410 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:16,411 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:16,478 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:16,478 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:16,480 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:16,544 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:16,544 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:16,546 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:16,611 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:16,611 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:16,613 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:16,677 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:16,678 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:16,679 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:16,744 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:16,744 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:16,745 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:16,811 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:16,811 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:16,812 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:16,878 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:16,878 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:16,880 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:16,945 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:16,945 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:16,946 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:17,012 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:17,012 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:17,013 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:17,079 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:17,079 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:17,081 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:17,145 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:17,146 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:17,147 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:17,212 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:17,212 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:17,213 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:17,279 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:17,279 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:17,281 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:17,350 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:17,350 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:17,351 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:17,418 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:17,418 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:17,420 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:17,485 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:17,485 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:17,487 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:17,554 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:17,554 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:17,556 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:17,621 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:17,622 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:17,623 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:17,688 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:17,688 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:17,690 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:17,755 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:17,755 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:17,757 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:17,822 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:17,822 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:17,824 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:17,890 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:17,890 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:17,891 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:17,958 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:17,958 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:17,960 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:18,025 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:18,025 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:18,027 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:18,092 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:18,092 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:18,094 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:18,158 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:18,158 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:18,161 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:18,225 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:18,225 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:18,227 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:18,292 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:18,292 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:18,294 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:18,359 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:18,359 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:18,361 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:18,426 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:18,427 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:18,429 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:18,494 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:18,494 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:18,496 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:18,554 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:18,554 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:18,555 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:18,612 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:18,612 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:18,614 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:18,669 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:18,670 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:18,671 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:18,726 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2025-12-01 13:38:18,726 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 13:38:18,728 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (13.72, 4.47), size=(2.71, 2.47), color=red
2025-12-01 13:38:26,319 - INFO - integration_test - Saved animation with 116 frames at 10.00 fps to test_outputs/20251201_133632_contouring_contouring_gaussian_contouring_unicycle/animation.gif (duration: 11.60s, size: 1152719 bytes)
2025-12-01 13:38:26,365 - INFO - integration_test - Animation created successfully
2025-12-01 13:38:26,366 - INFO - integration_test - Test completed successfully
