2025-12-01 17:50:32,352 - INFO - integration_test - Contouring objective detected: automatically switching to contouring-aware dynamics model
2025-12-01 17:50:32,352 - WARNING - integration_test -   Vehicle dynamics 'contouring_unicycle' is not automatically converted. Ensure it supports contouring (has 'spline' state variable)
2025-12-01 17:50:32,352 - INFO - integration_test - Created vehicle dynamics model: ContouringSecondOrderUnicycleModel
2025-12-01 17:50:32,352 - INFO - integration_test - ✓ Validation passed: Contouring objective with dynamics model that has 'spline' state
2025-12-01 17:50:32,352 - INFO - integration_test - Creating objective module: contouring
2025-12-01 17:50:32,358 - INFO - integration_test - Objective module 'contouring' created: contouring_objective
2025-12-01 17:50:32,358 - INFO - integration_test - Creating 2 constraint module(s): ['contouring', 'gaussian']
2025-12-01 17:50:32,358 - DEBUG - integration_test - Creating constraint module: contouring
2025-12-01 17:50:32,363 - INFO - integration_test - Constraint module 'contouring' created: contouring_constraints
2025-12-01 17:50:32,363 - DEBUG - integration_test - Creating constraint module: gaussian
2025-12-01 17:50:32,370 - INFO - integration_test - Constraint module 'gaussian' created: gaussian_constraints
2025-12-01 17:50:32,370 - INFO - integration_test - Created 2 constraint module(s)
2025-12-01 17:50:32,385 - INFO - integration_test - Setting solver on all modules...
2025-12-01 17:50:32,386 - DEBUG - integration_test -   Set solver on module: contouring_constraints
2025-12-01 17:50:32,386 - WARNING - integration_test -   Module gaussian_constraints has no solver attribute
2025-12-01 17:50:32,386 - DEBUG - integration_test -   Set solver on module: control_effort_objective
2025-12-01 17:50:32,386 - DEBUG - integration_test -   Set solver on module: control_jerk_objective
2025-12-01 17:50:32,386 - DEBUG - integration_test -   Set solver on module: path_reference_velocity_objective
2025-12-01 17:50:32,386 - DEBUG - integration_test -   Set solver on module: contouring_objective
2025-12-01 17:50:32,386 - WARNING - integration_test - Error shaping obstacles: 'max_obstacles'
2025-12-01 17:50:32,386 - WARNING - integration_test - Error in on_data_received: 'Planner' object has no attribute 'on_data_received'
2025-12-01 17:50:32,386 - INFO - integration_test - Initial vehicle state (before spline): [0. 0. 0. 1.]
2025-12-01 17:50:32,387 - INFO - integration_test - Vehicle starting position: (0.00, 0.00)
2025-12-01 17:50:32,387 - INFO - integration_test - Reference path start: (0.00, 0.00)
2025-12-01 17:50:32,387 - INFO - integration_test - Reference path starts at vehicle position (requirement satisfied)
2025-12-01 17:50:32,387 - INFO - integration_test - Contouring-aware dynamics detected: initializing spline variable
2025-12-01 17:50:32,387 - INFO - integration_test - Initialized spline to closest path point: s=0.0000 (vehicle at (0.00, 0.00), closest path point at (0.00, 0.00), distance=0.000m)
2025-12-01 17:50:32,387 - INFO - integration_test - Added spline variable: 0.0000
2025-12-01 17:50:32,387 - INFO - integration_test - Final initial state: [0. 0. 0. 1. 0.] (variables: ['x', 'y', 'psi', 'v', 'spline'])
2025-12-01 17:50:32,387 - INFO - integration_test - Step 0 (contouring until path end)
2025-12-01 17:50:32,387 - DEBUG - integration_test - Syncing planner state at step 0: vehicle_state=[0. 0. 0. 1. 0.]
2025-12-01 17:50:32,388 - DEBUG - integration_test - Step 0: Using propagated spline 0.0000 (close to path, dist=0.000m)
2025-12-01 17:50:32,388 - DEBUG - integration_test -   Set spline state to 0.0000
2025-12-01 17:50:32,389 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:32,404 - DEBUG - integration_test - Step 0: Checking path alignment: vehicle=(0.000, 0.000), path_start=(0.000, 0.000), dist=0.000m
2025-12-01 17:50:32,404 - INFO - integration_test - === Calling planner.solve_mpc() at step 0 ===
2025-12-01 17:50:32,407 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:32,408 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:32,408 - INFO - integration_test - Warmstart k=0: x0=0.0 , y0=0.0 , psi0=0.0 , v0=1.0 , spline0=0.0 , a0=0.0 , w0=0.0
2025-12-01 17:50:32,408 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:32,409 - INFO - integration_test - Dyn residual k=0: pred=[0.1, 0.0, 0.0, 1.0, 0.1], ws=[0.1, 0.0, 0.0, 1.0, 0.1], res=[0.0, 0.0, 0.0, 0.0, 0.0], res_norm=0.000e+00
2025-12-01 17:50:32,410 - INFO - integration_test - Dyn residual k=1: pred=[0.2, 0.0, 0.0, 1.0, 0.2], ws=[0.2, 0.0, 0.0, 1.0, 0.2127494608332952], res=[0.0, 0.0, 0.0, 0.0, -0.0127494608332952], res_norm=1.275e-02
2025-12-01 17:50:32,411 - INFO - integration_test - Dyn residual k=2: pred=[0.30000000000000004, 0.0, 0.0, 1.0, 0.31274946083329525], ws=[0.30000000000000004, 0.0, 0.0, 1.0, 0.3386985848683951], res=[0.0, 0.0, 0.0, 0.0, -0.025949124035099858], res_norm=2.595e-02
2025-12-01 17:50:32,426 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:32,438 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:32,453 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:32,466 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:32,481 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:32,493 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:32,508 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:32,520 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:32,535 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:32,548 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:32,564 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:32,579 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:32,597 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:32,612 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:32,631 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:32,645 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:32,662 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:32,675 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:32,692 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:32,705 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:32,722 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:32,735 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:33,299 - INFO - integration_test - Step 0: MPC solve successful
2025-12-01 17:50:33,335 - INFO - integration_test - Step 0: Computed 6 numeric contouring constraints for visualization (s=0.000)
2025-12-01 17:50:33,335 - DEBUG - integration_test - Step 0: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:33,336 - DEBUG - integration_test - Linearized constraints module not found at step 0
2025-12-01 17:50:33,336 - INFO - integration_test - === Applying control at step 0 ===
2025-12-01 17:50:33,336 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000196446583, 'w': 0.7999999999462937}
2025-12-01 17:50:33,336 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:33,336 - INFO - integration_test -   Planner output success: True
2025-12-01 17:50:33,337 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:33,338 - INFO - integration_test - Step 0 completed in 0.950s
2025-12-01 17:50:33,352 - INFO - integration_test - Step 1 (contouring until path end)
2025-12-01 17:50:33,353 - DEBUG - integration_test - Syncing planner state at step 1: vehicle_state=[0.10987738 0.00453085 0.08       1.2        0.12      ]
2025-12-01 17:50:33,354 - DEBUG - integration_test - Step 1: Using propagated spline 0.1200 (close to path, dist=0.110m)
2025-12-01 17:50:33,354 - DEBUG - integration_test -   Set spline state to 0.1200
2025-12-01 17:50:33,356 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:33,375 - DEBUG - integration_test - Step 1: Checking path alignment: vehicle=(0.110, 0.005), path_start=(0.000, 0.000), dist=0.110m
2025-12-01 17:50:33,376 - WARNING - integration_test - Could not update reference path at step 1: x and y must have the same length
2025-12-01 17:50:33,376 - INFO - integration_test - === Calling planner.solve_mpc() at step 1 ===
2025-12-01 17:50:33,380 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:33,382 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:33,382 - INFO - integration_test - Warmstart k=0: x0=0.10987737537927342 , y0=0.0045308450580012075 , psi0=0.07999999999462937 , v0=1.2000000019644659 , spline0=0.12000000019644659 , a0=0.0 , w0=0.0
2025-12-01 17:50:33,382 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:33,383 - INFO - integration_test - Dyn residual k=0: pred=[0.22949358033145753, 0.014120608349358483, 0.07999999999462937, 1.2000000019644659, 0.24000000039289318], ws=[0.22949358033145756, 0.014120608349358486, 0.07999999999462926, 1.2000000019644659, 0.28256625369202626], res=[-2.7755575615628914e-17, -3.469446951953614e-18, 1.1102230246251565e-16, 0.0, -0.04256625329913308], res_norm=4.257e-02
2025-12-01 17:50:33,384 - INFO - integration_test - Dyn residual k=1: pred=[0.34910978528364167, 0.023710371640715752, 0.07999999999462926, 1.2000000019644659, 0.40256625388847284], ws=[0.34910978528364167, 0.023710371640715752, 0.07999999999462926, 1.2000000019644659, 0.4628520712934664], res=[0.0, 0.0, 0.0, 0.0, -0.06028581740499356], res_norm=6.029e-02
2025-12-01 17:50:33,385 - INFO - integration_test - Dyn residual k=2: pred=[0.4687259902358258, 0.03330013493207302, 0.07999999999462926, 1.2000000019644659, 0.582852071489913], ws=[0.4687259902358258, 0.03330013493207302, 0.07999999999462926, 1.2000000019644659, 0.6617370077786202], res=[0.0, 0.0, 0.0, 0.0, -0.07888493628870719], res_norm=7.888e-02
2025-12-01 17:50:33,406 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:33,422 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:33,444 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:33,460 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:33,484 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:33,499 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:33,518 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:33,533 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:33,553 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:33,569 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:33,588 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:33,603 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:33,621 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:33,636 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:33,654 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:33,670 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:33,689 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:33,704 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:33,723 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:33,739 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:33,760 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:33,777 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:33,941 - INFO - integration_test - Step 1: MPC solve successful
2025-12-01 17:50:33,956 - INFO - integration_test - Step 1: Computed 6 numeric contouring constraints for visualization (s=0.120)
2025-12-01 17:50:33,957 - DEBUG - integration_test - Step 1: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:33,957 - INFO - integration_test - === Applying control at step 1 ===
2025-12-01 17:50:33,957 - INFO - integration_test -   Control dict from planner: {'a': 2.000000019978275, 'w': 0.8000000094973816}
2025-12-01 17:50:33,957 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:33,957 - INFO - integration_test -   Planner output success: True
2025-12-01 17:50:33,958 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:33,958 - INFO - integration_test - Step 1 completed in 0.605s
2025-12-01 17:50:33,972 - INFO - integration_test - Step 2 (contouring until path end)
2025-12-01 17:50:33,973 - DEBUG - integration_test - Syncing planner state at step 2: vehicle_state=[0.23889213 0.02022162 0.16       1.4        0.26      ]
2025-12-01 17:50:33,973 - DEBUG - integration_test - Step 2: Using propagated spline 0.2600 (close to path, dist=0.240m)
2025-12-01 17:50:33,974 - DEBUG - integration_test -   Set spline state to 0.2600
2025-12-01 17:50:33,975 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:33,991 - DEBUG - integration_test - Step 2: Checking path alignment: vehicle=(0.239, 0.020), path_start=(0.000, 0.000), dist=0.240m
2025-12-01 17:50:33,992 - WARNING - integration_test - Could not update reference path at step 2: x and y must have the same length
2025-12-01 17:50:33,992 - INFO - integration_test - === Calling planner.solve_mpc() at step 2 ===
2025-12-01 17:50:33,995 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:33,997 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:33,997 - INFO - integration_test - Warmstart k=0: x0=0.23889212817702143 , y0=0.02022162182225515 , psi0=0.16000000094436753 , v0=1.4000000039622933 , spline0=0.2600000005926759 , a0=0.0 , w0=0.0
2025-12-01 17:50:33,997 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:33,998 - INFO - integration_test - Dyn residual k=0: pred=[0.37710394821971394, 0.04252617094189888, 0.16000000094436753, 1.4000000039622933, 0.40000000098890526], ws=[0.37710394821971394, 0.04252617094189889, 0.1600000009443674, 1.4000000039622933, 0.4922268651920928], res=[0.0, -6.938893903907228e-18, 1.3877787807814457e-16, 0.0, -0.09222686420318754], res_norm=9.223e-02
2025-12-01 17:50:33,999 - INFO - integration_test - Dyn residual k=1: pred=[0.5153157682624064, 0.0648307200615426, 0.1600000009443674, 1.4000000039622933, 0.6322268655883221], ws=[0.5153157682624064, 0.06483072006154261, 0.1600000009443674, 1.4000000039622933, 0.7474945961721517], res=[0.0, -1.3877787807814457e-17, 0.0, 0.0, -0.11526773058382966], res_norm=1.153e-01
2025-12-01 17:50:34,000 - INFO - integration_test - Dyn residual k=2: pred=[0.6535275883050989, 0.08713526918118633, 0.1600000009443674, 1.4000000039622933, 0.8874945965683811], ws=[0.6535275883050989, 0.08713526918118633, 0.1600000009443674, 1.4000000039622933, 0.9682208639030359], res=[0.0, 0.0, 0.0, 0.0, -0.08072626733465471], res_norm=8.073e-02
2025-12-01 17:50:34,017 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:34,030 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:34,046 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:34,059 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:34,076 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:34,090 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:34,106 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:34,119 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:34,134 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:34,146 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:34,160 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:34,174 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:34,189 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:34,201 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:34,215 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:34,227 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:34,242 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:34,254 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:34,270 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:34,283 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:34,298 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:34,311 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:34,438 - INFO - integration_test - Step 2: MPC solve successful
2025-12-01 17:50:34,453 - INFO - integration_test - Step 2: Computed 6 numeric contouring constraints for visualization (s=0.260)
2025-12-01 17:50:34,453 - DEBUG - integration_test - Step 2: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:34,453 - INFO - integration_test - === Applying control at step 2 ===
2025-12-01 17:50:34,453 - INFO - integration_test -   Control dict from planner: {'a': 2.000000014920248, 'w': 0.7999998651132874}
2025-12-01 17:50:34,453 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:34,453 - INFO - integration_test -   Planner output success: True
2025-12-01 17:50:34,454 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:34,455 - INFO - integration_test - Step 2 completed in 0.482s
2025-12-01 17:50:34,467 - INFO - integration_test - Step 3 (contouring until path end)
2025-12-01 17:50:34,467 - DEBUG - integration_test - Syncing planner state at step 3: vehicle_state=[0.38583644 0.05014472 0.23999999 1.60000001 0.42      ]
2025-12-01 17:50:34,468 - DEBUG - integration_test - Step 3: Using propagated spline 0.4200 (close to path, dist=0.389m)
2025-12-01 17:50:34,468 - DEBUG - integration_test -   Set spline state to 0.4200
2025-12-01 17:50:34,469 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:34,484 - DEBUG - integration_test - Step 3: Checking path alignment: vehicle=(0.386, 0.050), path_start=(0.000, 0.000), dist=0.389m
2025-12-01 17:50:34,484 - WARNING - integration_test - Could not update reference path at step 3: x and y must have the same length
2025-12-01 17:50:34,484 - INFO - integration_test - === Calling planner.solve_mpc() at step 3 ===
2025-12-01 17:50:34,487 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:34,488 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:34,488 - INFO - integration_test - Warmstart k=0: x0=0.38583643588832106 , y0=0.05014471565036459 , psi0=0.23999998745569628 , v0=1.6000000054543182 , spline0=0.42000000113810776 , a0=0.0 , w0=0.0
2025-12-01 17:50:34,489 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:34,489 - INFO - integration_test - Dyn residual k=0: pred=[0.5412505128715346, 0.08817713405879532, 0.23999998745569628, 1.6000000054543182, 0.5800000016835396], ws=[0.5412505128715347, 0.08817713405879532, 0.2399999874556964, 1.6000000054543182, 0.7289817605584109], res=[-1.1102230246251565e-16, 0.0, -1.1102230246251565e-16, 0.0, -0.1489817588748713], res_norm=1.490e-01
2025-12-01 17:50:34,490 - INFO - integration_test - Dyn residual k=1: pred=[0.6966645898547483, 0.12620955246722607, 0.2399999874556964, 1.6000000054543182, 0.8889817611038427], ws=[0.6966645898547483, 0.12620955246722607, 0.2399999874556964, 1.6000000054543182, 1.0077625417944378], res=[0.0, 0.0, 0.0, 0.0, -0.11878078069059506], res_norm=1.188e-01
2025-12-01 17:50:34,491 - INFO - integration_test - Dyn residual k=2: pred=[0.8520786668379619, 0.1642419708756568, 0.2399999874556964, 1.6000000054543182, 1.1677625423398696], ws=[0.852078666837962, 0.1642419708756568, 0.2399999874556964, 1.6000000054543182, 1.3126338162046596], res=[-1.1102230246251565e-16, 0.0, 0.0, 0.0, -0.14487127386478993], res_norm=1.449e-01
2025-12-01 17:50:34,506 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:34,520 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:34,538 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:34,552 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:34,568 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:34,582 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:34,597 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:34,610 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:34,626 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:34,638 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:34,653 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:34,665 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:34,681 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:34,693 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:34,708 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:34,720 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:34,735 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:34,747 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:34,762 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:34,774 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:34,791 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:34,802 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:34,928 - INFO - integration_test - Step 3: MPC solve successful
2025-12-01 17:50:34,943 - INFO - integration_test - Step 3: Computed 6 numeric contouring constraints for visualization (s=0.420)
2025-12-01 17:50:34,943 - DEBUG - integration_test - Step 3: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:34,943 - INFO - integration_test - === Applying control at step 3 ===
2025-12-01 17:50:34,944 - INFO - integration_test -   Control dict from planner: {'a': 1.9999999573032157, 'w': 0.799997983883208}
2025-12-01 17:50:34,944 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:34,944 - INFO - integration_test -   Planner output success: True
2025-12-01 17:50:34,945 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:34,946 - INFO - integration_test - Step 3 completed in 0.479s
2025-12-01 17:50:34,958 - INFO - integration_test - Step 4 (contouring until path end)
2025-12-01 17:50:34,959 - DEBUG - integration_test - Syncing planner state at step 4: vehicle_state=[0.54913547 0.09724074 0.31999979 1.8        0.6       ]
2025-12-01 17:50:34,959 - DEBUG - integration_test - Step 4: Using propagated spline 0.6000 (close to path, dist=0.455m)
2025-12-01 17:50:34,959 - DEBUG - integration_test -   Set spline state to 0.6000
2025-12-01 17:50:34,961 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:35,026 - DEBUG - integration_test - Step 4: Checking path alignment: vehicle=(0.549, 0.097), path_start=(0.000, 0.000), dist=0.558m
2025-12-01 17:50:35,027 - WARNING - integration_test - Could not update reference path at step 4: x and y must have the same length
2025-12-01 17:50:35,027 - INFO - integration_test - === Calling planner.solve_mpc() at step 4 ===
2025-12-01 17:50:35,030 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:35,031 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:35,031 - INFO - integration_test - Warmstart k=0: x0=0.5491354667391217 , y0=0.0972407373302995 , psi0=0.31999978584401706 , v0=1.8000000011846398 , spline0=0.6000000012565717 , a0=0.0 , w0=0.0
2025-12-01 17:50:35,031 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:35,032 - INFO - integration_test - Dyn residual k=0: pred=[0.7199978542323433, 0.15386268168726425, 0.31999978584401706, 1.8000000011846398, 0.7800000013750357], ws=[0.7199978542323433, 0.15386268168726427, 0.3199997858440171, 1.8000000011846398, 0.9928306764339913], res=[0.0, -2.7755575615628914e-17, -5.551115123125783e-17, 0.0, -0.2128306750589556], res_norm=2.128e-01
2025-12-01 17:50:35,033 - INFO - integration_test - Dyn residual k=1: pred=[0.8908602417255649, 0.21048462604422905, 0.3199997858440171, 1.8000000011846398, 1.1728306765524552], ws=[0.8908602417255649, 0.21048462604422905, 0.3199997858440171, 1.8000000011846398, 1.3619893517042727], res=[0.0, 0.0, 0.0, 0.0, -0.1891586751518175], res_norm=1.892e-01
2025-12-01 17:50:35,034 - INFO - integration_test - Dyn residual k=2: pred=[1.0617226292187865, 0.26710657040119384, 0.3199997858440171, 1.8000000011846398, 1.5419893518227368], ws=[1.0617226292187865, 0.2671065704011938, 0.3199997858440171, 1.8000000011846398, 1.7641730776730387], res=[0.0, 5.551115123125783e-17, 0.0, 0.0, -0.22218372585030188], res_norm=2.222e-01
2025-12-01 17:50:35,050 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:35,063 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:35,080 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:35,093 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:35,109 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:35,122 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:35,137 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:35,150 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:35,166 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:35,180 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:35,198 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:35,212 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:35,230 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:35,243 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:35,259 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:35,273 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:35,290 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:35,303 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:35,321 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:35,333 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:35,348 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:35,360 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:35,510 - INFO - integration_test - Step 4: MPC solve successful
2025-12-01 17:50:35,525 - INFO - integration_test - Step 4: Computed 6 numeric contouring constraints for visualization (s=0.600)
2025-12-01 17:50:35,525 - DEBUG - integration_test - Step 4: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:35,525 - INFO - integration_test - === Applying control at step 4 ===
2025-12-01 17:50:35,525 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000198778873, 'w': 0.8000000038420357}
2025-12-01 17:50:35,525 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:35,525 - INFO - integration_test -   Planner output success: True
2025-12-01 17:50:35,526 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:35,526 - INFO - integration_test - Step 4 completed in 0.568s
2025-12-01 17:50:35,539 - INFO - integration_test - Step 5 (contouring until path end)
2025-12-01 17:50:35,539 - DEBUG - integration_test - Syncing planner state at step 5: vehicle_state=[0.72686151 0.16427971 0.39999979 2.         0.8       ]
2025-12-01 17:50:35,540 - DEBUG - integration_test - Step 5: Using propagated spline 0.8000 (close to path, dist=0.375m)
2025-12-01 17:50:35,540 - DEBUG - integration_test -   Set spline state to 0.8000
2025-12-01 17:50:35,541 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:35,556 - DEBUG - integration_test - Step 5: Checking path alignment: vehicle=(0.727, 0.164), path_start=(0.000, 0.000), dist=0.745m
2025-12-01 17:50:35,557 - WARNING - integration_test - Could not update reference path at step 5: x and y must have the same length
2025-12-01 17:50:35,557 - INFO - integration_test - === Calling planner.solve_mpc() at step 5 ===
2025-12-01 17:50:35,559 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:35,561 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:35,561 - INFO - integration_test - Warmstart k=0: x0=0.726861507960839 , y0=0.16427971049202178 , psi0=0.39999978622822063 , v0=2.0000000031724285 , spline0=0.8000000015738146 , a0=0.0 , w0=0.0
2025-12-01 17:50:35,561 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:35,562 - INFO - integration_test - Dyn residual k=0: pred=[0.9110737237029423, 0.2421633396979207, 0.39999978622822063, 2.0000000031724285, 1.0000000018910575], ws=[0.9110737237029423, 0.2421633396979207, 0.3999997862282205, 2.0000000031724285, 1.2100959686865778], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -0.21009596679552023], res_norm=2.101e-01
2025-12-01 17:50:35,563 - INFO - integration_test - Dyn residual k=1: pred=[1.0952859394450456, 0.32004696890381956, 0.3999997862282205, 2.0000000031724285, 1.4100959690038206], ws=[1.0952859394450456, 0.3200469689038196, 0.3999997862282205, 2.0000000031724285, 1.6563639884081793], res=[0.0, -5.551115123125783e-17, 0.0, 0.0, -0.24626801940435872], res_norm=2.463e-01
2025-12-01 17:50:35,564 - INFO - integration_test - Dyn residual k=2: pred=[1.279498155187149, 0.39793059810971854, 0.3999997862282205, 2.0000000031724285, 1.8563639887254222], ws=[1.279498155187149, 0.39793059810971854, 0.3999997862282205, 2.0000000031724285, 2.0825433320917286], res=[0.0, 0.0, 0.0, 0.0, -0.2261793433663064], res_norm=2.262e-01
2025-12-01 17:50:35,582 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:35,595 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:35,611 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:35,624 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:35,640 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:35,653 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:35,669 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:35,682 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:35,698 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:35,710 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:35,725 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:35,737 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:35,751 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:35,763 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:35,779 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:35,791 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:35,805 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:35,817 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:35,832 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:35,844 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:35,858 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:35,871 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:36,031 - INFO - integration_test - Step 5: MPC solve successful
2025-12-01 17:50:36,046 - INFO - integration_test - Step 5: Computed 6 numeric contouring constraints for visualization (s=0.800)
2025-12-01 17:50:36,046 - DEBUG - integration_test - Step 5: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:36,046 - INFO - integration_test - === Applying control at step 5 ===
2025-12-01 17:50:36,047 - INFO - integration_test -   Control dict from planner: {'a': 2.000000019930442, 'w': 0.8000000061848127}
2025-12-01 17:50:36,047 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:36,047 - INFO - integration_test -   Planner output success: True
2025-12-01 17:50:36,048 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:36,048 - INFO - integration_test - Step 5 completed in 0.509s
2025-12-01 17:50:36,061 - INFO - integration_test - Step 6 (contouring until path end)
2025-12-01 17:50:36,061 - DEBUG - integration_test - Syncing planner state at step 6: vehicle_state=[0.91675194 0.25382371 0.47999979 2.20000001 1.02      ]
2025-12-01 17:50:36,062 - DEBUG - integration_test - Step 6: Using propagated spline 1.0200 (close to path, dist=0.373m)
2025-12-01 17:50:36,062 - DEBUG - integration_test -   Set spline state to 1.0200
2025-12-01 17:50:36,064 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:36,080 - DEBUG - integration_test - Step 6: Checking path alignment: vehicle=(0.917, 0.254), path_start=(0.000, 0.000), dist=0.951m
2025-12-01 17:50:36,080 - WARNING - integration_test - Could not update reference path at step 6: x and y must have the same length
2025-12-01 17:50:36,080 - INFO - integration_test - === Calling planner.solve_mpc() at step 6 ===
2025-12-01 17:50:36,083 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:36,084 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:36,085 - INFO - integration_test - Warmstart k=0: x0=0.9167519406032292 , y0=0.2538237097595357 , psi0=0.4799997868467019 , v0=2.2000000051654727 , spline0=1.020000002090362 , a0=0.0 , w0=0.0
2025-12-01 17:50:36,085 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:36,086 - INFO - integration_test - Dyn residual k=0: pred=[1.111890845727388, 0.3554150870226938, 0.4799997868467019, 2.2000000051654727, 1.2400000026069091], ws=[1.111890845727388, 0.3554150870226938, 0.47999978684670186, 2.2000000051654727, 1.52842195596184], res=[0.0, 0.0, 5.551115123125783e-17, 0.0, -0.2884219533549308], res_norm=2.884e-01
2025-12-01 17:50:36,086 - INFO - integration_test - Dyn residual k=1: pred=[1.3070297508515467, 0.4570064642858519, 0.47999978684670186, 2.2000000051654727, 1.7484219564783872], ws=[1.3070297508515467, 0.4570064642858519, 0.47999978684670186, 2.2000000051654727, 2.0213814252604423], res=[0.0, 0.0, 0.0, 0.0, -0.2729594687820551], res_norm=2.730e-01
2025-12-01 17:50:36,087 - INFO - integration_test - Dyn residual k=2: pred=[1.5021686559757055, 0.55859784154901, 0.47999978684670186, 2.2000000051654727, 2.2413814257769897], ws=[1.5021686559757055, 0.55859784154901, 0.47999978684670186, 2.2000000051654727, 2.557601239866867], res=[0.0, 0.0, 0.0, 0.0, -0.3162198140898771], res_norm=3.162e-01
2025-12-01 17:50:36,103 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:36,116 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:36,133 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:36,146 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:36,162 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:36,175 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:36,191 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:36,204 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:36,219 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:36,231 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:36,245 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:36,257 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:36,272 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:36,285 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:36,299 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:36,311 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:36,326 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:36,338 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:36,354 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:36,366 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:36,381 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:36,393 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:36,553 - INFO - integration_test - Step 6: MPC solve successful
2025-12-01 17:50:36,568 - INFO - integration_test - Step 6: Computed 6 numeric contouring constraints for visualization (s=1.020)
2025-12-01 17:50:36,569 - DEBUG - integration_test - Step 6: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:36,569 - INFO - integration_test - === Applying control at step 6 ===
2025-12-01 17:50:36,569 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000197137964, 'w': 0.7999999830371084}
2025-12-01 17:50:36,569 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:36,569 - INFO - integration_test -   Planner output success: True
2025-12-01 17:50:36,570 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:36,570 - INFO - integration_test - Step 6 completed in 0.510s
2025-12-01 17:50:36,582 - INFO - integration_test - Step 7 (contouring until path end)
2025-12-01 17:50:36,583 - DEBUG - integration_test - Syncing planner state at step 7: vehicle_state=[1.11623092 0.36819131 0.55999979 2.40000001 1.26      ]
2025-12-01 17:50:36,583 - DEBUG - integration_test - Step 7: Using propagated spline 1.2600 (close to path, dist=0.475m)
2025-12-01 17:50:36,583 - DEBUG - integration_test -   Set spline state to 1.2600
2025-12-01 17:50:36,585 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:36,601 - DEBUG - integration_test - Step 7: Checking path alignment: vehicle=(1.116, 0.368), path_start=(0.000, 0.000), dist=1.175m
2025-12-01 17:50:36,601 - WARNING - integration_test - Could not update reference path at step 7: x and y must have the same length
2025-12-01 17:50:36,601 - INFO - integration_test - === Calling planner.solve_mpc() at step 7 ===
2025-12-01 17:50:36,604 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:36,605 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:36,605 - INFO - integration_test - Warmstart k=0: x0=1.1162309247744224 , y0=0.36819130619901563 , psi0=0.5599997851504127 , v0=2.4000000071368524 , spline0=1.2600000028040472 , a0=0.0 , w0=0.0
2025-12-01 17:50:36,605 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:36,606 - INFO - integration_test - Dyn residual k=0: pred=[1.3195721794123436, 0.4956759503913457, 0.5599997851504127, 2.4000000071368524, 1.5000000035177325], ws=[1.3195721794123436, 0.4956759503913457, 0.5599997851504126, 2.4000000071368524, 1.8738630791411355], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -0.37386307562340293], res_norm=3.739e-01
2025-12-01 17:50:36,607 - INFO - integration_test - Dyn residual k=1: pred=[1.5229134340502648, 0.6231605945836758, 0.5599997851504126, 2.4000000071368524, 2.113863079854821], ws=[1.5229134340502648, 0.6231605945836758, 0.5599997851504126, 2.4000000071368524, 2.4813859320140645], res=[0.0, 0.0, 0.0, 0.0, -0.36752285215924374], res_norm=3.675e-01
2025-12-01 17:50:36,608 - INFO - integration_test - Dyn residual k=2: pred=[1.726254688688186, 0.7506452387760059, 0.5599997851504126, 2.4000000071368524, 2.72138593272775], ws=[1.726254688688186, 0.7506452387760059, 0.5599997851504126, 2.4000000071368524, 3.0823015459112417], res=[0.0, 0.0, 0.0, 0.0, -0.36091561318349186], res_norm=3.609e-01
2025-12-01 17:50:36,624 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:36,638 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:36,655 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:36,668 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:36,685 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:36,698 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:36,714 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:36,726 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:36,740 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:36,752 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:36,768 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:36,781 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:36,796 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:36,808 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:36,822 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:36,834 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:36,849 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:36,861 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:36,876 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:36,889 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:36,903 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:36,915 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:37,077 - INFO - integration_test - Step 7: MPC solve successful
2025-12-01 17:50:37,092 - INFO - integration_test - Step 7: Computed 6 numeric contouring constraints for visualization (s=1.260)
2025-12-01 17:50:37,093 - DEBUG - integration_test - Step 7: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:37,093 - INFO - integration_test - === Applying control at step 7 ===
2025-12-01 17:50:37,093 - INFO - integration_test -   Control dict from planner: {'a': 2.000000019864677, 'w': 0.7999999946965378}
2025-12-01 17:50:37,093 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:37,093 - INFO - integration_test -   Planner output success: True
2025-12-01 17:50:37,094 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:37,094 - INFO - integration_test - Step 7 completed in 0.511s
2025-12-01 17:50:37,106 - INFO - integration_test - Step 8 (contouring until path end)
2025-12-01 17:50:37,107 - DEBUG - integration_test - Syncing planner state at step 8: vehicle_state=[1.32243458 0.50942426 0.63999978 2.60000001 1.52      ]
2025-12-01 17:50:37,107 - DEBUG - integration_test - Step 8: Using propagated spline 1.5200 (close to path, dist=0.429m)
2025-12-01 17:50:37,107 - DEBUG - integration_test -   Set spline state to 1.5200
2025-12-01 17:50:37,109 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:37,125 - DEBUG - integration_test - Step 8: Checking path alignment: vehicle=(1.322, 0.509), path_start=(0.000, 0.000), dist=1.417m
2025-12-01 17:50:37,125 - WARNING - integration_test - Could not update reference path at step 8: x and y must have the same length
2025-12-01 17:50:37,125 - INFO - integration_test - === Calling planner.solve_mpc() at step 8 ===
2025-12-01 17:50:37,128 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:37,130 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:37,130 - INFO - integration_test - Warmstart k=0: x0=1.3224345789274954 , y0=0.5094242582430804 , psi0=0.6399997846200665 , v0=2.60000000912332 , spline0=1.5200000037163792 , a0=0.0 , w0=0.0
2025-12-01 17:50:37,130 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:37,131 - INFO - integration_test - Dyn residual k=0: pred=[1.530979510151402, 0.6646950286257529, 0.6399997846200665, 2.60000000912332, 1.7800000046287112], ws=[1.530979510151402, 0.664695028625753, 0.6399997846200662, 2.60000000912332, 2.1722695124648155], res=[0.0, -1.1102230246251565e-16, 2.220446049250313e-16, 0.0, -0.39226950783610426], res_norm=3.923e-01
2025-12-01 17:50:37,132 - INFO - integration_test - Dyn residual k=1: pred=[1.7395244413753088, 0.8199657990084256, 0.6399997846200662, 2.60000000912332, 2.4322695133771477], ws=[1.739524441375309, 0.8199657990084256, 0.6399997846200662, 2.60000000912332, 2.820811507608444], res=[-2.220446049250313e-16, 0.0, 0.0, 0.0, -0.38854199423129643], res_norm=3.885e-01
2025-12-01 17:50:37,133 - INFO - integration_test - Dyn residual k=2: pred=[1.9480693725992158, 0.9752365693910982, 0.6399997846200662, 2.60000000912332, 3.0808115085207763], ws=[1.9480693725992158, 0.9752365693910982, 0.6399997846200662, 2.60000000912332, 3.4656377223164845], res=[0.0, 0.0, 0.0, 0.0, -0.38482621379570814], res_norm=3.848e-01
2025-12-01 17:50:37,149 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:37,162 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:37,179 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:37,192 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:37,209 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:37,221 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:37,237 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:37,250 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:37,265 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:37,278 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:37,293 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:37,305 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:37,319 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:37,331 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:37,346 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:37,358 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:37,373 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:37,385 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:37,400 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:37,412 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:37,427 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:37,439 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:37,719 - INFO - integration_test - Step 8: MPC solve successful
2025-12-01 17:50:37,734 - INFO - integration_test - Step 8: Computed 6 numeric contouring constraints for visualization (s=1.520)
2025-12-01 17:50:37,734 - DEBUG - integration_test - Step 8: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:37,734 - INFO - integration_test - === Applying control at step 8 ===
2025-12-01 17:50:37,734 - INFO - integration_test -   Control dict from planner: {'a': 2.000000006660937, 'w': 0.7999979786238124}
2025-12-01 17:50:37,734 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:37,734 - INFO - integration_test -   Planner output success: True
2025-12-01 17:50:37,735 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:37,735 - INFO - integration_test - Step 8 completed in 0.629s
2025-12-01 17:50:37,750 - INFO - integration_test - Step 9 (contouring until path end)
2025-12-01 17:50:37,750 - DEBUG - integration_test - Syncing planner state at step 9: vehicle_state=[1.53223947 0.67925669 0.71999958 2.80000001 1.8       ]
2025-12-01 17:50:37,751 - DEBUG - integration_test - Step 9: Using propagated spline 1.8000 (close to path, dist=0.464m)
2025-12-01 17:50:37,751 - DEBUG - integration_test -   Set spline state to 1.8000
2025-12-01 17:50:37,752 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:37,768 - DEBUG - integration_test - Step 9: Checking path alignment: vehicle=(1.532, 0.679), path_start=(0.000, 0.000), dist=1.676m
2025-12-01 17:50:37,768 - WARNING - integration_test - Could not update reference path at step 9: x and y must have the same length
2025-12-01 17:50:37,768 - INFO - integration_test - === Calling planner.solve_mpc() at step 9 ===
2025-12-01 17:50:37,771 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:37,773 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:37,773 - INFO - integration_test - Warmstart k=0: x0=1.5322394734768305 , y0=0.6792566905533922 , psi0=0.7199995824824477 , v0=2.8000000097894135 , spline0=1.8000000046953206 , a0=0.0 , w0=0.0
2025-12-01 17:50:37,773 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:37,774 - INFO - integration_test - Dyn residual k=0: pred=[1.7427451554575455, 0.8638843114611027, 0.7199995824824477, 2.8000000097894135, 2.080000005674262], ws=[1.7427451554575457, 0.8638843114611027, 0.7199995824824477, 2.8000000097894135, 2.5726637920495827], res=[-2.220446049250313e-16, 0.0, 0.0, 0.0, -0.4926637863753207], res_norm=4.927e-01
2025-12-01 17:50:37,774 - INFO - integration_test - Dyn residual k=1: pred=[1.9532508374382607, 1.048511932368813, 0.7199995824824477, 2.8000000097894135, 2.852663793028524], ws=[1.9532508374382607, 1.048511932368813, 0.7199995824824477, 2.8000000097894135, 3.353383278960228], res=[0.0, 0.0, 0.0, 0.0, -0.5007194859317039], res_norm=5.007e-01
2025-12-01 17:50:37,775 - INFO - integration_test - Dyn residual k=2: pred=[2.1637565194189756, 1.2331395532765235, 0.7199995824824477, 2.8000000097894135, 3.633383279939169], ws=[2.1637565194189756, 1.2331395532765235, 0.7199995824824477, 2.8000000097894135, 4.144520100731226], res=[0.0, 0.0, 0.0, 0.0, -0.511136820792057], res_norm=5.111e-01
2025-12-01 17:50:37,790 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:37,803 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:37,818 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:37,830 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:37,845 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:37,856 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:37,872 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:37,884 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:37,899 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:37,910 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:37,925 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:37,937 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:37,952 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:37,965 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:37,980 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:37,992 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:38,006 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:38,018 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:38,033 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:38,044 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:38,059 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:38,072 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:38,254 - INFO - integration_test - Step 9: MPC solve successful
2025-12-01 17:50:38,271 - INFO - integration_test - Step 9: Computed 6 numeric contouring constraints for visualization (s=1.800)
2025-12-01 17:50:38,271 - DEBUG - integration_test - Step 9: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:38,271 - INFO - integration_test - === Applying control at step 9 ===
2025-12-01 17:50:38,271 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000199921772, 'w': 0.8000000082784093}
2025-12-01 17:50:38,272 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:38,272 - INFO - integration_test -   Planner output success: True
2025-12-01 17:50:38,273 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:38,273 - INFO - integration_test - Step 9 completed in 0.523s
2025-12-01 17:50:38,286 - INFO - integration_test - Step 10 (contouring until path end)
2025-12-01 17:50:38,286 - DEBUG - integration_test - Syncing planner state at step 10: vehicle_state=[1.74229412 0.87908717 0.79999958 3.00000001 2.10000001]
2025-12-01 17:50:38,287 - DEBUG - integration_test - Step 10: Using propagated spline 2.1000 (close to path, dist=0.397m)
2025-12-01 17:50:38,287 - DEBUG - integration_test -   Set spline state to 2.1000
2025-12-01 17:50:38,288 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:38,304 - DEBUG - integration_test - Step 10: Checking path alignment: vehicle=(1.742, 0.879), path_start=(0.000, 0.000), dist=1.952m
2025-12-01 17:50:38,304 - WARNING - integration_test - Could not update reference path at step 10: x and y must have the same length
2025-12-01 17:50:38,305 - INFO - integration_test - === Calling planner.solve_mpc() at step 10 ===
2025-12-01 17:50:38,308 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:38,310 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:38,310 - INFO - integration_test - Warmstart k=0: x0=1.7422941225095014 , y0=0.8790871723078142 , psi0=0.7999995833102886 , v0=3.0 , spline0=2.100000005874184 , a0=0.0 , w0=0.0
2025-12-01 17:50:38,310 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:38,311 - INFO - integration_test - Dyn residual k=0: pred=[1.9513062249881037, 1.094293912484497, 0.7999995833102886, 3.0, 2.400000005874184], ws=[1.9513062249881037, 1.094293912484497, 0.7999995833102886, 3.0, 3.000185601565793], res=[0.0, 0.0, 0.0, 0.0, -0.6001855956916087], res_norm=6.002e-01
2025-12-01 17:50:38,312 - INFO - integration_test - Dyn residual k=1: pred=[2.160318327466706, 1.3095006526611799, 0.7999995833102886, 3.0, 3.3001856015657927], ws=[2.160318327466706, 1.3095006526611799, 0.7999995833102886, 3.0, 3.8602041122691846], res=[0.0, 0.0, 0.0, 0.0, -0.5600185107033919], res_norm=5.600e-01
2025-12-01 17:50:38,313 - INFO - integration_test - Dyn residual k=2: pred=[2.369330429945308, 1.5247073928378627, 0.7999995833102886, 3.0, 4.160204112269184], ws=[2.369330429945308, 1.5247073928378627, 0.7999995833102886, 3.0, 4.739620416380446], res=[0.0, 0.0, 0.0, 0.0, -0.5794163041112617], res_norm=5.794e-01
2025-12-01 17:50:38,329 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:38,342 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:38,359 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:38,373 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:38,390 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:38,404 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:38,422 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:38,435 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:38,451 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:38,465 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:38,484 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:38,496 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:38,511 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:38,523 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:38,537 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:38,549 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:38,565 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:38,577 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:38,593 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:38,605 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:38,620 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:38,632 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:38,782 - INFO - integration_test - Step 10: MPC solve successful
2025-12-01 17:50:38,796 - INFO - integration_test - Step 10: Computed 6 numeric contouring constraints for visualization (s=2.100)
2025-12-01 17:50:38,796 - DEBUG - integration_test - Step 10: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:38,796 - INFO - integration_test - === Applying control at step 10 ===
2025-12-01 17:50:38,797 - INFO - integration_test -   Control dict from planner: {'a': 1.2052319617281616e-07, 'w': 0.7999989768108989}
2025-12-01 17:50:38,797 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:38,797 - INFO - integration_test -   Planner output success: True
2025-12-01 17:50:38,798 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:38,798 - INFO - integration_test - Step 10 completed in 0.512s
2025-12-01 17:50:38,809 - INFO - integration_test - Step 11 (contouring until path end)
2025-12-01 17:50:38,810 - DEBUG - integration_test - Syncing planner state at step 11: vehicle_state=[1.94247969 1.10242045 0.87999948 3.00000002 2.40000001]
2025-12-01 17:50:38,811 - DEBUG - integration_test - Step 11: Using propagated spline 2.4000 (close to path, dist=0.398m)
2025-12-01 17:50:38,811 - DEBUG - integration_test -   Set spline state to 2.4000
2025-12-01 17:50:38,812 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:38,827 - DEBUG - integration_test - Step 11: Checking path alignment: vehicle=(1.942, 1.102), path_start=(0.000, 0.000), dist=2.234m
2025-12-01 17:50:38,828 - WARNING - integration_test - Could not update reference path at step 11: x and y must have the same length
2025-12-01 17:50:38,828 - INFO - integration_test - === Calling planner.solve_mpc() at step 11 ===
2025-12-01 17:50:38,831 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:38,833 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:38,833 - INFO - integration_test - Warmstart k=0: x0=1.9424796861606854 , y0=1.1024204526192014 , psi0=0.8799994809913785 , v0=3.0 , spline0=2.400000008258279 , a0=0.0 , w0=0.0
2025-12-01 17:50:38,833 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:38,834 - INFO - integration_test - Dyn residual k=0: pred=[2.133625149426271, 1.3336420170827799, 0.8799994809913785, 3.0, 2.7000000082582787], ws=[2.133625149426271, 1.3336420170827799, 0.879999480991378, 3.0, 3.3331560239741127], res=[0.0, 0.0, 4.440892098500626e-16, 0.0, -0.633156015715834], res_norm=6.332e-01
2025-12-01 17:50:38,835 - INFO - integration_test - Dyn residual k=1: pred=[2.324770612691856, 1.5648635815463583, 0.879999480991378, 3.0, 3.633156023974113], ws=[2.3247706126918564, 1.5648635815463583, 0.879999480991378, 3.0, 4.291968865191905], res=[-4.440892098500626e-16, 0.0, 0.0, 0.0, -0.6588128412177916], res_norm=6.588e-01
2025-12-01 17:50:38,836 - INFO - integration_test - Dyn residual k=2: pred=[2.5159160759574415, 1.7960851460099367, 0.879999480991378, 3.0, 4.591968865191904], ws=[2.515916075957442, 1.7960851460099367, 0.879999480991378, 3.0, 5.217337956527273], res=[-4.440892098500626e-16, 0.0, 0.0, 0.0, -0.6253690913353687], res_norm=6.254e-01
2025-12-01 17:50:38,853 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:38,866 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:38,884 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:38,898 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:38,915 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:38,928 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:38,944 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:38,957 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:38,974 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:38,987 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:39,002 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:39,014 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:39,029 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:39,041 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:39,057 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:39,070 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:39,086 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:39,098 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:39,113 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:39,124 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:39,139 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:39,151 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:39,298 - INFO - integration_test - Step 11: MPC solve successful
2025-12-01 17:50:39,315 - INFO - integration_test - Step 11: Computed 6 numeric contouring constraints for visualization (s=2.400)
2025-12-01 17:50:39,315 - DEBUG - integration_test - Step 11: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:39,315 - INFO - integration_test - === Applying control at step 11 ===
2025-12-01 17:50:39,315 - INFO - integration_test -   Control dict from planner: {'a': 4.0978045510987583e-08, 'w': -0.5610375103640921}
2025-12-01 17:50:39,315 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:39,315 - INFO - integration_test -   Planner output success: True
2025-12-01 17:50:39,316 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:39,316 - INFO - integration_test - Step 11 completed in 0.507s
2025-12-01 17:50:39,329 - INFO - integration_test - Step 12 (contouring until path end)
2025-12-01 17:50:39,329 - DEBUG - integration_test - Syncing planner state at step 12: vehicle_state=[2.14000939 1.32816016 0.82389573 3.00000003 2.70000001]
2025-12-01 17:50:39,330 - DEBUG - integration_test - Step 12: Using propagated spline 2.7000 (close to path, dist=0.279m)
2025-12-01 17:50:39,330 - DEBUG - integration_test -   Set spline state to 2.7000
2025-12-01 17:50:39,332 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:39,347 - DEBUG - integration_test - Step 12: Checking path alignment: vehicle=(2.140, 1.328), path_start=(0.000, 0.000), dist=2.519m
2025-12-01 17:50:39,347 - WARNING - integration_test - Could not update reference path at step 12: x and y must have the same length
2025-12-01 17:50:39,347 - INFO - integration_test - === Calling planner.solve_mpc() at step 12 ===
2025-12-01 17:50:39,350 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:39,351 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:39,351 - INFO - integration_test - Warmstart k=0: x0=2.1400093890739504 , y0=1.328160156446981 , psi0=0.8238957299549693 , v0=3.0 , spline0=2.7000000110521545 , a0=0.0 , w0=0.0
2025-12-01 17:50:39,352 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:39,353 - INFO - integration_test - Dyn residual k=0: pred=[2.343819696329323, 1.5482995637698649, 0.8238957299549693, 3.0, 3.0000000110521547], ws=[2.343819696329323, 1.5482995637698649, 0.8238957299549692, 3.0, 3.7417212152303305], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -0.7417212041781758], res_norm=7.417e-01
2025-12-01 17:50:39,353 - INFO - integration_test - Dyn residual k=1: pred=[2.5476300035846955, 1.7684389710927488, 0.8238957299549692, 3.0, 4.04172121523033], ws=[2.547630003584696, 1.7684389710927488, 0.8238957299549692, 3.0, 4.756996721295773], res=[-4.440892098500626e-16, 0.0, 0.0, 0.0, -0.715275506065443], res_norm=7.153e-01
2025-12-01 17:50:39,354 - INFO - integration_test - Dyn residual k=2: pred=[2.7514403108400685, 1.9885783784156328, 0.8238957299549692, 3.0, 5.056996721295773], ws=[2.751440310840069, 1.9885783784156328, 0.8238957299549692, 3.0, 5.809984431941103], res=[-4.440892098500626e-16, 0.0, 0.0, 0.0, -0.7529877106453302], res_norm=7.530e-01
2025-12-01 17:50:39,372 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:39,386 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:39,403 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:39,416 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:39,433 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:39,445 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:39,461 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:39,475 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:39,490 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:39,502 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:39,517 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:39,528 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:39,543 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:39,555 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:39,570 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:39,582 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:39,597 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:39,609 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:39,624 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:39,636 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:39,650 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:39,662 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:39,925 - INFO - integration_test - Step 12: MPC solve successful
2025-12-01 17:50:39,940 - INFO - integration_test - Step 12: Computed 6 numeric contouring constraints for visualization (s=2.700)
2025-12-01 17:50:39,940 - DEBUG - integration_test - Step 12: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:39,940 - INFO - integration_test - === Applying control at step 12 ===
2025-12-01 17:50:39,940 - INFO - integration_test -   Control dict from planner: {'a': -3.8875327306940634e-05, 'w': -0.6530756803848627}
2025-12-01 17:50:39,940 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:39,940 - INFO - integration_test -   Planner output success: True
2025-12-01 17:50:39,941 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:39,941 - INFO - integration_test - Step 12 completed in 0.612s
2025-12-01 17:50:39,954 - INFO - integration_test - Step 13 (contouring until path end)
2025-12-01 17:50:39,955 - DEBUG - integration_test - Syncing planner state at step 13: vehicle_state=[2.35086054 1.54149017 0.75858816 2.99999614 2.99999963]
2025-12-01 17:50:39,955 - DEBUG - integration_test - Step 13: Using propagated spline 3.0000 (close to path, dist=0.331m)
2025-12-01 17:50:39,955 - DEBUG - integration_test -   Set spline state to 3.0000
2025-12-01 17:50:39,957 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:39,973 - DEBUG - integration_test - Step 13: Checking path alignment: vehicle=(2.351, 1.541), path_start=(0.000, 0.000), dist=2.811m
2025-12-01 17:50:39,973 - WARNING - integration_test - Could not update reference path at step 13: x and y must have the same length
2025-12-01 17:50:39,973 - INFO - integration_test - === Calling planner.solve_mpc() at step 13 ===
2025-12-01 17:50:39,976 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:39,977 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:39,977 - INFO - integration_test - Warmstart k=0: x0=2.3508605446785418 , y0=1.541490165745162 , psi0=0.758588161916483 , v0=2.999996140406025 , spline0=2.999999625092757 , a0=0.0 , w0=0.0
2025-12-01 17:50:39,977 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:39,979 - INFO - integration_test - Dyn residual k=0: pred=[2.568602644610441, 1.747859122571903, 0.758588161916483, 2.999996140406025, 3.2999992391333595], ws=[2.568602644610441, 1.747859122571903, 0.7585881619164829, 2.999996140406025, 4.073840171926336], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -0.7738409327929765], res_norm=7.738e-01
2025-12-01 17:50:39,980 - INFO - integration_test - Dyn residual k=1: pred=[2.78634474454234, 1.9542280793986437, 0.7585881619164829, 2.999996140406025, 4.373839785966938], ws=[2.7863447445423404, 1.9542280793986437, 0.7585881619164829, 2.999996140406025, 5.186915372461547], res=[-4.440892098500626e-16, 0.0, 0.0, 0.0, -0.8130755864946089], res_norm=8.131e-01
2025-12-01 17:50:39,981 - INFO - integration_test - Dyn residual k=2: pred=[3.0040868444742395, 2.1605970362253846, 0.7585881619164829, 2.999996140406025, 5.48691498650215], ws=[3.00408684447424, 2.1605970362253846, 0.7585881619164829, 2.999996140406025, 6.282154137847079], res=[-4.440892098500626e-16, 0.0, 0.0, 0.0, -0.7952391513449291], res_norm=7.952e-01
2025-12-01 17:50:39,996 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:40,009 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:40,024 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:40,035 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:40,050 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:40,062 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:40,077 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:40,089 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:40,104 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:40,116 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:40,130 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:40,142 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:40,157 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:40,169 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:40,184 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:40,196 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:40,211 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:40,222 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:40,237 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:40,249 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:40,263 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:40,275 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:40,467 - INFO - integration_test - Step 13: MPC solve successful
2025-12-01 17:50:40,483 - INFO - integration_test - Step 13: Computed 6 numeric contouring constraints for visualization (s=3.000)
2025-12-01 17:50:40,483 - DEBUG - integration_test - Step 13: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:40,483 - INFO - integration_test - === Applying control at step 13 ===
2025-12-01 17:50:40,483 - INFO - integration_test -   Control dict from planner: {'a': 3.8891057666040235e-05, 'w': -0.4468579272749585}
2025-12-01 17:50:40,483 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:40,483 - INFO - integration_test -   Planner output success: True
2025-12-01 17:50:40,484 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:40,485 - INFO - integration_test - Step 13 completed in 0.531s
2025-12-01 17:50:40,496 - INFO - integration_test - Step 14 (contouring until path end)
2025-12-01 17:50:40,497 - DEBUG - integration_test - Syncing planner state at step 14: vehicle_state=[2.57314044 1.7429264  0.71390237 3.00000003 3.29999963]
2025-12-01 17:50:40,498 - DEBUG - integration_test - Step 14: Using propagated spline 3.3000 (close to path, dist=0.199m)
2025-12-01 17:50:40,498 - DEBUG - integration_test -   Set spline state to 3.3000
2025-12-01 17:50:40,500 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:40,514 - DEBUG - integration_test - Step 14: Checking path alignment: vehicle=(2.573, 1.743), path_start=(0.000, 0.000), dist=3.108m
2025-12-01 17:50:40,515 - WARNING - integration_test - Could not update reference path at step 14: x and y must have the same length
2025-12-01 17:50:40,515 - INFO - integration_test - === Calling planner.solve_mpc() at step 14 ===
2025-12-01 17:50:40,518 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:40,519 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:40,519 - INFO - integration_test - Warmstart k=0: x0=2.573140444912414 , y0=1.7429263992388853 , psi0=0.7139023691889872 , v0=3.0 , spline0=3.299999628043936 , a0=0.0 , w0=0.0
2025-12-01 17:50:40,519 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:40,520 - INFO - integration_test - Dyn residual k=0: pred=[2.7998841685358817, 1.939362861733414, 0.7139023691889872, 3.0, 3.5999996280439364], ws=[2.7998841685358817, 1.939362861733414, 0.713902369188987, 3.0, 4.483691685715979], res=[0.0, 0.0, 2.220446049250313e-16, 0.0, -0.8836920576720431], res_norm=8.837e-01
2025-12-01 17:50:40,521 - INFO - integration_test - Dyn residual k=1: pred=[3.0266278921593495, 2.1357993242279427, 0.713902369188987, 3.0, 4.783691685715979], ws=[3.0266278921593495, 2.1357993242279427, 0.713902369188987, 3.0, 5.653883669415091], res=[0.0, 0.0, 0.0, 0.0, -0.8701919836991117], res_norm=8.702e-01
2025-12-01 17:50:40,522 - INFO - integration_test - Dyn residual k=2: pred=[3.253371615782817, 2.3322357867224714, 0.713902369188987, 3.0, 5.953883669415091], ws=[3.253371615782817, 2.3322357867224714, 0.713902369188987, 3.0, 6.810033196264547], res=[0.0, 0.0, 0.0, 0.0, -0.8561495268494559], res_norm=8.561e-01
2025-12-01 17:50:40,538 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:40,551 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:40,568 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:40,581 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:40,598 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:40,611 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:40,626 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:40,639 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:40,655 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:40,668 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:40,684 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:40,696 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:40,711 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:40,723 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:40,738 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:40,749 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:40,764 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:40,776 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:40,791 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:40,803 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:40,817 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:40,829 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:40,990 - INFO - integration_test - Step 14: MPC solve successful
2025-12-01 17:50:41,010 - INFO - integration_test - Step 14: Computed 6 numeric contouring constraints for visualization (s=3.300)
2025-12-01 17:50:41,010 - DEBUG - integration_test - Step 14: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:41,010 - INFO - integration_test - === Applying control at step 14 ===
2025-12-01 17:50:41,010 - INFO - integration_test -   Control dict from planner: {'a': 3.1271321509613617e-09, 'w': -0.4279049155382701}
2025-12-01 17:50:41,010 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:41,010 - INFO - integration_test -   Planner output success: True
2025-12-01 17:50:41,012 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:41,013 - INFO - integration_test - Step 14 completed in 0.516s
2025-12-01 17:50:41,026 - INFO - integration_test - Step 15 (contouring until path end)
2025-12-01 17:50:41,026 - DEBUG - integration_test - Syncing planner state at step 15: vehicle_state=[2.80401715 1.93445243 0.67111188 3.00000003 3.59999963]
2025-12-01 17:50:41,027 - DEBUG - integration_test - Step 15: Using propagated spline 3.6000 (close to path, dist=0.321m)
2025-12-01 17:50:41,027 - DEBUG - integration_test -   Set spline state to 3.6000
2025-12-01 17:50:41,029 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:41,046 - DEBUG - integration_test - Step 15: Checking path alignment: vehicle=(2.804, 1.934), path_start=(0.000, 0.000), dist=3.407m
2025-12-01 17:50:41,047 - WARNING - integration_test - Could not update reference path at step 15: x and y must have the same length
2025-12-01 17:50:41,047 - INFO - integration_test - === Calling planner.solve_mpc() at step 15 ===
2025-12-01 17:50:41,050 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:41,052 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:41,052 - INFO - integration_test - Warmstart k=0: x0=2.804017146953811 , y0=1.9344524251092798 , psi0=0.6711118776351602 , v0=3.0 , spline0=3.5999996310263866 , a0=0.0 , w0=0.0
2025-12-01 17:50:41,052 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:41,053 - INFO - integration_test - Dyn residual k=0: pred=[3.038956363279038, 2.1210095601443357, 0.6711118776351602, 3.0, 3.899999631026387], ws=[3.038956363279038, 2.1210095601443357, 0.6711118776351603, 3.0, 4.814597183379881], res=[0.0, 0.0, -1.1102230246251565e-16, 0.0, -0.9145975523534942], res_norm=9.146e-01
2025-12-01 17:50:41,055 - INFO - integration_test - Dyn residual k=1: pred=[3.2738955796042655, 2.3075666951793914, 0.6711118776351603, 3.0, 5.114597183379881], ws=[3.2738955796042655, 2.3075666951793914, 0.6711118776351603, 3.0, 6.016110917353675], res=[0.0, 0.0, 0.0, 0.0, -0.9015137339737942], res_norm=9.015e-01
2025-12-01 17:50:41,056 - INFO - integration_test - Dyn residual k=2: pred=[3.5088347959294928, 2.494123830214447, 0.6711118776351603, 3.0, 6.316110917353675], ws=[3.5088347959294928, 2.494123830214447, 0.6711118776351603, 3.0, 7.2759356529795465], res=[0.0, 0.0, 0.0, 0.0, -0.9598247356258716], res_norm=9.598e-01
2025-12-01 17:50:41,076 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:41,090 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:41,110 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:41,127 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:41,148 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:41,164 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:41,185 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:41,201 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:41,222 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:41,238 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:41,257 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:41,272 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:41,291 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:41,305 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:41,322 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:41,338 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:41,359 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:41,380 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:41,401 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:41,417 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:41,435 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:41,448 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:41,609 - INFO - integration_test - Step 15: MPC solve successful
2025-12-01 17:50:41,624 - INFO - integration_test - Step 15: Computed 6 numeric contouring constraints for visualization (s=3.600)
2025-12-01 17:50:41,624 - DEBUG - integration_test - Step 15: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:41,624 - INFO - integration_test - === Applying control at step 15 ===
2025-12-01 17:50:41,624 - INFO - integration_test -   Control dict from planner: {'a': 1.168114277958936e-09, 'w': -0.34350465835853156}
2025-12-01 17:50:41,624 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:41,624 - INFO - integration_test -   Planner output success: True
2025-12-01 17:50:41,625 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:41,626 - INFO - integration_test - Step 15 completed in 0.600s
2025-12-01 17:50:41,638 - INFO - integration_test - Step 16 (contouring until path end)
2025-12-01 17:50:41,639 - DEBUG - integration_test - Syncing planner state at step 16: vehicle_state=[3.04211401 2.11693814 0.63676141 3.00000003 3.89999963]
2025-12-01 17:50:41,640 - DEBUG - integration_test - Step 16: Using propagated spline 3.9000 (close to path, dist=0.163m)
2025-12-01 17:50:41,640 - DEBUG - integration_test -   Set spline state to 3.9000
2025-12-01 17:50:41,641 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:41,657 - DEBUG - integration_test - Step 16: Checking path alignment: vehicle=(3.042, 2.117), path_start=(0.000, 0.000), dist=3.706m
2025-12-01 17:50:41,657 - WARNING - integration_test - Could not update reference path at step 16: x and y must have the same length
2025-12-01 17:50:41,657 - INFO - integration_test - === Calling planner.solve_mpc() at step 16 ===
2025-12-01 17:50:41,660 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:41,662 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:41,662 - INFO - integration_test - Warmstart k=0: x0=3.042114012755903 , y0=2.116938137054966 , psi0=0.6367614117993071 , v0=3.0 , spline0=3.899999634020518 , a0=0.0 , w0=0.0
2025-12-01 17:50:41,662 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:41,664 - INFO - integration_test - Dyn residual k=0: pred=[3.2833216982293827, 2.295316533921086, 0.6367614117993071, 3.0, 4.199999634020518], ws=[3.2833216982293827, 2.295316533921086, 0.636761411799307, 3.0, 5.225875258151494], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -1.0258756241309763], res_norm=1.026e+00
2025-12-01 17:50:41,665 - INFO - integration_test - Dyn residual k=1: pred=[3.5245293837028617, 2.4736949307872065, 0.636761411799307, 3.0, 5.525875258151494], ws=[3.524529383702862, 2.4736949307872065, 0.636761411799307, 3.0, 6.5520251306985715], res=[-4.440892098500626e-16, 0.0, 0.0, 0.0, -1.0261498725470775], res_norm=1.026e+00
2025-12-01 17:50:41,666 - INFO - integration_test - Dyn residual k=2: pred=[3.7657370691763417, 2.652073327653327, 0.636761411799307, 3.0, 6.852025130698571], ws=[3.7657370691763417, 2.652073327653327, 0.636761411799307, 3.0, 7.879746313123509], res=[0.0, 0.0, 0.0, 0.0, -1.027721182424938], res_norm=1.028e+00
2025-12-01 17:50:41,683 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:41,696 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:41,715 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:41,728 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:41,745 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:41,758 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:41,776 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:41,790 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:41,806 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:41,819 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:41,835 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:41,849 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:41,865 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:41,877 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:41,892 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:41,904 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:41,919 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:41,931 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:41,947 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:41,959 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:41,974 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:41,986 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:42,146 - INFO - integration_test - Step 16: MPC solve successful
2025-12-01 17:50:42,162 - INFO - integration_test - Step 16: Computed 6 numeric contouring constraints for visualization (s=3.900)
2025-12-01 17:50:42,163 - DEBUG - integration_test - Step 16: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:42,163 - INFO - integration_test - === Applying control at step 16 ===
2025-12-01 17:50:42,163 - INFO - integration_test -   Control dict from planner: {'a': 3.8087176696643683e-10, 'w': -0.8000000098850503}
2025-12-01 17:50:42,163 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:42,163 - INFO - integration_test -   Planner output success: True
2025-12-01 17:50:42,165 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:42,166 - INFO - integration_test - Step 16 completed in 0.528s
2025-12-01 17:50:42,186 - INFO - integration_test - Step 17 (contouring until path end)
2025-12-01 17:50:42,187 - DEBUG - integration_test - Syncing planner state at step 17: vehicle_state=[3.29019583 2.28548317 0.55676141 3.00000003 4.19999964]
2025-12-01 17:50:42,188 - DEBUG - integration_test - Step 17: Using propagated spline 4.2000 (close to path, dist=0.323m)
2025-12-01 17:50:42,188 - DEBUG - integration_test -   Set spline state to 4.2000
2025-12-01 17:50:42,190 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:42,214 - DEBUG - integration_test - Step 17: Checking path alignment: vehicle=(3.290, 2.285), path_start=(0.000, 0.000), dist=4.006m
2025-12-01 17:50:42,215 - WARNING - integration_test - Could not update reference path at step 17: x and y must have the same length
2025-12-01 17:50:42,215 - INFO - integration_test - === Calling planner.solve_mpc() at step 17 ===
2025-12-01 17:50:42,220 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:42,222 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:42,222 - INFO - integration_test - Warmstart k=0: x0=3.290195829719965 , y0=2.285483165712709 , psi0=0.5567614108108021 , v0=3.0 , spline0=4.1999996370184585 , a0=0.0 , w0=0.0
2025-12-01 17:50:42,222 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:42,224 - INFO - integration_test - Dyn residual k=0: pred=[3.544887117326212, 2.4440150174569943, 0.5567614108108021, 3.0, 4.499999637018458], ws=[3.544887117326212, 2.4440150174569943, 0.5567614108108021, 3.0, 5.5553085736212156], res=[0.0, 0.0, 0.0, 0.0, -1.0553089366027573], res_norm=1.055e+00
2025-12-01 17:50:42,226 - INFO - integration_test - Dyn residual k=1: pred=[3.7995784049324586, 2.6025468692012796, 0.5567614108108021, 3.0, 5.855308573621215], ws=[3.799578404932459, 2.6025468692012796, 0.5567614108108021, 3.0, 6.9117851599062], res=[-4.440892098500626e-16, 0.0, 0.0, 0.0, -1.056476586284985], res_norm=1.056e+00
2025-12-01 17:50:42,228 - INFO - integration_test - Dyn residual k=2: pred=[4.054269692538706, 2.761078720945565, 0.5567614108108021, 3.0, 7.2117851599062], ws=[4.054269692538706, 2.761078720945565, 0.5567614108108021, 3.0, 8.270299728212764], res=[0.0, 0.0, 0.0, 0.0, -1.0585145683065642], res_norm=1.059e+00
2025-12-01 17:50:42,256 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:42,275 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:42,302 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:42,329 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:42,355 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:42,374 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:42,399 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:42,418 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:42,441 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:42,464 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:42,486 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:42,504 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:42,525 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:42,542 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:42,570 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:42,592 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:42,613 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:42,628 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:42,643 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:42,656 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:42,672 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:42,685 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:42,836 - INFO - integration_test - Step 17: MPC solve successful
2025-12-01 17:50:42,854 - INFO - integration_test - Step 17: Computed 6 numeric contouring constraints for visualization (s=4.200)
2025-12-01 17:50:42,854 - DEBUG - integration_test - Step 17: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:42,854 - INFO - integration_test - === Applying control at step 17 ===
2025-12-01 17:50:42,854 - INFO - integration_test -   Control dict from planner: {'a': -2.0026735559166339e-07, 'w': 0.2210485649589813}
2025-12-01 17:50:42,854 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:42,855 - INFO - integration_test -   Planner output success: True
2025-12-01 17:50:42,856 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:42,856 - INFO - integration_test - Step 17 completed in 0.669s
2025-12-01 17:50:42,872 - INFO - integration_test - Step 18 (contouring until path end)
2025-12-01 17:50:42,873 - DEBUG - integration_test - Syncing planner state at step 18: vehicle_state=[3.54311429 2.44681695 0.57886627 3.00000001 4.49999964]
2025-12-01 17:50:42,874 - DEBUG - integration_test - Step 18: Using propagated spline 4.5000 (close to path, dist=0.171m)
2025-12-01 17:50:42,874 - DEBUG - integration_test -   Set spline state to 4.5000
2025-12-01 17:50:42,876 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:42,892 - DEBUG - integration_test - Step 18: Checking path alignment: vehicle=(3.543, 2.447), path_start=(0.000, 0.000), dist=4.306m
2025-12-01 17:50:42,892 - WARNING - integration_test - Could not update reference path at step 18: x and y must have the same length
2025-12-01 17:50:42,892 - INFO - integration_test - === Calling planner.solve_mpc() at step 18 ===
2025-12-01 17:50:42,896 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:42,897 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:42,897 - INFO - integration_test - Warmstart k=0: x0=3.5431142875591903 , y0=2.446816950989215 , psi0=0.5788662673067002 , v0=3.0 , spline0=4.499999638013725 , a0=0.0 , w0=0.0
2025-12-01 17:50:42,897 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:42,898 - INFO - integration_test - Dyn residual k=0: pred=[3.7942393150179217, 2.6109395289114845, 0.5788662673067002, 3.0, 4.799999638013725], ws=[3.7942393150179217, 2.6109395289114845, 0.5788662673067, 3.0, 5.9680101272407935], res=[0.0, 0.0, 2.220446049250313e-16, 0.0, -1.1680104892270684], res_norm=1.168e+00
2025-12-01 17:50:42,899 - INFO - integration_test - Dyn residual k=1: pred=[4.0453643424766526, 2.775062106833754, 0.5788662673067, 3.0, 6.268010127240793], ws=[4.0453643424766526, 2.775062106833754, 0.5788662673067, 3.0, 7.449503819542411], res=[0.0, 0.0, 0.0, 0.0, -1.1814936923016175], res_norm=1.181e+00
2025-12-01 17:50:42,900 - INFO - integration_test - Dyn residual k=2: pred=[4.296489369935384, 2.9391846847560235, 0.5788662673067, 3.0, 7.749503819542411], ws=[4.296489369935384, 2.9391846847560235, 0.5788662673067, 3.0, 8.873504967976388], res=[0.0, 0.0, 0.0, 0.0, -1.124001148433977], res_norm=1.124e+00
2025-12-01 17:50:42,916 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:42,929 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:42,946 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:42,959 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:42,976 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:42,990 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:43,005 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:43,018 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:43,035 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:43,048 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:43,065 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:43,079 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:43,095 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:43,108 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:43,126 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:43,140 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:43,156 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:43,170 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:43,185 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:43,199 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:43,215 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:43,227 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:43,577 - INFO - integration_test - Step 18: MPC solve successful
2025-12-01 17:50:43,606 - INFO - integration_test - Step 18: Computed 6 numeric contouring constraints for visualization (s=4.500)
2025-12-01 17:50:43,607 - DEBUG - integration_test - Step 18: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:43,607 - INFO - integration_test - === Applying control at step 18 ===
2025-12-01 17:50:43,607 - INFO - integration_test -   Control dict from planner: {'a': -2.0000000199840695, 'w': 0.8000000099999516}
2025-12-01 17:50:43,607 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:43,607 - INFO - integration_test -   Planner output success: True
2025-12-01 17:50:43,609 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:43,610 - INFO - integration_test - Step 18 completed in 0.737s
2025-12-01 17:50:43,633 - INFO - integration_test - Step 19 (contouring until path end)
2025-12-01 17:50:43,634 - DEBUG - integration_test - Syncing planner state at step 19: vehicle_state=[3.77934427 2.61489602 0.65886627 2.80000001 4.77999964]
2025-12-01 17:50:43,634 - DEBUG - integration_test - Step 19: Using propagated spline 4.7800 (close to path, dist=0.308m)
2025-12-01 17:50:43,634 - DEBUG - integration_test -   Set spline state to 4.7800
2025-12-01 17:50:43,636 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:43,659 - DEBUG - integration_test - Step 19: Checking path alignment: vehicle=(3.779, 2.615), path_start=(0.000, 0.000), dist=4.596m
2025-12-01 17:50:43,659 - WARNING - integration_test - Could not update reference path at step 19: x and y must have the same length
2025-12-01 17:50:43,659 - INFO - integration_test - === Calling planner.solve_mpc() at step 19 ===
2025-12-01 17:50:43,665 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:43,667 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:43,668 - INFO - integration_test - Warmstart k=0: x0=3.7793442683034812 , y0=2.6148960190179156 , psi0=0.6588662683066954 , v0=2.8000000079542615 , spline0=4.7799996388091515 , a0=0.0 , w0=0.0
2025-12-01 17:50:43,668 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:43,669 - INFO - integration_test - Dyn residual k=0: pred=[4.000736582353855, 2.7863178487971463, 0.6588662683066954, 2.8000000079542615, 5.059999639604578], ws=[4.000736582353855, 2.7863178487971463, 0.6588662683066953, 2.8000000079542615, 6.332432877399792], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -1.2724332377952141], res_norm=1.272e+00
2025-12-01 17:50:43,671 - INFO - integration_test - Dyn residual k=1: pred=[4.222128896404228, 2.957739678576377, 0.6588662683066953, 2.8000000079542615, 6.612432878195218], ws=[4.222128896404228, 2.957739678576377, 0.6588662683066953, 2.8000000079542615, 7.839338310628441], res=[0.0, 0.0, 0.0, 0.0, -1.226905432433223], res_norm=1.227e+00
2025-12-01 17:50:43,672 - INFO - integration_test - Dyn residual k=2: pred=[4.443521210454601, 3.1291615083556077, 0.6588662683066953, 2.8000000079542615, 8.119338311423867], ws=[4.443521210454601, 3.1291615083556077, 0.6588662683066953, 2.8000000079542615, 9.360190289492838], res=[0.0, 0.0, 0.0, 0.0, -1.2408519780689709], res_norm=1.241e+00
2025-12-01 17:50:43,694 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:43,709 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:43,735 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:43,758 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:43,787 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:43,804 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:43,823 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:43,835 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:43,850 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:43,862 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:43,878 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:43,890 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:43,905 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:43,916 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:43,931 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:43,943 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:43,957 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:43,970 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:43,985 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:43,997 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:44,011 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:44,023 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:44,205 - INFO - integration_test - Step 19: MPC solve successful
2025-12-01 17:50:44,220 - INFO - integration_test - Step 19: Computed 6 numeric contouring constraints for visualization (s=4.780)
2025-12-01 17:50:44,220 - DEBUG - integration_test - Step 19: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:44,220 - INFO - integration_test - === Applying control at step 19 ===
2025-12-01 17:50:44,220 - INFO - integration_test -   Control dict from planner: {'a': -2.0000000199907286, 'w': 0.8000000099999354}
2025-12-01 17:50:44,221 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:44,221 - INFO - integration_test -   Planner output success: True
2025-12-01 17:50:44,222 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:44,222 - INFO - integration_test - Step 19 completed in 0.589s
2025-12-01 17:50:44,236 - INFO - integration_test - Step 20 (contouring until path end)
2025-12-01 17:50:44,237 - DEBUG - integration_test - Syncing planner state at step 20: vehicle_state=[3.98607937 2.7884522  0.73886627 2.60000001 5.03999964]
2025-12-01 17:50:44,237 - DEBUG - integration_test - Step 20: Using propagated spline 5.0400 (close to path, dist=0.120m)
2025-12-01 17:50:44,237 - DEBUG - integration_test -   Set spline state to 5.0400
2025-12-01 17:50:44,239 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:44,255 - DEBUG - integration_test - Step 20: Checking path alignment: vehicle=(3.986, 2.788), path_start=(0.000, 0.000), dist=4.865m
2025-12-01 17:50:44,255 - WARNING - integration_test - Could not update reference path at step 20: x and y must have the same length
2025-12-01 17:50:44,255 - INFO - integration_test - === Calling planner.solve_mpc() at step 20 ===
2025-12-01 17:50:44,258 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:44,260 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:44,260 - INFO - integration_test - Warmstart k=0: x0=3.9860793697669954 , y0=2.7884521953179666 , psi0=0.738866269306689 , v0=2.600000005955189 , spline0=5.03999963940467 , a0=0.0 , w0=0.0
2025-12-01 17:50:44,260 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:44,261 - INFO - integration_test - Dyn residual k=0: pred=[4.17827983187443, 2.9635492617564383, 0.738866269306689, 2.600000005955189, 5.299999640000189], ws=[4.17827983187443, 2.9635492617564383, 0.7388662693066887, 2.600000005955189, 6.587062343957831], res=[0.0, 0.0, 2.220446049250313e-16, 0.0, -1.2870627039576412], res_norm=1.287e+00
2025-12-01 17:50:44,262 - INFO - integration_test - Dyn residual k=1: pred=[4.370480293981864, 3.13864632819491, 0.7388662693066887, 2.600000005955189, 6.84706234455335], ws=[4.370480293981863, 3.13864632819491, 0.7388662693066887, 2.600000005955189, 8.15526194943724], res=[8.881784197001252e-16, 0.0, 0.0, 0.0, -1.3081996048838898], res_norm=1.308e+00
2025-12-01 17:50:44,263 - INFO - integration_test - Dyn residual k=2: pred=[4.562680756089298, 3.3137433946333816, 0.7388662693066887, 2.600000005955189, 8.415261950032757], ws=[4.562680756089298, 3.3137433946333816, 0.7388662693066887, 2.600000005955189, 9.672328242572332], res=[0.0, 0.0, 0.0, 0.0, -1.2570662925395748], res_norm=1.257e+00
2025-12-01 17:50:44,280 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:44,293 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:44,312 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:44,327 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:44,345 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:44,357 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:44,373 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:44,386 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:44,401 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:44,413 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:44,428 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:44,440 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:44,455 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:44,468 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:44,484 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:44,496 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:44,511 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:44,523 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:44,539 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:44,551 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:44,567 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:44,580 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:44,769 - INFO - integration_test - Step 20: MPC solve successful
2025-12-01 17:50:44,785 - INFO - integration_test - Step 20: Computed 6 numeric contouring constraints for visualization (s=5.040)
2025-12-01 17:50:44,785 - DEBUG - integration_test - Step 20: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:44,785 - INFO - integration_test - === Applying control at step 20 ===
2025-12-01 17:50:44,785 - INFO - integration_test -   Control dict from planner: {'a': -2.0000179446536013, 'w': 0.8001616932607718}
2025-12-01 17:50:44,785 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:44,785 - INFO - integration_test -   Planner output success: True
2025-12-01 17:50:44,786 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:44,787 - INFO - integration_test - Step 20 completed in 0.550s
2025-12-01 17:50:44,799 - INFO - integration_test - Step 21 (contouring until path end)
2025-12-01 17:50:44,799 - DEBUG - integration_test - Syncing planner state at step 21: vehicle_state=[4.16405169 2.96393008 0.81888244 2.39999821 5.27999946]
2025-12-01 17:50:44,800 - DEBUG - integration_test - Step 21: Using propagated spline 5.2800 (close to path, dist=0.255m)
2025-12-01 17:50:44,800 - DEBUG - integration_test -   Set spline state to 5.2800
2025-12-01 17:50:44,802 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:44,816 - DEBUG - integration_test - Step 21: Checking path alignment: vehicle=(4.164, 2.964), path_start=(0.000, 0.000), dist=5.111m
2025-12-01 17:50:44,817 - WARNING - integration_test - Could not update reference path at step 21: x and y must have the same length
2025-12-01 17:50:44,817 - INFO - integration_test - === Calling planner.solve_mpc() at step 21 ===
2025-12-01 17:50:44,820 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:44,821 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:44,821 - INFO - integration_test - Warmstart k=0: x0=4.164051687916341 , y0=2.9639300836508533 , psi0=0.8188824386327661 , v0=2.399998211489829 , spline0=5.279999460553653 , a0=0.0 , w0=0.0
2025-12-01 17:50:44,821 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:44,822 - INFO - integration_test - Dyn residual k=0: pred=[4.3279806572958055, 3.139221860838862, 0.8188824386327661, 2.399998211489829, 5.519999281702636], ws=[4.3279806572958055, 3.139221860838862, 0.818882438632766, 2.399998211489829, 6.897489433256322], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -1.377490151553686], res_norm=1.377e+00
2025-12-01 17:50:44,823 - INFO - integration_test - Dyn residual k=1: pred=[4.49190962667527, 3.3145136380268707, 0.818882438632766, 2.399998211489829, 7.137489254405304], ws=[4.49190962667527, 3.3145136380268707, 0.818882438632766, 2.399998211489829, 8.473973893567146], res=[0.0, 0.0, 0.0, 0.0, -1.3364846391618421], res_norm=1.336e+00
2025-12-01 17:50:44,824 - INFO - integration_test - Dyn residual k=2: pred=[4.655838596054734, 3.4898054152148794, 0.818882438632766, 2.399998211489829, 8.71397371471613], ws=[4.655838596054734, 3.4898054152148794, 0.818882438632766, 2.399998211489829, 9.997775237055372], res=[0.0, 0.0, 0.0, 0.0, -1.2838015223392425], res_norm=1.284e+00
2025-12-01 17:50:44,839 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:44,852 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:44,869 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:44,881 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:44,896 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:44,908 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:44,923 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:44,935 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:44,950 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:44,962 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:44,978 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:44,990 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:45,005 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:45,018 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:45,033 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:45,045 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:45,060 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:45,072 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:45,088 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:45,100 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:45,114 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:45,126 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:45,612 - WARNING - integration_test - Step 21: MPC solve failed
2025-12-01 17:50:45,612 - WARNING - integration_test -   Consecutive MPC failures: 1/50
2025-12-01 17:50:45,623 - INFO - integration_test - Step 21: Computed 6 numeric contouring constraints for visualization (s=5.280)
2025-12-01 17:50:45,623 - DEBUG - integration_test - Step 21: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:45,623 - INFO - integration_test - === Applying control at step 21 ===
2025-12-01 17:50:45,623 - INFO - integration_test -   Control dict from planner: {'a': -2.0000179446536013, 'w': 0.8001616932607718}
2025-12-01 17:50:45,623 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:45,623 - INFO - integration_test -   Planner output success: False
2025-12-01 17:50:45,625 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:45,625 - INFO - integration_test - Step 21 completed in 0.826s
2025-12-01 17:50:45,637 - INFO - integration_test - Step 22 (contouring until path end)
2025-12-01 17:50:45,638 - DEBUG - integration_test - Syncing planner state at step 22: vehicle_state=[4.31436629 3.13793353 0.89889861 2.19999642 5.4999991 ]
2025-12-01 17:50:45,638 - DEBUG - integration_test - Step 22: Using propagated spline 5.5000 (close to path, dist=0.121m)
2025-12-01 17:50:45,638 - DEBUG - integration_test -   Set spline state to 5.5000
2025-12-01 17:50:45,640 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:45,655 - DEBUG - integration_test - Step 22: Checking path alignment: vehicle=(4.314, 3.138), path_start=(0.000, 0.000), dist=5.335m
2025-12-01 17:50:45,656 - WARNING - integration_test - Could not update reference path at step 22: x and y must have the same length
2025-12-01 17:50:45,656 - INFO - integration_test - === Calling planner.solve_mpc() at step 22 ===
2025-12-01 17:50:45,658 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:45,660 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:45,660 - INFO - integration_test - Warmstart k=0: x0=4.31436628869503 , y0=3.137933525799348 , psi0=0.8988986079588432 , v0=2.199996417024469 , spline0=5.4999991022561 , a0=0.0 , w0=0.0
2025-12-01 17:50:45,660 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:45,661 - INFO - integration_test - Dyn residual k=0: pred=[4.451309980705326, 3.310114441024568, 0.8988986079588432, 2.199996417024469, 5.719998743958548], ws=[4.451309980705326, 3.310114441024568, 0.8988986079588432, 2.199996417024469, 7.094341851603645], res=[0.0, 0.0, 0.0, 0.0, -1.3743431076450978], res_norm=1.374e+00
2025-12-01 17:50:45,662 - INFO - integration_test - Dyn residual k=1: pred=[4.588253672715622, 3.482295356249788, 0.8988986079588432, 2.199996417024469, 7.314341493306093], ws=[4.588253672715622, 3.482295356249788, 0.8988986079588432, 2.199996417024469, 8.714596468046778], res=[0.0, 0.0, 0.0, 0.0, -1.4002549747406858], res_norm=1.400e+00
2025-12-01 17:50:45,663 - INFO - integration_test - Dyn residual k=2: pred=[4.725197364725918, 3.654476271475008, 0.8988986079588432, 2.199996417024469, 8.934596109749226], ws=[4.725197364725918, 3.654476271475008, 0.8988986079588432, 2.199996417024469, 10.285416798129738], res=[0.0, 0.0, 0.0, 0.0, -1.3508206883805123], res_norm=1.351e+00
2025-12-01 17:50:45,678 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:45,691 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:45,706 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:45,718 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:45,733 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:45,746 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:45,760 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:45,773 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:45,789 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:45,803 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:45,819 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:45,833 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:45,851 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:45,864 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:45,880 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:45,893 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:45,909 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:45,922 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:45,938 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:45,951 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:45,966 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:45,978 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:46,451 - WARNING - integration_test - Step 22: MPC solve failed
2025-12-01 17:50:46,451 - WARNING - integration_test -   Consecutive MPC failures: 2/50
2025-12-01 17:50:46,462 - INFO - integration_test - Step 22: Computed 6 numeric contouring constraints for visualization (s=5.500)
2025-12-01 17:50:46,462 - DEBUG - integration_test - Step 22: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:46,462 - INFO - integration_test - === Applying control at step 22 ===
2025-12-01 17:50:46,462 - INFO - integration_test -   Control dict from planner: {'a': -2.0000179446536013, 'w': 0.8001616932607718}
2025-12-01 17:50:46,462 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:46,462 - INFO - integration_test -   Planner output success: False
2025-12-01 17:50:46,463 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:46,464 - INFO - integration_test - Step 22 completed in 0.826s
2025-12-01 17:50:46,474 - INFO - integration_test - Step 23 (contouring until path end)
2025-12-01 17:50:46,474 - DEBUG - integration_test - Syncing planner state at step 23: vehicle_state=[4.43848134 3.3072609  0.97891478 1.99999462 5.69999856]
2025-12-01 17:50:46,475 - DEBUG - integration_test - Step 23: Using propagated spline 5.7000 (close to path, dist=0.119m)
2025-12-01 17:50:46,475 - DEBUG - integration_test -   Set spline state to 5.7000
2025-12-01 17:50:46,477 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:46,491 - DEBUG - integration_test - Step 23: Checking path alignment: vehicle=(4.438, 3.307), path_start=(0.000, 0.000), dist=5.535m
2025-12-01 17:50:46,491 - WARNING - integration_test - Could not update reference path at step 23: x and y must have the same length
2025-12-01 17:50:46,492 - INFO - integration_test - === Calling planner.solve_mpc() at step 23 ===
2025-12-01 17:50:46,494 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:46,496 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:46,496 - INFO - integration_test - Warmstart k=0: x0=4.438481342134274 , y0=3.3072609009781404 , psi0=0.9789147772849204 , v0=1.9999946225591088 , spline0=5.699998564512011 , a0=0.0 , w0=0.0
2025-12-01 17:50:46,496 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:46,497 - INFO - integration_test - Dyn residual k=0: pred=[4.550065740753326, 3.473238932318068, 0.9789147772849204, 1.9999946225591088, 5.899998026767922], ws=[4.550065740753326, 3.473238932318068, 0.9789147772849205, 1.9999946225591088, 7.350609100397536], res=[0.0, 0.0, -1.1102230246251565e-16, 0.0, -1.4506110736296138], res_norm=1.451e+00
2025-12-01 17:50:46,497 - INFO - integration_test - Dyn residual k=1: pred=[4.661650139372378, 3.6392169636579954, 0.9789147772849205, 1.9999946225591088, 7.550608562653447], ws=[4.661650139372378, 3.6392169636579954, 0.9789147772849205, 1.9999946225591088, 8.961291941209845], res=[0.0, 0.0, 0.0, 0.0, -1.4106833785563984], res_norm=1.411e+00
2025-12-01 17:50:46,498 - INFO - integration_test - Dyn residual k=2: pred=[4.7732345379914305, 3.805194994997923, 0.9789147772849205, 1.9999946225591088, 9.161291403465755], ws=[4.7732345379914305, 3.805194994997923, 0.9789147772849205, 1.9999946225591088, 10.589903276385158], res=[0.0, 0.0, 0.0, 0.0, -1.4286118729194026], res_norm=1.429e+00
2025-12-01 17:50:46,514 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:46,526 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:46,541 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:46,554 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:46,569 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:46,581 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:46,596 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:46,608 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:46,623 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:46,636 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:46,653 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:46,666 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:46,682 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:46,696 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:46,712 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:46,726 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:46,742 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:46,755 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:46,772 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:46,785 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:46,801 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:46,814 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:47,358 - WARNING - integration_test - Step 23: MPC solve failed
2025-12-01 17:50:47,358 - WARNING - integration_test -   Consecutive MPC failures: 3/50
2025-12-01 17:50:47,370 - INFO - integration_test - Step 23: Computed 6 numeric contouring constraints for visualization (s=5.700)
2025-12-01 17:50:47,370 - DEBUG - integration_test - Step 23: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:47,370 - INFO - integration_test - === Applying control at step 23 ===
2025-12-01 17:50:47,370 - INFO - integration_test -   Control dict from planner: {'a': -2.0000179446536013, 'w': 0.8001616932607718}
2025-12-01 17:50:47,370 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:47,370 - INFO - integration_test -   Planner output success: False
2025-12-01 17:50:47,371 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:47,372 - INFO - integration_test - Step 23 completed in 0.898s
2025-12-01 17:50:47,386 - INFO - integration_test - Step 24 (contouring until path end)
2025-12-01 17:50:47,387 - DEBUG - integration_test - Syncing planner state at step 24: vehicle_state=[4.53818184 3.46894063 1.05893095 1.79999283 5.87999785]
2025-12-01 17:50:47,388 - DEBUG - integration_test - Step 24: Using propagated spline 5.8800 (close to path, dist=0.303m)
2025-12-01 17:50:47,388 - DEBUG - integration_test -   Set spline state to 5.8800
2025-12-01 17:50:47,389 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:47,403 - DEBUG - integration_test - Step 24: Checking path alignment: vehicle=(4.538, 3.469), path_start=(0.000, 0.000), dist=5.712m
2025-12-01 17:50:47,404 - WARNING - integration_test - Could not update reference path at step 24: x and y must have the same length
2025-12-01 17:50:47,404 - INFO - integration_test - === Calling planner.solve_mpc() at step 24 ===
2025-12-01 17:50:47,407 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:47,408 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:47,408 - INFO - integration_test - Warmstart k=0: x0=4.538181837439078 , y0=3.468940629832292 , psi0=1.0589309466109975 , v0=1.7999928280937487 , spline0=5.879997847321386 , a0=0.0 , w0=0.0
2025-12-01 17:50:47,408 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:47,409 - INFO - integration_test - Dyn residual k=0: pred=[4.62634627759937, 3.625869828208858, 1.0589309466109975, 1.7999928280937487, 6.0599971301307605], ws=[4.62634627759937, 3.625869828208858, 1.0589309466109977, 1.7999928280937487, 7.578493034892658], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, -1.518495904761897], res_norm=1.518e+00
2025-12-01 17:50:47,410 - INFO - integration_test - Dyn residual k=1: pred=[4.714510717759662, 3.7827990265854243, 1.0589309466109977, 1.7999928280937487, 7.758492317702032], ws=[4.714510717759662, 3.7827990265854243, 1.0589309466109977, 1.7999928280937487, 9.24140542077232], res=[0.0, 0.0, 0.0, 0.0, -1.4829131030702882], res_norm=1.483e+00
2025-12-01 17:50:47,411 - INFO - integration_test - Dyn residual k=2: pred=[4.802675157919954, 3.9397282249619905, 1.0589309466109977, 1.7999928280937487, 9.421404703581695], ws=[4.802675157919954, 3.9397282249619905, 1.0589309466109977, 1.7999928280937487, 10.85419297609593], res=[0.0, 0.0, 0.0, 0.0, -1.4327882725142356], res_norm=1.433e+00
2025-12-01 17:50:47,426 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:47,438 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:47,453 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:47,468 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:47,484 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:47,498 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:47,514 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:47,528 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:47,546 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:47,560 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:47,576 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:47,589 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:47,605 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:47,618 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:47,634 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:47,646 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:47,661 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:47,676 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:47,691 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:47,703 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:47,718 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:47,730 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:48,607 - WARNING - integration_test - Step 24: MPC solve failed
2025-12-01 17:50:48,607 - WARNING - integration_test -   Consecutive MPC failures: 4/50
2025-12-01 17:50:48,620 - INFO - integration_test - Step 24: Computed 6 numeric contouring constraints for visualization (s=5.880)
2025-12-01 17:50:48,620 - DEBUG - integration_test - Step 24: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:48,620 - INFO - integration_test - === Applying control at step 24 ===
2025-12-01 17:50:48,620 - INFO - integration_test -   Control dict from planner: {'a': -2.0000179446536013, 'w': 0.8001616932607718}
2025-12-01 17:50:48,620 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:48,620 - INFO - integration_test -   Planner output success: False
2025-12-01 17:50:48,622 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:48,622 - INFO - integration_test - Step 24 completed in 1.235s
2025-12-01 17:50:48,634 - INFO - integration_test - Step 25 (contouring until path end)
2025-12-01 17:50:48,635 - DEBUG - integration_test - Syncing planner state at step 25: vehicle_state=[4.61555166 3.62026227 1.13894712 1.59999103 6.03999695]
2025-12-01 17:50:48,636 - DEBUG - integration_test - Step 25: Using propagated spline 6.0400 (close to path, dist=0.472m)
2025-12-01 17:50:48,636 - DEBUG - integration_test -   Set spline state to 6.0400
2025-12-01 17:50:48,637 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:48,654 - DEBUG - integration_test - Step 25: Checking path alignment: vehicle=(4.616, 3.620), path_start=(0.000, 0.000), dist=5.866m
2025-12-01 17:50:48,655 - WARNING - integration_test - Could not update reference path at step 25: x and y must have the same length
2025-12-01 17:50:48,655 - INFO - integration_test - === Calling planner.solve_mpc() at step 25 ===
2025-12-01 17:50:48,657 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:48,659 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:48,659 - INFO - integration_test - Warmstart k=0: x0=4.615551655645162 , y0=3.620262271877197 , psi0=1.1389471159370748 , v0=1.5999910336283887 , spline0=6.039996950684225 , a0=0.0 , w0=0.0
2025-12-01 17:50:48,659 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:48,660 - INFO - integration_test - Dyn residual k=0: pred=[4.682519433643768, 3.765572387790859, 1.1389471159370748, 1.5999910336283887, 6.199996054047064], ws=[4.682519433643768, 3.765572387790859, 1.138947115937075, 1.5999910336283887, 7.7781309761331645], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, -1.5781349220861003], res_norm=1.578e+00
2025-12-01 17:50:48,661 - INFO - integration_test - Dyn residual k=1: pred=[4.749487211642374, 3.910882503704521, 1.138947115937075, 1.5999910336283887, 7.938130079496004], ws=[4.749487211642374, 3.910882503704521, 1.138947115937075, 1.5999910336283887, 9.482759696598599], res=[0.0, 0.0, 0.0, 0.0, -1.5446296171025953], res_norm=1.545e+00
2025-12-01 17:50:48,662 - INFO - integration_test - Dyn residual k=2: pred=[4.81645498964098, 4.056192619618183, 1.138947115937075, 1.5999910336283887, 9.642758799961438], ws=[4.81645498964098, 4.056192619618183, 1.138947115937075, 1.5999910336283887, 11.13665353543749], res=[0.0, 0.0, 0.0, 0.0, -1.4938947354760526], res_norm=1.494e+00
2025-12-01 17:50:48,678 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:48,692 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:48,710 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:48,724 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:48,740 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:48,753 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:48,769 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:48,782 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:48,798 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:48,810 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:48,825 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:48,837 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:48,852 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:48,864 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:48,879 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:48,892 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:48,907 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:48,919 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:48,934 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:48,945 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:48,960 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:48,972 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:49,528 - WARNING - integration_test - Step 25: MPC solve failed
2025-12-01 17:50:49,528 - WARNING - integration_test -   Consecutive MPC failures: 5/50
2025-12-01 17:50:49,539 - INFO - integration_test - Step 25: Computed 6 numeric contouring constraints for visualization (s=6.040)
2025-12-01 17:50:49,539 - DEBUG - integration_test - Step 25: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:49,539 - INFO - integration_test - === Applying control at step 25 ===
2025-12-01 17:50:49,539 - INFO - integration_test -   Control dict from planner: {'a': -2.0000179446536013, 'w': 0.8001616932607718}
2025-12-01 17:50:49,539 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:49,539 - INFO - integration_test -   Planner output success: False
2025-12-01 17:50:49,540 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:49,540 - INFO - integration_test - Step 25 completed in 0.906s
2025-12-01 17:50:49,554 - INFO - integration_test - Step 26 (contouring until path end)
2025-12-01 17:50:49,555 - DEBUG - integration_test - Syncing planner state at step 26: vehicle_state=[4.67294282 3.75880459 1.21896329 1.39998924 6.17999587]
2025-12-01 17:50:49,555 - INFO - integration_test - Step 26: Re-initialized spline from 6.1800 to 6.0580 (vehicle at (4.67, 3.76), closest path point at (5.27, 3.64), distance=0.613m)
2025-12-01 17:50:49,555 - DEBUG - integration_test -   Set spline state to 6.0580
2025-12-01 17:50:49,557 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:49,571 - DEBUG - integration_test - Step 26: Checking path alignment: vehicle=(4.673, 3.759), path_start=(0.000, 0.000), dist=5.997m
2025-12-01 17:50:49,571 - WARNING - integration_test - Could not update reference path at step 26: x and y must have the same length
2025-12-01 17:50:49,571 - INFO - integration_test - === Calling planner.solve_mpc() at step 26 ===
2025-12-01 17:50:49,574 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:49,575 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:49,575 - INFO - integration_test - Warmstart k=0: x0=4.672942816716983 , y0=3.7588045939600008 , psi0=1.218963285263152 , v0=1.3999892391630286 , spline0=6.057962560120104 , a0=0.0 , w0=0.0
2025-12-01 17:50:49,575 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:49,576 - INFO - integration_test - Dyn residual k=0: pred=[4.721189125423678, 3.890227546270094, 1.218963285263152, 1.3999892391630286, 6.197961484036407], ws=[4.721189125423678, 3.890227546270094, 1.2189632852631522, 1.3999892391630286, 7.782747540786346], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, -1.5847860567499392], res_norm=1.585e+00
2025-12-01 17:50:49,577 - INFO - integration_test - Dyn residual k=1: pred=[4.769435434130374, 4.021650498580187, 1.2189632852631522, 1.3999892391630286, 7.922746464702649], ws=[4.769435434130374, 4.021650498580187, 1.2189632852631522, 1.3999892391630286, 9.47308489068465], res=[0.0, 0.0, 0.0, 0.0, -1.5503384259820008], res_norm=1.550e+00
2025-12-01 17:50:49,577 - INFO - integration_test - Dyn residual k=2: pred=[4.8176817428370695, 4.153073450890281, 1.2189632852631522, 1.3999892391630286, 9.613083814600952], ws=[4.8176817428370695, 4.153073450890281, 1.2189632852631522, 1.3999892391630286, 11.111406882192274], res=[0.0, 0.0, 0.0, 0.0, -1.498323067591322], res_norm=1.498e+00
2025-12-01 17:50:49,593 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:49,605 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:49,621 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:49,633 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:49,650 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:49,664 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:49,682 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:49,696 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:49,712 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:49,726 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:49,741 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:49,756 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:49,773 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:49,787 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:49,804 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:49,817 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:49,831 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:49,843 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:49,858 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:49,870 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:49,885 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:49,897 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:50,520 - WARNING - integration_test - Step 26: MPC solve failed
2025-12-01 17:50:50,520 - WARNING - integration_test -   Consecutive MPC failures: 6/50
2025-12-01 17:50:50,530 - INFO - integration_test - Step 26: Computed 6 numeric contouring constraints for visualization (s=6.058)
2025-12-01 17:50:50,531 - DEBUG - integration_test - Step 26: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:50,531 - INFO - integration_test - === Applying control at step 26 ===
2025-12-01 17:50:50,531 - INFO - integration_test -   Control dict from planner: {'a': -2.0000179446536013, 'w': 0.8001616932607718}
2025-12-01 17:50:50,531 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:50,531 - INFO - integration_test -   Planner output success: False
2025-12-01 17:50:50,532 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:50,532 - INFO - integration_test - Step 26 completed in 0.978s
2025-12-01 17:50:50,542 - INFO - integration_test - Step 27 (contouring until path end)
2025-12-01 17:50:50,543 - DEBUG - integration_test - Syncing planner state at step 27: vehicle_state=[4.71294221 3.88246036 1.29897945 1.19998744 6.1779613 ]
2025-12-01 17:50:50,543 - INFO - integration_test - Step 27: Re-initialized spline from 6.1780 to 6.0580 (vehicle at (4.71, 3.88), closest path point at (5.27, 3.64), distance=0.611m)
2025-12-01 17:50:50,543 - DEBUG - integration_test -   Set spline state to 6.0580
2025-12-01 17:50:50,545 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:50,559 - DEBUG - integration_test - Step 27: Checking path alignment: vehicle=(4.713, 3.882), path_start=(0.000, 0.000), dist=6.106m
2025-12-01 17:50:50,560 - WARNING - integration_test - Could not update reference path at step 27: x and y must have the same length
2025-12-01 17:50:50,560 - INFO - integration_test - === Calling planner.solve_mpc() at step 27 ===
2025-12-01 17:50:50,563 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:50,564 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:50,564 - INFO - integration_test - Warmstart k=0: x0=4.712942209339386 , y0=3.882460361503567 , psi0=1.2989794545892293 , v0=1.1999874446976686 , spline0=6.057962560120104 , a0=0.0 , w0=0.0
2025-12-01 17:50:50,564 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:50,565 - INFO - integration_test - Dyn residual k=0: pred=[4.745159717536418, 3.99805331474854, 1.2989794545892293, 1.1999874446976686, 6.1779613045898705], ws=[4.745159717536418, 3.99805331474854, 1.2989794545892295, 1.1999874446976686, 7.762747361339811], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, -1.58478605674994], res_norm=1.585e+00
2025-12-01 17:50:50,567 - INFO - integration_test - Dyn residual k=1: pred=[4.77737722573345, 4.113646267993514, 1.2989794545892295, 1.1999874446976686, 7.882746105809577], ws=[4.77737722573345, 4.113646267993514, 1.2989794545892295, 1.1999874446976686, 9.431505074284637], res=[0.0, 0.0, 0.0, 0.0, -1.5487589684750596], res_norm=1.549e+00
2025-12-01 17:50:50,567 - INFO - integration_test - Dyn residual k=2: pred=[4.809594733930482, 4.229239221238487, 1.2989794545892295, 1.1999874446976686, 9.551503818754403], ws=[4.809594733930482, 4.229239221238487, 1.2989794545892295, 1.1999874446976686, 11.046489146736633], res=[0.0, 0.0, 0.0, 0.0, -1.4949853279822296], res_norm=1.495e+00
2025-12-01 17:50:50,583 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:50,596 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:50,612 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:50,628 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:50,650 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:50,665 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:50,681 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:50,693 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:50,708 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:50,720 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:50,735 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:50,747 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:50,761 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:50,774 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:50,790 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:50,803 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:50,819 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:50,832 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:50,851 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:50,864 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:50,881 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:50,895 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:51,065 - INFO - integration_test - Step 27: MPC solve successful
2025-12-01 17:50:51,081 - INFO - integration_test - Step 27: Computed 6 numeric contouring constraints for visualization (s=6.058)
2025-12-01 17:50:51,082 - DEBUG - integration_test - Step 27: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:51,082 - INFO - integration_test - === Applying control at step 27 ===
2025-12-01 17:50:51,082 - INFO - integration_test -   Control dict from planner: {'a': 2.000006244751115, 'w': 0.8001800940256726}
2025-12-01 17:50:51,082 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:51,082 - INFO - integration_test -   Planner output success: True
2025-12-01 17:50:51,083 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:51,083 - INFO - integration_test - Step 27 completed in 0.541s
2025-12-01 17:50:51,094 - INFO - integration_test - Step 28 (contouring until path end)
2025-12-01 17:50:51,096 - DEBUG - integration_test - Syncing planner state at step 28: vehicle_state=[4.74267006 4.0089789  1.37899746 1.39998807 6.19796137]
2025-12-01 17:50:51,097 - INFO - integration_test - Step 28: Re-initialized spline from 6.1980 to 6.0580 (vehicle at (4.74, 4.01), closest path point at (5.27, 3.64), distance=0.647m)
2025-12-01 17:50:51,097 - DEBUG - integration_test -   Set spline state to 6.0580
2025-12-01 17:50:51,098 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:51,114 - DEBUG - integration_test - Step 28: Checking path alignment: vehicle=(4.743, 4.009), path_start=(0.000, 0.000), dist=6.210m
2025-12-01 17:50:51,115 - WARNING - integration_test - Could not update reference path at step 28: x and y must have the same length
2025-12-01 17:50:51,115 - INFO - integration_test - === Calling planner.solve_mpc() at step 28 ===
2025-12-01 17:50:51,118 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:51,119 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:51,119 - INFO - integration_test - Warmstart k=0: x0=4.742670062659729 , y0=4.008978895238402 , psi0=1.3789974639917966 , v0=1.39998806917278 , spline0=6.057962560120104 , a0=0.0 , w0=0.0
2025-12-01 17:50:51,119 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:51,120 - INFO - integration_test - Dyn residual k=0: pred=[4.769357346337237, 4.146410532164466, 1.3789974639917966, 1.39998806917278, 6.197961367037382], ws=[4.769357346337237, 4.146410532164466, 1.3789974639917961, 1.39998806917278, 7.782747423787321], res=[0.0, 0.0, 4.440892098500626e-16, 0.0, -1.5847860567499392], res_norm=1.585e+00
2025-12-01 17:50:51,121 - INFO - integration_test - Dyn residual k=1: pred=[4.7960446300147455, 4.28384216909053, 1.3789974639917961, 1.39998806917278, 7.9227462307045995], ws=[4.7960446300147455, 4.28384216909053, 1.3789974639917961, 1.39998806917278, 9.476820908274554], res=[0.0, 0.0, 0.0, 0.0, -1.5540746775699548], res_norm=1.554e+00
2025-12-01 17:50:51,122 - INFO - integration_test - Dyn residual k=2: pred=[4.8227319136922535, 4.421273806016594, 1.3789974639917961, 1.39998806917278, 9.616819715191832], ws=[4.8227319136922535, 4.421273806016594, 1.3789974639917961, 1.39998806917278, 11.123149242990792], res=[0.0, 0.0, 0.0, 0.0, -1.5063295277989592], res_norm=1.506e+00
2025-12-01 17:50:51,138 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:51,151 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:51,168 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:51,181 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:51,198 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:51,210 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:51,226 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:51,238 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:51,252 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:51,264 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:51,280 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:51,292 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:51,307 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:51,318 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:51,333 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:51,345 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:51,360 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:51,372 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:51,388 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:51,400 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:51,414 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:51,426 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:51,584 - INFO - integration_test - Step 28: MPC solve successful
2025-12-01 17:50:51,600 - INFO - integration_test - Step 28: Computed 6 numeric contouring constraints for visualization (s=6.058)
2025-12-01 17:50:51,600 - DEBUG - integration_test - Step 28: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:51,600 - INFO - integration_test - === Applying control at step 28 ===
2025-12-01 17:50:51,601 - INFO - integration_test -   Control dict from planner: {'a': 2.000000019935724, 'w': 0.32455446732730037}
2025-12-01 17:50:51,601 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:51,601 - INFO - integration_test -   Planner output success: True
2025-12-01 17:50:51,602 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:51,602 - INFO - integration_test - Step 28 completed in 0.507s
2025-12-01 17:50:51,615 - INFO - integration_test - Step 29 (contouring until path end)
2025-12-01 17:50:51,616 - DEBUG - integration_test - Syncing planner state at step 29: vehicle_state=[4.76881602 4.15667473 1.41145291 1.59998807 6.21796137]
2025-12-01 17:50:51,617 - INFO - integration_test - Step 29: Re-initialized spline from 6.2180 to 6.0580 (vehicle at (4.77, 4.16), closest path point at (5.27, 3.64), distance=0.722m)
2025-12-01 17:50:51,617 - DEBUG - integration_test -   Set spline state to 6.0580
2025-12-01 17:50:51,619 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:51,636 - DEBUG - integration_test - Step 29: Checking path alignment: vehicle=(4.769, 4.157), path_start=(0.000, 0.000), dist=6.326m
2025-12-01 17:50:51,637 - WARNING - integration_test - Could not update reference path at step 29: x and y must have the same length
2025-12-01 17:50:51,637 - INFO - integration_test - === Calling planner.solve_mpc() at step 29 ===
2025-12-01 17:50:51,640 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:51,642 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:51,642 - INFO - integration_test - Warmstart k=0: x0=4.7688160246668865 , y0=4.1566747271989435 , psi0=1.4114529107245266 , v0=1.5999880711663523 , spline0=6.057962560120104 , a0=0.0 , w0=0.0
2025-12-01 17:50:51,642 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:51,643 - INFO - integration_test - Dyn residual k=0: pred=[4.794203031352182, 4.314646617642487, 1.4114529107245266, 1.5999880711663523, 6.2179613672367395], ws=[4.794203031352182, 4.314646617642487, 1.4114529107245266, 1.5999880711663523, 7.802747423986678], res=[0.0, 0.0, 0.0, 0.0, -1.5847860567499383], res_norm=1.585e+00
2025-12-01 17:50:51,643 - INFO - integration_test - Dyn residual k=1: pred=[4.819590038037477, 4.472618508086031, 1.4114529107245266, 1.5999880711663523, 7.9627462311033135], ws=[4.819590038037477, 4.472618508086031, 1.4114529107245266, 1.5999880711663523, 9.52141746920768], res=[0.0, 0.0, 0.0, 0.0, -1.5586712381043668], res_norm=1.559e+00
2025-12-01 17:50:51,644 - INFO - integration_test - Dyn residual k=2: pred=[4.844977044722772, 4.630590398529574, 1.4114529107245266, 1.5999880711663523, 9.681416276324315], ws=[4.844977044722772, 4.630590398529574, 1.4114529107245266, 1.5999880711663523, 11.197548167195952], res=[0.0, 0.0, 0.0, 0.0, -1.5161318908716375], res_norm=1.516e+00
2025-12-01 17:50:51,660 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:51,674 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:51,691 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:51,704 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:51,720 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:51,733 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:51,749 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:51,761 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:51,777 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:51,790 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:51,805 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:51,816 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:51,831 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:51,843 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:51,857 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:51,870 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:51,886 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:51,898 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:51,913 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:51,924 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:51,939 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:51,951 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:52,085 - INFO - integration_test - Step 29: MPC solve successful
2025-12-01 17:50:52,100 - INFO - integration_test - Step 29: Computed 6 numeric contouring constraints for visualization (s=6.058)
2025-12-01 17:50:52,100 - DEBUG - integration_test - Step 29: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:52,100 - INFO - integration_test - === Applying control at step 29 ===
2025-12-01 17:50:52,100 - INFO - integration_test -   Control dict from planner: {'a': 1.999999925650955, 'w': -0.7999997057422384}
2025-12-01 17:50:52,100 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:52,100 - INFO - integration_test -   Planner output success: True
2025-12-01 17:50:52,101 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:52,102 - INFO - integration_test - Step 29 completed in 0.486s
2025-12-01 17:50:52,113 - INFO - integration_test - Step 30 (contouring until path end)
2025-12-01 17:50:52,114 - DEBUG - integration_test - Syncing planner state at step 30: vehicle_state=[4.80260185 4.32323619 1.33145294 1.79998806 6.23796137]
2025-12-01 17:50:52,115 - INFO - integration_test - Step 30: Re-initialized spline from 6.2380 to 6.0580 (vehicle at (4.80, 4.32), closest path point at (5.27, 3.64), distance=0.829m)
2025-12-01 17:50:52,115 - DEBUG - integration_test -   Set spline state to 6.0580
2025-12-01 17:50:52,117 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:52,132 - DEBUG - integration_test - Step 30: Checking path alignment: vehicle=(4.803, 4.323), path_start=(0.000, 0.000), dist=6.462m
2025-12-01 17:50:52,132 - WARNING - integration_test - Could not update reference path at step 30: x and y must have the same length
2025-12-01 17:50:52,132 - INFO - integration_test - === Calling planner.solve_mpc() at step 30 ===
2025-12-01 17:50:52,135 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:52,136 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:52,136 - INFO - integration_test - Warmstart k=0: x0=4.802601852673661 , y0=4.32323619000697 , psi0=1.3314529401503028 , v0=1.7999880637314478 , spline0=6.057962560120104 , a0=0.0 , w0=0.0
2025-12-01 17:50:52,136 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:52,137 - INFO - integration_test - Dyn residual k=0: pred=[4.845273230420759, 4.4981039223560835, 1.3314529401503028, 1.7999880637314478, 6.2379613664932485], ws=[4.845273230420759, 4.4981039223560835, 1.331452940150303, 1.7999880637314478, 7.822747423243189], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, -1.58478605674994], res_norm=1.585e+00
2025-12-01 17:50:52,138 - INFO - integration_test - Dyn residual k=1: pred=[4.887944608167857, 4.672971654705197, 1.331452940150303, 1.7999880637314478, 8.002746229616333], ws=[4.887944608167857, 4.672971654705197, 1.331452940150303, 1.7999880637314478, 9.562692389141423], res=[0.0, 0.0, 0.0, 0.0, -1.55994615952509], res_norm=1.560e+00
2025-12-01 17:50:52,139 - INFO - integration_test - Dyn residual k=2: pred=[4.9306159859149545, 4.847839387054311, 1.331452940150303, 1.7999880637314478, 9.742691195514569], ws=[4.9306159859149545, 4.847839387054311, 1.331452940150303, 1.7999880637314478, 11.261605381644536], res=[0.0, 0.0, 0.0, 0.0, -1.518914186129967], res_norm=1.519e+00
2025-12-01 17:50:52,155 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:52,169 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:52,186 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:52,200 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:52,216 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:52,230 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:52,245 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:52,258 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:52,275 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:52,287 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:52,302 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:52,314 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:52,329 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:52,341 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:52,355 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:52,368 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:52,384 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:52,396 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:52,411 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:52,423 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:52,438 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:52,450 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:52,587 - INFO - integration_test - Step 30: MPC solve successful
2025-12-01 17:50:52,602 - INFO - integration_test - Step 30: Computed 6 numeric contouring constraints for visualization (s=6.058)
2025-12-01 17:50:52,603 - DEBUG - integration_test - Step 30: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:52,603 - INFO - integration_test - === Applying control at step 30 ===
2025-12-01 17:50:52,603 - INFO - integration_test -   Control dict from planner: {'a': 2.000000019380118, 'w': -0.8000000083261933}
2025-12-01 17:50:52,603 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:52,603 - INFO - integration_test -   Planner output success: True
2025-12-01 17:50:52,604 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:52,604 - INFO - integration_test - Step 30 completed in 0.490s
2025-12-01 17:50:52,617 - INFO - integration_test - Step 31 (contouring until path end)
2025-12-01 17:50:52,618 - DEBUG - integration_test - Syncing planner state at step 31: vehicle_state=[4.85510335 4.50578456 1.25145294 1.99998807 6.25796137]
2025-12-01 17:50:52,619 - INFO - integration_test - Step 31: Re-initialized spline from 6.2580 to 6.0580 (vehicle at (4.86, 4.51), closest path point at (5.27, 3.64), distance=0.961m)
2025-12-01 17:50:52,619 - DEBUG - integration_test -   Set spline state to 6.0580
2025-12-01 17:50:52,620 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:52,635 - DEBUG - integration_test - Step 31: Checking path alignment: vehicle=(4.855, 4.506), path_start=(0.000, 0.000), dist=6.624m
2025-12-01 17:50:52,636 - WARNING - integration_test - Could not update reference path at step 31: x and y must have the same length
2025-12-01 17:50:52,636 - INFO - integration_test - === Calling planner.solve_mpc() at step 31 ===
2025-12-01 17:50:52,639 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:52,640 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:52,640 - INFO - integration_test - Warmstart k=0: x0=4.855103350258304 , y0=4.505784564475769 , psi0=1.2514529393176834 , v0=1.9999880656694595 , spline0=6.057962560120104 , a0=0.0 , w0=0.0
2025-12-01 17:50:52,640 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:52,641 - INFO - integration_test - Dyn residual k=0: pred=[4.917891618185537, 4.695671783737362, 1.2514529393176834, 1.9999880656694595, 6.2579613666870495], ws=[4.917891618185537, 4.695671783737362, 1.2514529393176836, 1.9999880656694595, 7.842747423436988], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, -1.5847860567499383], res_norm=1.585e+00
2025-12-01 17:50:52,642 - INFO - integration_test - Dyn residual k=1: pred=[4.980679886112771, 4.8855590029989555, 1.2514529393176836, 1.9999880656694595, 8.042746230003933], ws=[4.980679886112771, 4.8855590029989555, 1.2514529393176836, 1.9999880656694595, 9.603531140982847], res=[0.0, 0.0, 0.0, 0.0, -1.5607849109789136], res_norm=1.561e+00
2025-12-01 17:50:52,642 - INFO - integration_test - Dyn residual k=2: pred=[5.043468154040005, 5.075446222260549, 1.2514529393176836, 1.9999880656694595, 9.803529947549793], ws=[5.043468154040005, 5.075446222260549, 1.2514529393176836, 1.9999880656694595, 11.257264143737165], res=[0.0, 0.0, 0.0, 0.0, -1.4537341961873729], res_norm=1.454e+00
2025-12-01 17:50:52,660 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:52,673 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:52,690 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:52,703 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:52,719 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:52,732 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:52,748 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:52,760 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:52,776 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:52,789 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:52,804 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:52,816 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:52,830 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:52,842 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:52,857 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:52,869 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:52,884 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:52,897 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:52,911 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:52,923 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:52,937 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:52,949 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:53,090 - INFO - integration_test - Step 31: MPC solve successful
2025-12-01 17:50:53,105 - INFO - integration_test - Step 31: Computed 6 numeric contouring constraints for visualization (s=6.058)
2025-12-01 17:50:53,105 - DEBUG - integration_test - Step 31: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:53,105 - INFO - integration_test - === Applying control at step 31 ===
2025-12-01 17:50:53,105 - INFO - integration_test -   Control dict from planner: {'a': 2.000000016740558, 'w': -0.8000000011614803}
2025-12-01 17:50:53,105 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:53,105 - INFO - integration_test -   Planner output success: True
2025-12-01 17:50:53,106 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:53,107 - INFO - integration_test - Step 31 completed in 0.489s
2025-12-01 17:50:53,120 - INFO - integration_test - Step 32 (contouring until path end)
2025-12-01 17:50:53,121 - DEBUG - integration_test - Syncing planner state at step 32: vehicle_state=[4.92905655 4.70227102 1.17145294 2.19998807 6.27796137]
2025-12-01 17:50:53,122 - INFO - integration_test - Step 32: Re-initialized spline from 6.2780 to 6.0580 (vehicle at (4.93, 4.70), closest path point at (5.27, 3.64), distance=1.116m)
2025-12-01 17:50:53,122 - DEBUG - integration_test -   Set spline state to 6.0580
2025-12-01 17:50:53,124 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:53,139 - DEBUG - integration_test - Step 32: Checking path alignment: vehicle=(4.929, 4.702), path_start=(0.000, 0.000), dist=6.812m
2025-12-01 17:50:53,139 - WARNING - integration_test - Could not update reference path at step 32: x and y must have the same length
2025-12-01 17:50:53,139 - INFO - integration_test - === Calling planner.solve_mpc() at step 32 ===
2025-12-01 17:50:53,142 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:53,143 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:53,143 - INFO - integration_test - Warmstart k=0: x0=4.929056547710405 , y0=4.702271021229847 , psi0=1.1714529392015354 , v0=2.1999880673435155 , spline0=6.057962560120104 , a0=0.0 , w0=0.0
2025-12-01 17:50:53,143 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:53,144 - INFO - integration_test - Dyn residual k=0: pred=[5.014595048985083, 4.904959550170734, 1.1714529392015354, 2.1999880673435155, 6.277961366854456], ws=[5.014595048985083, 4.904959550170734, 1.1714529392015356, 2.1999880673435155, 7.862747423604394], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, -1.5847860567499383], res_norm=1.585e+00
2025-12-01 17:50:53,145 - INFO - integration_test - Dyn residual k=1: pred=[5.10013355025976, 5.1076480791116206, 1.1714529392015356, 2.1999880673435155, 8.082746230338746], ws=[5.10013355025976, 5.1076480791116206, 1.1714529392015356, 2.1999880673435155, 9.643986763300452], res=[0.0, 0.0, 0.0, 0.0, -1.5612405329617065], res_norm=1.561e+00
2025-12-01 17:50:53,146 - INFO - integration_test - Dyn residual k=2: pred=[5.185672051534437, 5.310336608052507, 1.1714529392015356, 2.1999880673435155, 9.863985570034803], ws=[5.185672051534437, 5.310336608052507, 1.1714529392015356, 2.1999880673435155, 11.318978899183142], res=[0.0, 0.0, 0.0, 0.0, -1.4549933291483388], res_norm=1.455e+00
2025-12-01 17:50:53,164 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:53,177 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:53,195 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:53,209 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:53,225 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:53,238 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:53,254 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:53,268 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:53,284 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:53,296 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:53,311 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:53,324 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:53,339 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:53,351 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:53,366 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:53,379 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:53,394 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:53,406 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:53,421 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:53,433 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:53,448 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:53,459 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:53,605 - INFO - integration_test - Step 32: MPC solve successful
2025-12-01 17:50:53,620 - INFO - integration_test - Step 32: Computed 6 numeric contouring constraints for visualization (s=6.058)
2025-12-01 17:50:53,621 - DEBUG - integration_test - Step 32: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:53,621 - INFO - integration_test - === Applying control at step 32 ===
2025-12-01 17:50:53,621 - INFO - integration_test -   Control dict from planner: {'a': 2.000000018848688, 'w': -0.8000000078746254}
2025-12-01 17:50:53,621 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:53,621 - INFO - integration_test -   Planner output success: True
2025-12-01 17:50:53,622 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:53,622 - INFO - integration_test - Step 32 completed in 0.501s
2025-12-01 17:50:53,637 - INFO - integration_test - Step 33 (contouring until path end)
2025-12-01 17:50:53,637 - DEBUG - integration_test - Syncing planner state at step 33: vehicle_state=[5.02698001 4.91031491 1.09145294 2.39998807 6.29796137]
2025-12-01 17:50:53,638 - INFO - integration_test - Step 33: Re-initialized spline from 6.2980 to 6.0580 (vehicle at (5.03, 4.91), closest path point at (5.27, 3.64), distance=1.293m)
2025-12-01 17:50:53,638 - DEBUG - integration_test -   Set spline state to 6.0580
2025-12-01 17:50:53,640 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:53,656 - DEBUG - integration_test - Step 33: Checking path alignment: vehicle=(5.027, 4.910), path_start=(0.000, 0.000), dist=7.027m
2025-12-01 17:50:53,656 - WARNING - integration_test - Could not update reference path at step 33: x and y must have the same length
2025-12-01 17:50:53,656 - INFO - integration_test - === Calling planner.solve_mpc() at step 33 ===
2025-12-01 17:50:53,659 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:53,660 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:53,660 - INFO - integration_test - Warmstart k=0: x0=5.026980014183704 , y0=4.910314906277782 , psi0=1.0914529384140728 , v0=2.3999880692283844 , spline0=6.057962560120104 , a0=0.0 , w0=0.0
2025-12-01 17:50:53,660 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:53,661 - INFO - integration_test - Dyn residual k=0: pred=[5.137666663508198, 5.1232653535318375, 1.0914529384140728, 2.3999880692283844, 6.297961367042943], ws=[5.137666663508198, 5.1232653535318375, 1.091452938414073, 2.3999880692283844, 7.88274742379288], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, -1.5847860567499374], res_norm=1.585e+00
2025-12-01 17:50:53,662 - INFO - integration_test - Dyn residual k=1: pred=[5.248353312832692, 5.336215800785893, 1.091452938414073, 2.3999880692283844, 8.122746230715718], ws=[5.248353312832692, 5.336215800785893, 1.091452938414073, 2.3999880692283844, 9.615728766223123], res=[0.0, 0.0, 0.0, 0.0, -1.4929825355074051], res_norm=1.493e+00
2025-12-01 17:50:53,663 - INFO - integration_test - Dyn residual k=2: pred=[5.359039962157186, 5.549166248039948, 1.091452938414073, 2.3999880692283844, 9.85572757314596], ws=[5.359039962157186, 5.549166248039948, 1.091452938414073, 2.3999880692283844, 11.3083075226688], res=[0.0, 0.0, 0.0, 0.0, -1.452579949522839], res_norm=1.453e+00
2025-12-01 17:50:53,680 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:53,693 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:53,710 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:53,723 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:53,739 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:53,752 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:53,768 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:53,781 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:53,797 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:53,809 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:53,824 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:53,836 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:53,851 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:53,863 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:53,879 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:53,891 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:53,906 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:53,918 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:53,934 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:53,946 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:53,961 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:53,974 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:54,124 - INFO - integration_test - Step 33: MPC solve successful
2025-12-01 17:50:54,139 - INFO - integration_test - Step 33: Computed 6 numeric contouring constraints for visualization (s=6.058)
2025-12-01 17:50:54,139 - DEBUG - integration_test - Step 33: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:54,139 - INFO - integration_test - === Applying control at step 33 ===
2025-12-01 17:50:54,139 - INFO - integration_test -   Control dict from planner: {'a': 2.000000019998666, 'w': -0.08696350632436574}
2025-12-01 17:50:54,139 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:54,139 - INFO - integration_test -   Planner output success: True
2025-12-01 17:50:54,140 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:54,141 - INFO - integration_test - Step 33 completed in 0.504s
2025-12-01 17:50:54,154 - INFO - integration_test - Step 34 (contouring until path end)
2025-12-01 17:50:54,155 - DEBUG - integration_test - Syncing planner state at step 34: vehicle_state=[5.14325453 5.13162746 1.08275659 2.59998807 6.31796137]
2025-12-01 17:50:54,155 - INFO - integration_test - Step 34: Re-initialized spline from 6.3180 to 6.6638 (vehicle at (5.14, 5.13), closest path point at (5.83, 3.90), distance=1.412m)
2025-12-01 17:50:54,156 - DEBUG - integration_test -   Set spline state to 6.6638
2025-12-01 17:50:54,157 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:54,173 - DEBUG - integration_test - Step 34: Checking path alignment: vehicle=(5.143, 5.132), path_start=(0.000, 0.000), dist=7.265m
2025-12-01 17:50:54,173 - WARNING - integration_test - Could not update reference path at step 34: x and y must have the same length
2025-12-01 17:50:54,173 - INFO - integration_test - === Calling planner.solve_mpc() at step 34 ===
2025-12-01 17:50:54,176 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:54,177 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:54,177 - INFO - integration_test - Warmstart k=0: x0=5.143254529202743 , y0=5.131627461269368 , psi0=1.082756587781636 , v0=2.599988071228251 , spline0=6.663758816132114 , a0=0.0 , w0=0.0
2025-12-01 17:50:54,177 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:54,179 - INFO - integration_test - Dyn residual k=0: pred=[5.265166769286979, 5.361272372867548, 1.082756587781636, 2.599988071228251, 6.923757623254939], ws=[5.265166769286979, 5.361272372867548, 1.0827565877816365, 2.599988071228251, 8.648762648555229], res=[0.0, 0.0, -4.440892098500626e-16, 0.0, -1.7250050253002893], res_norm=1.725e+00
2025-12-01 17:50:54,181 - INFO - integration_test - Dyn residual k=1: pred=[5.387079009371215, 5.5909172844657276, 1.0827565877816365, 2.599988071228251, 8.908761455678054], ws=[5.387079009371215, 5.5909172844657276, 1.0827565877816365, 2.599988071228251, 10.546504225740419], res=[0.0, 0.0, 0.0, 0.0, -1.6377427700623652], res_norm=1.638e+00
2025-12-01 17:50:54,182 - INFO - integration_test - Dyn residual k=2: pred=[5.508991249455451, 5.820562196063907, 1.0827565877816365, 2.599988071228251, 10.806503032863244], ws=[5.508991249455451, 5.820562196063907, 1.0827565877816365, 2.599988071228251, 12.405011868774425], res=[0.0, 0.0, 0.0, 0.0, -1.598508835911181], res_norm=1.599e+00
2025-12-01 17:50:54,198 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:54,212 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:54,229 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:54,242 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:54,258 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:54,272 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:54,288 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:54,301 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:54,316 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:54,328 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:54,343 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:54,355 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:54,370 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:54,383 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:54,398 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:54,410 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:54,425 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:54,437 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:54,452 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:54,465 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:54,480 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:54,492 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:54,634 - INFO - integration_test - Step 34: MPC solve successful
2025-12-01 17:50:54,649 - INFO - integration_test - Step 34: Computed 6 numeric contouring constraints for visualization (s=6.664)
2025-12-01 17:50:54,650 - DEBUG - integration_test - Step 34: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:54,650 - INFO - integration_test - === Applying control at step 34 ===
2025-12-01 17:50:54,650 - INFO - integration_test -   Control dict from planner: {'a': 2.000000012796596, 'w': 0.12966743978858422}
2025-12-01 17:50:54,650 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:54,650 - INFO - integration_test -   Planner output success: True
2025-12-01 17:50:54,651 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:54,651 - INFO - integration_test - Step 34 completed in 0.497s
2025-12-01 17:50:54,665 - INFO - integration_test - Step 35 (contouring until path end)
2025-12-01 17:50:54,666 - DEBUG - integration_test - Syncing planner state at step 35: vehicle_state=[5.26828691 5.37092903 1.09572333 2.79998807 6.94375762]
2025-12-01 17:50:54,666 - INFO - integration_test - Step 35: Re-initialized spline from 6.9438 to 6.6638 (vehicle at (5.27, 5.37), closest path point at (5.83, 3.90), distance=1.577m)
2025-12-01 17:50:54,666 - DEBUG - integration_test -   Set spline state to 6.6638
2025-12-01 17:50:54,668 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:54,683 - DEBUG - integration_test - Step 35: Checking path alignment: vehicle=(5.268, 5.371), path_start=(0.000, 0.000), dist=7.523m
2025-12-01 17:50:54,684 - WARNING - integration_test - Could not update reference path at step 35: x and y must have the same length
2025-12-01 17:50:54,684 - INFO - integration_test - === Calling planner.solve_mpc() at step 35 ===
2025-12-01 17:50:54,687 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:54,688 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:54,689 - INFO - integration_test - Warmstart k=0: x0=5.268286905740266 , y0=5.3709290278207975 , psi0=1.0957233317604944 , v0=2.7999880725079107 , spline0=6.663758816132114 , a0=0.0 , w0=0.0
2025-12-01 17:50:54,689 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:54,690 - INFO - integration_test - Dyn residual k=0: pred=[5.396359300948492, 5.619920581186556, 1.0957233317604944, 2.7999880725079107, 6.943757623382906], ws=[5.396359300948492, 5.619920581186556, 1.0957233317604942, 2.7999880725079107, 8.668762648683195], res=[0.0, 0.0, 2.220446049250313e-16, 0.0, -1.7250050253002893], res_norm=1.725e+00
2025-12-01 17:50:54,690 - INFO - integration_test - Dyn residual k=1: pred=[5.524431696156719, 5.868912134552315, 1.0957233317604942, 2.7999880725079107, 8.948761455933987], ws=[5.524431696156719, 5.868912134552315, 1.0957233317604942, 2.7999880725079107, 10.58981959637029], res=[0.0, 0.0, 0.0, 0.0, -1.6410581404363036], res_norm=1.641e+00
2025-12-01 17:50:54,691 - INFO - integration_test - Dyn residual k=2: pred=[5.652504091364945, 6.117903687918074, 1.0957233317604942, 2.7999880725079107, 10.869818403621082], ws=[5.652504091364945, 6.117903687918074, 1.0957233317604942, 2.7999880725079107, 12.475727469751243], res=[0.0, 0.0, 0.0, 0.0, -1.6059090661301614], res_norm=1.606e+00
2025-12-01 17:50:54,708 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:54,721 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:54,738 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:54,751 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:54,768 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:54,782 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:54,798 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:54,810 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:54,826 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:54,838 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:54,853 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:54,866 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:54,881 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:54,893 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:54,908 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:54,920 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:54,935 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:54,947 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:54,962 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:54,975 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:54,990 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:55,002 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:55,141 - INFO - integration_test - Step 35: MPC solve successful
2025-12-01 17:50:55,157 - INFO - integration_test - Step 35: Computed 6 numeric contouring constraints for visualization (s=6.664)
2025-12-01 17:50:55,157 - DEBUG - integration_test - Step 35: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:55,157 - INFO - integration_test - === Applying control at step 35 ===
2025-12-01 17:50:55,157 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000199957646, 'w': 0.32984396937894694}
2025-12-01 17:50:55,157 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:55,157 - INFO - integration_test -   Planner output success: True
2025-12-01 17:50:55,158 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:55,158 - INFO - integration_test - Step 35 completed in 0.493s
2025-12-01 17:50:55,172 - INFO - integration_test - Step 36 (contouring until path end)
2025-12-01 17:50:55,172 - DEBUG - integration_test - Syncing planner state at step 36: vehicle_state=[5.3966073  5.63097818 1.12870773 2.99998807 6.96375762]
2025-12-01 17:50:55,173 - INFO - integration_test - Step 36: Re-initialized spline from 6.9638 to 6.6638 (vehicle at (5.40, 5.63), closest path point at (5.83, 3.90), distance=1.786m)
2025-12-01 17:50:55,173 - DEBUG - integration_test -   Set spline state to 6.6638
2025-12-01 17:50:55,175 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:55,190 - DEBUG - integration_test - Step 36: Checking path alignment: vehicle=(5.397, 5.631), path_start=(0.000, 0.000), dist=7.799m
2025-12-01 17:50:55,191 - WARNING - integration_test - Could not update reference path at step 36: x and y must have the same length
2025-12-01 17:50:55,191 - INFO - integration_test - === Calling planner.solve_mpc() at step 36 ===
2025-12-01 17:50:55,194 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:55,195 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:55,196 - INFO - integration_test - Warmstart k=0: x0=5.396607300507229 , y0=5.630978183025021 , psi0=1.128707728698389 , v0=2.9999880745074874 , spline0=6.663758816132114 , a0=0.0 , w0=0.0
2025-12-01 17:50:55,196 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:55,197 - INFO - integration_test - Dyn residual k=0: pred=[5.524955249481605, 5.90213512736896, 1.128707728698389, 2.9999880745074874, 6.963757623582863], ws=[5.524955249481605, 5.90213512736896, 1.128707728698389, 2.9999880745074874, 8.688762648883152], res=[0.0, 0.0, 0.0, 0.0, -1.7250050253002893], res_norm=1.725e+00
2025-12-01 17:50:55,198 - INFO - integration_test - Dyn residual k=1: pred=[5.653303198455982, 6.1732920717129, 1.128707728698389, 2.9999880745074874, 8.9887614563339], ws=[5.653303198455982, 6.1732920717129, 1.128707728698389, 2.9999880745074874, 10.634145648227689], res=[0.0, 0.0, 0.0, 0.0, -1.645384191893788], res_norm=1.645e+00
2025-12-01 17:50:55,198 - INFO - integration_test - Dyn residual k=2: pred=[5.781651147430358, 6.444449016056839, 1.128707728698389, 2.9999880745074874, 10.934144455678437], ws=[5.781651147430358, 6.444449016056839, 1.128707728698389, 2.9999880745074874, 12.54974912935316], res=[0.0, 0.0, 0.0, 0.0, -1.6156046736747225], res_norm=1.616e+00
2025-12-01 17:50:55,215 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:55,228 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:55,245 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:55,259 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:55,276 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:55,289 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:55,305 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:55,318 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:55,333 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:55,346 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:55,360 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:55,373 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:55,389 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:55,401 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:55,416 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:55,427 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:55,442 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:55,454 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:55,470 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:55,482 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:55,497 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:55,509 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:55,678 - INFO - integration_test - Step 36: MPC solve successful
2025-12-01 17:50:55,693 - INFO - integration_test - Step 36: Computed 6 numeric contouring constraints for visualization (s=6.664)
2025-12-01 17:50:55,694 - DEBUG - integration_test - Step 36: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:55,694 - INFO - integration_test - === Applying control at step 36 ===
2025-12-01 17:50:55,694 - INFO - integration_test -   Control dict from planner: {'a': 0.0002245806925418348, 'w': 0.8000337753294301}
2025-12-01 17:50:55,694 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:55,694 - INFO - integration_test -   Planner output success: True
2025-12-01 17:50:55,695 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:55,695 - INFO - integration_test - Step 36 completed in 0.523s
2025-12-01 17:50:55,707 - INFO - integration_test - Step 37 (contouring until path end)
2025-12-01 17:50:55,708 - DEBUG - integration_test - Syncing planner state at step 37: vehicle_state=[5.51397785 5.9069784  1.20871111 3.00001053 6.96375987]
2025-12-01 17:50:55,708 - INFO - integration_test - Step 37: Re-initialized spline from 6.9638 to 7.2696 (vehicle at (5.51, 5.91), closest path point at (6.41, 4.13), distance=1.990m)
2025-12-01 17:50:55,709 - DEBUG - integration_test -   Set spline state to 7.2696
2025-12-01 17:50:55,710 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:55,727 - DEBUG - integration_test - Step 37: Checking path alignment: vehicle=(5.514, 5.907), path_start=(0.000, 0.000), dist=8.081m
2025-12-01 17:50:55,727 - WARNING - integration_test - Could not update reference path at step 37: x and y must have the same length
2025-12-01 17:50:55,727 - INFO - integration_test - === Calling planner.solve_mpc() at step 37 ===
2025-12-01 17:50:55,731 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:55,732 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:55,732 - INFO - integration_test - Warmstart k=0: x0=5.513977852952584 , y0=5.906978401141737 , psi0=1.208711106231332 , v0=3.0 , spline0=7.269555072144124 , a0=0.0 , w0=0.0
2025-12-01 17:50:55,732 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:55,733 - INFO - integration_test - Dyn residual k=0: pred=[5.620245358140639, 6.1875264671502315, 1.208711106231332, 3.0, 7.569555072144124], ws=[5.620245358140639, 6.1875264671502315, 1.2087111062313323, 3.0, 9.430535680018762], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, -1.8609806078746383], res_norm=1.861e+00
2025-12-01 17:50:55,734 - INFO - integration_test - Dyn residual k=1: pred=[5.7265128633286935, 6.468074533158726, 1.2087111062313323, 3.0, 9.730535680018763], ws=[5.7265128633286935, 6.468074533158726, 1.2087111062313323, 3.0, 11.510118071964698], res=[0.0, 0.0, 0.0, 0.0, -1.7795823919459348], res_norm=1.780e+00
2025-12-01 17:50:55,735 - INFO - integration_test - Dyn residual k=2: pred=[5.832780368516748, 6.74862259916722, 1.2087111062313323, 3.0, 11.810118071964698], ws=[5.832780368516748, 6.74862259916722, 1.2087111062313323, 3.0, 13.502580374988195], res=[0.0, 0.0, 0.0, 0.0, -1.6924623030234969], res_norm=1.692e+00
2025-12-01 17:50:55,751 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:55,765 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:55,782 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:55,796 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:55,812 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:55,825 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:55,841 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:55,853 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:55,869 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:55,882 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:55,897 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:55,909 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:55,923 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:55,935 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:55,950 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:55,962 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:55,979 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:55,991 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:56,006 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:56,018 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:56,033 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:56,045 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:56,561 - WARNING - integration_test - Step 37: MPC solve failed
2025-12-01 17:50:56,561 - WARNING - integration_test -   Consecutive MPC failures: 1/50
2025-12-01 17:50:56,574 - INFO - integration_test - Step 37: Computed 6 numeric contouring constraints for visualization (s=7.270)
2025-12-01 17:50:56,574 - DEBUG - integration_test - Step 37: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:56,574 - INFO - integration_test - === Applying control at step 37 ===
2025-12-01 17:50:56,574 - INFO - integration_test -   Control dict from planner: {'a': 0.0002245806925418348, 'w': 0.8000337753294301}
2025-12-01 17:50:56,574 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:56,574 - INFO - integration_test -   Planner output success: False
2025-12-01 17:50:56,576 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:56,576 - INFO - integration_test - Step 37 completed in 0.868s
2025-12-01 17:50:56,587 - INFO - integration_test - Step 38 (contouring until path end)
2025-12-01 17:50:56,588 - DEBUG - integration_test - Syncing planner state at step 38: vehicle_state=[5.6089163  6.19147797 1.28871448 3.00003299 7.56955837]
2025-12-01 17:50:56,589 - INFO - integration_test - Step 38: Re-initialized spline from 7.5696 to 7.2696 (vehicle at (5.61, 6.19), closest path point at (6.41, 4.13), distance=2.211m)
2025-12-01 17:50:56,589 - DEBUG - integration_test -   Set spline state to 7.2696
2025-12-01 17:50:56,590 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:56,605 - DEBUG - integration_test - Step 38: Checking path alignment: vehicle=(5.609, 6.191), path_start=(0.000, 0.000), dist=8.354m
2025-12-01 17:50:56,605 - WARNING - integration_test - Could not update reference path at step 38: x and y must have the same length
2025-12-01 17:50:56,605 - INFO - integration_test - === Calling planner.solve_mpc() at step 38 ===
2025-12-01 17:50:56,607 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:56,609 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:56,609 - INFO - integration_test - Warmstart k=0: x0=5.608916296740968 , y0=6.19147797169185 , psi0=1.288714483764275 , v0=3.0 , spline0=7.269555072144124 , a0=0.0 , w0=0.0
2025-12-01 17:50:56,609 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:56,610 - INFO - integration_test - Dyn residual k=0: pred=[5.692423041184854, 6.479621379793413, 1.288714483764275, 3.0, 7.569555072144124], ws=[5.692423041184854, 6.479621379793413, 1.2887144837642754, 3.0, 9.430535680018764], res=[0.0, 0.0, -4.440892098500626e-16, 0.0, -1.86098060787464], res_norm=1.861e+00
2025-12-01 17:50:56,610 - INFO - integration_test - Dyn residual k=1: pred=[5.775929785628741, 6.767764787894975, 1.2887144837642754, 3.0, 9.730535680018765], ws=[5.775929785628741, 6.767764787894975, 1.2887144837642754, 3.0, 11.514381656150773], res=[0.0, 0.0, 0.0, 0.0, -1.7838459761320085], res_norm=1.784e+00
2025-12-01 17:50:56,611 - INFO - integration_test - Dyn residual k=2: pred=[5.859436530072628, 7.055908195996537, 1.2887144837642754, 3.0, 11.814381656150774], ws=[5.859436530072628, 7.055908195996537, 1.2887144837642754, 3.0, 13.515873128756013], res=[0.0, 0.0, 0.0, 0.0, -1.7014914726052393], res_norm=1.701e+00
2025-12-01 17:50:56,626 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:56,638 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:56,653 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:56,666 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:56,681 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:56,694 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:56,710 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:56,723 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:56,739 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:56,754 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:56,771 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:56,784 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:56,800 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:56,813 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:56,829 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:56,842 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:56,857 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:56,870 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:56,886 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:56,897 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:56,912 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:56,923 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:57,421 - WARNING - integration_test - Step 38: MPC solve failed
2025-12-01 17:50:57,421 - WARNING - integration_test -   Consecutive MPC failures: 2/50
2025-12-01 17:50:57,432 - INFO - integration_test - Step 38: Computed 6 numeric contouring constraints for visualization (s=7.270)
2025-12-01 17:50:57,432 - DEBUG - integration_test - Step 38: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:57,432 - INFO - integration_test - === Applying control at step 38 ===
2025-12-01 17:50:57,433 - INFO - integration_test -   Control dict from planner: {'a': 0.0002245806925418348, 'w': 0.8000337753294301}
2025-12-01 17:50:57,433 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:57,433 - INFO - integration_test -   Planner output success: False
2025-12-01 17:50:57,434 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:57,434 - INFO - integration_test - Step 38 completed in 0.846s
2025-12-01 17:50:57,444 - INFO - integration_test - Step 39 (contouring until path end)
2025-12-01 17:50:57,445 - DEBUG - integration_test - Syncing planner state at step 39: vehicle_state=[5.68081496 6.48265703 1.36871786 3.00005545 7.56956062]
2025-12-01 17:50:57,445 - INFO - integration_test - Step 39: Re-initialized spline from 7.5696 to 7.8754 (vehicle at (5.68, 6.48), closest path point at (6.61, 4.20), distance=2.463m)
2025-12-01 17:50:57,446 - DEBUG - integration_test -   Set spline state to 7.8754
2025-12-01 17:50:57,447 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:57,461 - DEBUG - integration_test - Step 39: Checking path alignment: vehicle=(5.681, 6.483), path_start=(0.000, 0.000), dist=8.620m
2025-12-01 17:50:57,461 - WARNING - integration_test - Could not update reference path at step 39: x and y must have the same length
2025-12-01 17:50:57,461 - INFO - integration_test - === Calling planner.solve_mpc() at step 39 ===
2025-12-01 17:50:57,464 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:57,465 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:57,466 - INFO - integration_test - Warmstart k=0: x0=5.680814958156201 , y0=6.482657028320748 , psi0=1.368717861297218 , v0=3.0 , spline0=7.8753513281561345 , a0=0.0 , w0=0.0
2025-12-01 17:50:57,466 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:57,467 - INFO - integration_test - Dyn residual k=0: pred=[5.741026738586719, 6.776552488471781, 1.368717861297218, 3.0, 8.175351328156134], ws=[5.741026738586719, 6.776552488471781, 1.3687178612972177, 3.0, 10.082492437634249], res=[0.0, 0.0, 2.220446049250313e-16, 0.0, -1.9071411094781148], res_norm=1.907e+00
2025-12-01 17:50:57,467 - INFO - integration_test - Dyn residual k=1: pred=[5.801238519017236, 7.070447948622814, 1.3687178612972177, 3.0, 10.38249243763425], ws=[5.801238519017236, 7.070447948622814, 1.3687178612972177, 3.0, 12.270859206661989], res=[0.0, 0.0, 0.0, 0.0, -1.8883667690277388], res_norm=1.888e+00
2025-12-01 17:50:57,468 - INFO - integration_test - Dyn residual k=2: pred=[5.861450299447753, 7.364343408773847, 1.3687178612972177, 3.0, 12.57085920666199], ws=[5.861450299447753, 7.364343408773847, 1.3687178612972177, 3.0, 14.394021639349193], res=[0.0, 0.0, 0.0, 0.0, -1.8231624326872033], res_norm=1.823e+00
2025-12-01 17:50:57,484 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:57,496 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:57,511 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:57,523 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:57,538 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:57,550 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:57,565 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:57,578 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:57,594 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:57,607 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:57,623 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:57,637 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:57,653 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:57,666 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:57,683 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:57,696 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:57,713 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:57,725 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:57,741 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:57,754 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:57,769 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:57,782 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:58,322 - WARNING - integration_test - Step 39: MPC solve failed
2025-12-01 17:50:58,322 - WARNING - integration_test -   Consecutive MPC failures: 3/50
2025-12-01 17:50:58,333 - INFO - integration_test - Step 39: Computed 6 numeric contouring constraints for visualization (s=7.875)
2025-12-01 17:50:58,334 - DEBUG - integration_test - Step 39: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:58,334 - INFO - integration_test - === Applying control at step 39 ===
2025-12-01 17:50:58,334 - INFO - integration_test -   Control dict from planner: {'a': 0.0002245806925418348, 'w': 0.8000337753294301}
2025-12-01 17:50:58,334 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:58,334 - INFO - integration_test -   Planner output success: False
2025-12-01 17:50:58,335 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:58,335 - INFO - integration_test - Step 39 completed in 0.891s
2025-12-01 17:50:58,345 - INFO - integration_test - Step 40 (contouring until path end)
2025-12-01 17:50:58,347 - DEBUG - integration_test - Syncing planner state at step 40: vehicle_state=[5.72921354 6.77865295 1.44872124 3.00007791 8.17535912]
2025-12-01 17:50:58,347 - INFO - integration_test - Step 40: Re-initialized spline from 8.1754 to 7.8754 (vehicle at (5.73, 6.78), closest path point at (6.61, 4.20), distance=2.723m)
2025-12-01 17:50:58,348 - DEBUG - integration_test -   Set spline state to 7.8754
2025-12-01 17:50:58,349 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:58,363 - DEBUG - integration_test - Step 40: Checking path alignment: vehicle=(5.729, 6.779), path_start=(0.000, 0.000), dist=8.875m
2025-12-01 17:50:58,364 - WARNING - integration_test - Could not update reference path at step 40: x and y must have the same length
2025-12-01 17:50:58,364 - INFO - integration_test - === Calling planner.solve_mpc() at step 40 ===
2025-12-01 17:50:58,367 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:58,368 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:58,368 - INFO - integration_test - Warmstart k=0: x0=5.72921354391183 , y0=6.778652947583113 , psi0=1.448721238830161 , v0=3.0 , spline0=7.8753513281561345 , a0=0.0 , w0=0.0
2025-12-01 17:50:58,368 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:58,370 - INFO - integration_test - Dyn residual k=0: pred=[5.765745177908508, 7.076420373131196, 1.448721238830161, 3.0, 8.175351328156134], ws=[5.765745177908508, 7.076420373131196, 1.448721238830161, 3.0, 10.082492437634249], res=[0.0, 0.0, 0.0, 0.0, -1.9071411094781148], res_norm=1.907e+00
2025-12-01 17:50:58,371 - INFO - integration_test - Dyn residual k=1: pred=[5.802276811905187, 7.374187798679278, 1.448721238830161, 3.0, 10.38249243763425], ws=[5.802276811905187, 7.374187798679278, 1.448721238830161, 3.0, 12.275511409435284], res=[0.0, 0.0, 0.0, 0.0, -1.893018971801034], res_norm=1.893e+00
2025-12-01 17:50:58,372 - INFO - integration_test - Dyn residual k=2: pred=[5.838808445901865, 7.671955224227361, 1.448721238830161, 3.0, 12.575511409435284], ws=[5.838808445901865, 7.671955224227361, 1.448721238830161, 3.0, 14.408245398999927], res=[0.0, 0.0, 0.0, 0.0, -1.8327339895646428], res_norm=1.833e+00
2025-12-01 17:50:58,388 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:58,400 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:58,414 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:58,426 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:58,442 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:58,455 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:58,471 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:58,486 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:58,504 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:58,519 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:58,537 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:58,552 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:58,570 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:58,585 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:58,601 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:58,614 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:58,629 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:58,641 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:58,656 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:58,669 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:58,683 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:58,695 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:59,266 - WARNING - integration_test - Step 40: MPC solve failed
2025-12-01 17:50:59,266 - WARNING - integration_test -   Consecutive MPC failures: 4/50
2025-12-01 17:50:59,276 - INFO - integration_test - Step 40: Computed 6 numeric contouring constraints for visualization (s=7.875)
2025-12-01 17:50:59,277 - DEBUG - integration_test - Step 40: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:50:59,277 - INFO - integration_test - === Applying control at step 40 ===
2025-12-01 17:50:59,277 - INFO - integration_test -   Control dict from planner: {'a': 0.0002245806925418348, 'w': 0.8000337753294301}
2025-12-01 17:50:59,277 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:50:59,277 - INFO - integration_test -   Planner output success: False
2025-12-01 17:50:59,278 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:50:59,278 - INFO - integration_test - Step 40 completed in 0.932s
2025-12-01 17:50:59,289 - INFO - integration_test - Step 41 (contouring until path end)
2025-12-01 17:50:59,290 - DEBUG - integration_test - Syncing planner state at step 41: vehicle_state=[5.75380209 7.07757226 1.52872462 3.00010036 8.17536136]
2025-12-01 17:50:59,291 - INFO - integration_test - Step 41: Re-initialized spline from 8.1754 to 7.8754 (vehicle at (5.75, 7.08), closest path point at (6.61, 4.20), distance=3.000m)
2025-12-01 17:50:59,291 - DEBUG - integration_test -   Set spline state to 7.8754
2025-12-01 17:50:59,292 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:59,307 - DEBUG - integration_test - Step 41: Checking path alignment: vehicle=(5.754, 7.078), path_start=(0.000, 0.000), dist=9.121m
2025-12-01 17:50:59,307 - WARNING - integration_test - Could not update reference path at step 41: x and y must have the same length
2025-12-01 17:50:59,307 - INFO - integration_test - === Calling planner.solve_mpc() at step 41 ===
2025-12-01 17:50:59,310 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:50:59,311 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:50:59,311 - INFO - integration_test - Warmstart k=0: x0=5.753802087934609 , y0=7.077572263831762 , psi0=1.5287246163631039 , v0=3.0 , spline0=7.8753513281561345 , a0=0.0 , w0=0.0
2025-12-01 17:50:59,311 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:50:59,312 - INFO - integration_test - Dyn residual k=0: pred=[5.766419877986665, 7.377306798669178, 1.5287246163631039, 3.0, 8.175351328156134], ws=[5.766419877986665, 7.377306798669178, 1.528724616363104, 3.0, 10.082492437634249], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, -1.9071411094781148], res_norm=1.907e+00
2025-12-01 17:50:59,313 - INFO - integration_test - Dyn residual k=1: pred=[5.77903766803872, 7.677041333506594, 1.528724616363104, 3.0, 10.38249243763425], ws=[5.77903766803872, 7.677041333506594, 1.528724616363104, 3.0, 12.28024284082716], res=[0.0, 0.0, 0.0, 0.0, -1.8977504031929104], res_norm=1.898e+00
2025-12-01 17:50:59,314 - INFO - integration_test - Dyn residual k=2: pred=[5.7916554580907755, 7.97677586834401, 1.528724616363104, 3.0, 12.580242840827161], ws=[5.7916554580907755, 7.97677586834401, 1.528724616363104, 3.0, 14.422612641156258], res=[0.0, 0.0, 0.0, 0.0, -1.842369800329097], res_norm=1.842e+00
2025-12-01 17:50:59,329 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:59,341 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:59,356 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:59,369 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:59,385 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:59,397 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:59,411 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:59,423 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:59,438 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:59,451 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:59,467 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:59,479 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:59,493 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:59,505 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:59,520 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:59,532 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:59,546 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:59,558 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:59,574 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:59,587 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:50:59,603 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:50:59,617 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:00,180 - WARNING - integration_test - Step 41: MPC solve failed
2025-12-01 17:51:00,180 - WARNING - integration_test -   Consecutive MPC failures: 5/50
2025-12-01 17:51:00,191 - INFO - integration_test - Step 41: Computed 6 numeric contouring constraints for visualization (s=7.875)
2025-12-01 17:51:00,191 - DEBUG - integration_test - Step 41: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:00,191 - INFO - integration_test - === Applying control at step 41 ===
2025-12-01 17:51:00,191 - INFO - integration_test -   Control dict from planner: {'a': 0.0002245806925418348, 'w': 0.8000337753294301}
2025-12-01 17:51:00,191 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:00,191 - INFO - integration_test -   Planner output success: False
2025-12-01 17:51:00,192 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:00,193 - INFO - integration_test - Step 41 completed in 0.903s
2025-12-01 17:51:00,204 - INFO - integration_test - Step 42 (contouring until path end)
2025-12-01 17:51:00,205 - DEBUG - integration_test - Syncing planner state at step 42: vehicle_state=[5.75442294 7.37750278 1.60872799 3.00012282 8.17536361]
2025-12-01 17:51:00,205 - INFO - integration_test - Step 42: Re-initialized spline from 8.1754 to 7.8754 (vehicle at (5.75, 7.38), closest path point at (6.61, 4.20), distance=3.288m)
2025-12-01 17:51:00,205 - DEBUG - integration_test -   Set spline state to 7.8754
2025-12-01 17:51:00,207 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:00,221 - DEBUG - integration_test - Step 42: Checking path alignment: vehicle=(5.754, 7.378), path_start=(0.000, 0.000), dist=9.356m
2025-12-01 17:51:00,221 - WARNING - integration_test - Could not update reference path at step 42: x and y must have the same length
2025-12-01 17:51:00,221 - INFO - integration_test - === Calling planner.solve_mpc() at step 42 ===
2025-12-01 17:51:00,224 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:00,225 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:00,225 - INFO - integration_test - Warmstart k=0: x0=5.754422936522536 , y0=7.3775027815878484 , psi0=1.6087279938960468 , v0=3.0 , spline0=7.8753513281561345 , a0=0.0 , w0=0.0
2025-12-01 17:51:00,225 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:00,226 - INFO - integration_test - Dyn residual k=0: pred=[5.743046165021578, 7.677286985758474, 1.6087279938960468, 3.0, 8.175351328156134], ws=[5.743046165021578, 7.677286985758474, 1.6087279938960464, 3.0, 10.082492437634249], res=[0.0, 0.0, 4.440892098500626e-16, 0.0, -1.9071411094781148], res_norm=1.907e+00
2025-12-01 17:51:00,227 - INFO - integration_test - Dyn residual k=1: pred=[5.731669393520621, 7.977071189929099, 1.6087279938960464, 3.0, 10.38249243763425], ws=[5.731669393520621, 7.977071189929099, 1.6087279938960464, 3.0, 12.28502323326899], res=[0.0, 0.0, 0.0, 0.0, -1.9025307956347408], res_norm=1.903e+00
2025-12-01 17:51:00,227 - INFO - integration_test - Dyn residual k=2: pred=[5.720292622019663, 8.276855394099723, 1.6087279938960464, 3.0, 12.585023233268991], ws=[5.720292622019663, 8.276855394099723, 1.6087279938960464, 3.0, 14.437034732856073], res=[0.0, 0.0, 0.0, 0.0, -1.852011499587082], res_norm=1.852e+00
2025-12-01 17:51:00,243 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:00,256 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:00,271 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:00,284 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:00,299 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:00,311 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:00,327 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:00,340 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:00,356 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:00,370 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:00,386 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:00,400 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:00,416 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:00,430 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:00,446 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:00,459 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:00,476 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:00,489 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:00,505 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:00,518 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:00,533 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:00,544 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:00,695 - INFO - integration_test - Step 42: MPC solve successful
2025-12-01 17:51:00,710 - INFO - integration_test - Step 42: Computed 6 numeric contouring constraints for visualization (s=7.875)
2025-12-01 17:51:00,710 - DEBUG - integration_test - Step 42: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:00,710 - INFO - integration_test - === Applying control at step 42 ===
2025-12-01 17:51:00,710 - INFO - integration_test -   Control dict from planner: {'a': -0.0008187620327271369, 'w': -0.7999999876484859}
2025-12-01 17:51:00,710 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:00,710 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:00,712 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:00,713 - INFO - integration_test - Step 42 completed in 0.508s
2025-12-01 17:51:00,724 - INFO - integration_test - Step 43 (contouring until path end)
2025-12-01 17:51:00,725 - DEBUG - integration_test - Syncing planner state at step 43: vehicle_state=[5.75504323 7.67743034 1.528728   3.00004095 8.17535542]
2025-12-01 17:51:00,726 - INFO - integration_test - Step 43: Re-initialized spline from 8.1754 to 7.8754 (vehicle at (5.76, 7.68), closest path point at (6.61, 4.20), distance=3.578m)
2025-12-01 17:51:00,726 - DEBUG - integration_test -   Set spline state to 7.8754
2025-12-01 17:51:00,727 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:00,743 - DEBUG - integration_test - Step 43: Checking path alignment: vehicle=(5.755, 7.677), path_start=(0.000, 0.000), dist=9.595m
2025-12-01 17:51:00,743 - WARNING - integration_test - Could not update reference path at step 43: x and y must have the same length
2025-12-01 17:51:00,743 - INFO - integration_test - === Calling planner.solve_mpc() at step 43 ===
2025-12-01 17:51:00,746 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:00,748 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:00,748 - INFO - integration_test - Warmstart k=0: x0=5.755043232682614 , y0=7.677430337122169 , psi0=1.5287279951311983 , v0=3.0 , spline0=7.8753513281561345 , a0=0.0 , w0=0.0
2025-12-01 17:51:00,748 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:00,749 - INFO - integration_test - Dyn residual k=0: pred=[5.767660010001114, 7.97716491459046, 1.5287279951311983, 3.0, 8.175351328156134], ws=[5.767660010001114, 7.97716491459046, 1.5287279951311987, 3.0, 10.082492437634249], res=[0.0, 0.0, -4.440892098500626e-16, 0.0, -1.9071411094781148], res_norm=1.907e+00
2025-12-01 17:51:00,750 - INFO - integration_test - Dyn residual k=1: pred=[5.780276787319614, 8.276899492058751, 1.5287279951311987, 3.0, 10.38249243763425], ws=[5.780276787319614, 8.276899492058751, 1.5287279951311987, 3.0, 12.280243041897194], res=[0.0, 0.0, 0.0, 0.0, -1.897750604262944], res_norm=1.898e+00
2025-12-01 17:51:00,751 - INFO - integration_test - Dyn residual k=2: pred=[5.7928935646381134, 8.576634069527042, 1.5287279951311987, 3.0, 12.580243041897194], ws=[5.7928935646381134, 8.576634069527042, 1.5287279951311987, 3.0, 14.422613249709649], res=[0.0, 0.0, 0.0, 0.0, -1.8423702078124542], res_norm=1.842e+00
2025-12-01 17:51:00,768 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:00,781 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:00,799 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:00,812 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:00,828 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:00,841 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:00,857 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:00,870 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:00,885 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:00,898 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:00,912 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:00,924 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:00,939 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:00,950 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:00,965 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:00,978 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:00,993 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:01,005 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:01,020 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:01,032 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:01,046 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:01,058 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:01,199 - INFO - integration_test - Step 43: MPC solve successful
2025-12-01 17:51:01,215 - INFO - integration_test - Step 43: Computed 6 numeric contouring constraints for visualization (s=7.875)
2025-12-01 17:51:01,216 - DEBUG - integration_test - Step 43: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:01,216 - INFO - integration_test - === Applying control at step 43 ===
2025-12-01 17:51:01,216 - INFO - integration_test -   Control dict from planner: {'a': -0.00027481270880092755, 'w': -0.7999997025824226}
2025-12-01 17:51:01,216 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:01,216 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:01,217 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:01,217 - INFO - integration_test - Step 43 completed in 0.492s
2025-12-01 17:51:01,230 - INFO - integration_test - Step 44 (contouring until path end)
2025-12-01 17:51:01,232 - DEBUG - integration_test - Syncing planner state at step 44: vehicle_state=[5.77962975 7.97634361 1.44872802 3.00001347 8.17535267]
2025-12-01 17:51:01,232 - INFO - integration_test - Step 44: Re-initialized spline from 8.1754 to 8.4811 (vehicle at (5.78, 7.98), closest path point at (7.21, 4.39), distance=3.860m)
2025-12-01 17:51:01,232 - DEBUG - integration_test -   Set spline state to 8.4811
2025-12-01 17:51:01,235 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:01,250 - DEBUG - integration_test - Step 44: Checking path alignment: vehicle=(5.780, 7.976), path_start=(0.000, 0.000), dist=9.850m
2025-12-01 17:51:01,251 - WARNING - integration_test - Could not update reference path at step 44: x and y must have the same length
2025-12-01 17:51:01,251 - INFO - integration_test - === Calling planner.solve_mpc() at step 44 ===
2025-12-01 17:51:01,254 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:01,255 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:01,255 - INFO - integration_test - Warmstart k=0: x0=5.779629747157207 , y0=7.976343614916428 , psi0=1.448728024872956 , v0=3.0 , spline0=8.481147584168145 , a0=0.0 , w0=0.0
2025-12-01 17:51:01,255 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:01,256 - INFO - integration_test - Dyn residual k=0: pred=[5.816159360490552, 8.274111288362885, 1.448728024872956, 3.0, 8.781147584168146], ws=[5.816159360490552, 8.274111288362885, 1.4487280248729562, 3.0, 10.815217304111869], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, -2.034069719943723], res_norm=2.034e+00
2025-12-01 17:51:01,257 - INFO - integration_test - Dyn residual k=1: pred=[5.852688973823897, 8.571878961809343, 1.4487280248729562, 3.0, 11.11521730411187], ws=[5.852688973823897, 8.571878961809343, 1.4487280248729562, 3.0, 13.065997541830557], res=[0.0, 0.0, 0.0, 0.0, -1.9507802377186874], res_norm=1.951e+00
2025-12-01 17:51:01,258 - INFO - integration_test - Dyn residual k=2: pred=[5.889218587157242, 8.869646635255801, 1.4487280248729562, 3.0, 13.365997541830557], ws=[5.889218587157242, 8.869646635255801, 1.4487280248729562, 3.0, 15.269592651760796], res=[0.0, 0.0, 0.0, 0.0, -1.9035951099302384], res_norm=1.904e+00
2025-12-01 17:51:01,275 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:01,288 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:01,305 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:01,319 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:01,335 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:01,348 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:01,364 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:01,377 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:01,393 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:01,405 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:01,420 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:01,432 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:01,447 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:01,459 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:01,476 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:01,490 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:01,507 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:01,521 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:01,537 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:01,551 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:01,568 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:01,583 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:01,759 - INFO - integration_test - Step 44: MPC solve successful
2025-12-01 17:51:01,778 - INFO - integration_test - Step 44: Computed 6 numeric contouring constraints for visualization (s=8.481)
2025-12-01 17:51:01,779 - DEBUG - integration_test - Step 44: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:01,779 - INFO - integration_test - === Applying control at step 44 ===
2025-12-01 17:51:01,779 - INFO - integration_test -   Control dict from planner: {'a': -8.95735362794871e-05, 'w': -0.8000000095459526}
2025-12-01 17:51:01,779 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:01,779 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:01,781 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:01,782 - INFO - integration_test - Step 44 completed in 0.550s
2025-12-01 17:51:01,801 - INFO - integration_test - Step 45 (contouring until path end)
2025-12-01 17:51:01,802 - DEBUG - integration_test - Syncing planner state at step 45: vehicle_state=[5.8280249  8.27233426 1.36872802 3.00000451 8.78114803]
2025-12-01 17:51:01,803 - INFO - integration_test - Step 45: Re-initialized spline from 8.7811 to 8.4811 (vehicle at (5.83, 8.27), closest path point at (7.21, 4.39), distance=4.119m)
2025-12-01 17:51:01,803 - DEBUG - integration_test -   Set spline state to 8.4811
2025-12-01 17:51:01,805 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:01,822 - DEBUG - integration_test - Step 45: Checking path alignment: vehicle=(5.828, 8.272), path_start=(0.000, 0.000), dist=10.119m
2025-12-01 17:51:01,822 - WARNING - integration_test - Could not update reference path at step 45: x and y must have the same length
2025-12-01 17:51:01,822 - INFO - integration_test - === Calling planner.solve_mpc() at step 45 ===
2025-12-01 17:51:01,826 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:01,827 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:01,827 - INFO - integration_test - Warmstart k=0: x0=5.828024903861684 , y0=8.272334257545525 , psi0=1.3687280239183606 , v0=3.0 , spline0=8.481147584168145 , a0=0.0 , w0=0.0
2025-12-01 17:51:01,827 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:01,828 - INFO - integration_test - Dyn residual k=0: pred=[5.888233697540875, 8.566230329590894, 1.3687280239183606, 3.0, 8.781147584168146], ws=[5.888233697540875, 8.566230329590894, 1.3687280239183606, 3.0, 10.81521730411187], res=[0.0, 0.0, 0.0, 0.0, -2.0340697199437248], res_norm=2.034e+00
2025-12-01 17:51:01,830 - INFO - integration_test - Dyn residual k=1: pred=[5.948442491220066, 8.860126401636263, 1.3687280239183606, 3.0, 11.115217304111871], ws=[5.948442491220066, 8.860126401636263, 1.3687280239183606, 3.0, 13.06130415401303], res=[0.0, 0.0, 0.0, 0.0, -1.9460868499011585], res_norm=1.946e+00
2025-12-01 17:51:01,831 - INFO - integration_test - Dyn residual k=2: pred=[6.0086512848992575, 9.154022473681632, 1.3687280239183606, 3.0, 13.36130415401303], ws=[6.0086512848992575, 9.154022473681632, 1.3687280239183606, 3.0, 15.255225965142781], res=[0.0, 0.0, 0.0, 0.0, -1.8939218111297507], res_norm=1.894e+00
2025-12-01 17:51:01,849 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:01,865 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:01,885 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:01,900 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:01,919 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:01,933 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:01,951 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:01,965 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:01,983 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:01,997 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:02,015 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:02,030 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:02,048 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:02,063 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:02,082 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:02,096 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:02,115 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:02,130 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:02,150 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:02,168 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:02,187 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:02,203 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:02,425 - INFO - integration_test - Step 45: MPC solve successful
2025-12-01 17:51:02,442 - INFO - integration_test - Step 45: Computed 6 numeric contouring constraints for visualization (s=8.481)
2025-12-01 17:51:02,443 - DEBUG - integration_test - Step 45: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:02,443 - INFO - integration_test - === Applying control at step 45 ===
2025-12-01 17:51:02,443 - INFO - integration_test -   Control dict from planner: {'a': -2.9854661250333544e-05, 'w': -0.8000000099201244}
2025-12-01 17:51:02,443 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:02,443 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:02,444 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:02,445 - INFO - integration_test - Step 45 completed in 0.643s
2025-12-01 17:51:02,461 - INFO - integration_test - Step 46 (contouring until path end)
2025-12-01 17:51:02,462 - DEBUG - integration_test - Syncing planner state at step 46: vehicle_state=[5.89991914 8.56351017 1.28872802 3.00000152 8.78114774]
2025-12-01 17:51:02,463 - INFO - integration_test - Step 46: Re-initialized spline from 8.7811 to 8.4811 (vehicle at (5.90, 8.56), closest path point at (7.21, 4.39), distance=4.373m)
2025-12-01 17:51:02,463 - DEBUG - integration_test -   Set spline state to 8.4811
2025-12-01 17:51:02,466 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:02,485 - DEBUG - integration_test - Step 46: Checking path alignment: vehicle=(5.900, 8.564), path_start=(0.000, 0.000), dist=10.399m
2025-12-01 17:51:02,486 - WARNING - integration_test - Could not update reference path at step 46: x and y must have the same length
2025-12-01 17:51:02,486 - INFO - integration_test - === Calling planner.solve_mpc() at step 46 ===
2025-12-01 17:51:02,489 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:02,490 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:02,491 - INFO - integration_test - Warmstart k=0: x0=5.899919141309289 , y0=8.563510170429721 , psi0=1.2887280229263482 , v0=3.0 , spline0=8.481147584168145 , a0=0.0 , w0=0.0
2025-12-01 17:51:02,491 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:02,492 - INFO - integration_test - Dyn residual k=0: pred=[5.9834219845252195, 8.85165470911622, 1.2887280229263482, 3.0, 8.781147584168146], ws=[5.9834219845252195, 8.85165470911622, 1.2887280229263478, 3.0, 10.81521730411187], res=[0.0, 0.0, 4.440892098500626e-16, 0.0, -2.0340697199437248], res_norm=2.034e+00
2025-12-01 17:51:02,493 - INFO - integration_test - Dyn residual k=1: pred=[6.0669248277411505, 9.139799247802719, 1.2887280229263478, 3.0, 11.115217304111871], ws=[6.0669248277411505, 9.139799247802719, 1.2887280229263478, 3.0, 13.056705684767037], res=[0.0, 0.0, 0.0, 0.0, -1.9414883806551657], res_norm=1.941e+00
2025-12-01 17:51:02,494 - INFO - integration_test - Dyn residual k=2: pred=[6.1504276709570815, 9.427943786489218, 1.2887280229263478, 3.0, 13.356705684767038], ws=[6.1504276709570815, 9.427943786489218, 1.2887280229263478, 3.0, 15.241053334219274], res=[0.0, 0.0, 0.0, 0.0, -1.884347649452236], res_norm=1.884e+00
2025-12-01 17:51:02,513 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:02,531 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:02,551 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:02,566 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:02,585 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:02,600 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:02,619 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:02,633 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:02,650 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:02,665 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:02,683 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:02,697 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:02,716 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:02,731 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:02,748 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:02,762 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:02,783 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:02,800 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:02,819 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:02,842 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:02,864 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:02,885 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:03,178 - INFO - integration_test - Step 46: MPC solve successful
2025-12-01 17:51:03,197 - INFO - integration_test - Step 46: Computed 6 numeric contouring constraints for visualization (s=8.481)
2025-12-01 17:51:03,198 - DEBUG - integration_test - Step 46: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:03,198 - INFO - integration_test - === Applying control at step 46 ===
2025-12-01 17:51:03,198 - INFO - integration_test -   Control dict from planner: {'a': -9.961735082073888e-06, 'w': -0.8000000087582692}
2025-12-01 17:51:03,198 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:03,198 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:03,199 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:03,200 - INFO - integration_test - Step 46 completed in 0.738s
2025-12-01 17:51:03,224 - INFO - integration_test - Step 47 (contouring until path end)
2025-12-01 17:51:03,227 - DEBUG - integration_test - Syncing planner state at step 47: vehicle_state=[5.99485261 8.84800922 1.20872802 3.00000053 8.78114764]
2025-12-01 17:51:03,228 - INFO - integration_test - Step 47: Re-initialized spline from 8.7811 to 8.4811 (vehicle at (5.99, 8.85), closest path point at (7.21, 4.39), distance=4.619m)
2025-12-01 17:51:03,229 - DEBUG - integration_test -   Set spline state to 8.4811
2025-12-01 17:51:03,233 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:03,262 - DEBUG - integration_test - Step 47: Checking path alignment: vehicle=(5.995, 8.848), path_start=(0.000, 0.000), dist=10.688m
2025-12-01 17:51:03,262 - WARNING - integration_test - Could not update reference path at step 47: x and y must have the same length
2025-12-01 17:51:03,262 - INFO - integration_test - === Calling planner.solve_mpc() at step 47 ===
2025-12-01 17:51:03,267 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:03,268 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:03,268 - INFO - integration_test - Warmstart k=0: x0=5.994852612364709 , y0=8.848009221939645 , psi0=1.2087280220505214 , v0=3.0 , spline0=8.481147584168145 , a0=0.0 , w0=0.0
2025-12-01 17:51:03,268 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:03,270 - INFO - integration_test - Dyn residual k=0: pred=[6.101115371837202, 9.128559085509904, 1.2087280220505214, 3.0, 8.781147584168146], ws=[6.101115371837202, 9.128559085509904, 1.2087280220505212, 3.0, 10.815217304111869], res=[0.0, 0.0, 2.220446049250313e-16, 0.0, -2.034069719943723], res_norm=2.034e+00
2025-12-01 17:51:03,271 - INFO - integration_test - Dyn residual k=1: pred=[6.207378131309695, 9.409108949080164, 1.2087280220505212, 3.0, 11.11521730411187], ws=[6.207378131309695, 9.409108949080164, 1.2087280220505212, 3.0, 13.05223154861233], res=[0.0, 0.0, 0.0, 0.0, -1.9370142445004603], res_norm=1.937e+00
2025-12-01 17:51:03,272 - INFO - integration_test - Dyn residual k=2: pred=[6.313640890782188, 9.689658812650423, 1.2087280220505212, 3.0, 13.35223154861233], ws=[6.313640890782188, 9.689658812650423, 1.2087280220505212, 3.0, 15.22716188128873], res=[0.0, 0.0, 0.0, 0.0, -1.8749303326763993], res_norm=1.875e+00
2025-12-01 17:51:03,291 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:03,306 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:03,324 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:03,338 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:03,356 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:03,371 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:03,389 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:03,404 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:03,424 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:03,440 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:03,463 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:03,479 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:03,498 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:03,514 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:03,532 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:03,548 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:03,567 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:03,581 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:03,601 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:03,616 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:03,636 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:03,652 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:03,846 - INFO - integration_test - Step 47: MPC solve successful
2025-12-01 17:51:03,865 - INFO - integration_test - Step 47: Computed 6 numeric contouring constraints for visualization (s=8.481)
2025-12-01 17:51:03,866 - DEBUG - integration_test - Step 47: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:03,866 - INFO - integration_test - === Applying control at step 47 ===
2025-12-01 17:51:03,866 - INFO - integration_test -   Control dict from planner: {'a': -4.8747012871944375e-06, 'w': -0.7999998321038414}
2025-12-01 17:51:03,866 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:03,866 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:03,867 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:03,868 - INFO - integration_test - Step 47 completed in 0.641s
2025-12-01 17:51:03,885 - INFO - integration_test - Step 48 (contouring until path end)
2025-12-01 17:51:03,886 - DEBUG - integration_test - Syncing planner state at step 48: vehicle_state=[6.11221808 9.12401172 1.12872804 3.00000004 8.78114759]
2025-12-01 17:51:03,886 - INFO - integration_test - Step 48: Re-initialized spline from 8.7811 to 8.4811 (vehicle at (6.11, 9.12), closest path point at (7.21, 4.39), distance=4.858m)
2025-12-01 17:51:03,887 - DEBUG - integration_test -   Set spline state to 8.4811
2025-12-01 17:51:03,890 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:03,909 - DEBUG - integration_test - Step 48: Checking path alignment: vehicle=(6.112, 9.124), path_start=(0.000, 0.000), dist=10.982m
2025-12-01 17:51:03,909 - WARNING - integration_test - Could not update reference path at step 48: x and y must have the same length
2025-12-01 17:51:03,909 - INFO - integration_test - === Calling planner.solve_mpc() at step 48 ===
2025-12-01 17:51:03,913 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:03,915 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:03,915 - INFO - integration_test - Warmstart k=0: x0=6.112218082042204 , y0=9.124011715224865 , psi0=1.1287280388401373 , v0=3.0 , spline0=8.481147584168145 , a0=0.0 , w0=0.0
2025-12-01 17:51:03,915 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:03,916 - INFO - integration_test - Dyn residual k=0: pred=[6.2405610339384365, 9.395172344185932, 1.1287280388401373, 3.0, 8.781147584168146], ws=[6.2405610339384365, 9.395172344185932, 1.128728038840137, 3.0, 10.81521730411187], res=[0.0, 0.0, 2.220446049250313e-16, 0.0, -2.0340697199437248], res_norm=2.034e+00
2025-12-01 17:51:03,917 - INFO - integration_test - Dyn residual k=1: pred=[6.36890398583467, 9.666332973146998, 1.128728038840137, 3.0, 11.115217304111871], ws=[6.36890398583467, 9.666332973146998, 1.128728038840137, 3.0, 13.04791036568097], res=[0.0, 0.0, 0.0, 0.0, -1.9326930615690987], res_norm=1.933e+00
2025-12-01 17:51:03,918 - INFO - integration_test - Dyn residual k=2: pred=[6.497246937730904, 9.937493602108065, 1.128728038840137, 3.0, 13.34791036568097], ws=[6.497246937730904, 9.937493602108065, 1.128728038840137, 3.0, 15.213636924197255], res=[0.0, 0.0, 0.0, 0.0, -1.8657265585162843], res_norm=1.866e+00
2025-12-01 17:51:03,938 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:03,954 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:03,975 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:03,991 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:04,014 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:04,030 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:04,051 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:04,068 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:04,087 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:04,102 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:04,120 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:04,134 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:04,152 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:04,166 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:04,184 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:04,200 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:04,217 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:04,231 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:04,251 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:04,266 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:04,287 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:04,301 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:04,497 - INFO - integration_test - Step 48: MPC solve successful
2025-12-01 17:51:04,515 - INFO - integration_test - Step 48: Computed 6 numeric contouring constraints for visualization (s=8.481)
2025-12-01 17:51:04,515 - DEBUG - integration_test - Step 48: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:04,516 - INFO - integration_test - === Applying control at step 48 ===
2025-12-01 17:51:04,516 - INFO - integration_test -   Control dict from planner: {'a': -9.98479494069077e-08, 'w': -0.8000000054155499}
2025-12-01 17:51:04,516 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:04,516 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:04,517 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:04,517 - INFO - integration_test - Step 48 completed in 0.632s
2025-12-01 17:51:04,535 - INFO - integration_test - Step 49 (contouring until path end)
2025-12-01 17:51:04,536 - DEBUG - integration_test - Syncing planner state at step 49: vehicle_state=[6.25126482 9.38975222 1.04872804 3.00000003 8.78114759]
2025-12-01 17:51:04,537 - INFO - integration_test - Step 49: Re-initialized spline from 8.7811 to 8.4811 (vehicle at (6.25, 9.39), closest path point at (7.21, 4.39), distance=5.089m)
2025-12-01 17:51:04,537 - DEBUG - integration_test -   Set spline state to 8.4811
2025-12-01 17:51:04,539 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:04,557 - DEBUG - integration_test - Step 49: Checking path alignment: vehicle=(6.251, 9.390), path_start=(0.000, 0.000), dist=11.280m
2025-12-01 17:51:04,558 - WARNING - integration_test - Could not update reference path at step 49: x and y must have the same length
2025-12-01 17:51:04,558 - INFO - integration_test - === Calling planner.solve_mpc() at step 49 ===
2025-12-01 17:51:04,562 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:04,564 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:04,564 - INFO - integration_test - Warmstart k=0: x0=6.2512648238421304 , y0=9.389752224802582 , psi0=1.0487280382985822 , v0=3.0 , spline0=8.481147584168145 , a0=0.0 , w0=0.0
2025-12-01 17:51:04,564 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:04,565 - INFO - integration_test - Dyn residual k=0: pred=[6.4008670161049475, 9.649789114628158, 1.0487280382985822, 3.0, 8.781147584168146], ws=[6.4008670161049475, 9.649789114628158, 1.0487280382985826, 3.0, 10.815217304111869], res=[0.0, 0.0, -4.440892098500626e-16, 0.0, -2.034069719943723], res_norm=2.034e+00
2025-12-01 17:51:04,567 - INFO - integration_test - Dyn residual k=1: pred=[6.550469208367764, 9.909826004453734, 1.0487280382985826, 3.0, 11.11521730411187], ws=[6.550469208367764, 9.909826004453734, 1.0487280382985826, 3.0, 13.043769774907336], res=[0.0, 0.0, 0.0, 0.0, -1.9285524707954664], res_norm=1.929e+00
2025-12-01 17:51:04,568 - INFO - integration_test - Dyn residual k=2: pred=[6.700071400630581, 10.16986289427931, 1.0487280382985826, 3.0, 13.343769774907337], ws=[6.700071400630581, 10.16986289427931, 1.0487280382985826, 3.0, 15.20056142847614], res=[0.0, 0.0, 0.0, 0.0, -1.8567916535688038], res_norm=1.857e+00
2025-12-01 17:51:04,586 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:04,600 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:04,616 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:04,628 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:04,644 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:04,656 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:04,673 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:04,686 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:04,702 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:04,714 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:04,729 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:04,741 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:04,757 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:04,771 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:04,787 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:04,800 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:04,816 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:04,829 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:04,845 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:04,857 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:04,873 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:04,886 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:05,048 - INFO - integration_test - Step 49: MPC solve successful
2025-12-01 17:51:05,065 - INFO - integration_test - Step 49: Computed 6 numeric contouring constraints for visualization (s=8.481)
2025-12-01 17:51:05,065 - DEBUG - integration_test - Step 49: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:05,065 - INFO - integration_test - === Applying control at step 49 ===
2025-12-01 17:51:05,065 - INFO - integration_test -   Control dict from planner: {'a': 6.839020545079425e-09, 'w': -0.8000000099796526}
2025-12-01 17:51:05,065 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:05,065 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:05,066 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:05,067 - INFO - integration_test - Step 49 completed in 0.531s
2025-12-01 17:51:05,083 - INFO - integration_test - Step 50 (contouring until path end)
2025-12-01 17:51:05,084 - DEBUG - integration_test - Syncing planner state at step 50: vehicle_state=[6.41110342 9.64353094 0.96872804 3.00000003 8.78114759]
2025-12-01 17:51:05,084 - INFO - integration_test - Step 50: Re-initialized spline from 8.7811 to 9.0869 (vehicle at (6.41, 9.64), closest path point at (7.83, 4.55), distance=5.290m)
2025-12-01 17:51:05,085 - DEBUG - integration_test -   Set spline state to 9.0869
2025-12-01 17:51:05,086 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:05,104 - DEBUG - integration_test - Step 50: Checking path alignment: vehicle=(6.411, 9.644), path_start=(0.000, 0.000), dist=11.580m
2025-12-01 17:51:05,104 - WARNING - integration_test - Could not update reference path at step 50: x and y must have the same length
2025-12-01 17:51:05,104 - INFO - integration_test - === Calling planner.solve_mpc() at step 50 ===
2025-12-01 17:51:05,107 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:05,108 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:05,108 - INFO - integration_test - Warmstart k=0: x0=6.411103424775337 , y0=9.64353093984403 , psi0=0.968728037300617 , v0=3.0 , spline0=9.086943840180156 , a0=0.0 , w0=0.0
2025-12-01 17:51:05,109 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:05,109 - INFO - integration_test - Dyn residual k=0: pred=[6.581007914007379, 9.890780741742432, 0.968728037300617, 3.0, 9.386943840180157], ws=[6.581007914007379, 9.890780741742432, 0.9687280373006173, 3.0, 11.540967973536844], res=[0.0, 0.0, -3.3306690738754696e-16, 0.0, -2.154024133356687], res_norm=2.154e+00
2025-12-01 17:51:05,110 - INFO - integration_test - Dyn residual k=1: pred=[6.75091240323942, 10.138030543640834, 0.9687280373006173, 3.0, 11.840967973536845], ws=[6.75091240323942, 10.138030543640834, 0.9687280373006173, 3.0, 13.879375677376157], res=[0.0, 0.0, 0.0, 0.0, -2.0384077038393116], res_norm=2.038e+00
2025-12-01 17:51:05,111 - INFO - integration_test - Dyn residual k=2: pred=[6.9208168924714615, 10.385280345539236, 0.9687280373006173, 3.0, 14.179375677376157], ws=[6.9208168924714615, 10.385280345539236, 0.9687280373006173, 3.0, 16.18186110443029], res=[0.0, 0.0, 0.0, 0.0, -2.0024854270541326], res_norm=2.002e+00
2025-12-01 17:51:05,129 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:05,142 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:05,158 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:05,172 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:05,189 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:05,205 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:05,222 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:05,237 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:05,253 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:05,267 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:05,283 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:05,297 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:05,313 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:05,326 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:05,343 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:05,356 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:05,372 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:05,384 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:05,399 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:05,411 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:05,426 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:05,438 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:05,578 - INFO - integration_test - Step 50: MPC solve successful
2025-12-01 17:51:05,592 - INFO - integration_test - Step 50: Computed 6 numeric contouring constraints for visualization (s=9.087)
2025-12-01 17:51:05,592 - DEBUG - integration_test - Step 50: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:05,592 - INFO - integration_test - === Applying control at step 50 ===
2025-12-01 17:51:05,592 - INFO - integration_test -   Control dict from planner: {'a': -2.4374115378125294e-07, 'w': -0.799999985269025}
2025-12-01 17:51:05,592 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:05,592 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:05,593 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:05,594 - INFO - integration_test - Step 50 completed in 0.510s
2025-12-01 17:51:05,607 - INFO - integration_test - Step 51 (contouring until path end)
2025-12-01 17:51:05,608 - DEBUG - integration_test - Syncing planner state at step 51: vehicle_state=[6.59071146 9.88372454 0.88872804 3.00000001 9.38694384]
2025-12-01 17:51:05,608 - INFO - integration_test - Step 51: Re-initialized spline from 9.3869 to 9.0869 (vehicle at (6.59, 9.88), closest path point at (7.83, 4.55), distance=5.479m)
2025-12-01 17:51:05,608 - DEBUG - integration_test -   Set spline state to 9.0869
2025-12-01 17:51:05,610 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:05,625 - DEBUG - integration_test - Step 51: Checking path alignment: vehicle=(6.591, 9.884), path_start=(0.000, 0.000), dist=11.880m
2025-12-01 17:51:05,625 - WARNING - integration_test - Could not update reference path at step 51: x and y must have the same length
2025-12-01 17:51:05,626 - INFO - integration_test - === Calling planner.solve_mpc() at step 51 ===
2025-12-01 17:51:05,629 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:05,630 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:05,630 - INFO - integration_test - Warmstart k=0: x0=6.590711462490372 , y0=9.88372454225085 , psi0=0.8887280387737144 , v0=3.0 , spline0=9.086943840180156 , a0=0.0 , w0=0.0
2025-12-01 17:51:05,630 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:05,631 - INFO - integration_test - Dyn residual k=0: pred=[6.779831439174939, 10.116605701683786, 0.8887280387737144, 3.0, 9.386943840180157], ws=[6.779831439174939, 10.116605701683786, 0.8887280387737144, 3.0, 11.540967973536844], res=[0.0, 0.0, 0.0, 0.0, -2.154024133356687], res_norm=2.154e+00
2025-12-01 17:51:05,632 - INFO - integration_test - Dyn residual k=1: pred=[6.968951415859506, 10.349486861116723, 0.8887280387737144, 3.0, 11.840967973536845], ws=[6.968951415859506, 10.349486861116723, 0.8887280387737144, 3.0, 13.8754757686869], res=[0.0, 0.0, 0.0, 0.0, -2.0345077951500556], res_norm=2.035e+00
2025-12-01 17:51:05,633 - INFO - integration_test - Dyn residual k=2: pred=[7.158071392544072, 10.58236802054966, 0.8887280387737144, 3.0, 14.175475768686901], ws=[7.158071392544072, 10.58236802054966, 0.8887280387737144, 3.0, 16.169360462577828], res=[0.0, 0.0, 0.0, 0.0, -1.9938846938909265], res_norm=1.994e+00
2025-12-01 17:51:05,650 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:05,664 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:05,681 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:05,694 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:05,710 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:05,724 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:05,740 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:05,753 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:05,770 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:05,783 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:05,799 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:05,810 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:05,825 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:05,837 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:05,853 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:05,868 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:05,885 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:05,898 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:05,914 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:05,926 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:05,941 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:05,953 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:06,104 - INFO - integration_test - Step 51: MPC solve successful
2025-12-01 17:51:06,119 - INFO - integration_test - Step 51: Computed 6 numeric contouring constraints for visualization (s=9.087)
2025-12-01 17:51:06,120 - DEBUG - integration_test - Step 51: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:06,120 - INFO - integration_test - === Applying control at step 51 ===
2025-12-01 17:51:06,120 - INFO - integration_test -   Control dict from planner: {'a': 7.015548285003018e-09, 'w': -0.7999999864869447}
2025-12-01 17:51:06,120 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:06,120 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:06,121 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:06,121 - INFO - integration_test - Step 51 completed in 0.514s
2025-12-01 17:51:06,134 - INFO - integration_test - Step 52 (contouring until path end)
2025-12-01 17:51:06,135 - DEBUG - integration_test - Syncing planner state at step 52: vehicle_state=[ 6.78894006 10.10879661  0.80872804  3.00000001  9.38694384]
2025-12-01 17:51:06,135 - INFO - integration_test - Step 52: Re-initialized spline from 9.3869 to 9.0869 (vehicle at (6.79, 10.11), closest path point at (7.83, 4.55), distance=5.658m)
2025-12-01 17:51:06,135 - DEBUG - integration_test -   Set spline state to 9.0869
2025-12-01 17:51:06,137 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:06,152 - DEBUG - integration_test - Step 52: Checking path alignment: vehicle=(6.789, 10.109), path_start=(0.000, 0.000), dist=12.177m
2025-12-01 17:51:06,152 - WARNING - integration_test - Could not update reference path at step 52: x and y must have the same length
2025-12-01 17:51:06,152 - INFO - integration_test - === Calling planner.solve_mpc() at step 52 ===
2025-12-01 17:51:06,155 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:06,157 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:06,157 - INFO - integration_test - Warmstart k=0: x0=6.788940058092515 , y0=10.108796612985243 , psi0=0.80872804012502 , v0=3.0 , spline0=9.086943840180156 , a0=0.0 , w0=0.0
2025-12-01 17:51:06,157 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:06,158 - INFO - integration_test - Dyn residual k=0: pred=[6.996065799841608, 10.325819485293414, 0.80872804012502, 3.0, 9.386943840180157], ws=[6.996065799841608, 10.325819485293414, 0.8087280401250201, 3.0, 11.540967973536848], res=[0.0, 0.0, -1.1102230246251565e-16, 0.0, -2.1540241333566907], res_norm=2.154e+00
2025-12-01 17:51:06,159 - INFO - integration_test - Dyn residual k=1: pred=[7.203191541590701, 10.542842357601584, 0.8087280401250201, 3.0, 11.840967973536848], ws=[7.203191541590701, 10.542842357601584, 0.8087280401250201, 3.0, 13.871811786100587], res=[0.0, 0.0, 0.0, 0.0, -2.030843812563738], res_norm=2.031e+00
2025-12-01 17:51:06,160 - INFO - integration_test - Dyn residual k=2: pred=[7.4103172833397934, 10.759865229909755, 0.8087280401250201, 3.0, 14.171811786100587], ws=[7.4103172833397934, 10.759865229909755, 0.8087280401250201, 3.0, 16.157499200670156], res=[0.0, 0.0, 0.0, 0.0, -1.9856874145695684], res_norm=1.986e+00
2025-12-01 17:51:06,180 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:06,193 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:06,212 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:06,226 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:06,245 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:06,260 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:06,280 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:06,294 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:06,312 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:06,327 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:06,345 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:06,359 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:06,375 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:06,388 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:06,403 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:06,415 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:06,429 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:06,441 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:06,456 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:06,469 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:06,485 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:06,497 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:06,641 - INFO - integration_test - Step 52: MPC solve successful
2025-12-01 17:51:06,659 - INFO - integration_test - Step 52: Computed 6 numeric contouring constraints for visualization (s=9.087)
2025-12-01 17:51:06,659 - DEBUG - integration_test - Step 52: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:06,659 - INFO - integration_test - === Applying control at step 52 ===
2025-12-01 17:51:06,659 - INFO - integration_test -   Control dict from planner: {'a': 1.3975449404330119e-07, 'w': -0.7999999999063756}
2025-12-01 17:51:06,659 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:06,659 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:06,660 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:06,661 - INFO - integration_test - Step 52 completed in 0.526s
2025-12-01 17:51:06,675 - INFO - integration_test - Step 53 (contouring until path end)
2025-12-01 17:51:06,676 - DEBUG - integration_test - Syncing planner state at step 53: vehicle_state=[ 7.00452123 10.31730746  0.72872804  3.00000002  9.38694384]
2025-12-01 17:51:06,677 - INFO - integration_test - Step 53: Re-initialized spline from 9.3869 to 9.0869 (vehicle at (7.00, 10.32), closest path point at (7.83, 4.55), distance=5.829m)
2025-12-01 17:51:06,677 - DEBUG - integration_test -   Set spline state to 9.0869
2025-12-01 17:51:06,679 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:06,695 - DEBUG - integration_test - Step 53: Checking path alignment: vehicle=(7.005, 10.317), path_start=(0.000, 0.000), dist=12.470m
2025-12-01 17:51:06,696 - WARNING - integration_test - Could not update reference path at step 53: x and y must have the same length
2025-12-01 17:51:06,696 - INFO - integration_test - === Calling planner.solve_mpc() at step 53 ===
2025-12-01 17:51:06,699 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:06,701 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:06,701 - INFO - integration_test - Warmstart k=0: x0=7.004521226470163 , y0=10.317307460229362 , psi0=0.7287280401343824 , v0=3.0 , spline0=9.086943840180156 , a0=0.0 , w0=0.0
2025-12-01 17:51:06,701 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:06,702 - INFO - integration_test - Dyn residual k=0: pred=[7.228327835687802, 10.517083839389919, 0.7287280401343824, 3.0, 9.386943840180157], ws=[7.228327835687802, 10.517083839389919, 0.7287280401343823, 3.0, 11.540967973536844], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -2.154024133356687], res_norm=2.154e+00
2025-12-01 17:51:06,704 - INFO - integration_test - Dyn residual k=1: pred=[7.4521344449054405, 10.716860218550476, 0.7287280401343823, 3.0, 11.840967973536845], ws=[7.4521344449054405, 10.716860218550476, 0.7287280401343823, 3.0, 13.86840716655253], res=[0.0, 0.0, 0.0, 0.0, -2.0274391930156845], res_norm=2.027e+00
2025-12-01 17:51:06,705 - INFO - integration_test - Dyn residual k=2: pred=[7.675941054123079, 10.916636597711033, 0.7287280401343823, 3.0, 14.16840716655253], ws=[7.675941054123079, 10.916636597711033, 0.7287280401343823, 3.0, 16.14634958981654], res=[0.0, 0.0, 0.0, 0.0, -1.977942423264011], res_norm=1.978e+00
2025-12-01 17:51:06,721 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:06,734 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:06,751 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:06,764 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:06,782 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:06,795 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:06,811 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:06,824 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:06,839 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:06,851 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:06,866 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:06,879 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:06,894 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:06,906 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:06,921 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:06,934 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:06,949 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:06,961 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:06,977 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:06,989 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:07,004 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:07,016 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:07,150 - INFO - integration_test - Step 53: MPC solve successful
2025-12-01 17:51:07,166 - INFO - integration_test - Step 53: Computed 6 numeric contouring constraints for visualization (s=9.087)
2025-12-01 17:51:07,166 - DEBUG - integration_test - Step 53: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:07,166 - INFO - integration_test - === Applying control at step 53 ===
2025-12-01 17:51:07,166 - INFO - integration_test -   Control dict from planner: {'a': 3.240607644391373e-08, 'w': -0.8000000034139813}
2025-12-01 17:51:07,166 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:07,166 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:07,167 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:07,167 - INFO - integration_test - Step 53 completed in 0.492s
2025-12-01 17:51:07,180 - INFO - integration_test - Step 54 (contouring until path end)
2025-12-01 17:51:07,181 - DEBUG - integration_test - Syncing planner state at step 54: vehicle_state=[ 7.23607598 10.50792333  0.64872804  3.00000002  9.38694384]
2025-12-01 17:51:07,181 - INFO - integration_test - Step 54: Re-initialized spline from 9.3869 to 9.6927 (vehicle at (7.24, 10.51), closest path point at (8.46, 4.66), distance=5.971m)
2025-12-01 17:51:07,181 - DEBUG - integration_test -   Set spline state to 9.6927
2025-12-01 17:51:07,184 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:07,199 - DEBUG - integration_test - Step 54: Checking path alignment: vehicle=(7.236, 10.508), path_start=(0.000, 0.000), dist=12.758m
2025-12-01 17:51:07,200 - WARNING - integration_test - Could not update reference path at step 54: x and y must have the same length
2025-12-01 17:51:07,200 - INFO - integration_test - === Calling planner.solve_mpc() at step 54 ===
2025-12-01 17:51:07,203 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:07,204 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:07,204 - INFO - integration_test - Warmstart k=0: x0=7.236075984193448 , y0=10.507923325962066 , psi0=0.6487280397929843 , v0=3.0 , spline0=9.692740096192166 , a0=0.0 , w0=0.0
2025-12-01 17:51:07,204 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:07,205 - INFO - integration_test - Dyn residual k=0: pred=[7.475131862408158, 10.68917532482275, 0.6487280397929843, 3.0, 9.992740096192167], ws=[7.475131862408158, 10.68917532482275, 0.6487280397929842, 3.0, 12.259509697746946], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -2.2667696015547794], res_norm=2.267e+00
2025-12-01 17:51:07,206 - INFO - integration_test - Dyn residual k=1: pred=[7.714187740622869, 10.870427323683435, 0.6487280397929842, 3.0, 12.559509697746947], ws=[7.714187740622869, 10.870427323683435, 0.6487280397929842, 3.0, 14.70109317564148], res=[0.0, 0.0, 0.0, 0.0, -2.1415834778945335], res_norm=2.142e+00
2025-12-01 17:51:07,206 - INFO - integration_test - Dyn residual k=2: pred=[7.953243618837579, 11.05167932254412, 0.6487280397929842, 3.0, 15.001093175641481], ws=[7.953243618837579, 11.05167932254412, 0.6487280397929842, 3.0, 17.05686740450038], res=[0.0, 0.0, 0.0, 0.0, -2.0557742288588994], res_norm=2.056e+00
2025-12-01 17:51:07,223 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:07,236 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:07,254 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:07,268 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:07,286 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:07,299 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:07,315 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:07,327 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:07,344 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:07,356 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:07,372 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:07,386 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:07,402 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:07,416 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:07,432 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:07,444 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:07,460 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:07,472 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:07,488 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:07,500 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:07,515 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:07,526 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:07,674 - INFO - integration_test - Step 54: MPC solve successful
2025-12-01 17:51:07,690 - INFO - integration_test - Step 54: Computed 6 numeric contouring constraints for visualization (s=9.693)
2025-12-01 17:51:07,691 - DEBUG - integration_test - Step 54: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:07,691 - INFO - integration_test - === Applying control at step 54 ===
2025-12-01 17:51:07,691 - INFO - integration_test -   Control dict from planner: {'a': 4.504365889198962e-08, 'w': -0.8000000099896858}
2025-12-01 17:51:07,691 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:07,691 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:07,692 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:07,692 - INFO - integration_test - Step 54 completed in 0.512s
2025-12-01 17:51:07,706 - INFO - integration_test - Step 55 (contouring until path end)
2025-12-01 17:51:07,707 - DEBUG - integration_test - Syncing planner state at step 55: vehicle_state=[ 7.48212317 10.67942492  0.56872804  3.00000003  9.9927401 ]
2025-12-01 17:51:07,707 - INFO - integration_test - Step 55: Re-initialized spline from 9.9927 to 9.6927 (vehicle at (7.48, 10.68), closest path point at (8.46, 4.66), distance=6.095m)
2025-12-01 17:51:07,707 - DEBUG - integration_test -   Set spline state to 9.6927
2025-12-01 17:51:07,709 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:07,724 - DEBUG - integration_test - Step 55: Checking path alignment: vehicle=(7.482, 10.679), path_start=(0.000, 0.000), dist=13.040m
2025-12-01 17:51:07,724 - WARNING - integration_test - Could not update reference path at step 55: x and y must have the same length
2025-12-01 17:51:07,724 - INFO - integration_test - === Calling planner.solve_mpc() at step 55 ===
2025-12-01 17:51:07,727 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:07,729 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:07,729 - INFO - integration_test - Warmstart k=0: x0=7.482123170802152 , y0=10.679424918627253 , psi0=0.5687280387940157 , v0=3.0 , spline0=9.692740096192166 , a0=0.0 , w0=0.0
2025-12-01 17:51:07,729 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:07,730 - INFO - integration_test - Dyn residual k=0: pred=[7.7348991762899, 10.840993142760768, 0.5687280387940157, 3.0, 9.992740096192167], ws=[7.7348991762899, 10.840993142760768, 0.5687280387940157, 3.0, 12.259509697746946], res=[0.0, 0.0, 0.0, 0.0, -2.2667696015547794], res_norm=2.267e+00
2025-12-01 17:51:07,732 - INFO - integration_test - Dyn residual k=1: pred=[7.987675181777649, 11.002561366894282, 0.5687280387940157, 3.0, 12.559509697746947], ws=[7.987675181777649, 11.002561366894282, 0.5687280387940157, 3.0, 14.698070065515013], res=[0.0, 0.0, 0.0, 0.0, -2.1385603677680667], res_norm=2.139e+00
2025-12-01 17:51:07,733 - INFO - integration_test - Dyn residual k=2: pred=[8.240451187265398, 11.164129591027796, 0.5687280387940157, 3.0, 14.998070065515014], ws=[8.240451187265398, 11.164129591027796, 0.5687280387940157, 3.0, 17.04666320167638], res=[0.0, 0.0, 0.0, 0.0, -2.048593136161367], res_norm=2.049e+00
2025-12-01 17:51:07,751 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:07,766 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:07,785 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:07,798 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:07,814 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:07,827 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:07,843 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:07,857 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:07,875 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:07,889 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:07,904 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:07,916 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:07,931 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:07,942 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:07,959 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:07,973 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:07,988 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:08,000 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:08,014 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:08,026 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:08,041 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:08,053 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:08,177 - INFO - integration_test - Step 55: MPC solve successful
2025-12-01 17:51:08,191 - INFO - integration_test - Step 55: Computed 6 numeric contouring constraints for visualization (s=9.693)
2025-12-01 17:51:08,191 - DEBUG - integration_test - Step 55: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:08,191 - INFO - integration_test - === Applying control at step 55 ===
2025-12-01 17:51:08,191 - INFO - integration_test -   Control dict from planner: {'a': -5.460982669830969e-07, 'w': -0.7999999486031887}
2025-12-01 17:51:08,191 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:08,191 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:08,192 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:08,193 - INFO - integration_test - Step 55 completed in 0.486s
2025-12-01 17:51:08,206 - INFO - integration_test - Step 56 (contouring until path end)
2025-12-01 17:51:08,207 - DEBUG - integration_test - Syncing planner state at step 56: vehicle_state=[ 7.74108892 10.83071521  0.48872804  2.99999997  9.99274009]
2025-12-01 17:51:08,207 - INFO - integration_test - Step 56: Re-initialized spline from 9.9927 to 9.6927 (vehicle at (7.74, 10.83), closest path point at (8.46, 4.66), distance=6.209m)
2025-12-01 17:51:08,207 - DEBUG - integration_test -   Set spline state to 9.6927
2025-12-01 17:51:08,209 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:08,224 - DEBUG - integration_test - Step 56: Checking path alignment: vehicle=(7.741, 10.831), path_start=(0.000, 0.000), dist=13.313m
2025-12-01 17:51:08,224 - WARNING - integration_test - Could not update reference path at step 56: x and y must have the same length
2025-12-01 17:51:08,224 - INFO - integration_test - === Calling planner.solve_mpc() at step 56 ===
2025-12-01 17:51:08,227 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:08,228 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:08,229 - INFO - integration_test - Warmstart k=0: x0=7.74108892105263 , y0=10.83071521252267 , psi0=0.4887280439336968 , v0=2.9999999731226117 , spline0=9.692740096192166 , a0=0.0 , w0=0.0
2025-12-01 17:51:08,229 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:08,230 - INFO - integration_test - Dyn residual k=0: pred=[8.005968146724934, 10.97156617700143, 0.4887280439336968, 2.9999999731226117, 9.992740093504427], ws=[8.005968146724934, 10.97156617700143, 0.48872804393369673, 2.9999999731226117, 12.25950969505921], res=[0.0, 0.0, 5.551115123125783e-17, 0.0, -2.266769601554783], res_norm=2.267e+00
2025-12-01 17:51:08,231 - INFO - integration_test - Dyn residual k=1: pred=[8.270847372397238, 11.11241714148019, 0.48872804393369673, 2.9999999731226117, 12.55950969237147], ws=[8.270847372397238, 11.11241714148019, 0.48872804393369673, 2.9999999731226117, 14.695354439294961], res=[0.0, 0.0, 0.0, 0.0, -2.1358447469234907], res_norm=2.136e+00
2025-12-01 17:51:08,232 - INFO - integration_test - Dyn residual k=2: pred=[8.535726598069543, 11.25326810595895, 0.48872804393369673, 2.9999999731226117, 14.995354436607222], ws=[8.535726598069543, 11.25326810595895, 0.48872804393369673, 2.9999999731226117, 17.037384992340915], res=[0.0, 0.0, 0.0, 0.0, -2.0420305557336924], res_norm=2.042e+00
2025-12-01 17:51:08,248 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:08,261 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:08,279 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:08,292 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:08,309 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:08,322 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:08,340 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:08,352 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:08,369 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:08,383 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:08,400 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:08,414 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:08,429 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:08,441 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:08,456 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:08,470 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:08,486 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:08,498 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:08,513 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:08,525 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:08,540 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:08,551 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:08,683 - INFO - integration_test - Step 56: MPC solve successful
2025-12-01 17:51:08,699 - INFO - integration_test - Step 56: Computed 6 numeric contouring constraints for visualization (s=9.693)
2025-12-01 17:51:08,700 - DEBUG - integration_test - Step 56: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:08,700 - INFO - integration_test - === Applying control at step 56 ===
2025-12-01 17:51:08,700 - INFO - integration_test -   Control dict from planner: {'a': 3.704900528132986e-07, 'w': -0.8000000084804689}
2025-12-01 17:51:08,700 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:08,700 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:08,701 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:08,701 - INFO - integration_test - Step 56 completed in 0.495s
2025-12-01 17:51:08,716 - INFO - integration_test - Step 57 (contouring until path end)
2025-12-01 17:51:08,717 - DEBUG - integration_test - Syncing planner state at step 57: vehicle_state=[ 8.01131674 10.96082647  0.40872804  3.00000001  9.9927401 ]
2025-12-01 17:51:08,718 - INFO - integration_test - Step 57: Re-initialized spline from 9.9927 to 9.6927 (vehicle at (8.01, 10.96), closest path point at (8.46, 4.66), distance=6.313m)
2025-12-01 17:51:08,718 - DEBUG - integration_test -   Set spline state to 9.6927
2025-12-01 17:51:08,720 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:08,735 - DEBUG - integration_test - Step 57: Checking path alignment: vehicle=(8.011, 10.961), path_start=(0.000, 0.000), dist=13.576m
2025-12-01 17:51:08,736 - WARNING - integration_test - Could not update reference path at step 57: x and y must have the same length
2025-12-01 17:51:08,736 - INFO - integration_test - === Calling planner.solve_mpc() at step 57 ===
2025-12-01 17:51:08,739 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:08,740 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:08,740 - INFO - integration_test - Warmstart k=0: x0=8.01131673925902 , y0=10.960826467083693 , psi0=0.4087280430856499 , v0=3.0 , spline0=9.692740096192166 , a0=0.0 , w0=0.0
2025-12-01 17:51:08,740 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:08,741 - INFO - integration_test - Dyn residual k=0: pred=[8.286604867662328, 11.080059207386862, 0.4087280430856499, 3.0, 9.992740096192167], ws=[8.286604867662328, 11.080059207386862, 0.4087280430856497, 3.0, 12.259509697746946], res=[0.0, 0.0, 2.220446049250313e-16, 0.0, -2.2667696015547794], res_norm=2.267e+00
2025-12-01 17:51:08,742 - INFO - integration_test - Dyn residual k=1: pred=[8.561892996065637, 11.19929194769003, 0.4087280430856497, 3.0, 12.559509697746947], ws=[8.561892996065637, 11.19929194769003, 0.4087280430856497, 3.0, 14.692963684123846], res=[0.0, 0.0, 0.0, 0.0, -2.1334539863768995], res_norm=2.133e+00
2025-12-01 17:51:08,743 - INFO - integration_test - Dyn residual k=2: pred=[8.837181124468946, 11.318524687993198, 0.4087280430856497, 3.0, 14.992963684123847], ws=[8.837181124468946, 11.318524687993198, 0.4087280430856497, 3.0, 17.029091970732434], res=[0.0, 0.0, 0.0, 0.0, -2.0361282866085872], res_norm=2.036e+00
2025-12-01 17:51:08,759 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:08,772 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:08,789 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:08,802 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:08,819 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:08,832 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:08,848 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:08,861 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:08,878 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:08,891 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:08,907 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:08,919 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:08,933 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:08,945 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:08,961 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:08,974 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:08,991 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:09,004 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:09,019 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:09,031 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:09,046 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:09,058 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:09,204 - INFO - integration_test - Step 57: MPC solve successful
2025-12-01 17:51:09,218 - INFO - integration_test - Step 57: Computed 6 numeric contouring constraints for visualization (s=9.693)
2025-12-01 17:51:09,219 - DEBUG - integration_test - Step 57: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:09,219 - INFO - integration_test - === Applying control at step 57 ===
2025-12-01 17:51:09,219 - INFO - integration_test -   Control dict from planner: {'a': 1.3193203672677935e-07, 'w': -0.8000000099704108}
2025-12-01 17:51:09,219 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:09,219 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:09,220 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:09,220 - INFO - integration_test - Step 57 completed in 0.504s
2025-12-01 17:51:09,235 - INFO - integration_test - Step 58 (contouring until path end)
2025-12-01 17:51:09,235 - DEBUG - integration_test - Syncing planner state at step 58: vehicle_state=[ 8.29107809 11.06892641  0.32872804  3.00000002  9.9927401 ]
2025-12-01 17:51:09,236 - INFO - integration_test - Step 58: Re-initialized spline from 9.9927 to 10.2985 (vehicle at (8.29, 11.07), closest path point at (9.10, 4.74), distance=6.379m)
2025-12-01 17:51:09,236 - DEBUG - integration_test -   Set spline state to 10.2985
2025-12-01 17:51:09,238 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:09,252 - DEBUG - integration_test - Step 58: Checking path alignment: vehicle=(8.291, 11.069), path_start=(0.000, 0.000), dist=13.830m
2025-12-01 17:51:09,253 - WARNING - integration_test - Could not update reference path at step 58: x and y must have the same length
2025-12-01 17:51:09,253 - INFO - integration_test - === Calling planner.solve_mpc() at step 58 ===
2025-12-01 17:51:09,256 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:09,257 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:09,257 - INFO - integration_test - Warmstart k=0: x0=8.291078093064128 , y0=11.068926414907205 , psi0=0.32872804208860884 , v0=3.0 , spline0=10.298536352204176 , a0=0.0 , w0=0.0
2025-12-01 17:51:09,257 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:09,258 - INFO - integration_test - Dyn residual k=0: pred=[8.5750142172304, 11.165778247070747, 0.32872804208860884, 3.0, 10.598536352204176], ws=[8.5750142172304, 11.165778247070747, 0.32872804208860895, 3.0, 12.971994237200112], res=[0.0, 0.0, -1.1102230246251565e-16, 0.0, -2.3734578849959362], res_norm=2.373e+00
2025-12-01 17:51:09,259 - INFO - integration_test - Dyn residual k=1: pred=[8.858950341396673, 11.26263007923429, 0.32872804208860895, 3.0, 13.271994237200113], ws=[8.858950341396673, 11.26263007923429, 0.32872804208860895, 3.0, 15.461271287072684], res=[0.0, 0.0, 0.0, 0.0, -2.1892770498725707], res_norm=2.189e+00
2025-12-01 17:51:09,260 - INFO - integration_test - Dyn residual k=2: pred=[9.142886465562945, 11.359481911397832, 0.32872804208860895, 3.0, 15.761271287072685], ws=[9.142886465562945, 11.359481911397832, 0.32872804208860895, 3.0, 17.973928156554763], res=[0.0, 0.0, 0.0, 0.0, -2.2126568694820783], res_norm=2.213e+00
2025-12-01 17:51:09,278 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:09,292 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:09,309 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:09,323 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:09,339 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:09,353 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:09,369 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:09,382 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:09,398 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:09,410 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:09,425 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:09,437 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:09,452 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:09,464 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:09,480 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:09,492 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:09,508 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:09,521 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:09,536 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:09,548 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:09,563 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:09,575 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:09,710 - INFO - integration_test - Step 58: MPC solve successful
2025-12-01 17:51:09,724 - INFO - integration_test - Step 58: Computed 6 numeric contouring constraints for visualization (s=10.299)
2025-12-01 17:51:09,725 - DEBUG - integration_test - Step 58: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:09,725 - INFO - integration_test - === Applying control at step 58 ===
2025-12-01 17:51:09,725 - INFO - integration_test -   Control dict from planner: {'a': 3.232385672704504e-08, 'w': -0.8000000085924919}
2025-12-01 17:51:09,725 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:09,725 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:09,726 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:09,726 - INFO - integration_test - Step 58 completed in 0.491s
2025-12-01 17:51:09,739 - INFO - integration_test - Step 59 (contouring until path end)
2025-12-01 17:51:09,740 - DEBUG - integration_test - Syncing planner state at step 59: vehicle_state=[ 8.57858346 11.15432358  0.24872804  3.00000003 10.59853635]
2025-12-01 17:51:09,740 - INFO - integration_test - Step 59: Re-initialized spline from 10.5985 to 10.2985 (vehicle at (8.58, 11.15), closest path point at (9.10, 4.74), distance=6.434m)
2025-12-01 17:51:09,740 - DEBUG - integration_test -   Set spline state to 10.2985
2025-12-01 17:51:09,742 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:09,758 - DEBUG - integration_test - Step 59: Checking path alignment: vehicle=(8.579, 11.154), path_start=(0.000, 0.000), dist=14.072m
2025-12-01 17:51:09,758 - WARNING - integration_test - Could not update reference path at step 59: x and y must have the same length
2025-12-01 17:51:09,758 - INFO - integration_test - === Calling planner.solve_mpc() at step 59 ===
2025-12-01 17:51:09,761 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:09,763 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:09,763 - INFO - integration_test - Warmstart k=0: x0=8.5785834630077 , y0=11.154323584348548 , psi0=0.24872804122935965 , v0=3.0 , spline0=10.298536352204176 , a0=0.0 , w0=0.0
2025-12-01 17:51:09,763 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:09,764 - INFO - integration_test - Dyn residual k=0: pred=[8.869351360648752, 11.22817498718832, 0.24872804122935965, 3.0, 10.598536352204176], ws=[8.869351360648752, 11.22817498718832, 0.24872804122935976, 3.0, 12.97199423720011], res=[0.0, 0.0, -1.1102230246251565e-16, 0.0, -2.3734578849959345], res_norm=2.373e+00
2025-12-01 17:51:09,765 - INFO - integration_test - Dyn residual k=1: pred=[9.160119258289804, 11.302026390028091, 0.24872804122935976, 3.0, 13.271994237200111], ws=[9.160119258289804, 11.302026390028091, 0.24872804122935976, 3.0, 15.459489789637622], res=[0.0, 0.0, 0.0, 0.0, -2.187495552437511], res_norm=2.187e+00
2025-12-01 17:51:09,766 - INFO - integration_test - Dyn residual k=2: pred=[9.450887155930856, 11.375877792867863, 0.24872804122935976, 3.0, 15.759489789637623], ws=[9.450887155930856, 11.375877792867863, 0.24872804122935976, 3.0, 17.96764898844723], res=[0.0, 0.0, 0.0, 0.0, -2.208159198809607], res_norm=2.208e+00
2025-12-01 17:51:09,784 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:09,798 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:09,814 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:09,828 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:09,845 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:09,858 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:09,875 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:09,890 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:09,906 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:09,919 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:09,934 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:09,946 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:09,961 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:09,973 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:09,989 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:10,001 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:10,017 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:10,029 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:10,044 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:10,056 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:10,071 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:10,084 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:10,212 - INFO - integration_test - Step 59: MPC solve successful
2025-12-01 17:51:10,227 - INFO - integration_test - Step 59: Computed 6 numeric contouring constraints for visualization (s=10.299)
2025-12-01 17:51:10,228 - DEBUG - integration_test - Step 59: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:10,228 - INFO - integration_test - === Applying control at step 59 ===
2025-12-01 17:51:10,228 - INFO - integration_test -   Control dict from planner: {'a': -1.0168829753775795e-06, 'w': -0.7999998777046298}
2025-12-01 17:51:10,228 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:10,228 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:10,229 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:10,229 - INFO - integration_test - Step 59 completed in 0.490s
2025-12-01 17:51:10,241 - INFO - integration_test - Step 60 (contouring until path end)
2025-12-01 17:51:10,242 - DEBUG - integration_test - Syncing planner state at step 60: vehicle_state=[ 8.87199379 11.21647173  0.16872805  2.99999992 10.59853634]
2025-12-01 17:51:10,243 - INFO - integration_test - Step 60: Re-initialized spline from 10.5985 to 10.2985 (vehicle at (8.87, 11.22), closest path point at (9.10, 4.74), distance=6.479m)
2025-12-01 17:51:10,243 - DEBUG - integration_test -   Set spline state to 10.2985
2025-12-01 17:51:10,244 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:10,260 - DEBUG - integration_test - Step 60: Checking path alignment: vehicle=(8.872, 11.216), path_start=(0.000, 0.000), dist=14.301m
2025-12-01 17:51:10,261 - WARNING - integration_test - Could not update reference path at step 60: x and y must have the same length
2025-12-01 17:51:10,261 - INFO - integration_test - === Calling planner.solve_mpc() at step 60 ===
2025-12-01 17:51:10,264 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:10,266 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:10,266 - INFO - integration_test - Warmstart k=0: x0=8.871993789843485 , y0=11.216471725629663 , psi0=0.1687280534588967 , v0=2.999999924908909 , spline0=10.298536352204176 , a0=0.0 , w0=0.0
2025-12-01 17:51:10,266 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:10,267 - INFO - integration_test - Dyn residual k=0: pred=[9.167733530588666, 11.266850304792912, 0.1687280534588967, 2.999999924908909, 10.598536344695066], ws=[9.167733530588666, 11.266850304792912, 0.16872805345889663, 2.999999924908909, 12.971994229691006], res=[0.0, 0.0, 5.551115123125783e-17, 0.0, -2.37345788499594], res_norm=2.373e+00
2025-12-01 17:51:10,268 - INFO - integration_test - Dyn residual k=1: pred=[9.463473271333848, 11.317228883956162, 0.16872805345889663, 2.999999924908909, 13.271994222181897], ws=[9.463473271333848, 11.317228883956162, 0.16872805345889663, 2.999999924908909, 15.45807005690618], res=[0.0, 0.0, 0.0, 0.0, -2.1860758347242832], res_norm=2.186e+00
2025-12-01 17:51:10,269 - INFO - integration_test - Dyn residual k=2: pred=[9.75921301207903, 11.36760746311941, 0.16872805345889663, 2.999999924908909, 15.758070049397071], ws=[9.75921301207903, 11.36760746311941, 0.16872805345889663, 2.999999924908909, 17.96250587257416], res=[0.0, 0.0, 0.0, 0.0, -2.2044358231770875], res_norm=2.204e+00
2025-12-01 17:51:10,285 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:10,301 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:10,318 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:10,332 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:10,348 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:10,361 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:10,380 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:10,393 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:10,409 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:10,421 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:10,436 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:10,448 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:10,463 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:10,475 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:10,490 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:10,502 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:10,517 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:10,529 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:10,544 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:10,556 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:10,572 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:10,585 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:10,732 - INFO - integration_test - Step 60: MPC solve successful
2025-12-01 17:51:10,747 - INFO - integration_test - Step 60: Computed 6 numeric contouring constraints for visualization (s=10.299)
2025-12-01 17:51:10,747 - DEBUG - integration_test - Step 60: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:10,747 - INFO - integration_test - === Applying control at step 60 ===
2025-12-01 17:51:10,747 - INFO - integration_test -   Control dict from planner: {'a': 1.4997517377836782e-06, 'w': -0.7999999832909578}
2025-12-01 17:51:10,747 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:10,747 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:10,748 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:10,748 - INFO - integration_test - Step 60 completed in 0.507s
2025-12-01 17:51:10,762 - INFO - integration_test - Step 61 (contouring until path end)
2025-12-01 17:51:10,764 - DEBUG - integration_test - Syncing planner state at step 61: vehicle_state=[ 9.16943226 11.2549733   0.08872806  3.00000007 10.59853636]
2025-12-01 17:51:10,765 - INFO - integration_test - Step 61: Re-initialized spline from 10.5985 to 10.9043 (vehicle at (9.17, 11.25), closest path point at (9.75, 4.78), distance=6.499m)
2025-12-01 17:51:10,765 - DEBUG - integration_test -   Set spline state to 10.9043
2025-12-01 17:51:10,767 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:10,783 - DEBUG - integration_test - Step 61: Checking path alignment: vehicle=(9.169, 11.255), path_start=(0.000, 0.000), dist=14.517m
2025-12-01 17:51:10,783 - WARNING - integration_test - Could not update reference path at step 61: x and y must have the same length
2025-12-01 17:51:10,783 - INFO - integration_test - === Calling planner.solve_mpc() at step 61 ===
2025-12-01 17:51:10,786 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:10,787 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:10,787 - INFO - integration_test - Warmstart k=0: x0=9.169432256098167 , y0=11.2549733046338 , psi0=0.0887280551298009 , v0=3.0 , spline0=10.904332608216187 , a0=0.0 , w0=0.0
2025-12-01 17:51:10,788 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:10,788 - INFO - integration_test - Dyn residual k=0: pred=[9.468252130466043, 11.281556808593349, 0.0887280551298009, 3.0, 11.204332608216188], ws=[9.468252130466043, 11.281556808593349, 0.08872805512980086, 3.0, 13.68103458024699], res=[0.0, 0.0, 4.163336342344337e-17, 0.0, -2.476701972030803], res_norm=2.477e+00
2025-12-01 17:51:10,789 - INFO - integration_test - Dyn residual k=1: pred=[9.767072004833919, 11.308140312552897, 0.08872805512980086, 3.0, 13.981034580246991], ws=[9.767072004833919, 11.308140312552897, 0.08872805512980086, 3.0, 16.299834213754135], res=[0.0, 0.0, 0.0, 0.0, -2.318799633507144], res_norm=2.319e+00
2025-12-01 17:51:10,790 - INFO - integration_test - Dyn residual k=2: pred=[10.065891879201795, 11.334723816512446, 0.08872805512980086, 3.0, 16.599834213754136], ws=[10.065891879201795, 11.334723816512446, 0.08872805512980086, 3.0, 18.910812250444245], res=[0.0, 0.0, 0.0, 0.0, -2.310978036690109], res_norm=2.311e+00
2025-12-01 17:51:10,808 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:10,821 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:10,839 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:10,852 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:10,869 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:10,882 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:10,899 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:10,912 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:10,927 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:10,940 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:10,954 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:10,967 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:10,982 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:10,994 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:11,009 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:11,022 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:11,037 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:11,049 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:11,065 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:11,077 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:11,092 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:11,104 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:11,241 - INFO - integration_test - Step 61: MPC solve successful
2025-12-01 17:51:11,257 - INFO - integration_test - Step 61: Computed 6 numeric contouring constraints for visualization (s=10.904)
2025-12-01 17:51:11,257 - DEBUG - integration_test - Step 61: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:11,257 - INFO - integration_test - === Applying control at step 61 ===
2025-12-01 17:51:11,257 - INFO - integration_test -   Control dict from planner: {'a': -3.294169832186146e-07, 'w': -0.800000005806593}
2025-12-01 17:51:11,257 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:11,257 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:11,258 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:11,258 - INFO - integration_test - Step 61 completed in 0.494s
2025-12-01 17:51:11,273 - INFO - integration_test - Step 62 (contouring until path end)
2025-12-01 17:51:11,274 - DEBUG - integration_test - Syncing planner state at step 62: vehicle_state=[9.46899627e+00 1.12695820e+01 8.72805455e-03 3.00000004e+00
 1.12043326e+01]
2025-12-01 17:51:11,274 - INFO - integration_test - Step 62: Re-initialized spline from 11.2043 to 10.9043 (vehicle at (9.47, 11.27), closest path point at (9.75, 4.78), distance=6.494m)
2025-12-01 17:51:11,274 - DEBUG - integration_test -   Set spline state to 10.9043
2025-12-01 17:51:11,276 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:11,291 - DEBUG - integration_test - Step 62: Checking path alignment: vehicle=(9.469, 11.270), path_start=(0.000, 0.000), dist=14.720m
2025-12-01 17:51:11,292 - WARNING - integration_test - Could not update reference path at step 62: x and y must have the same length
2025-12-01 17:51:11,292 - INFO - integration_test - === Calling planner.solve_mpc() at step 62 ===
2025-12-01 17:51:11,295 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:11,296 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:11,296 - INFO - integration_test - Warmstart k=0: x0=9.468996274509085 , y0=11.269582040844867 , psi0=0.008728054549141606 , v0=3.0 , spline0=10.904332608216187 , a0=0.0 , w0=0.0
2025-12-01 17:51:11,296 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:11,297 - INFO - integration_test - Dyn residual k=0: pred=[9.768984847741192, 11.27220042396504, 0.008728054549141606, 3.0, 11.204332608216188], ws=[9.768984847741192, 11.27220042396504, 0.008728054549141717, 3.0, 13.68103458024699], res=[0.0, 0.0, -1.1102230246251565e-16, 0.0, -2.476701972030803], res_norm=2.477e+00
2025-12-01 17:51:11,298 - INFO - integration_test - Dyn residual k=1: pred=[10.0689734209733, 11.274818807085214, 0.008728054549141717, 3.0, 13.981034580246991], ws=[10.0689734209733, 11.274818807085214, 0.008728054549141717, 3.0, 16.299029846980655], res=[0.0, 0.0, 0.0, 0.0, -2.3179952667336643], res_norm=2.318e+00
2025-12-01 17:51:11,299 - INFO - integration_test - Dyn residual k=2: pred=[10.368961994205408, 11.277437190205388, 0.008728054549141717, 3.0, 16.599029846980656], ws=[10.368961994205408, 11.277437190205388, 0.008728054549141717, 3.0, 18.907981795113162], res=[0.0, 0.0, 0.0, 0.0, -2.3089519481325063], res_norm=2.309e+00
2025-12-01 17:51:11,316 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:11,330 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:11,347 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:11,360 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:11,377 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:11,390 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:11,406 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:11,420 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:11,435 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:11,448 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:11,464 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:11,476 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:11,491 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:11,504 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:11,521 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:11,533 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:11,549 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:11,561 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:11,577 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:11,590 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:11,605 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:11,617 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:11,766 - INFO - integration_test - Step 62: MPC solve successful
2025-12-01 17:51:11,782 - INFO - integration_test - Step 62: Computed 6 numeric contouring constraints for visualization (s=10.904)
2025-12-01 17:51:11,783 - DEBUG - integration_test - Step 62: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:11,783 - INFO - integration_test - === Applying control at step 62 ===
2025-12-01 17:51:11,783 - INFO - integration_test -   Control dict from planner: {'a': -8.00374906545322e-08, 'w': -0.8000000099365655}
2025-12-01 17:51:11,783 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:11,783 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:11,784 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:11,784 - INFO - integration_test - Step 62 completed in 0.511s
2025-12-01 17:51:11,798 - INFO - integration_test - Step 63 (contouring until path end)
2025-12-01 17:51:11,799 - DEBUG - integration_test - Syncing planner state at step 63: vehicle_state=[ 9.76876965 11.26020449 -0.07127195  3.00000003 11.20433261]
2025-12-01 17:51:11,800 - INFO - integration_test - Step 63: Re-initialized spline from 11.2043 to 10.9043 (vehicle at (9.77, 11.26), closest path point at (9.75, 4.78), distance=6.478m)
2025-12-01 17:51:11,800 - DEBUG - integration_test -   Set spline state to 10.9043
2025-12-01 17:51:11,802 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:11,816 - DEBUG - integration_test - Step 63: Checking path alignment: vehicle=(9.769, 11.260), path_start=(0.000, 0.000), dist=14.907m
2025-12-01 17:51:11,817 - WARNING - integration_test - Could not update reference path at step 63: x and y must have the same length
2025-12-01 17:51:11,817 - INFO - integration_test - === Calling planner.solve_mpc() at step 63 ===
2025-12-01 17:51:11,820 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:11,821 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:11,821 - INFO - integration_test - Warmstart k=0: x0=9.768769649837088 , y0=11.260204486982937 , psi0=-0.07127194644451494 , v0=3.0 , spline0=10.904332608216187 , a0=0.0 , w0=0.0
2025-12-01 17:51:11,821 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:11,823 - INFO - integration_test - Dyn residual k=0: pred=[10.068008018770657, 11.238841000423447, -0.07127194644451494, 3.0, 11.204332608216188], ws=[10.068008018770657, 11.238841000423447, -0.07127194644451507, 3.0, 13.68103458024699], res=[0.0, 0.0, 1.249000902703301e-16, 0.0, -2.476701972030803], res_norm=2.477e+00
2025-12-01 17:51:11,824 - INFO - integration_test - Dyn residual k=1: pred=[10.367246387704226, 11.217477513863956, -0.07127194644451507, 3.0, 13.981034580246991], ws=[10.367246387704226, 11.217477513863956, -0.07127194644451507, 3.0, 16.2986061152747], res=[0.0, 0.0, 0.0, 0.0, -2.31757153502771], res_norm=2.318e+00
2025-12-01 17:51:11,824 - INFO - integration_test - Dyn residual k=2: pred=[10.666484756637795, 11.196114027304466, -0.07127194644451507, 3.0, 16.598606115274702], ws=[10.666484756637795, 11.196114027304466, -0.07127194644451507, 3.0, 18.906373609141262], res=[0.0, 0.0, 0.0, 0.0, -2.30776749386656], res_norm=2.308e+00
2025-12-01 17:51:11,842 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:11,856 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:11,874 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:11,887 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:11,904 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:11,918 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:11,934 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:11,948 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:11,964 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:11,977 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:11,993 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:12,005 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:12,020 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:12,033 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:12,049 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:12,061 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:12,080 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:12,092 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:12,108 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:12,121 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:12,136 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:12,148 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:12,293 - INFO - integration_test - Step 63: MPC solve successful
2025-12-01 17:51:12,308 - INFO - integration_test - Step 63: Computed 6 numeric contouring constraints for visualization (s=10.904)
2025-12-01 17:51:12,308 - DEBUG - integration_test - Step 63: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:12,308 - INFO - integration_test - === Applying control at step 63 ===
2025-12-01 17:51:12,308 - INFO - integration_test -   Control dict from planner: {'a': -2.6268471594433533e-08, 'w': -0.8000000099984085}
2025-12-01 17:51:12,308 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:12,308 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:12,309 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:12,310 - INFO - integration_test - Step 63 completed in 0.511s
2025-12-01 17:51:12,324 - INFO - integration_test - Step 64 (contouring until path end)
2025-12-01 17:51:12,325 - DEBUG - integration_test - Syncing planner state at step 64: vehicle_state=[10.06683486 11.22690063 -0.15127195  3.00000003 11.20433261]
2025-12-01 17:51:12,325 - INFO - integration_test - Step 64: Re-initialized spline from 11.2043 to 11.5101 (vehicle at (10.07, 11.23), closest path point at (10.40, 4.79), distance=6.448m)
2025-12-01 17:51:12,325 - DEBUG - integration_test -   Set spline state to 11.5101
2025-12-01 17:51:12,327 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:12,343 - DEBUG - integration_test - Step 64: Checking path alignment: vehicle=(10.067, 11.227), path_start=(0.000, 0.000), dist=15.079m
2025-12-01 17:51:12,343 - WARNING - integration_test - Could not update reference path at step 64: x and y must have the same length
2025-12-01 17:51:12,343 - INFO - integration_test - === Calling planner.solve_mpc() at step 64 ===
2025-12-01 17:51:12,346 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:12,348 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:12,348 - INFO - integration_test - Warmstart k=0: x0=10.066834856959375 , y0=11.226900627501328 , psi0=-0.1512719474443558 , v0=3.0 , spline0=11.510128864228196 , a0=0.0 , w0=0.0
2025-12-01 17:51:12,348 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:12,349 - INFO - integration_test - Dyn residual k=0: pred=[10.36340891716785, 11.181691924672569, -0.1512719474443558, 3.0, 11.810128864228197], ws=[10.36340891716785, 11.181691924672569, -0.1512719474443558, 3.0, 14.390320401389912], res=[0.0, 0.0, 0.0, 0.0, -2.5801915371617152], res_norm=2.580e+00
2025-12-01 17:51:12,350 - INFO - integration_test - Dyn residual k=1: pred=[10.659982977376327, 11.13648322184381, -0.1512719474443558, 3.0, 14.690320401389913], ws=[10.659982977376327, 11.13648322184381, -0.1512719474443558, 3.0, 17.160298518521497], res=[0.0, 0.0, 0.0, 0.0, -2.4699781171315838], res_norm=2.470e+00
2025-12-01 17:51:12,351 - INFO - integration_test - Dyn residual k=2: pred=[10.956557037584803, 11.09127451901505, -0.1512719474443558, 3.0, 17.460298518521498], ws=[10.956557037584803, 11.09127451901505, -0.1512719474443558, 3.0, 20.00435657362257], res=[0.0, 0.0, 0.0, 0.0, -2.544058055101072], res_norm=2.544e+00
2025-12-01 17:51:12,368 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:12,382 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:12,399 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:12,413 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:12,430 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:12,443 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:12,459 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:12,472 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:12,488 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:12,500 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:12,515 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:12,527 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:12,542 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:12,555 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:12,571 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:12,584 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:12,599 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:12,611 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:12,627 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:12,639 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:12,654 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:12,667 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:12,798 - INFO - integration_test - Step 64: MPC solve successful
2025-12-01 17:51:12,812 - INFO - integration_test - Step 64: Computed 6 numeric contouring constraints for visualization (s=11.510)
2025-12-01 17:51:12,812 - DEBUG - integration_test - Step 64: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:12,812 - INFO - integration_test - === Applying control at step 64 ===
2025-12-01 17:51:12,813 - INFO - integration_test -   Control dict from planner: {'a': -4.188713531922723e-08, 'w': -0.8000000033556882}
2025-12-01 17:51:12,813 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:12,813 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:12,814 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:12,814 - INFO - integration_test - Step 64 completed in 0.489s
2025-12-01 17:51:12,826 - INFO - integration_test - Step 65 (contouring until path end)
2025-12-01 17:51:12,827 - DEBUG - integration_test - Syncing planner state at step 65: vehicle_state=[10.3612853  11.16988349 -0.23127195  3.00000003 11.81012887]
2025-12-01 17:51:12,827 - INFO - integration_test - Step 65: Re-initialized spline from 11.8101 to 11.5101 (vehicle at (10.36, 11.17), closest path point at (10.40, 4.79), distance=6.382m)
2025-12-01 17:51:12,828 - DEBUG - integration_test -   Set spline state to 11.5101
2025-12-01 17:51:12,830 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:12,845 - DEBUG - integration_test - Step 65: Checking path alignment: vehicle=(10.361, 11.170), path_start=(0.000, 0.000), dist=15.236m
2025-12-01 17:51:12,846 - WARNING - integration_test - Could not update reference path at step 65: x and y must have the same length
2025-12-01 17:51:12,846 - INFO - integration_test - === Calling planner.solve_mpc() at step 65 ===
2025-12-01 17:51:12,849 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:12,851 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:12,851 - INFO - integration_test - Warmstart k=0: x0=10.361285295898805 , y0=11.169883493602493 , psi0=-0.2312719477799246 , v0=3.0 , spline0=11.510128864228196 , a0=0.0 , w0=0.0
2025-12-01 17:51:12,851 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:12,852 - INFO - integration_test - Dyn residual k=0: pred=[10.653297985485331, 11.101118756124311, -0.2312719477799246, 3.0, 11.810128864228197], ws=[10.653297985485331, 11.101118756124311, -0.23127194777992477, 3.0, 14.390320401389912], res=[0.0, 0.0, 1.6653345369377348e-16, 0.0, -2.5801915371617152], res_norm=2.580e+00
2025-12-01 17:51:12,853 - INFO - integration_test - Dyn residual k=1: pred=[10.945310675071857, 11.03235401864613, -0.23127194777992477, 3.0, 14.690320401389913], ws=[10.945310675071857, 11.03235401864613, -0.23127194777992477, 3.0, 17.16058724655933], res=[0.0, 0.0, 0.0, 0.0, -2.4702668451694176], res_norm=2.470e+00
2025-12-01 17:51:12,854 - INFO - integration_test - Dyn residual k=2: pred=[11.237323364658383, 10.963589281167948, -0.23127194777992477, 3.0, 17.46058724655933], ws=[11.237323364658383, 10.963589281167948, -0.23127194777992477, 3.0, 20.005619981540953], res=[0.0, 0.0, 0.0, 0.0, -2.5450327349816213], res_norm=2.545e+00
2025-12-01 17:51:12,871 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:12,886 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:12,902 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:12,916 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:12,933 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:12,947 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:12,963 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:12,976 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:12,992 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:13,005 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:13,021 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:13,033 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:13,048 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:13,060 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:13,076 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:13,089 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:13,104 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:13,116 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:13,131 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:13,143 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:13,158 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:13,170 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:13,306 - INFO - integration_test - Step 65: MPC solve successful
2025-12-01 17:51:13,320 - INFO - integration_test - Step 65: Computed 6 numeric contouring constraints for visualization (s=11.510)
2025-12-01 17:51:13,320 - DEBUG - integration_test - Step 65: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:13,320 - INFO - integration_test - === Applying control at step 65 ===
2025-12-01 17:51:13,320 - INFO - integration_test -   Control dict from planner: {'a': 7.983595102764221e-09, 'w': -0.8000000077809343}
2025-12-01 17:51:13,320 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:13,320 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:13,321 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:13,322 - INFO - integration_test - Step 65 completed in 0.495s
2025-12-01 17:51:13,335 - INFO - integration_test - Step 66 (contouring until path end)
2025-12-01 17:51:13,336 - DEBUG - integration_test - Syncing planner state at step 66: vehicle_state=[10.65023749 11.0895178  -0.31127195  3.00000003 11.81012887]
2025-12-01 17:51:13,337 - INFO - integration_test - Step 66: Re-initialized spline from 11.8101 to 11.5101 (vehicle at (10.65, 11.09), closest path point at (10.40, 4.79), distance=6.307m)
2025-12-01 17:51:13,337 - DEBUG - integration_test -   Set spline state to 11.5101
2025-12-01 17:51:13,339 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:13,354 - DEBUG - integration_test - Step 66: Checking path alignment: vehicle=(10.650, 11.090), path_start=(0.000, 0.000), dist=15.375m
2025-12-01 17:51:13,355 - WARNING - integration_test - Could not update reference path at step 66: x and y must have the same length
2025-12-01 17:51:13,355 - INFO - integration_test - === Calling planner.solve_mpc() at step 66 ===
2025-12-01 17:51:13,358 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:13,359 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:13,360 - INFO - integration_test - Warmstart k=0: x0=10.650237488838892 , y0=11.089517800408263 , psi0=-0.31127194855801804 , v0=3.0 , spline0=11.510128864228196 , a0=0.0 , w0=0.0
2025-12-01 17:51:13,360 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:13,361 - INFO - integration_test - Dyn residual k=0: pred=[10.935820923057827, 10.997636887810927, -0.31127194855801804, 3.0, 11.810128864228197], ws=[10.935820923057827, 10.997636887810927, -0.311271948558018, 3.0, 14.390320401389914], res=[0.0, 0.0, -5.551115123125783e-17, 0.0, -2.580191537161717], res_norm=2.580e+00
2025-12-01 17:51:13,361 - INFO - integration_test - Dyn residual k=1: pred=[11.221404357276763, 10.90575597521359, -0.311271948558018, 3.0, 14.690320401389915], ws=[11.221404357276763, 10.90575597521359, -0.311271948558018, 3.0, 17.161257844643817], res=[0.0, 0.0, 0.0, 0.0, -2.470937443253902], res_norm=2.471e+00
2025-12-01 17:51:13,362 - INFO - integration_test - Dyn residual k=2: pred=[11.506987791495698, 10.813875062616255, -0.311271948558018, 3.0, 17.461257844643818], ws=[11.506987791495698, 10.813875062616255, -0.311271948558018, 3.0, 20.008122771093106], res=[0.0, 0.0, 0.0, 0.0, -2.546864926449288], res_norm=2.547e+00
2025-12-01 17:51:13,380 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:13,394 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:13,410 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:13,424 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:13,440 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:13,453 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:13,469 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:13,482 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:13,498 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:13,510 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:13,525 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:13,537 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:13,551 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:13,563 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:13,579 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:13,591 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:13,606 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:13,618 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:13,633 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:13,645 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:13,661 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:13,674 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:13,825 - INFO - integration_test - Step 66: MPC solve successful
2025-12-01 17:51:13,840 - INFO - integration_test - Step 66: Computed 6 numeric contouring constraints for visualization (s=11.510)
2025-12-01 17:51:13,840 - DEBUG - integration_test - Step 66: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:13,840 - INFO - integration_test - === Applying control at step 66 ===
2025-12-01 17:51:13,840 - INFO - integration_test -   Control dict from planner: {'a': 1.3848741269049013e-08, 'w': -0.8000000099981149}
2025-12-01 17:51:13,840 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:13,841 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:13,841 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:13,842 - INFO - integration_test - Step 66 completed in 0.506s
2025-12-01 17:51:13,857 - INFO - integration_test - Step 67 (contouring until path end)
2025-12-01 17:51:13,858 - DEBUG - integration_test - Syncing planner state at step 67: vehicle_state=[10.93184313 10.98631761 -0.39127195  3.00000003 11.81012887]
2025-12-01 17:51:13,858 - INFO - integration_test - Step 67: Re-initialized spline from 11.8101 to 11.5101 (vehicle at (10.93, 10.99), closest path point at (10.40, 4.79), distance=6.222m)
2025-12-01 17:51:13,858 - DEBUG - integration_test -   Set spline state to 11.5101
2025-12-01 17:51:13,860 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:13,875 - DEBUG - integration_test - Step 67: Checking path alignment: vehicle=(10.932, 10.986), path_start=(0.000, 0.000), dist=15.499m
2025-12-01 17:51:13,876 - WARNING - integration_test - Could not update reference path at step 67: x and y must have the same length
2025-12-01 17:51:13,876 - INFO - integration_test - === Calling planner.solve_mpc() at step 67 ===
2025-12-01 17:51:13,879 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:13,881 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:13,881 - INFO - integration_test - Warmstart k=0: x0=10.931843128034394 , y0=10.986317613945435 , psi0=-0.3912719495578295 , v0=3.0 , spline0=11.510128864228196 , a0=0.0 , w0=0.0
2025-12-01 17:51:13,882 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:13,883 - INFO - integration_test - Dyn residual k=0: pred=[11.209170547429379, 10.871908250466221, -0.3912719495578295, 3.0, 11.810128864228197], ws=[11.209170547429379, 10.871908250466221, -0.3912719495578294, 3.0, 14.390320401389914], res=[0.0, 0.0, -1.1102230246251565e-16, 0.0, -2.580191537161717], res_norm=2.580e+00
2025-12-01 17:51:13,884 - INFO - integration_test - Dyn residual k=1: pred=[11.486497966824363, 10.757498886987008, -0.3912719495578294, 3.0, 14.690320401389915], ws=[11.486497966824363, 10.757498886987008, -0.3912719495578294, 3.0, 17.162306023238497], res=[0.0, 0.0, 0.0, 0.0, -2.4719856218485816], res_norm=2.472e+00
2025-12-01 17:51:13,885 - INFO - integration_test - Dyn residual k=2: pred=[11.763825386219347, 10.643089523507795, -0.3912719495578294, 3.0, 17.462306023238497], ws=[11.763825386219347, 10.643089523507795, -0.3912719495578294, 3.0, 20.01185000810194], res=[0.0, 0.0, 0.0, 0.0, -2.549543984863444], res_norm=2.550e+00
2025-12-01 17:51:13,901 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:13,914 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:13,931 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:13,944 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:13,961 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:13,974 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:13,990 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:14,003 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:14,019 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:14,031 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:14,045 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:14,057 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:14,073 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:14,085 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:14,100 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:14,112 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:14,127 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:14,139 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:14,154 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:14,167 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:14,183 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:14,195 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:14,339 - INFO - integration_test - Step 67: MPC solve successful
2025-12-01 17:51:14,354 - INFO - integration_test - Step 67: Computed 6 numeric contouring constraints for visualization (s=11.510)
2025-12-01 17:51:14,354 - DEBUG - integration_test - Step 67: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:14,354 - INFO - integration_test - === Applying control at step 67 ===
2025-12-01 17:51:14,354 - INFO - integration_test -   Control dict from planner: {'a': 3.905118211023818e-09, 'w': -0.8000000098219541}
2025-12-01 17:51:14,354 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:14,354 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:14,355 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:14,355 - INFO - integration_test - Step 67 completed in 0.498s
2025-12-01 17:51:14,373 - INFO - integration_test - Step 68 (contouring until path end)
2025-12-01 17:51:14,373 - DEBUG - integration_test - Syncing planner state at step 68: vehicle_state=[11.2043009  10.86094306 -0.47127195  3.00000003 11.81012887]
2025-12-01 17:51:14,374 - INFO - integration_test - Step 68: Re-initialized spline from 11.8101 to 12.1159 (vehicle at (11.20, 10.86), closest path point at (11.05, 4.76), distance=6.100m)
2025-12-01 17:51:14,374 - DEBUG - integration_test -   Set spline state to 12.1159
2025-12-01 17:51:14,376 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:14,391 - DEBUG - integration_test - Step 68: Checking path alignment: vehicle=(11.204, 10.861), path_start=(0.000, 0.000), dist=15.604m
2025-12-01 17:51:14,391 - WARNING - integration_test - Could not update reference path at step 68: x and y must have the same length
2025-12-01 17:51:14,391 - INFO - integration_test - === Calling planner.solve_mpc() at step 68 ===
2025-12-01 17:51:14,394 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:14,395 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:14,395 - INFO - integration_test - Warmstart k=0: x0=11.204300898326855 , y0=10.860943063205719 , psi0=-0.4712719505400249 , v0=3.0 , spline0=12.115925120240208 , a0=0.0 , w0=0.0
2025-12-01 17:51:14,396 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:14,397 - INFO - integration_test - Dyn residual k=0: pred=[11.471598353780847, 10.724737078359894, -0.4712719505400249, 3.0, 12.415925120240209], ws=[11.471598353780847, 10.724737078359894, -0.47127195054002513, 3.0, 15.103954188406348], res=[0.0, 0.0, 2.220446049250313e-16, 0.0, -2.6880290681661396], res_norm=2.688e+00
2025-12-01 17:51:14,398 - INFO - integration_test - Dyn residual k=1: pred=[11.738895809234839, 10.588531093514069, -0.47127195054002513, 3.0, 15.403954188406349], ws=[11.738895809234839, 10.588531093514069, -0.47127195054002513, 3.0, 18.052333841953107], res=[0.0, 0.0, 0.0, 0.0, -2.6483796535467583], res_norm=2.648e+00
2025-12-01 17:51:14,398 - INFO - integration_test - Dyn residual k=2: pred=[12.00619326468883, 10.452325108668244, -0.47127195054002513, 3.0, 18.352333841953108], ws=[12.00619326468883, 10.452325108668244, -0.47127195054002513, 3.0, 21.053007476174706], res=[0.0, 0.0, 0.0, 0.0, -2.700673634221598], res_norm=2.701e+00
2025-12-01 17:51:14,415 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:14,436 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:14,452 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:14,465 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:14,482 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:14,495 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:14,511 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:14,526 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:14,542 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:14,556 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:14,573 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:14,585 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:14,601 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:14,613 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:14,629 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:14,643 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:14,659 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:14,673 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:14,690 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:14,703 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:14,720 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:14,733 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:14,882 - INFO - integration_test - Step 68: MPC solve successful
2025-12-01 17:51:14,896 - INFO - integration_test - Step 68: Computed 6 numeric contouring constraints for visualization (s=12.116)
2025-12-01 17:51:14,897 - DEBUG - integration_test - Step 68: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:14,897 - INFO - integration_test - === Applying control at step 68 ===
2025-12-01 17:51:14,897 - INFO - integration_test -   Control dict from planner: {'a': -2.8576083736617743e-09, 'w': -0.8000000085060959}
2025-12-01 17:51:14,897 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:14,897 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:14,898 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:14,898 - INFO - integration_test - Step 68 completed in 0.525s
2025-12-01 17:51:14,911 - INFO - integration_test - Step 69 (contouring until path end)
2025-12-01 17:51:14,912 - DEBUG - integration_test - Syncing planner state at step 69: vehicle_state=[11.465868   10.71419612 -0.55127195  3.00000003 12.41592512]
2025-12-01 17:51:14,912 - INFO - integration_test - Step 69: Re-initialized spline from 12.4159 to 12.1159 (vehicle at (11.47, 10.71), closest path point at (11.05, 4.76), distance=5.966m)
2025-12-01 17:51:14,912 - DEBUG - integration_test -   Set spline state to 12.1159
2025-12-01 17:51:14,914 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:14,930 - DEBUG - integration_test - Step 69: Checking path alignment: vehicle=(11.466, 10.714), path_start=(0.000, 0.000), dist=15.693m
2025-12-01 17:51:14,930 - WARNING - integration_test - Could not update reference path at step 69: x and y must have the same length
2025-12-01 17:51:14,930 - INFO - integration_test - === Calling planner.solve_mpc() at step 69 ===
2025-12-01 17:51:14,933 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:14,935 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:14,935 - INFO - integration_test - Warmstart k=0: x0=11.465867999666436 , y0=10.714196117527003 , psi0=-0.5512719513906345 , v0=3.0 , spline0=12.115925120240208 , a0=0.0 , w0=0.0
2025-12-01 17:51:14,935 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:14,936 - INFO - integration_test - Dyn residual k=0: pred=[11.721425699623943, 10.557064764855332, -0.5512719513906345, 3.0, 12.415925120240209], ws=[11.721425699623943, 10.557064764855332, -0.5512719513906346, 3.0, 15.103954188406345], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -2.688029068166136], res_norm=2.688e+00
2025-12-01 17:51:14,937 - INFO - integration_test - Dyn residual k=1: pred=[11.97698339958145, 10.39993341218366, -0.5512719513906346, 3.0, 15.403954188406345], ws=[11.97698339958145, 10.39993341218366, -0.5512719513906346, 3.0, 18.054139599083427], res=[0.0, 0.0, 0.0, 0.0, -2.650185410677082], res_norm=2.650e+00
2025-12-01 17:51:14,938 - INFO - integration_test - Dyn residual k=2: pred=[12.232541099538956, 10.24280205951199, -0.5512719513906346, 3.0, 18.354139599083428], ws=[12.232541099538956, 10.24280205951199, -0.5512719513906346, 3.0, 21.059536496761943], res=[0.0, 0.0, 0.0, 0.0, -2.705396897678515], res_norm=2.705e+00
2025-12-01 17:51:14,955 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:14,969 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:14,986 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:14,999 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:15,016 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:15,029 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:15,046 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:15,059 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:15,074 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:15,087 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:15,102 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:15,114 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:15,129 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:15,141 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:15,155 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:15,168 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:15,183 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:15,195 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:15,211 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:15,224 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:15,239 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:15,251 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:15,403 - INFO - integration_test - Step 69: MPC solve successful
2025-12-01 17:51:15,419 - INFO - integration_test - Step 69: Computed 6 numeric contouring constraints for visualization (s=12.116)
2025-12-01 17:51:15,419 - DEBUG - integration_test - Step 69: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:15,419 - INFO - integration_test - === Applying control at step 69 ===
2025-12-01 17:51:15,419 - INFO - integration_test -   Control dict from planner: {'a': -6.346048200134195e-07, 'w': -0.7999997834666802}
2025-12-01 17:51:15,419 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:15,419 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:15,420 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:15,421 - INFO - integration_test - Step 69 completed in 0.509s
2025-12-01 17:51:15,434 - INFO - integration_test - Step 70 (contouring until path end)
2025-12-01 17:51:15,435 - DEBUG - integration_test - Syncing planner state at step 70: vehicle_state=[11.71487129 10.54701546 -0.63127193  2.99999997 12.41592512]
2025-12-01 17:51:15,435 - INFO - integration_test - Step 70: Re-initialized spline from 12.4159 to 12.1159 (vehicle at (11.71, 10.55), closest path point at (11.05, 4.76), distance=5.822m)
2025-12-01 17:51:15,435 - DEBUG - integration_test -   Set spline state to 12.1159
2025-12-01 17:51:15,437 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:15,454 - DEBUG - integration_test - Step 70: Checking path alignment: vehicle=(11.715, 10.547), path_start=(0.000, 0.000), dist=15.763m
2025-12-01 17:51:15,454 - WARNING - integration_test - Could not update reference path at step 70: x and y must have the same length
2025-12-01 17:51:15,454 - INFO - integration_test - === Calling planner.solve_mpc() at step 70 ===
2025-12-01 17:51:15,457 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:15,458 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:15,458 - INFO - integration_test - Warmstart k=0: x0=11.714871294493765 , y0=10.547015461199843 , psi0=-0.6312719297373025 , v0=2.9999999659505767 , spline0=12.115925120240208 , a0=0.0 , w0=0.0
2025-12-01 17:51:15,458 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:15,459 - INFO - integration_test - Dyn residual k=0: pred=[11.957054542993486, 10.369963852613088, -0.6312719297373025, 2.9999999659505767, 12.415925116835265], ws=[11.957054542993486, 10.369963852613088, -0.6312719297373026, 2.9999999659505767, 15.103954185001406], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -2.6880290681661414], res_norm=2.688e+00
2025-12-01 17:51:15,460 - INFO - integration_test - Dyn residual k=1: pred=[12.199237791493207, 10.192912244026333, -0.6312719297373026, 2.9999999659505767, 15.403954181596463], ws=[12.199237791493207, 10.192912244026333, -0.6312719297373026, 2.9999999659505767, 18.056294873743358], res=[0.0, 0.0, 0.0, 0.0, -2.652340692146895], res_norm=2.652e+00
2025-12-01 17:51:15,461 - INFO - integration_test - Dyn residual k=2: pred=[12.441421039992928, 10.015860635439578, -0.6312719297373026, 2.9999999659505767, 18.356294870338417], ws=[12.441421039992928, 10.015860635439578, -0.6312719297373026, 2.9999999659505767, 21.067183519189314], res=[0.0, 0.0, 0.0, 0.0, -2.710888648850897], res_norm=2.711e+00
2025-12-01 17:51:15,479 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:15,493 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:15,510 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:15,524 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:15,541 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:15,554 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:15,571 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:15,584 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:15,600 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:15,612 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:15,627 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:15,640 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:15,655 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:15,668 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:15,684 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:15,696 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:15,711 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:15,724 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:15,739 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:15,751 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:15,767 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:15,779 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:15,927 - INFO - integration_test - Step 70: MPC solve successful
2025-12-01 17:51:15,942 - INFO - integration_test - Step 70: Computed 6 numeric contouring constraints for visualization (s=12.116)
2025-12-01 17:51:15,942 - DEBUG - integration_test - Step 70: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:15,942 - INFO - integration_test - === Applying control at step 70 ===
2025-12-01 17:51:15,942 - INFO - integration_test -   Control dict from planner: {'a': 4.252437745990576e-07, 'w': -0.8000000092671254}
2025-12-01 17:51:15,942 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:15,942 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:15,943 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:15,943 - INFO - integration_test - Step 70 completed in 0.509s
2025-12-01 17:51:15,958 - INFO - integration_test - Step 71 (contouring until path end)
2025-12-01 17:51:15,958 - DEBUG - integration_test - Syncing planner state at step 71: vehicle_state=[11.94971801 10.36047048 -0.71127193  3.00000001 12.41592512]
2025-12-01 17:51:15,959 - INFO - integration_test - Step 71: Re-initialized spline from 12.4159 to 12.7217 (vehicle at (11.95, 10.36), closest path point at (11.70, 4.71), distance=5.652m)
2025-12-01 17:51:15,959 - DEBUG - integration_test -   Set spline state to 12.7217
2025-12-01 17:51:15,961 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:15,978 - DEBUG - integration_test - Step 71: Checking path alignment: vehicle=(11.950, 10.360), path_start=(0.000, 0.000), dist=15.816m
2025-12-01 17:51:15,978 - WARNING - integration_test - Could not update reference path at step 71: x and y must have the same length
2025-12-01 17:51:15,978 - INFO - integration_test - === Calling planner.solve_mpc() at step 71 ===
2025-12-01 17:51:15,981 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:15,983 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:15,983 - INFO - integration_test - Warmstart k=0: x0=11.949718013699144 , y0=10.360470478666176 , psi0=-0.7112719306640151 , v0=3.0 , spline0=12.721721376252217 , a0=0.0 , w0=0.0
2025-12-01 17:51:15,983 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:15,985 - INFO - integration_test - Dyn residual k=0: pred=[12.176977666322482, 10.164631130501618, -0.7112719306640151, 3.0, 13.021721376252218], ws=[12.176977666322482, 10.164631130501618, -0.7112719306640152, 3.0, 15.825804347696117], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -2.804082971443899], res_norm=2.804e+00
2025-12-01 17:51:15,986 - INFO - integration_test - Dyn residual k=1: pred=[12.404237318945821, 9.96879178233706, -0.7112719306640152, 3.0, 16.125804347696118], ws=[12.404237318945821, 9.96879178233706, -0.7112719306640152, 3.0, 18.874068369123563], res=[0.0, 0.0, 0.0, 0.0, -2.7482640214274454], res_norm=2.748e+00
2025-12-01 17:51:15,987 - INFO - integration_test - Dyn residual k=2: pred=[12.63149697156916, 9.772952434172502, -0.7112719306640152, 3.0, 19.174068369123564], ws=[12.63149697156916, 9.772952434172502, -0.7112719306640152, 3.0, 22.13369153614125], res=[0.0, 0.0, 0.0, 0.0, -2.9596231670176856], res_norm=2.960e+00
2025-12-01 17:51:16,003 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:16,016 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:16,033 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:16,047 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:16,064 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:16,078 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:16,094 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:16,107 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:16,122 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:16,134 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:16,149 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:16,161 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:16,176 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:16,188 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:16,203 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:16,215 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:16,230 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:16,242 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:16,257 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:16,269 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:16,284 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:16,296 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:16,442 - INFO - integration_test - Step 71: MPC solve successful
2025-12-01 17:51:16,457 - INFO - integration_test - Step 71: Computed 6 numeric contouring constraints for visualization (s=12.722)
2025-12-01 17:51:16,457 - DEBUG - integration_test - Step 71: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:16,458 - INFO - integration_test - === Applying control at step 71 ===
2025-12-01 17:51:16,458 - INFO - integration_test -   Control dict from planner: {'a': -5.487125664343335e-08, 'w': -0.7999998747576779}
2025-12-01 17:51:16,458 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:16,458 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:16,459 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:16,459 - INFO - integration_test - Step 71 completed in 0.501s
2025-12-01 17:51:16,476 - INFO - integration_test - Step 72 (contouring until path end)
2025-12-01 17:51:16,476 - DEBUG - integration_test - Syncing planner state at step 72: vehicle_state=[12.16890594 10.15575442 -0.79127192  3.         13.02172138]
2025-12-01 17:51:16,477 - INFO - integration_test - Step 72: Re-initialized spline from 13.0217 to 12.7217 (vehicle at (12.17, 10.16), closest path point at (11.70, 4.71), distance=5.462m)
2025-12-01 17:51:16,477 - DEBUG - integration_test -   Set spline state to 12.7217
2025-12-01 17:51:16,479 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:16,494 - DEBUG - integration_test - Step 72: Checking path alignment: vehicle=(12.169, 10.156), path_start=(0.000, 0.000), dist=15.850m
2025-12-01 17:51:16,495 - WARNING - integration_test - Could not update reference path at step 72: x and y must have the same length
2025-12-01 17:51:16,495 - INFO - integration_test - === Calling planner.solve_mpc() at step 72 ===
2025-12-01 17:51:16,498 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:16,499 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:16,499 - INFO - integration_test - Warmstart k=0: x0=12.168905941513591 , y0=10.155754418091822 , psi0=-0.7912719181397828 , v0=3.0 , spline0=12.721721376252217 , a0=0.0 , w0=0.0
2025-12-01 17:51:16,499 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:16,500 - INFO - integration_test - Dyn residual k=0: pred=[12.379788312118933, 9.942380038730402, -0.7912719181397828, 3.0, 13.021721376252218], ws=[12.379788312118933, 9.942380038730402, -0.7912719181397829, 3.0, 15.825804347696117], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -2.804082971443899], res_norm=2.804e+00
2025-12-01 17:51:16,501 - INFO - integration_test - Dyn residual k=1: pred=[12.590670682724275, 9.729005659368982, -0.7912719181397829, 3.0, 16.125804347696118], ws=[12.590670682724275, 9.729005659368982, -0.7912719181397829, 3.0, 18.876913940353894], res=[0.0, 0.0, 0.0, 0.0, -2.7511095926577767], res_norm=2.751e+00
2025-12-01 17:51:16,502 - INFO - integration_test - Dyn residual k=2: pred=[12.801553053329616, 9.515631280007561, -0.7912719181397829, 3.0, 19.176913940353895], ws=[12.801553053329616, 9.515631280007561, -0.7912719181397829, 3.0, 22.14396427710766], res=[0.0, 0.0, 0.0, 0.0, -2.967050336753765], res_norm=2.967e+00
2025-12-01 17:51:16,520 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:16,533 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:16,550 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:16,564 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:16,581 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:16,594 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:16,610 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:16,623 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:16,638 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:16,650 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:16,666 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:16,678 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:16,694 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:16,706 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:16,721 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:16,733 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:16,748 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:16,760 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:16,775 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:16,788 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:16,803 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:16,815 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:16,953 - INFO - integration_test - Step 72: MPC solve successful
2025-12-01 17:51:16,968 - INFO - integration_test - Step 72: Computed 6 numeric contouring constraints for visualization (s=12.722)
2025-12-01 17:51:16,968 - DEBUG - integration_test - Step 72: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:16,968 - INFO - integration_test - === Applying control at step 72 ===
2025-12-01 17:51:16,969 - INFO - integration_test -   Control dict from planner: {'a': 1.770938371420488e-07, 'w': -0.800000007237416}
2025-12-01 17:51:16,969 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:16,969 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:16,970 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:16,970 - INFO - integration_test - Step 72 completed in 0.494s
2025-12-01 17:51:16,985 - INFO - integration_test - Step 73 (contouring until path end)
2025-12-01 17:51:16,986 - DEBUG - integration_test - Syncing planner state at step 73: vehicle_state=[12.37103302  9.93417676 -0.87127192  3.00000002 13.02172138]
2025-12-01 17:51:16,986 - INFO - integration_test - Step 73: Re-initialized spline from 13.0217 to 12.7217 (vehicle at (12.37, 9.93), closest path point at (11.70, 4.71), distance=5.264m)
2025-12-01 17:51:16,986 - DEBUG - integration_test -   Set spline state to 12.7217
2025-12-01 17:51:16,988 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:17,003 - DEBUG - integration_test - Step 73: Checking path alignment: vehicle=(12.371, 9.934), path_start=(0.000, 0.000), dist=15.866m
2025-12-01 17:51:17,003 - WARNING - integration_test - Could not update reference path at step 73: x and y must have the same length
2025-12-01 17:51:17,003 - INFO - integration_test - === Calling planner.solve_mpc() at step 73 ===
2025-12-01 17:51:17,006 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:17,007 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:17,007 - INFO - integration_test - Warmstart k=0: x0=12.371033022318423 , y0=9.934176764181116 , psi0=-0.8712719188635244 , v0=3.0 , spline0=12.721721376252217 , a0=0.0 , w0=0.0
2025-12-01 17:51:17,007 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:17,008 - INFO - integration_test - Dyn residual k=0: pred=[12.564189180773308, 9.704632218502175, -0.8712719188635244, 3.0, 13.021721376252218], ws=[12.564189180773308, 9.704632218502175, -0.8712719188635245, 3.0, 15.825804347696117], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -2.804082971443899], res_norm=2.804e+00
2025-12-01 17:51:17,009 - INFO - integration_test - Dyn residual k=1: pred=[12.757345339228193, 9.475087672823234, -0.8712719188635245, 3.0, 16.125804347696118], ws=[12.757345339228193, 9.475087672823234, -0.8712719188635245, 3.0, 18.880059200824363], res=[0.0, 0.0, 0.0, 0.0, -2.754254853128245], res_norm=2.754e+00
2025-12-01 17:51:17,010 - INFO - integration_test - Dyn residual k=2: pred=[12.950501497683078, 9.245543127144293, -0.8712719188635245, 3.0, 19.180059200824363], ws=[12.950501497683078, 9.245543127144293, -0.8712719188635245, 3.0, 22.15513803759668], res=[0.0, 0.0, 0.0, 0.0, -2.9750788367723153], res_norm=2.975e+00
2025-12-01 17:51:17,027 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:17,042 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:17,061 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:17,076 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:17,095 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:17,109 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:17,127 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:17,140 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:17,157 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:17,170 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:17,186 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:17,198 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:17,213 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:17,225 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:17,240 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:17,252 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:17,267 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:17,281 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:17,296 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:17,308 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:17,323 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:17,335 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:17,481 - INFO - integration_test - Step 73: MPC solve successful
2025-12-01 17:51:17,495 - INFO - integration_test - Step 73: Computed 6 numeric contouring constraints for visualization (s=12.722)
2025-12-01 17:51:17,496 - DEBUG - integration_test - Step 73: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:17,496 - INFO - integration_test - === Applying control at step 73 ===
2025-12-01 17:51:17,496 - INFO - integration_test -   Control dict from planner: {'a': -6.21188335557627e-08, 'w': -0.7999998628116864}
2025-12-01 17:51:17,496 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:17,496 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:17,497 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:17,498 - INFO - integration_test - Step 73 completed in 0.512s
2025-12-01 17:51:17,511 - INFO - integration_test - Step 74 (contouring until path end)
2025-12-01 17:51:17,512 - DEBUG - integration_test - Syncing planner state at step 74: vehicle_state=[12.55480633  9.69715486 -0.95127191  3.00000001 13.02172138]
2025-12-01 17:51:17,513 - INFO - integration_test - Step 74: Re-initialized spline from 13.0217 to 13.3275 (vehicle at (12.55, 9.70), closest path point at (12.34, 4.65), distance=5.055m)
2025-12-01 17:51:17,513 - DEBUG - integration_test -   Set spline state to 13.3275
2025-12-01 17:51:17,515 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:17,530 - DEBUG - integration_test - Step 74: Checking path alignment: vehicle=(12.555, 9.697), path_start=(0.000, 0.000), dist=15.864m
2025-12-01 17:51:17,531 - WARNING - integration_test - Could not update reference path at step 74: x and y must have the same length
2025-12-01 17:51:17,531 - INFO - integration_test - === Calling planner.solve_mpc() at step 74 ===
2025-12-01 17:51:17,533 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:17,535 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:17,535 - INFO - integration_test - Warmstart k=0: x0=12.554806332874476 , y0=9.69715485760582 , psi0=-0.9512719051446931 , v0=3.0 , spline0=13.327517632264229 , a0=0.0 , w0=0.0
2025-12-01 17:51:17,535 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:17,536 - INFO - integration_test - Dyn residual k=0: pred=[12.729000742435714, 9.452908449899153, -0.9512719051446931, 3.0, 13.62751763226423], ws=[12.729000742435714, 9.452908449899153, -0.9512719051446932, 3.0, 16.559076692058195], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -2.9315590597939654], res_norm=2.932e+00
2025-12-01 17:51:17,537 - INFO - integration_test - Dyn residual k=1: pred=[12.903195151996952, 9.208662042192486, -0.9512719051446932, 3.0, 16.859076692058196], ws=[12.903195151996952, 9.208662042192486, -0.9512719051446932, 3.0, 19.83158091852018], res=[0.0, 0.0, 0.0, 0.0, -2.972504226461986], res_norm=2.973e+00
2025-12-01 17:51:17,538 - INFO - integration_test - Dyn residual k=2: pred=[13.07738956155819, 8.96441563448582, -0.9512719051446932, 3.0, 20.131580918520182], ws=[13.07738956155819, 8.96441563448582, -0.9512719051446932, 3.0, 23.273697358909114], res=[0.0, 0.0, 0.0, 0.0, -3.142116440388932], res_norm=3.142e+00
2025-12-01 17:51:17,555 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:17,569 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:17,586 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:17,600 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:17,616 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:17,630 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:17,646 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:17,659 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:17,675 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:17,688 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:17,703 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:17,715 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:17,730 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:17,742 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:17,757 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:17,769 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:17,784 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:17,797 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:17,812 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:17,824 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:17,839 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:17,851 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:18,001 - INFO - integration_test - Step 74: MPC solve successful
2025-12-01 17:51:18,015 - INFO - integration_test - Step 74: Computed 6 numeric contouring constraints for visualization (s=13.328)
2025-12-01 17:51:18,015 - DEBUG - integration_test - Step 74: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:18,015 - INFO - integration_test - === Applying control at step 74 ===
2025-12-01 17:51:18,015 - INFO - integration_test -   Control dict from planner: {'a': 9.679843752182214e-08, 'w': -0.7999999921770755}
2025-12-01 17:51:18,015 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:18,016 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:18,017 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:18,017 - INFO - integration_test - Step 74 completed in 0.505s
2025-12-01 17:51:18,030 - INFO - integration_test - Step 75 (contouring until path end)
2025-12-01 17:51:18,031 - DEBUG - integration_test - Syncing planner state at step 75: vehicle_state=[12.71905035  9.44620483 -1.0312719   3.00000002 13.62751763]
2025-12-01 17:51:18,031 - INFO - integration_test - Step 75: Re-initialized spline from 13.6275 to 13.3275 (vehicle at (12.72, 9.45), closest path point at (12.34, 4.65), distance=4.814m)
2025-12-01 17:51:18,032 - DEBUG - integration_test -   Set spline state to 13.3275
2025-12-01 17:51:18,033 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:18,049 - DEBUG - integration_test - Step 75: Checking path alignment: vehicle=(12.719, 9.446), path_start=(0.000, 0.000), dist=15.843m
2025-12-01 17:51:18,049 - WARNING - integration_test - Could not update reference path at step 75: x and y must have the same length
2025-12-01 17:51:18,049 - INFO - integration_test - === Calling planner.solve_mpc() at step 75 ===
2025-12-01 17:51:18,052 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:18,054 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:18,054 - INFO - integration_test - Warmstart k=0: x0=12.71905035117311 , y0=9.446204829889334 , psi0=-1.0312719043624006 , v0=3.0 , spline0=13.327517632264229 , a0=0.0 , w0=0.0
2025-12-01 17:51:18,054 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:18,055 - INFO - integration_test - Dyn residual k=0: pred=[12.873168759128532, 9.188818901118381, -1.0312719043624006, 3.0, 13.62751763226423], ws=[12.873168759128532, 9.188818901118381, -1.0312719043624003, 3.0, 16.5590766920582], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, -2.931559059793969], res_norm=2.932e+00
2025-12-01 17:51:18,056 - INFO - integration_test - Dyn residual k=1: pred=[13.027287167083955, 8.931432972347428, -1.0312719043624003, 3.0, 16.8590766920582], ws=[13.027287167083955, 8.931432972347428, -1.0312719043624003, 3.0, 19.835361820126074], res=[0.0, 0.0, 0.0, 0.0, -2.9762851280678753], res_norm=2.976e+00
2025-12-01 17:51:18,057 - INFO - integration_test - Dyn residual k=2: pred=[13.181405575039378, 8.674047043576476, -1.0312719043624003, 3.0, 20.135361820126075], ws=[13.181405575039378, 8.674047043576476, -1.0312719043624003, 3.0, 23.28676071358409], res=[0.0, 0.0, 0.0, 0.0, -3.1513988934580155], res_norm=3.151e+00
2025-12-01 17:51:18,074 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:18,088 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:18,105 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:18,118 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:18,134 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:18,148 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:18,164 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:18,177 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:18,193 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:18,205 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:18,220 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:18,232 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:18,247 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:18,259 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:18,274 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:18,287 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:18,302 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:18,314 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:18,329 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:18,341 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:18,356 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:18,368 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:18,519 - INFO - integration_test - Step 75: MPC solve successful
2025-12-01 17:51:18,534 - INFO - integration_test - Step 75: Computed 6 numeric contouring constraints for visualization (s=13.328)
2025-12-01 17:51:18,534 - DEBUG - integration_test - Step 75: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:18,534 - INFO - integration_test - === Applying control at step 75 ===
2025-12-01 17:51:18,534 - INFO - integration_test -   Control dict from planner: {'a': 3.8882325222091785e-08, 'w': -0.8000000099242599}
2025-12-01 17:51:18,534 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:18,534 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:18,535 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:18,536 - INFO - integration_test - Step 75 completed in 0.505s
2025-12-01 17:51:18,550 - INFO - integration_test - Step 76 (contouring until path end)
2025-12-01 17:51:18,550 - DEBUG - integration_test - Syncing planner state at step 76: vehicle_state=[12.86271447  9.1829319  -1.11127191  3.00000003 13.62751764]
2025-12-01 17:51:18,551 - INFO - integration_test - Step 76: Re-initialized spline from 13.6275 to 13.3275 (vehicle at (12.86, 9.18), closest path point at (12.34, 4.65), distance=4.566m)
2025-12-01 17:51:18,551 - DEBUG - integration_test -   Set spline state to 13.3275
2025-12-01 17:51:18,553 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:18,568 - DEBUG - integration_test - Step 76: Checking path alignment: vehicle=(12.863, 9.183), path_start=(0.000, 0.000), dist=15.804m
2025-12-01 17:51:18,569 - WARNING - integration_test - Could not update reference path at step 76: x and y must have the same length
2025-12-01 17:51:18,569 - INFO - integration_test - === Calling planner.solve_mpc() at step 76 ===
2025-12-01 17:51:18,572 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:18,574 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:18,574 - INFO - integration_test - Warmstart k=0: x0=12.862714474495569 , y0=9.182931903000766 , psi0=-1.1112719053548266 , v0=3.0 , spline0=13.327517632264229 , a0=0.0 , w0=0.0
2025-12-01 17:51:18,574 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:18,575 - INFO - integration_test - Dyn residual k=0: pred=[12.995771048521632, 8.914052844484774, -1.1112719053548266, 3.0, 13.62751763226423], ws=[12.995771048521632, 8.914052844484774, -1.1112719053548266, 3.0, 16.5590766920582], res=[0.0, 0.0, 0.0, 0.0, -2.931559059793969], res_norm=2.932e+00
2025-12-01 17:51:18,576 - INFO - integration_test - Dyn residual k=1: pred=[13.128827622547696, 8.645173785968781, -1.1112719053548266, 3.0, 16.8590766920582], ws=[13.128827622547696, 8.645173785968781, -1.1112719053548266, 3.0, 19.83936678369316], res=[0.0, 0.0, 0.0, 0.0, -2.9802900916349593], res_norm=2.980e+00
2025-12-01 17:51:18,577 - INFO - integration_test - Dyn residual k=2: pred=[13.26188419657376, 8.37629472745279, -1.1112719053548266, 3.0, 20.13936678369316], ws=[13.26188419657376, 8.37629472745279, -1.1112719053548266, 3.0, 23.30042163878616], res=[0.0, 0.0, 0.0, 0.0, -3.161054855092999], res_norm=3.161e+00
2025-12-01 17:51:18,593 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:18,607 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:18,623 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:18,637 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:18,653 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:18,666 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:18,683 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:18,695 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:18,710 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:18,723 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:18,737 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:18,750 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:18,764 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:18,777 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:18,792 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:18,804 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:18,819 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:18,831 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:18,846 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:18,858 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:18,874 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:18,886 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:19,050 - INFO - integration_test - Step 76: MPC solve successful
2025-12-01 17:51:19,066 - INFO - integration_test - Step 76: Computed 6 numeric contouring constraints for visualization (s=13.328)
2025-12-01 17:51:19,066 - DEBUG - integration_test - Step 76: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:19,066 - INFO - integration_test - === Applying control at step 76 ===
2025-12-01 17:51:19,066 - INFO - integration_test -   Control dict from planner: {'a': 1.2968614786811344e-08, 'w': -0.8000000099222179}
2025-12-01 17:51:19,066 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:19,066 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:19,067 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:19,067 - INFO - integration_test - Step 76 completed in 0.517s
2025-12-01 17:51:19,080 - INFO - integration_test - Step 77 (contouring until path end)
2025-12-01 17:51:19,081 - DEBUG - integration_test - Syncing planner state at step 77: vehicle_state=[12.98487974  8.90902013 -1.19127191  3.00000003 13.62751764]
2025-12-01 17:51:19,082 - INFO - integration_test - Step 77: Re-initialized spline from 13.6275 to 13.3275 (vehicle at (12.98, 8.91), closest path point at (12.34, 4.65), distance=4.311m)
2025-12-01 17:51:19,082 - DEBUG - integration_test -   Set spline state to 13.3275
2025-12-01 17:51:19,084 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:19,099 - DEBUG - integration_test - Step 77: Checking path alignment: vehicle=(12.985, 8.909), path_start=(0.000, 0.000), dist=15.747m
2025-12-01 17:51:19,100 - WARNING - integration_test - Could not update reference path at step 77: x and y must have the same length
2025-12-01 17:51:19,100 - INFO - integration_test - === Calling planner.solve_mpc() at step 77 ===
2025-12-01 17:51:19,102 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:19,104 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:19,104 - INFO - integration_test - Warmstart k=0: x0=12.98487974221054 , y0=8.909020125448059 , psi0=-1.1912719063470483 , v0=3.0 , spline0=13.327517632264229 , a0=0.0 , w0=0.0
2025-12-01 17:51:19,104 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:19,105 - INFO - integration_test - Dyn residual k=0: pred=[13.096023374281993, 8.630367845626118, -1.1912719063470483, 3.0, 13.62751763226423], ws=[13.096023374281993, 8.630367845626118, -1.1912719063470483, 3.0, 16.5590766920582], res=[0.0, 0.0, 0.0, 0.0, -2.931559059793969], res_norm=2.932e+00
2025-12-01 17:51:19,106 - INFO - integration_test - Dyn residual k=1: pred=[13.207167006353446, 8.351715565804177, -1.1912719063470483, 3.0, 16.8590766920582], ws=[13.207167006353446, 8.351715565804177, -1.1912719063470483, 3.0, 19.843570191040115], res=[0.0, 0.0, 0.0, 0.0, -2.984493498981916], res_norm=2.984e+00
2025-12-01 17:51:19,107 - INFO - integration_test - Dyn residual k=2: pred=[13.318310638424899, 8.073063285982236, -1.1912719063470483, 3.0, 20.143570191040116], ws=[13.318310638424899, 8.073063285982236, -1.1912719063470483, 3.0, 23.314591513612356], res=[0.0, 0.0, 0.0, 0.0, -3.1710213225722406], res_norm=3.171e+00
2025-12-01 17:51:19,123 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:19,136 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:19,153 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:19,167 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:19,184 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:19,197 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:19,213 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:19,225 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:19,240 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:19,252 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:19,267 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:19,279 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:19,294 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:19,306 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:19,321 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:19,332 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:19,347 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:19,359 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:19,374 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:19,386 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:19,402 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:19,414 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:19,563 - INFO - integration_test - Step 77: MPC solve successful
2025-12-01 17:51:19,578 - INFO - integration_test - Step 77: Computed 6 numeric contouring constraints for visualization (s=13.328)
2025-12-01 17:51:19,579 - DEBUG - integration_test - Step 77: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:19,579 - INFO - integration_test - === Applying control at step 77 ===
2025-12-01 17:51:19,579 - INFO - integration_test -   Control dict from planner: {'a': -1.6463758654630866e-08, 'w': -0.7999994921275898}
2025-12-01 17:51:19,579 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:19,579 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:19,580 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:19,581 - INFO - integration_test - Step 77 completed in 0.500s
2025-12-01 17:51:19,593 - INFO - integration_test - Step 78 (contouring until path end)
2025-12-01 17:51:19,593 - DEBUG - integration_test - Syncing planner state at step 78: vehicle_state=[13.08476472  8.6262216  -1.27127186  3.00000003 13.62751764]
2025-12-01 17:51:19,594 - INFO - integration_test - Step 78: Re-initialized spline from 13.6275 to 13.3275 (vehicle at (13.08, 8.63), closest path point at (12.34, 4.65), distance=4.049m)
2025-12-01 17:51:19,594 - DEBUG - integration_test -   Set spline state to 13.3275
2025-12-01 17:51:19,596 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:19,613 - DEBUG - integration_test - Step 78: Checking path alignment: vehicle=(13.085, 8.626), path_start=(0.000, 0.000), dist=15.672m
2025-12-01 17:51:19,614 - WARNING - integration_test - Could not update reference path at step 78: x and y must have the same length
2025-12-01 17:51:19,614 - INFO - integration_test - === Calling planner.solve_mpc() at step 78 ===
2025-12-01 17:51:19,617 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:19,619 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:19,619 - INFO - integration_test - Warmstart k=0: x0=13.084764720713553 , y0=8.626221600630426 , psi0=-1.2712718555598073 , v0=3.0 , spline0=13.327517632264229 , a0=0.0 , w0=0.0
2025-12-01 17:51:19,619 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:19,620 - INFO - integration_test - Dyn residual k=0: pred=[13.173284485699075, 8.339578527790861, -1.2712718555598073, 3.0, 13.62751763226423], ws=[13.173284485699075, 8.339578527790861, -1.2712718555598073, 3.0, 16.5590766920582], res=[0.0, 0.0, 0.0, 0.0, -2.931559059793969], res_norm=2.932e+00
2025-12-01 17:51:19,621 - INFO - integration_test - Dyn residual k=1: pred=[13.261804250684596, 8.052935454951296, -1.2712718555598073, 3.0, 16.8590766920582], ws=[13.261804250684596, 8.052935454951296, -1.2712718555598073, 3.0, 19.84794515182263], res=[0.0, 0.0, 0.0, 0.0, -2.9888684597644293], res_norm=2.989e+00
2025-12-01 17:51:19,622 - INFO - integration_test - Dyn residual k=2: pred=[13.350324015670118, 7.766292382111732, -1.2712718555598073, 3.0, 20.14794515182263], ws=[13.350324015670118, 7.766292382111732, -1.2712718555598073, 3.0, 23.329178253060174], res=[0.0, 0.0, 0.0, 0.0, -3.181233101237545], res_norm=3.181e+00
2025-12-01 17:51:19,638 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:19,651 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:19,669 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:19,682 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:19,699 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:19,712 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:19,728 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:19,742 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:19,757 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:19,770 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:19,785 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:19,797 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:19,812 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:19,823 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:19,839 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:19,851 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:19,866 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:19,879 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:19,895 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:19,907 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:19,921 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:19,933 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:20,081 - INFO - integration_test - Step 78: MPC solve successful
2025-12-01 17:51:20,095 - INFO - integration_test - Step 78: Computed 6 numeric contouring constraints for visualization (s=13.328)
2025-12-01 17:51:20,095 - DEBUG - integration_test - Step 78: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:20,095 - INFO - integration_test - === Applying control at step 78 ===
2025-12-01 17:51:20,096 - INFO - integration_test -   Control dict from planner: {'a': 1.4796705379989798e-08, 'w': -0.7999999573061685}
2025-12-01 17:51:20,096 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:20,096 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:20,097 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:20,097 - INFO - integration_test - Step 78 completed in 0.504s
2025-12-01 17:51:20,110 - INFO - integration_test - Step 79 (contouring until path end)
2025-12-01 17:51:20,111 - DEBUG - integration_test - Syncing planner state at step 79: vehicle_state=[13.16173049  8.33634527 -1.35127185  3.00000003 13.62751764]
2025-12-01 17:51:20,112 - INFO - integration_test - Step 79: Re-initialized spline from 13.6275 to 13.9333 (vehicle at (13.16, 8.34), closest path point at (12.98, 4.57), distance=3.773m)
2025-12-01 17:51:20,112 - DEBUG - integration_test -   Set spline state to 13.9333
2025-12-01 17:51:20,114 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:20,129 - DEBUG - integration_test - Step 79: Checking path alignment: vehicle=(13.162, 8.336), path_start=(0.000, 0.000), dist=15.580m
2025-12-01 17:51:20,129 - WARNING - integration_test - Could not update reference path at step 79: x and y must have the same length
2025-12-01 17:51:20,129 - INFO - integration_test - === Calling planner.solve_mpc() at step 79 ===
2025-12-01 17:51:20,132 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:20,134 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:20,134 - INFO - integration_test - Warmstart k=0: x0=13.161730488105407 , y0=8.336345273279314 , psi0=-1.351271851290424 , v0=3.0 , spline0=13.933313888276238 , a0=0.0 , w0=0.0
2025-12-01 17:51:20,134 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:20,135 - INFO - integration_test - Dyn residual k=0: pred=[13.227060148690203, 8.043544939522885, -1.351271851290424, 3.0, 14.23331388827624], ws=[13.227060148690203, 8.043544939522885, -1.351271851290424, 3.0, 17.30612435902459], res=[0.0, 0.0, 0.0, 0.0, -3.072810470748351], res_norm=3.073e+00
2025-12-01 17:51:20,136 - INFO - integration_test - Dyn residual k=1: pred=[13.292389809274999, 7.7507446057664575, -1.351271851290424, 3.0, 17.60612435902459], ws=[13.292389809274999, 7.7507446057664575, -1.351271851290424, 3.0, 20.837180397909265], res=[0.0, 0.0, 0.0, 0.0, -3.231056038884674], res_norm=3.231e+00
2025-12-01 17:51:20,137 - INFO - integration_test - Dyn residual k=2: pred=[13.357719469859795, 7.45794427201003, -1.351271851290424, 3.0, 21.137180397909265], ws=[13.357719469859795, 7.45794427201003, -1.351271851290424, 3.0, 24.479697291055484], res=[0.0, 0.0, 0.0, 0.0, -3.342516893146218], res_norm=3.343e+00
2025-12-01 17:51:20,155 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:20,169 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:20,185 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:20,198 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:20,214 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:20,227 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:20,243 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:20,256 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:20,271 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:20,283 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:20,298 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:20,310 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:20,326 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:20,338 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:20,353 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:20,365 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:20,380 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:20,393 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:20,408 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:20,419 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:20,434 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:20,446 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:20,629 - INFO - integration_test - Step 79: MPC solve successful
2025-12-01 17:51:20,643 - INFO - integration_test - Step 79: Computed 6 numeric contouring constraints for visualization (s=13.933)
2025-12-01 17:51:20,644 - DEBUG - integration_test - Step 79: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:20,644 - INFO - integration_test - === Applying control at step 79 ===
2025-12-01 17:51:20,644 - INFO - integration_test -   Control dict from planner: {'a': 5.432733715403957e-09, 'w': 0.8000000095517242}
2025-12-01 17:51:20,644 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:20,644 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:20,645 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:20,645 - INFO - integration_test - Step 79 completed in 0.534s
2025-12-01 17:51:20,659 - INFO - integration_test - Step 80 (contouring until path end)
2025-12-01 17:51:20,660 - DEBUG - integration_test - Syncing planner state at step 80: vehicle_state=[13.23869626  8.04646895 -1.27127185  3.00000003 14.23331389]
2025-12-01 17:51:20,660 - INFO - integration_test - Step 80: Re-initialized spline from 14.2333 to 13.9333 (vehicle at (13.24, 8.05), closest path point at (12.98, 4.57), distance=3.488m)
2025-12-01 17:51:20,660 - DEBUG - integration_test -   Set spline state to 13.9333
2025-12-01 17:51:20,662 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:20,679 - DEBUG - integration_test - Step 80: Checking path alignment: vehicle=(13.239, 8.046), path_start=(0.000, 0.000), dist=15.492m
2025-12-01 17:51:20,679 - WARNING - integration_test - Could not update reference path at step 80: x and y must have the same length
2025-12-01 17:51:20,680 - INFO - integration_test - === Calling planner.solve_mpc() at step 80 ===
2025-12-01 17:51:20,683 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:20,684 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:20,684 - INFO - integration_test - Warmstart k=0: x0=13.238696256279072 , y0=8.046468946041966 , psi0=-1.2712718503352516 , v0=3.0 , spline0=13.933313888276238 , a0=0.0 , w0=0.0
2025-12-01 17:51:20,684 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:20,686 - INFO - integration_test - Dyn residual k=0: pred=[13.327216022762176, 7.7598258736648775, -1.2712718503352516, 3.0, 14.23331388827624], ws=[13.327216022762176, 7.7598258736648775, -1.2712718503352516, 3.0, 17.30612435902459], res=[0.0, 0.0, 0.0, 0.0, -3.072810470748351], res_norm=3.073e+00
2025-12-01 17:51:20,687 - INFO - integration_test - Dyn residual k=1: pred=[13.41573578924528, 7.4731828012877894, -1.2712718503352516, 3.0, 17.60612435902459], ws=[13.41573578924528, 7.4731828012877894, -1.2712718503352516, 3.0, 20.83258386894626], res=[0.0, 0.0, 0.0, 0.0, -3.2264595099216677], res_norm=3.226e+00
2025-12-01 17:51:20,688 - INFO - integration_test - Dyn residual k=2: pred=[13.504255555728385, 7.186539728910701, -1.2712718503352516, 3.0, 21.13258386894626], ws=[13.504255555728385, 7.186539728910701, -1.2712718503352516, 3.0, 24.46486374184872], res=[0.0, 0.0, 0.0, 0.0, -3.332279872902461], res_norm=3.332e+00
2025-12-01 17:51:20,704 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:20,717 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:20,733 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:20,747 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:20,763 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:20,777 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:20,792 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:20,804 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:20,819 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:20,831 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:20,846 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:20,858 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:20,874 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:20,887 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:20,902 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:20,914 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:20,928 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:20,940 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:20,956 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:20,969 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:20,984 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:20,996 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:21,363 - INFO - integration_test - Step 80: MPC solve successful
2025-12-01 17:51:21,383 - INFO - integration_test - Step 80: Computed 6 numeric contouring constraints for visualization (s=13.933)
2025-12-01 17:51:21,384 - DEBUG - integration_test - Step 80: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:21,384 - INFO - integration_test - === Applying control at step 80 ===
2025-12-01 17:51:21,384 - INFO - integration_test -   Control dict from planner: {'a': 1.8110955591310587e-09, 'w': 0.39787255644774355}
2025-12-01 17:51:21,384 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:21,384 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:21,385 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:21,386 - INFO - integration_test - Step 80 completed in 0.727s
2025-12-01 17:51:21,414 - INFO - integration_test - Step 81 (contouring until path end)
2025-12-01 17:51:21,415 - DEBUG - integration_test - Syncing planner state at step 81: vehicle_state=[13.33289429  7.76166224 -1.23148459  3.00000003 14.23331389]
2025-12-01 17:51:21,416 - INFO - integration_test - Step 81: Re-initialized spline from 14.2333 to 13.9333 (vehicle at (13.33, 7.76), closest path point at (12.98, 4.57), distance=3.213m)
2025-12-01 17:51:21,416 - DEBUG - integration_test -   Set spline state to 13.9333
2025-12-01 17:51:21,420 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:21,445 - DEBUG - integration_test - Step 81: Checking path alignment: vehicle=(13.333, 7.762), path_start=(0.000, 0.000), dist=15.428m
2025-12-01 17:51:21,445 - WARNING - integration_test - Could not update reference path at step 81: x and y must have the same length
2025-12-01 17:51:21,445 - INFO - integration_test - === Calling planner.solve_mpc() at step 81 ===
2025-12-01 17:51:21,450 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:21,451 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:21,451 - INFO - integration_test - Warmstart k=0: x0=13.332894289174044 , y0=7.761662238821486 , psi0=-1.2314845946904773 , v0=3.0 , spline0=13.933313888276238 , a0=0.0 , w0=0.0
2025-12-01 17:51:21,451 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:21,453 - INFO - integration_test - Dyn residual k=0: pred=[13.43274573280419, 7.478767047619911, -1.2314845946904773, 3.0, 14.23331388827624], ws=[13.43274573280419, 7.478767047619911, -1.2314845946904773, 3.0, 17.30612435902459], res=[0.0, 0.0, 0.0, 0.0, -3.072810470748351], res_norm=3.073e+00
2025-12-01 17:51:21,453 - INFO - integration_test - Dyn residual k=1: pred=[13.532597176434335, 7.195871856418336, -1.2314845946904773, 3.0, 17.60612435902459], ws=[13.532597176434335, 7.195871856418336, -1.2314845946904773, 3.0, 20.83034250811101], res=[0.0, 0.0, 0.0, 0.0, -3.2242181490864184], res_norm=3.224e+00
2025-12-01 17:51:21,454 - INFO - integration_test - Dyn residual k=2: pred=[13.63244862006448, 6.91297666521676, -1.2314845946904773, 3.0, 21.13034250811101], ws=[13.63244862006448, 6.91297666521676, -1.2314845946904773, 3.0, 24.45756582462723], res=[0.0, 0.0, 0.0, 0.0, -3.3272233165162213], res_norm=3.327e+00
2025-12-01 17:51:21,473 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:21,486 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:21,502 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:21,514 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:21,530 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:21,542 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:21,557 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:21,569 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:21,585 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:21,598 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:21,612 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:21,624 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:21,639 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:21,652 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:21,667 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:21,679 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:21,695 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:21,707 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:21,722 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:21,735 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:21,750 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:21,761 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:21,940 - INFO - integration_test - Step 81: MPC solve successful
2025-12-01 17:51:21,957 - INFO - integration_test - Step 81: Computed 6 numeric contouring constraints for visualization (s=13.933)
2025-12-01 17:51:21,957 - DEBUG - integration_test - Step 81: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:21,957 - INFO - integration_test - === Applying control at step 81 ===
2025-12-01 17:51:21,957 - INFO - integration_test -   Control dict from planner: {'a': 5.974181923994967e-10, 'w': -0.2177459102948907}
2025-12-01 17:51:21,957 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:21,957 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:21,958 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:21,959 - INFO - integration_test - Step 81 completed in 0.544s
2025-12-01 17:51:21,975 - INFO - integration_test - Step 82 (contouring until path end)
2025-12-01 17:51:21,976 - DEBUG - integration_test - Syncing planner state at step 82: vehicle_state=[13.429658    7.47770233 -1.25325919  3.00000003 14.23331389]
2025-12-01 17:51:21,976 - INFO - integration_test - Step 82: Re-initialized spline from 14.2333 to 13.9333 (vehicle at (13.43, 7.48), closest path point at (12.98, 4.57), distance=2.944m)
2025-12-01 17:51:21,977 - DEBUG - integration_test -   Set spline state to 13.9333
2025-12-01 17:51:21,979 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:21,996 - DEBUG - integration_test - Step 82: Checking path alignment: vehicle=(13.430, 7.478), path_start=(0.000, 0.000), dist=15.371m
2025-12-01 17:51:21,997 - WARNING - integration_test - Could not update reference path at step 82: x and y must have the same length
2025-12-01 17:51:21,997 - INFO - integration_test - === Calling planner.solve_mpc() at step 82 ===
2025-12-01 17:51:22,000 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:22,002 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:22,002 - INFO - integration_test - Warmstart k=0: x0=13.429658001634499 , y0=7.477702329994186 , psi0=-1.2532591857199664 , v0=3.0 , spline0=13.933313888276238 , a0=0.0 , w0=0.0
2025-12-01 17:51:22,002 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:22,003 - INFO - integration_test - Dyn residual k=0: pred=[13.523326334443345, 7.19270014854848, -1.2532591857199664, 3.0, 14.23331388827624], ws=[13.523326334443345, 7.19270014854848, -1.2532591857199664, 3.0, 17.306124359024597], res=[0.0, 0.0, 0.0, 0.0, -3.072810470748358], res_norm=3.073e+00
2025-12-01 17:51:22,004 - INFO - integration_test - Dyn residual k=1: pred=[13.616994667252191, 6.907697967102774, -1.2532591857199664, 3.0, 17.606124359024598], ws=[13.616994667252191, 6.907697967102774, -1.2532591857199664, 3.0, 20.831565108953942], res=[0.0, 0.0, 0.0, 0.0, -3.2254407499293443], res_norm=3.225e+00
2025-12-01 17:51:22,005 - INFO - integration_test - Dyn residual k=2: pred=[13.710663000061038, 6.622695785657068, -1.2532591857199664, 3.0, 21.131565108953943], ws=[13.710663000061038, 6.622695785657068, -1.2532591857199664, 3.0, 24.461552058276148], res=[0.0, 0.0, 0.0, 0.0, -3.3299869493222047], res_norm=3.330e+00
2025-12-01 17:51:22,023 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:22,036 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:22,053 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:22,068 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:22,086 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:22,099 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:22,115 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:22,127 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:22,142 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:22,155 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:22,170 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:22,184 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:22,199 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:22,211 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:22,226 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:22,238 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:22,254 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:22,266 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:22,282 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:22,294 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:22,309 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:22,322 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:22,523 - INFO - integration_test - Step 82: MPC solve successful
2025-12-01 17:51:22,539 - INFO - integration_test - Step 82: Computed 6 numeric contouring constraints for visualization (s=13.933)
2025-12-01 17:51:22,539 - DEBUG - integration_test - Step 82: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:22,539 - INFO - integration_test - === Applying control at step 82 ===
2025-12-01 17:51:22,539 - INFO - integration_test -   Control dict from planner: {'a': 4.2922194482084505e-11, 'w': -0.10089733143761968}
2025-12-01 17:51:22,539 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:22,540 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:22,541 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:22,541 - INFO - integration_test - Step 82 completed in 0.565s
2025-12-01 17:51:22,556 - INFO - integration_test - Step 83 (contouring until path end)
2025-12-01 17:51:22,557 - DEBUG - integration_test - Syncing planner state at step 83: vehicle_state=[13.52188696  7.19223244 -1.26334892  3.00000003 14.23331389]
2025-12-01 17:51:22,557 - INFO - integration_test - Step 83: Re-initialized spline from 14.2333 to 13.9333 (vehicle at (13.52, 7.19), closest path point at (12.98, 4.57), distance=2.679m)
2025-12-01 17:51:22,557 - DEBUG - integration_test -   Set spline state to 13.9333
2025-12-01 17:51:22,559 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:22,577 - DEBUG - integration_test - Step 83: Checking path alignment: vehicle=(13.522, 7.192), path_start=(0.000, 0.000), dist=15.316m
2025-12-01 17:51:22,577 - WARNING - integration_test - Could not update reference path at step 83: x and y must have the same length
2025-12-01 17:51:22,577 - INFO - integration_test - === Calling planner.solve_mpc() at step 83 ===
2025-12-01 17:51:22,581 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:22,582 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:22,582 - INFO - integration_test - Warmstart k=0: x0=13.52188696031088 , y0=7.192232441104793 , psi0=-1.2633489188637284 , v0=3.0 , spline0=13.933313888276238 , a0=0.0 , w0=0.0
2025-12-01 17:51:22,582 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:22,583 - INFO - integration_test - Dyn residual k=0: pred=[13.612674978149037, 6.906299694087215, -1.2633489188637284, 3.0, 14.23331388827624], ws=[13.612674978149037, 6.906299694087215, -1.2633489188637284, 3.0, 17.306124359024594], res=[0.0, 0.0, 0.0, 0.0, -3.0728104707483546], res_norm=3.073e+00
2025-12-01 17:51:22,584 - INFO - integration_test - Dyn residual k=1: pred=[13.703462995987195, 6.620366947069637, -1.2633489188637284, 3.0, 17.606124359024594], ws=[13.703462995987195, 6.620366947069637, -1.2633489188637284, 3.0, 20.832134964229823], res=[0.0, 0.0, 0.0, 0.0, -3.2260106052052286], res_norm=3.226e+00
2025-12-01 17:51:22,585 - INFO - integration_test - Dyn residual k=2: pred=[13.794251013825352, 6.334434200052058, -1.2633489188637284, 3.0, 21.132134964229824], ws=[13.794251013825352, 6.334434200052058, -1.2633489188637284, 3.0, 24.46340558888824], res=[0.0, 0.0, 0.0, 0.0, -3.3312706246584156], res_norm=3.331e+00
2025-12-01 17:51:22,603 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:22,616 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:22,631 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:22,643 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:22,660 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:22,674 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:22,690 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:22,703 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:22,720 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:22,732 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:22,748 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:22,762 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:22,780 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:22,794 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:22,810 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:22,824 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:22,841 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:22,854 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:22,872 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:22,885 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:22,902 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:22,915 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:23,108 - INFO - integration_test - Step 83: MPC solve successful
2025-12-01 17:51:23,124 - INFO - integration_test - Step 83: Computed 6 numeric contouring constraints for visualization (s=13.933)
2025-12-01 17:51:23,124 - DEBUG - integration_test - Step 83: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:23,125 - INFO - integration_test - === Applying control at step 83 ===
2025-12-01 17:51:23,125 - INFO - integration_test -   Control dict from planner: {'a': -2.482365509910279e-07, 'w': -0.18734224729805812}
2025-12-01 17:51:23,125 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:23,125 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:23,126 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:23,126 - INFO - integration_test - Step 83 completed in 0.570s
2025-12-01 17:51:23,141 - INFO - integration_test - Step 84 (contouring until path end)
2025-12-01 17:51:23,142 - DEBUG - integration_test - Syncing planner state at step 84: vehicle_state=[13.60999138  6.90546602 -1.28208314  3.00000001 14.23331389]
2025-12-01 17:51:23,143 - INFO - integration_test - Step 84: Re-initialized spline from 14.2333 to 13.9333 (vehicle at (13.61, 6.91), closest path point at (12.98, 4.57), distance=2.421m)
2025-12-01 17:51:23,143 - DEBUG - integration_test -   Set spline state to 13.9333
2025-12-01 17:51:23,145 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:23,162 - DEBUG - integration_test - Step 84: Checking path alignment: vehicle=(13.610, 6.905), path_start=(0.000, 0.000), dist=15.262m
2025-12-01 17:51:23,162 - WARNING - integration_test - Could not update reference path at step 84: x and y must have the same length
2025-12-01 17:51:23,162 - INFO - integration_test - === Calling planner.solve_mpc() at step 84 ===
2025-12-01 17:51:23,166 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:23,167 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:23,167 - INFO - integration_test - Warmstart k=0: x0=13.609991382267195 , y0=6.905466021104135 , psi0=-1.2820831435935343 , v0=3.0 , spline0=13.933313888276238 , a0=0.0 , w0=0.0
2025-12-01 17:51:23,167 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:23,169 - INFO - integration_test - Dyn residual k=0: pred=[13.695407053579753, 6.617882706055739, -1.2820831435935343, 3.0, 14.23331388827624], ws=[13.695407053579753, 6.617882706055739, -1.2820831435935343, 3.0, 17.3061243590246], res=[0.0, 0.0, 0.0, 0.0, -3.0728104707483617], res_norm=3.073e+00
2025-12-01 17:51:23,169 - INFO - integration_test - Dyn residual k=1: pred=[13.780822724892312, 6.330299391007343, -1.2820831435935343, 3.0, 17.6061243590246], ws=[13.780822724892312, 6.330299391007343, -1.2820831435935343, 3.0, 20.833198396113733], res=[0.0, 0.0, 0.0, 0.0, -3.2270740370891318], res_norm=3.227e+00
2025-12-01 17:51:23,170 - INFO - integration_test - Dyn residual k=2: pred=[13.86623839620487, 6.042716075958947, -1.2820831435935343, 3.0, 21.133198396113734], ws=[13.86623839620487, 6.042716075958947, -1.2820831435935343, 3.0, 24.466857087387364], res=[0.0, 0.0, 0.0, 0.0, -3.33365869127363], res_norm=3.334e+00
2025-12-01 17:51:23,187 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:23,201 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:23,220 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:23,234 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:23,250 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:23,264 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:23,281 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:23,294 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:23,311 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:23,325 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:23,341 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:23,354 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:23,371 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:23,384 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:23,399 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:23,411 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:23,426 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:23,439 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:23,454 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:23,467 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:23,482 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:23,494 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:23,687 - INFO - integration_test - Step 84: MPC solve successful
2025-12-01 17:51:23,703 - INFO - integration_test - Step 84: Computed 6 numeric contouring constraints for visualization (s=13.933)
2025-12-01 17:51:23,703 - DEBUG - integration_test - Step 84: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:23,703 - INFO - integration_test - === Applying control at step 84 ===
2025-12-01 17:51:23,703 - INFO - integration_test -   Control dict from planner: {'a': 1.6549225731572562e-07, 'w': -0.2653638455434398}
2025-12-01 17:51:23,703 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:23,703 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:23,704 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:23,704 - INFO - integration_test - Step 84 completed in 0.563s
2025-12-01 17:51:23,719 - INFO - integration_test - Step 85 (contouring until path end)
2025-12-01 17:51:23,720 - DEBUG - integration_test - Syncing planner state at step 85: vehicle_state=[13.69158154  6.61678321 -1.30861953  3.00000002 14.23331389]
2025-12-01 17:51:23,720 - INFO - integration_test - Step 85: Re-initialized spline from 14.2333 to 14.5391 (vehicle at (13.69, 6.62), closest path point at (13.62, 4.48), distance=2.134m)
2025-12-01 17:51:23,720 - DEBUG - integration_test -   Set spline state to 14.5391
2025-12-01 17:51:23,722 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:23,737 - DEBUG - integration_test - Step 85: Checking path alignment: vehicle=(13.692, 6.617), path_start=(0.000, 0.000), dist=15.207m
2025-12-01 17:51:23,738 - WARNING - integration_test - Could not update reference path at step 85: x and y must have the same length
2025-12-01 17:51:23,738 - INFO - integration_test - === Calling planner.solve_mpc() at step 85 ===
2025-12-01 17:51:23,741 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:23,742 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:23,742 - INFO - integration_test - Warmstart k=0: x0=13.691581542831731 , y0=6.616783210199936 , psi0=-1.3086195281478783 , v0=3.0 , spline0=14.539110144288248 , a0=0.0 , w0=0.0
2025-12-01 17:51:23,742 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:23,743 - INFO - integration_test - Dyn residual k=0: pred=[13.769336616095528, 6.327034787284916, -1.3086195281478783, 3.0, 14.839110144288249], ws=[13.769336616095528, 6.327034787284916, -1.3086195281478783, 3.0, 18.06839309474521], res=[0.0, 0.0, 0.0, 0.0, -3.2292829504569625], res_norm=3.229e+00
2025-12-01 17:51:23,744 - INFO - integration_test - Dyn residual k=1: pred=[13.847091689359324, 6.037286364369895, -1.3086195281478783, 3.0, 18.368393094745212], ws=[13.847091689359324, 6.037286364369895, -1.3086195281478783, 3.0, 21.727204950624767], res=[0.0, 0.0, 0.0, 0.0, -3.358811855879555], res_norm=3.359e+00
2025-12-01 17:51:23,744 - INFO - integration_test - Dyn residual k=2: pred=[13.92484676262312, 5.747537941454874, -1.3086195281478783, 3.0, 22.027204950624768], ws=[13.92484676262312, 5.747537941454874, -1.3086195281478783, 3.0, 25.552278692291537], res=[0.0, 0.0, 0.0, 0.0, -3.5250737416667697], res_norm=3.525e+00
2025-12-01 17:51:23,760 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:23,773 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:23,789 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:23,802 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:23,818 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:23,830 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:23,845 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:23,858 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:23,875 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:23,888 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:23,903 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:23,916 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:23,930 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:23,942 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:23,957 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:23,970 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:23,985 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:23,998 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:24,013 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:24,025 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:24,040 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:24,052 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:24,224 - INFO - integration_test - Step 85: MPC solve successful
2025-12-01 17:51:24,240 - INFO - integration_test - Step 85: Computed 6 numeric contouring constraints for visualization (s=14.539)
2025-12-01 17:51:24,241 - DEBUG - integration_test - Step 85: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:24,241 - INFO - integration_test - === Applying control at step 85 ===
2025-12-01 17:51:24,241 - INFO - integration_test -   Control dict from planner: {'a': 4.438951404204738e-08, 'w': 0.7999999587333932}
2025-12-01 17:51:24,241 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:24,241 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:24,242 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:24,242 - INFO - integration_test - Step 85 completed in 0.523s
2025-12-01 17:51:24,257 - INFO - integration_test - Step 86 (contouring until path end)
2025-12-01 17:51:24,258 - DEBUG - integration_test - Syncing planner state at step 86: vehicle_state=[13.78083746  6.33045229 -1.22861953  3.00000003 14.83911015]
2025-12-01 17:51:24,259 - INFO - integration_test - Step 86: Re-initialized spline from 14.8391 to 14.5391 (vehicle at (13.78, 6.33), closest path point at (13.62, 4.48), distance=1.853m)
2025-12-01 17:51:24,259 - DEBUG - integration_test -   Set spline state to 14.5391
2025-12-01 17:51:24,260 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:24,277 - DEBUG - integration_test - Step 86: Checking path alignment: vehicle=(13.781, 6.330), path_start=(0.000, 0.000), dist=15.165m
2025-12-01 17:51:24,277 - WARNING - integration_test - Could not update reference path at step 86: x and y must have the same length
2025-12-01 17:51:24,277 - INFO - integration_test - === Calling planner.solve_mpc() at step 86 ===
2025-12-01 17:51:24,281 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:24,282 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:24,282 - INFO - integration_test - Warmstart k=0: x0=13.780837462218228 , y0=6.330452291346194 , psi0=-1.228619532274539 , v0=3.0 , spline0=14.539110144288248 , a0=0.0 , w0=0.0
2025-12-01 17:51:24,282 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:24,283 - INFO - integration_test - Dyn residual k=0: pred=[13.881499007300343, 6.047844341455039, -1.228619532274539, 3.0, 14.839110144288249], ws=[13.881499007300343, 6.047844341455039, -1.228619532274539, 3.0, 18.068393094745204], res=[0.0, 0.0, 0.0, 0.0, -3.2292829504569553], res_norm=3.229e+00
2025-12-01 17:51:24,284 - INFO - integration_test - Dyn residual k=1: pred=[13.982160552382458, 5.765236391563884, -1.228619532274539, 3.0, 18.368393094745205], ws=[13.982160552382458, 5.765236391563884, -1.228619532274539, 3.0, 21.722619438303404], res=[0.0, 0.0, 0.0, 0.0, -3.3542263435581994], res_norm=3.354e+00
2025-12-01 17:51:24,285 - INFO - integration_test - Dyn residual k=2: pred=[14.082822097464573, 5.48262844167273, -1.228619532274539, 3.0, 22.022619438303405], ws=[14.082822097464573, 5.48262844167273, -1.228619532274539, 3.0, 25.537725830407386], res=[0.0, 0.0, 0.0, 0.0, -3.5151063921039807], res_norm=3.515e+00
2025-12-01 17:51:24,301 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:24,315 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:24,331 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:24,343 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:24,359 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:24,372 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:24,387 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:24,400 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:24,414 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:24,426 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:24,441 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:24,453 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:24,468 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:24,480 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:24,495 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:24,508 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:24,522 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:24,534 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:24,549 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:24,561 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:24,578 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:24,592 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:24,760 - INFO - integration_test - Step 86: MPC solve successful
2025-12-01 17:51:24,859 - INFO - integration_test - Step 86: Computed 6 numeric contouring constraints for visualization (s=14.539)
2025-12-01 17:51:24,859 - DEBUG - integration_test - Step 86: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:24,859 - INFO - integration_test - === Applying control at step 86 ===
2025-12-01 17:51:24,859 - INFO - integration_test -   Control dict from planner: {'a': -5.141169462436255e-07, 'w': 0.7999770598111584}
2025-12-01 17:51:24,859 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:24,859 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:24,860 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:24,860 - INFO - integration_test - Step 86 completed in 0.603s
2025-12-01 17:51:24,876 - INFO - integration_test - Step 87 (contouring until path end)
2025-12-01 17:51:24,877 - DEBUG - integration_test - Syncing planner state at step 87: vehicle_state=[13.89268964  6.05216987 -1.14862183  2.99999997 14.83911014]
2025-12-01 17:51:24,878 - INFO - integration_test - Step 87: Re-initialized spline from 14.8391 to 14.5391 (vehicle at (13.89, 6.05), closest path point at (13.62, 4.48), distance=1.592m)
2025-12-01 17:51:24,878 - DEBUG - integration_test -   Set spline state to 14.5391
2025-12-01 17:51:24,880 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:24,896 - DEBUG - integration_test - Step 87: Checking path alignment: vehicle=(13.893, 6.052), path_start=(0.000, 0.000), dist=15.154m
2025-12-01 17:51:24,897 - WARNING - integration_test - Could not update reference path at step 87: x and y must have the same length
2025-12-01 17:51:24,897 - INFO - integration_test - === Calling planner.solve_mpc() at step 87 ===
2025-12-01 17:51:24,900 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:24,901 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:24,901 - INFO - integration_test - Warmstart k=0: x0=13.892689643745031 , y0=6.052169871738364 , psi0=-1.1486218262934231 , v0=2.9999999747248047 , spline0=14.539110144288248 , a0=0.0 , w0=0.0
2025-12-01 17:51:24,901 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:24,902 - INFO - integration_test - Dyn residual k=0: pred=[14.015613142654152, 5.778509841957931, -1.1486218262934231, 2.9999999747248047, 14.83911014176073], ws=[14.015613142654152, 5.778509841957931, -1.1486218262934231, 2.9999999747248047, 18.068393092217715], res=[0.0, 0.0, 0.0, 0.0, -3.2292829504569855], res_norm=3.229e+00
2025-12-01 17:51:24,903 - INFO - integration_test - Dyn residual k=1: pred=[14.138536641563272, 5.504849812177497, -1.1486218262934231, 2.9999999747248047, 18.368393089690194], ws=[14.138536641563272, 5.504849812177497, -1.1486218262934231, 2.9999999747248047, 21.718161749944155], res=[0.0, 0.0, 0.0, 0.0, -3.349768660253961], res_norm=3.350e+00
2025-12-01 17:51:24,904 - INFO - integration_test - Dyn residual k=2: pred=[14.261460140472392, 5.231189782397063, -1.1486218262934231, 2.9999999747248047, 22.018161747416634], ws=[14.261460140472392, 5.231189782397063, -1.1486218262934231, 2.9999999747248047, 25.523355761472455], res=[0.0, 0.0, 0.0, 0.0, -3.505194014055821], res_norm=3.505e+00
2025-12-01 17:51:24,921 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:24,935 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:24,952 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:24,966 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:24,985 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:24,999 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:25,016 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:25,029 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:25,046 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:25,059 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:25,076 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:25,089 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:25,104 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:25,117 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:25,132 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:25,144 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:25,159 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:25,172 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:25,189 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:25,201 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:25,215 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:25,227 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:25,393 - INFO - integration_test - Step 87: MPC solve successful
2025-12-01 17:51:25,408 - INFO - integration_test - Step 87: Computed 6 numeric contouring constraints for visualization (s=14.539)
2025-12-01 17:51:25,408 - DEBUG - integration_test - Step 87: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:25,408 - INFO - integration_test - === Applying control at step 87 ===
2025-12-01 17:51:25,409 - INFO - integration_test -   Control dict from planner: {'a': 3.610688930670084e-07, 'w': 0.29594652358054074}
2025-12-01 17:51:25,409 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:25,409 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:25,410 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:25,410 - INFO - integration_test - Step 87 completed in 0.533s
2025-12-01 17:51:25,424 - INFO - integration_test - Step 88 (contouring until path end)
2025-12-01 17:51:25,424 - DEBUG - integration_test - Syncing planner state at step 88: vehicle_state=[14.01964434  5.78036859 -1.11902717  3.00000001 14.83911015]
2025-12-01 17:51:25,425 - INFO - integration_test - Step 88: Re-initialized spline from 14.8391 to 15.1449 (vehicle at (14.02, 5.78), closest path point at (13.82, 4.46), distance=1.337m)
2025-12-01 17:51:25,425 - DEBUG - integration_test -   Set spline state to 15.1449
2025-12-01 17:51:25,427 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:25,443 - DEBUG - integration_test - Step 88: Checking path alignment: vehicle=(14.020, 5.780), path_start=(0.000, 0.000), dist=15.165m
2025-12-01 17:51:25,444 - WARNING - integration_test - Could not update reference path at step 88: x and y must have the same length
2025-12-01 17:51:25,444 - INFO - integration_test - === Calling planner.solve_mpc() at step 88 ===
2025-12-01 17:51:25,447 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:25,449 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:25,449 - INFO - integration_test - Warmstart k=0: x0=14.019644341797674 , y0=5.780368592081809 , psi0=-1.119027173935369 , v0=3.0 , spline0=15.14490640030026 , a0=0.0 , w0=0.0
2025-12-01 17:51:25,449 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:25,450 - INFO - integration_test - Dyn residual k=0: pred=[14.150611706141676, 5.510465740157667, -1.119027173935369, 3.0, 15.44490640030026], ws=[14.150611706141676, 5.510465740157667, -1.1190271739353692, 3.0, 18.72622586090489], res=[0.0, 0.0, 2.220446049250313e-16, 0.0, -3.28131946060463], res_norm=3.281e+00
2025-12-01 17:51:25,451 - INFO - integration_test - Dyn residual k=1: pred=[14.281579070485678, 5.240562888233525, -1.1190271739353692, 3.0, 19.02622586090489], ws=[14.281579070485678, 5.240562888233524, -1.1190271739353692, 3.0, 22.5711902788914], res=[0.0, 8.881784197001252e-16, 0.0, 0.0, -3.5449644179865096], res_norm=3.545e+00
2025-12-01 17:51:25,452 - INFO - integration_test - Dyn residual k=2: pred=[14.41254643482968, 4.970660036309381, -1.1190271739353692, 3.0, 22.8711902788914], ws=[14.41254643482968, 4.970660036309381, -1.1190271739353692, 3.0, 26.44514312039663], res=[0.0, 0.0, 0.0, 0.0, -3.5739528415052284], res_norm=3.574e+00
2025-12-01 17:51:25,469 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:25,483 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:25,501 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:25,515 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:25,534 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:25,547 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:25,562 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:25,576 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:25,592 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:25,604 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:25,619 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:25,631 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:25,647 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:25,659 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:25,675 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:25,688 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:25,703 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:25,716 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:25,731 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:25,743 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:25,758 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:25,771 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:25,926 - INFO - integration_test - Step 88: MPC solve successful
2025-12-01 17:51:25,941 - INFO - integration_test - Step 88: Computed 6 numeric contouring constraints for visualization (s=15.145)
2025-12-01 17:51:25,942 - DEBUG - integration_test - Step 88: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:25,942 - INFO - integration_test - === Applying control at step 88 ===
2025-12-01 17:51:25,942 - INFO - integration_test -   Control dict from planner: {'a': 1.277188524637376e-07, 'w': 0.8000000098506271}
2025-12-01 17:51:25,942 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:25,942 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:25,943 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:25,943 - INFO - integration_test - Step 88 completed in 0.519s
2025-12-01 17:51:25,957 - INFO - integration_test - Step 89 (contouring until path end)
2025-12-01 17:51:25,958 - DEBUG - integration_test - Syncing planner state at step 89: vehicle_state=[14.16126241  5.51598944 -1.03902717  3.00000002 15.4449064 ]
2025-12-01 17:51:25,958 - INFO - integration_test - Step 89: Re-initialized spline from 15.4449 to 15.1449 (vehicle at (14.16, 5.52), closest path point at (13.82, 4.46), distance=1.112m)
2025-12-01 17:51:25,958 - DEBUG - integration_test -   Set spline state to 15.1449
2025-12-01 17:51:25,960 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:25,977 - DEBUG - integration_test - Step 89: Checking path alignment: vehicle=(14.161, 5.516), path_start=(0.000, 0.000), dist=15.198m
2025-12-01 17:51:25,977 - WARNING - integration_test - Could not update reference path at step 89: x and y must have the same length
2025-12-01 17:51:25,977 - INFO - integration_test - === Calling planner.solve_mpc() at step 89 ===
2025-12-01 17:51:25,981 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:25,982 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:25,982 - INFO - integration_test - Warmstart k=0: x0=14.161262412658171 , y0=5.515989440416952 , psi0=-1.0390271729503062 , v0=3.0 , spline0=15.14490640030026 , a0=0.0 , w0=0.0
2025-12-01 17:51:25,982 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:25,983 - INFO - integration_test - Dyn residual k=0: pred=[14.313380108973865, 5.257416034074369, -1.0390271729503062, 3.0, 15.44490640030026], ws=[14.313380108973865, 5.257416034074369, -1.0390271729503064, 3.0, 18.72622586090489], res=[0.0, 0.0, 2.220446049250313e-16, 0.0, -3.28131946060463], res_norm=3.281e+00
2025-12-01 17:51:25,984 - INFO - integration_test - Dyn residual k=1: pred=[14.465497805289559, 4.998842627731786, -1.0390271729503064, 3.0, 19.02622586090489], ws=[14.465497805289559, 4.998842627731786, -1.0390271729503064, 3.0, 22.566823379062978], res=[0.0, 0.0, 0.0, 0.0, -3.540597518158087], res_norm=3.541e+00
2025-12-01 17:51:25,985 - INFO - integration_test - Dyn residual k=2: pred=[14.617615501605252, 4.7402692213892035, -1.0390271729503064, 3.0, 22.86682337906298], ws=[14.617615501605252, 4.7402692213892035, -1.0390271729503064, 3.0, 26.431069200372278], res=[0.0, 0.0, 0.0, 0.0, -3.5642458213092993], res_norm=3.564e+00
2025-12-01 17:51:26,002 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:26,016 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:26,033 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:26,046 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:26,063 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:26,077 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:26,094 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:26,107 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:26,122 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:26,134 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:26,149 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:26,161 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:26,176 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:26,189 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:26,204 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:26,216 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:26,231 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:26,243 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:26,257 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:26,270 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:26,285 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:26,297 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:26,441 - INFO - integration_test - Step 89: MPC solve successful
2025-12-01 17:51:26,457 - INFO - integration_test - Step 89: Computed 6 numeric contouring constraints for visualization (s=15.145)
2025-12-01 17:51:26,457 - DEBUG - integration_test - Step 89: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:26,457 - INFO - integration_test - === Applying control at step 89 ===
2025-12-01 17:51:26,457 - INFO - integration_test -   Control dict from planner: {'a': -2.2293229610283855e-06, 'w': 0.7999956829419094}
2025-12-01 17:51:26,457 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:26,457 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:26,458 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:26,458 - INFO - integration_test - Step 89 completed in 0.501s
2025-12-01 17:51:26,475 - INFO - integration_test - Step 90 (contouring until path end)
2025-12-01 17:51:26,476 - DEBUG - integration_test - Syncing planner state at step 90: vehicle_state=[14.32355527  5.26377319 -0.9590276   2.9999998  15.44490638]
2025-12-01 17:51:26,476 - INFO - integration_test - Step 90: Re-initialized spline from 15.4449 to 15.7507 (vehicle at (14.32, 5.26), closest path point at (14.46, 4.38), distance=0.898m)
2025-12-01 17:51:26,476 - DEBUG - integration_test -   Set spline state to 15.7507
2025-12-01 17:51:26,478 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:26,494 - DEBUG - integration_test - Step 90: Checking path alignment: vehicle=(14.324, 5.264), path_start=(0.000, 0.000), dist=15.260m
2025-12-01 17:51:26,494 - WARNING - integration_test - Could not update reference path at step 90: x and y must have the same length
2025-12-01 17:51:26,494 - INFO - integration_test - === Calling planner.solve_mpc() at step 90 ===
2025-12-01 17:51:26,498 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:26,499 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:26,499 - INFO - integration_test - Warmstart k=0: x0=14.323555266666396 , y0=5.263773188790212 , psi0=-0.9590276046561153 , v0=2.9999998006712834 , spline0=15.750702656312269 , a0=0.0 , w0=0.0
2025-12-01 17:51:26,499 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:26,501 - INFO - integration_test - Dyn residual k=0: pred=[14.49585014307873, 5.018183157228799, -0.9590276046561153, 2.9999998006712834, 16.0507026363794], ws=[14.49585014307873, 5.018183157228799, -0.9590276046561153, 2.9999998006712834, 19.509161141347228], res=[0.0, 0.0, 0.0, 0.0, -3.4584585049678296], res_norm=3.458e+00
2025-12-01 17:51:26,502 - INFO - integration_test - Dyn residual k=1: pred=[14.668145019491064, 4.772593125667386, -0.9590276046561153, 2.9999998006712834, 19.809161121414355], ws=[14.668145019491064, 4.772593125667386, -0.9590276046561153, 2.9999998006712834, 23.58495059469714], res=[0.0, 0.0, 0.0, 0.0, -3.775789473282785], res_norm=3.776e+00
2025-12-01 17:51:26,503 - INFO - integration_test - Dyn residual k=2: pred=[14.840439895903398, 4.527003094105973, -0.9590276046561153, 2.9999998006712834, 23.884950574764268], ws=[14.840439895903398, 4.527003094105973, -0.9590276046561153, 2.9999998006712834, 27.595394825894747], res=[0.0, 0.0, 0.0, 0.0, -3.710444251130479], res_norm=3.710e+00
2025-12-01 17:51:26,520 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:26,534 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:26,552 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:26,566 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:26,582 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:26,595 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:26,611 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:26,624 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:26,639 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:26,652 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:26,668 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:26,681 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:26,697 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:26,709 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:26,724 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:26,736 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:26,752 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:26,764 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:26,781 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:26,793 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:26,808 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:26,820 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:26,999 - INFO - integration_test - Step 90: MPC solve successful
2025-12-01 17:51:27,014 - INFO - integration_test - Step 90: Computed 6 numeric contouring constraints for visualization (s=15.751)
2025-12-01 17:51:27,015 - DEBUG - integration_test - Step 90: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:27,015 - INFO - integration_test - === Applying control at step 90 ===
2025-12-01 17:51:27,015 - INFO - integration_test -   Control dict from planner: {'a': 1.5286621080014368e-06, 'w': 0.8000000097394055}
2025-12-01 17:51:27,015 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:27,015 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:27,016 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:27,017 - INFO - integration_test - Step 90 completed in 0.541s
2025-12-01 17:51:27,034 - INFO - integration_test - Step 91 (contouring until path end)
2025-12-01 17:51:27,035 - DEBUG - integration_test - Syncing planner state at step 91: vehicle_state=[14.50548479  5.02533315 -0.8790276   2.99999995 16.05070265]
2025-12-01 17:51:27,035 - INFO - integration_test - Step 91: Re-initialized spline from 16.0507 to 15.7507 (vehicle at (14.51, 5.03), closest path point at (14.46, 4.38), distance=0.650m)
2025-12-01 17:51:27,036 - DEBUG - integration_test -   Set spline state to 15.7507
2025-12-01 17:51:27,038 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:27,054 - DEBUG - integration_test - Step 91: Checking path alignment: vehicle=(14.505, 5.025), path_start=(0.000, 0.000), dist=15.351m
2025-12-01 17:51:27,055 - WARNING - integration_test - Could not update reference path at step 91: x and y must have the same length
2025-12-01 17:51:27,055 - INFO - integration_test - === Calling planner.solve_mpc() at step 91 ===
2025-12-01 17:51:27,058 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:27,059 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:27,059 - INFO - integration_test - Warmstart k=0: x0=14.505484791223289 , y0=5.025333147015593 , psi0=-0.8790276036821747 , v0=2.999999953537494 , spline0=15.750702656312269 , a0=0.0 , w0=0.0
2025-12-01 17:51:27,059 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:27,060 - INFO - integration_test - Dyn residual k=0: pred=[14.696854880208766, 4.794297465239077, -0.8790276036821747, 2.999999953537494, 16.05070265166602], ws=[14.696854880208766, 4.794297465239077, -0.8790276036821747, 2.999999953537494, 19.509161156633855], res=[0.0, 0.0, 0.0, 0.0, -3.4584585049678367], res_norm=3.458e+00
2025-12-01 17:51:27,061 - INFO - integration_test - Dyn residual k=1: pred=[14.888224969194244, 4.56326178346256, -0.8790276036821747, 2.999999953537494, 19.809161151987606], ws=[14.888224969194244, 4.56326178346256, -0.8790276036821747, 2.999999953537494, 23.580732940404364], res=[0.0, 0.0, 0.0, 0.0, -3.7715717884167574], res_norm=3.772e+00
2025-12-01 17:51:27,062 - INFO - integration_test - Dyn residual k=2: pred=[15.079595058179722, 4.332226101686044, -0.8790276036821747, 2.999999953537494, 23.880732935758115], ws=[15.079595058179722, 4.332226101686044, -0.8790276036821747, 2.999999953537494, 27.581709847875274], res=[0.0, 0.0, 0.0, 0.0, -3.7009769121171594], res_norm=3.701e+00
2025-12-01 17:51:27,081 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:27,096 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:27,114 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:27,128 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:27,147 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:27,161 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:27,178 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:27,192 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:27,209 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:27,222 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:27,237 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:27,250 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:27,267 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:27,280 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:27,295 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:27,308 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:27,323 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:27,335 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:27,350 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:27,362 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:27,378 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:27,390 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:27,557 - INFO - integration_test - Step 91: MPC solve successful
2025-12-01 17:51:27,573 - INFO - integration_test - Step 91: Computed 6 numeric contouring constraints for visualization (s=15.751)
2025-12-01 17:51:27,573 - DEBUG - integration_test - Step 91: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:27,573 - INFO - integration_test - === Applying control at step 91 ===
2025-12-01 17:51:27,573 - INFO - integration_test -   Control dict from planner: {'a': 7.069403750477011e-08, 'w': 0.7999994897956337}
2025-12-01 17:51:27,573 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:27,573 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:27,574 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:27,575 - INFO - integration_test - Step 91 completed in 0.540s
2025-12-01 17:51:27,590 - INFO - integration_test - Step 92 (contouring until path end)
2025-12-01 17:51:27,590 - DEBUG - integration_test - Syncing planner state at step 92: vehicle_state=[14.70588731  4.80219454 -0.79902765  2.99999996 16.05070265]
2025-12-01 17:51:27,591 - DEBUG - integration_test - Step 92: Using propagated spline 16.0507 (close to path, dist=0.491m)
2025-12-01 17:51:27,591 - DEBUG - integration_test -   Set spline state to 16.0507
2025-12-01 17:51:27,593 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:27,608 - DEBUG - integration_test - Step 92: Checking path alignment: vehicle=(14.706, 4.802), path_start=(0.000, 0.000), dist=15.470m
2025-12-01 17:51:27,609 - WARNING - integration_test - Could not update reference path at step 92: x and y must have the same length
2025-12-01 17:51:27,609 - INFO - integration_test - === Calling planner.solve_mpc() at step 92 ===
2025-12-01 17:51:27,611 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:27,613 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:27,613 - INFO - integration_test - Warmstart k=0: x0=14.705887314452273 , y0=4.802194537697741 , psi0=-0.7990276547026114 , v0=2.999999960606898 , spline0=16.05070265237296 , a0=0.0 , w0=0.0
2025-12-01 17:51:27,613 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:27,614 - INFO - integration_test - Dyn residual k=0: pred=[14.915108481016862, 4.587191046801044, -0.7990276547026114, 2.999999960606898, 16.35070264843365], ws=[14.915108481016862, 4.587191046801044, -0.7990276547026114, 2.999999960606898, 19.968534034747705], res=[0.0, 0.0, 0.0, 0.0, -3.617831386314055], res_norm=3.618e+00
2025-12-01 17:51:27,615 - INFO - integration_test - Dyn residual k=1: pred=[15.124329647581451, 4.372187555904347, -0.7990276547026114, 2.999999960606898, 20.268534030808397], ws=[15.124329647581451, 4.372187555904347, -0.7990276547026114, 2.999999960606898, 24.121565459452263], res=[0.0, 0.0, 0.0, 0.0, -3.8530314286438667], res_norm=3.853e+00
2025-12-01 17:51:27,616 - INFO - integration_test - Dyn residual k=2: pred=[15.33355081414604, 4.15718406500765, -0.7990276547026114, 2.999999960606898, 24.421565455512955], ws=[15.33355081414604, 4.15718406500765, -0.7990276547026114, 2.999999960606898, 28.16899787035109], res=[0.0, 0.0, 0.0, 0.0, -3.747432414838137], res_norm=3.747e+00
2025-12-01 17:51:27,633 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:27,646 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:27,662 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:27,675 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:27,690 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:27,703 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:27,719 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:27,731 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:27,746 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:27,758 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:27,774 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:27,786 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:27,801 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:27,814 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:27,828 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:27,841 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:27,856 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:27,868 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:27,884 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:27,897 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:27,914 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:27,926 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:28,079 - INFO - integration_test - Step 92: MPC solve successful
2025-12-01 17:51:28,094 - INFO - integration_test - Step 92: Computed 6 numeric contouring constraints for visualization (s=16.051)
2025-12-01 17:51:28,095 - DEBUG - integration_test - Step 92: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:28,095 - INFO - integration_test - === Applying control at step 92 ===
2025-12-01 17:51:28,095 - INFO - integration_test -   Control dict from planner: {'a': 4.2310754810986704e-07, 'w': 0.799999949449297}
2025-12-01 17:51:28,095 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:28,095 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:28,096 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:28,097 - INFO - integration_test - Step 92 completed in 0.507s
2025-12-01 17:51:28,110 - INFO - integration_test - Step 93 (contouring until path end)
2025-12-01 17:51:28,110 - DEBUG - integration_test - Syncing planner state at step 93: vehicle_state=[14.92348094  4.59578469 -0.71902766  3.         16.35070265]
2025-12-01 17:51:28,111 - DEBUG - integration_test - Step 93: Using propagated spline 16.3507 (close to path, dist=0.342m)
2025-12-01 17:51:28,111 - DEBUG - integration_test -   Set spline state to 16.3507
2025-12-01 17:51:28,114 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:28,129 - DEBUG - integration_test - Step 93: Checking path alignment: vehicle=(14.923, 4.596), path_start=(0.000, 0.000), dist=15.615m
2025-12-01 17:51:28,129 - WARNING - integration_test - Could not update reference path at step 93: x and y must have the same length
2025-12-01 17:51:28,129 - INFO - integration_test - === Calling planner.solve_mpc() at step 93 ===
2025-12-01 17:51:28,133 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:28,135 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:28,135 - INFO - integration_test - Warmstart k=0: x0=14.923480941183637 , y0=4.595784689782903 , psi0=-0.7190276597576817 , v0=3.0 , spline0=16.350702652664722 , a0=0.0 , w0=0.0
2025-12-01 17:51:28,135 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:28,136 - INFO - integration_test - Dyn residual k=0: pred=[15.149214897152417, 4.398188684958197, -0.7190276597576817, 3.0, 16.650702652664723], ws=[15.149214897152417, 4.398188684958197, -0.7190276597576819, 3.0, 20.2977603669516], res=[0.0, 0.0, 2.220446049250313e-16, 0.0, -3.647057714286877], res_norm=3.647e+00
2025-12-01 17:51:28,137 - INFO - integration_test - Dyn residual k=1: pred=[15.374948853121197, 4.200592680133491, -0.7190276597576819, 3.0, 20.5977603669516], ws=[15.374948853121197, 4.200592680133491, -0.7190276597576819, 3.0, 24.478169671603247], res=[0.0, 0.0, 0.0, 0.0, -3.8804093046516464], res_norm=3.880e+00
2025-12-01 17:51:28,138 - INFO - integration_test - Dyn residual k=2: pred=[15.600682809089976, 4.002996675308785, -0.7190276597576819, 3.0, 24.778169671603248], ws=[15.600682809089976, 4.002996675308785, -0.7190276597576819, 3.0, 28.539131805854293], res=[0.0, 0.0, 0.0, 0.0, -3.760962134251045], res_norm=3.761e+00
2025-12-01 17:51:28,154 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:28,168 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:28,186 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:28,199 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:28,216 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:28,230 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:28,246 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:28,259 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:28,275 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:28,288 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:28,303 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:28,315 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:28,330 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:28,342 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:28,358 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:28,370 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:28,386 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:28,399 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:28,414 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:28,426 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:28,441 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:28,453 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:28,609 - INFO - integration_test - Step 93: MPC solve successful
2025-12-01 17:51:28,624 - INFO - integration_test - Step 93: Computed 6 numeric contouring constraints for visualization (s=16.351)
2025-12-01 17:51:28,624 - DEBUG - integration_test - Step 93: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:28,624 - INFO - integration_test - === Applying control at step 93 ===
2025-12-01 17:51:28,625 - INFO - integration_test -   Control dict from planner: {'a': 1.8053798513774232e-07, 'w': 0.8000000099862938}
2025-12-01 17:51:28,625 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:28,625 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:28,626 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:28,626 - INFO - integration_test - Step 93 completed in 0.516s
2025-12-01 17:51:28,640 - INFO - integration_test - Step 94 (contouring until path end)
2025-12-01 17:51:28,641 - DEBUG - integration_test - Syncing planner state at step 94: vehicle_state=[15.15687382  4.40742393 -0.63902766  3.00000002 16.65070265]
2025-12-01 17:51:28,642 - DEBUG - integration_test - Step 94: Using propagated spline 16.6507 (close to path, dist=0.115m)
2025-12-01 17:51:28,642 - DEBUG - integration_test -   Set spline state to 16.6507
2025-12-01 17:51:28,644 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:28,661 - DEBUG - integration_test - Step 94: Checking path alignment: vehicle=(15.157, 4.407), path_start=(0.000, 0.000), dist=15.785m
2025-12-01 17:51:28,662 - WARNING - integration_test - Could not update reference path at step 94: x and y must have the same length
2025-12-01 17:51:28,662 - INFO - integration_test - === Calling planner.solve_mpc() at step 94 ===
2025-12-01 17:51:28,665 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:28,667 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:28,667 - INFO - integration_test - Warmstart k=0: x0=15.156873821364874 , y0=4.407423926900204 , psi0=-0.6390276587590523 , v0=3.0 , spline0=16.65070265476187 , a0=0.0 , w0=0.0
2025-12-01 17:51:28,667 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:28,668 - INFO - integration_test - Dyn residual k=0: pred=[15.39767663827877, 4.228499352382525, -0.6390276587590523, 3.0, 16.95070265476187], ws=[15.39767663827877, 4.228499352382525, -0.6390276587590522, 3.0, 20.767445910843183], res=[0.0, 0.0, -1.1102230246251565e-16, 0.0, -3.8167432560813133], res_norm=3.817e+00
2025-12-01 17:51:28,669 - INFO - integration_test - Dyn residual k=1: pred=[15.638479455192668, 4.049574777864846, -0.6390276587590522, 3.0, 21.067445910843183], ws=[15.638479455192668, 4.049574777864846, -0.6390276587590522, 3.0, 25.025544466611834], res=[0.0, 0.0, 0.0, 0.0, -3.9580985557686503], res_norm=3.958e+00
2025-12-01 17:51:28,670 - INFO - integration_test - Dyn residual k=2: pred=[15.879282272106565, 3.870650203347167, -0.6390276587590522, 3.0, 25.325544466611834], ws=[15.879282272106565, 3.870650203347167, -0.6390276587590522, 3.0, 29.134919692384017], res=[0.0, 0.0, 0.0, 0.0, -3.8093752257721825], res_norm=3.809e+00
2025-12-01 17:51:28,687 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:28,701 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:28,718 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:28,731 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:28,748 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:28,761 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:28,779 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:28,792 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:28,807 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:28,819 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:28,834 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:28,846 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:28,861 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:28,874 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:28,889 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:28,902 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:28,917 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:28,929 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:28,944 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:28,956 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:28,971 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:28,983 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:29,139 - INFO - integration_test - Step 94: MPC solve successful
2025-12-01 17:51:29,155 - INFO - integration_test - Step 94: Computed 6 numeric contouring constraints for visualization (s=16.651)
2025-12-01 17:51:29,155 - DEBUG - integration_test - Step 94: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:29,155 - INFO - integration_test - === Applying control at step 94 ===
2025-12-01 17:51:29,155 - INFO - integration_test -   Control dict from planner: {'a': 5.978298992527465e-08, 'w': 0.8000000095548313}
2025-12-01 17:51:29,155 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:29,155 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:29,156 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:29,157 - INFO - integration_test - Step 94 completed in 0.516s
2025-12-01 17:51:29,172 - INFO - integration_test - Step 95 (contouring until path end)
2025-12-01 17:51:29,172 - DEBUG - integration_test - Syncing planner state at step 95: vehicle_state=[15.40457304  4.23831712 -0.55902766  3.00000003 16.95070266]
2025-12-01 17:51:29,173 - DEBUG - integration_test - Step 95: Using propagated spline 16.9507 (close to path, dist=0.307m)
2025-12-01 17:51:29,173 - DEBUG - integration_test -   Set spline state to 16.9507
2025-12-01 17:51:29,175 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:29,191 - DEBUG - integration_test - Step 95: Checking path alignment: vehicle=(15.405, 4.238), path_start=(0.000, 0.000), dist=15.977m
2025-12-01 17:51:29,191 - WARNING - integration_test - Could not update reference path at step 95: x and y must have the same length
2025-12-01 17:51:29,191 - INFO - integration_test - === Calling planner.solve_mpc() at step 95 ===
2025-12-01 17:51:29,194 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:29,195 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:29,195 - INFO - integration_test - Warmstart k=0: x0=15.404573036442866 , y0=4.2383171172105225 , psi0=-0.5590276578035692 , v0=3.0 , spline0=16.950702657456844 , a0=0.0 , w0=0.0
2025-12-01 17:51:29,195 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:29,197 - INFO - integration_test - Dyn residual k=0: pred=[15.658904397993286, 4.079208479695428, -0.5590276578035692, 3.0, 17.250702657456845], ws=[15.658904397993286, 4.079208479695428, -0.5590276578035693, 3.0, 21.09822219952101], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -3.847519542064166], res_norm=3.848e+00
2025-12-01 17:51:29,198 - INFO - integration_test - Dyn residual k=1: pred=[15.913235759543706, 3.9200998421803335, -0.5590276578035693, 3.0, 21.398222199521012], ws=[15.913235759543706, 3.920099842180333, -0.5590276578035693, 3.0, 25.461663702941777], res=[0.0, 4.440892098500626e-16, 0.0, 0.0, -4.063441503420766], res_norm=4.063e+00
2025-12-01 17:51:29,199 - INFO - integration_test - Dyn residual k=2: pred=[16.167567121094127, 3.7609912046652387, -0.5590276578035693, 3.0, 25.761663702941778], ws=[16.167567121094127, 3.7609912046652383, -0.5590276578035693, 3.0, 29.64003429497059], res=[0.0, 4.440892098500626e-16, 0.0, 0.0, -3.878370592028812], res_norm=3.878e+00
2025-12-01 17:51:29,215 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:29,228 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:29,246 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:29,260 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:29,277 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:29,290 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:29,306 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:29,319 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:29,335 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:29,347 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:29,362 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:29,376 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:29,391 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:29,404 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:29,419 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:29,431 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:29,446 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:29,458 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:29,474 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:29,487 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:29,503 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:29,515 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:29,698 - INFO - integration_test - Step 95: MPC solve successful
2025-12-01 17:51:29,713 - INFO - integration_test - Step 95: Computed 6 numeric contouring constraints for visualization (s=16.951)
2025-12-01 17:51:29,713 - DEBUG - integration_test - Step 95: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:29,713 - INFO - integration_test - === Applying control at step 95 ===
2025-12-01 17:51:29,714 - INFO - integration_test -   Control dict from planner: {'a': 2.0319095722924904e-08, 'w': 0.8000000099828614}
2025-12-01 17:51:29,714 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:29,714 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:29,715 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:29,715 - INFO - integration_test - Step 95 completed in 0.543s
2025-12-01 17:51:29,729 - INFO - integration_test - Step 96 (contouring until path end)
2025-12-01 17:51:29,730 - DEBUG - integration_test - Syncing planner state at step 96: vehicle_state=[15.66499416  4.08954597 -0.47902766  3.00000003 17.25070266]
2025-12-01 17:51:29,731 - DEBUG - integration_test - Step 96: Using propagated spline 17.2507 (close to path, dist=0.182m)
2025-12-01 17:51:29,731 - DEBUG - integration_test -   Set spline state to 17.2507
2025-12-01 17:51:29,733 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:29,750 - DEBUG - integration_test - Step 96: Checking path alignment: vehicle=(15.665, 4.090), path_start=(0.000, 0.000), dist=16.190m
2025-12-01 17:51:29,751 - WARNING - integration_test - Could not update reference path at step 96: x and y must have the same length
2025-12-01 17:51:29,751 - INFO - integration_test - === Calling planner.solve_mpc() at step 96 ===
2025-12-01 17:51:29,754 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:29,756 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:29,756 - INFO - integration_test - Warmstart k=0: x0=15.664994156118507 , y0=4.089545967787363 , psi0=-0.4790276568052831 , v0=3.0 , spline0=17.25070266035501 , a0=0.0 , w0=0.0
2025-12-01 17:51:29,756 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:29,757 - INFO - integration_test - Dyn residual k=0: pred=[15.931227209491142, 3.9512710196156737, -0.4790276568052831, 3.0, 17.55070266035501], ws=[15.931227209491142, 3.9512710196156737, -0.4790276568052829, 3.0, 21.575092117027232], res=[0.0, 0.0, -1.6653345369377348e-16, 0.0, -4.024389456672221], res_norm=4.024e+00
2025-12-01 17:51:29,758 - INFO - integration_test - Dyn residual k=1: pred=[16.19746026286378, 3.812996071443984, -0.4790276568052829, 3.0, 21.875092117027233], ws=[16.19746026286378, 3.812996071443984, -0.4790276568052829, 3.0, 26.002709536547815], res=[0.0, 0.0, 0.0, 0.0, -4.127617419520583], res_norm=4.128e+00
2025-12-01 17:51:29,759 - INFO - integration_test - Dyn residual k=2: pred=[16.463693316236412, 3.6747211232722945, -0.4790276568052829, 3.0, 26.302709536547816], ws=[16.463693316236412, 3.6747211232722945, -0.4790276568052829, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -3.381307008040693], res_norm=3.381e+00
2025-12-01 17:51:29,778 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:29,791 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:29,808 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:29,823 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:29,840 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:29,852 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:29,868 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:29,881 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:29,896 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:29,908 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:29,923 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:29,936 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:29,951 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:29,963 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:29,978 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:29,991 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:30,006 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:30,018 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:30,033 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:30,045 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:30,060 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:30,073 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:30,228 - INFO - integration_test - Step 96: MPC solve successful
2025-12-01 17:51:30,243 - INFO - integration_test - Step 96: Computed 6 numeric contouring constraints for visualization (s=17.251)
2025-12-01 17:51:30,243 - DEBUG - integration_test - Step 96: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:30,243 - INFO - integration_test - === Applying control at step 96 ===
2025-12-01 17:51:30,243 - INFO - integration_test -   Control dict from planner: {'a': 5.217546565767486e-09, 'w': 0.8000000064967376}
2025-12-01 17:51:30,243 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:30,243 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:30,244 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:30,245 - INFO - integration_test - Step 96 completed in 0.515s
2025-12-01 17:51:30,259 - INFO - integration_test - Step 97 (contouring until path end)
2025-12-01 17:51:30,260 - DEBUG - integration_test - Syncing planner state at step 97: vehicle_state=[15.93647137  3.96206211 -0.39902766  3.00000003 17.55070266]
2025-12-01 17:51:30,261 - DEBUG - integration_test - Step 97: Using propagated spline 17.5507 (close to path, dist=0.343m)
2025-12-01 17:51:30,261 - DEBUG - integration_test -   Set spline state to 17.5507
2025-12-01 17:51:30,264 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:30,280 - DEBUG - integration_test - Step 97: Checking path alignment: vehicle=(15.936, 3.962), path_start=(0.000, 0.000), dist=16.422m
2025-12-01 17:51:30,281 - WARNING - integration_test - Could not update reference path at step 97: x and y must have the same length
2025-12-01 17:51:30,281 - INFO - integration_test - === Calling planner.solve_mpc() at step 97 ===
2025-12-01 17:51:30,284 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:30,285 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:30,285 - INFO - integration_test - Warmstart k=0: x0=15.936471373666809 , y0=3.9620621064439705 , psi0=-0.3990276561556093 , v0=3.0 , spline0=17.55070266330535 , a0=0.0 , w0=0.0
2025-12-01 17:51:30,285 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:30,286 - INFO - integration_test - Dyn residual k=0: pred=[16.212903135785275, 3.8455053353318673, -0.3990276561556093, 3.0, 17.850702663305352], ws=[16.212903135785275, 3.8455053353318673, -0.3990276561556092, 3.0, 21.9066462378705], res=[0.0, 0.0, -1.1102230246251565e-16, 0.0, -4.055943574565148], res_norm=4.056e+00
2025-12-01 17:51:30,287 - INFO - integration_test - Dyn residual k=1: pred=[16.489334897903742, 3.728948564219764, -0.3990276561556092, 3.0, 22.2066462378705], ws=[16.489334897903742, 3.728948564219764, -0.3990276561556092, 3.0, 26.354868360040903], res=[0.0, 0.0, 0.0, 0.0, -4.148222122170402], res_norm=4.148e+00
2025-12-01 17:51:30,288 - INFO - integration_test - Dyn residual k=2: pred=[16.76576666002221, 3.612391793107661, -0.3990276561556092, 3.0, 26.654868360040904], ws=[16.76576666002221, 3.612391793107661, -0.3990276561556092, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -3.029148184547605], res_norm=3.029e+00
2025-12-01 17:51:30,305 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:30,318 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:30,334 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:30,347 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:30,363 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:30,376 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:30,392 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:30,404 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:30,419 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:30,431 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:30,446 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:30,458 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:30,473 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:30,486 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:30,501 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:30,513 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:30,527 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:30,539 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:30,554 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:30,566 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:30,581 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:30,593 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:30,732 - INFO - integration_test - Step 97: MPC solve successful
2025-12-01 17:51:30,746 - INFO - integration_test - Step 97: Computed 6 numeric contouring constraints for visualization (s=17.551)
2025-12-01 17:51:30,747 - DEBUG - integration_test - Step 97: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:30,747 - INFO - integration_test - === Applying control at step 97 ===
2025-12-01 17:51:30,747 - INFO - integration_test -   Control dict from planner: {'a': 2.9796981423519937e-09, 'w': 0.8000000095236408}
2025-12-01 17:51:30,747 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:30,747 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:30,748 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:30,749 - INFO - integration_test - Step 97 completed in 0.489s
2025-12-01 17:51:30,762 - INFO - integration_test - Step 98 (contouring until path end)
2025-12-01 17:51:30,762 - DEBUG - integration_test - Syncing planner state at step 98: vehicle_state=[16.21726816  3.85668099 -0.31902766  3.00000003 17.85070267]
2025-12-01 17:51:30,763 - DEBUG - integration_test - Step 98: Using propagated spline 17.8507 (close to path, dist=0.404m)
2025-12-01 17:51:30,763 - DEBUG - integration_test -   Set spline state to 17.8507
2025-12-01 17:51:30,766 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:30,781 - DEBUG - integration_test - Step 98: Checking path alignment: vehicle=(16.217, 3.857), path_start=(0.000, 0.000), dist=16.670m
2025-12-01 17:51:30,782 - WARNING - integration_test - Could not update reference path at step 98: x and y must have the same length
2025-12-01 17:51:30,782 - INFO - integration_test - === Calling planner.solve_mpc() at step 98 ===
2025-12-01 17:51:30,785 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:30,786 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:30,786 - INFO - integration_test - Warmstart k=0: x0=16.217268161228667 , y0=3.8566809949014043 , psi0=-0.3190276552032452 , v0=3.0 , spline0=17.85070266628549 , a0=0.0 , w0=0.0
2025-12-01 17:51:30,786 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:30,787 - INFO - integration_test - Dyn residual k=0: pred=[16.502130412167663, 3.7625879665200848, -0.3190276552032452, 3.0, 18.15070266628549], ws=[16.502130412167663, 3.7625879665200848, -0.31902765520324516, 3.0, 22.386263997620233], res=[0.0, 0.0, -5.551115123125783e-17, 0.0, -4.235561331334743], res_norm=4.236e+00
2025-12-01 17:51:30,788 - INFO - integration_test - Dyn residual k=1: pred=[16.78699266310666, 3.6684949381387653, -0.31902765520324516, 3.0, 22.686263997620234], ws=[16.78699266310666, 3.6684949381387653, -0.31902765520324516, 3.0, 26.952222632248727], res=[0.0, 0.0, 0.0, 0.0, -4.265958634628493], res_norm=4.266e+00
2025-12-01 17:51:30,789 - INFO - integration_test - Dyn residual k=2: pred=[17.071854914045655, 3.5744019097574458, -0.31902765520324516, 3.0, 27.252222632248728], ws=[17.071854914045655, 3.5744019097574458, -0.31902765520324516, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -2.4317939123397814], res_norm=2.432e+00
2025-12-01 17:51:30,805 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:30,819 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:30,835 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:30,849 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:30,866 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:30,880 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:30,896 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:30,909 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:30,925 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:30,937 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:30,952 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:30,965 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:30,980 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:30,992 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:31,007 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:31,019 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:31,034 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:31,046 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:31,061 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:31,074 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:31,089 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:31,101 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:31,238 - INFO - integration_test - Step 98: MPC solve successful
2025-12-01 17:51:31,253 - INFO - integration_test - Step 98: Computed 6 numeric contouring constraints for visualization (s=17.851)
2025-12-01 17:51:31,253 - DEBUG - integration_test - Step 98: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:31,253 - INFO - integration_test - === Applying control at step 98 ===
2025-12-01 17:51:31,253 - INFO - integration_test -   Control dict from planner: {'a': -2.023593353655249e-06, 'w': 0.7999987690215591}
2025-12-01 17:51:31,253 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:31,253 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:31,254 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:31,255 - INFO - integration_test - Step 98 completed in 0.493s
2025-12-01 17:51:31,270 - INFO - integration_test - Step 99 (contouring until path end)
2025-12-01 17:51:31,271 - DEBUG - integration_test - Syncing planner state at step 99: vehicle_state=[16.50558836  3.7740767  -0.23902778  2.99999983 18.15070265]
2025-12-01 17:51:31,272 - DEBUG - integration_test - Step 99: Using propagated spline 18.1507 (close to path, dist=0.456m)
2025-12-01 17:51:31,272 - DEBUG - integration_test -   Set spline state to 18.1507
2025-12-01 17:51:31,274 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:31,290 - DEBUG - integration_test - Step 99: Checking path alignment: vehicle=(16.506, 3.774), path_start=(0.000, 0.000), dist=16.932m
2025-12-01 17:51:31,290 - WARNING - integration_test - Could not update reference path at step 99: x and y must have the same length
2025-12-01 17:51:31,291 - INFO - integration_test - === Calling planner.solve_mpc() at step 99 ===
2025-12-01 17:51:31,293 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:31,295 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:31,295 - INFO - integration_test - Warmstart k=0: x0=16.505588362920317 , y0=3.7740766974244324 , psi0=-0.2390277783010893 , v0=2.999999827442049 , spline0=18.150702649029693 , a0=0.0 , w0=0.0
2025-12-01 17:51:31,295 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:31,296 - INFO - integration_test - Dyn residual k=0: pred=[16.79705893077673, 3.703049253995961, -0.2390277783010893, 2.999999827442049, 18.450702631773897], ws=[16.79705893077673, 3.703049253995961, -0.23902777830108946, 2.999999827442049, 22.71755998982453], res=[0.0, 0.0, 1.6653345369377348e-16, 0.0, -4.266857358050633], res_norm=4.267e+00
2025-12-01 17:51:31,297 - INFO - integration_test - Dyn residual k=1: pred=[17.08852949863314, 3.63202181056749, -0.23902777830108946, 2.999999827442049, 23.017559972568733], ws=[17.08852949863314, 3.63202181056749, -0.23902777830108946, 2.999999827442049, 27.30000979210095], res=[0.0, 0.0, 0.0, 0.0, -4.282449819532218], res_norm=4.282e+00
2025-12-01 17:51:31,298 - INFO - integration_test - Dyn residual k=2: pred=[17.38000006648955, 3.5609943671390187, -0.23902777830108946, 2.999999827442049, 27.600009774845155], ws=[17.38000006648955, 3.5609943671390187, -0.23902777830108946, 2.999999827442049, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -2.084006769743354], res_norm=2.084e+00
2025-12-01 17:51:31,316 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:31,330 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:31,347 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:31,360 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:31,377 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:31,390 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:31,406 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:31,419 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:31,434 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:31,446 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:31,461 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:31,473 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:31,487 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:31,499 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:31,514 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:31,526 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:31,540 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:31,552 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:31,567 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:31,579 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:31,594 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:31,606 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:31,746 - INFO - integration_test - Step 99: MPC solve successful
2025-12-01 17:51:31,761 - INFO - integration_test - Step 99: Computed 6 numeric contouring constraints for visualization (s=18.151)
2025-12-01 17:51:31,761 - DEBUG - integration_test - Step 99: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:31,761 - INFO - integration_test - === Applying control at step 99 ===
2025-12-01 17:51:31,761 - INFO - integration_test -   Control dict from planner: {'a': -1.173607352880022e-06, 'w': 0.7999970769661969}
2025-12-01 17:51:31,761 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:31,761 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:31,762 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:31,762 - INFO - integration_test - Step 99 completed in 0.491s
2025-12-01 17:51:31,779 - INFO - integration_test - Step 100 (contouring until path end)
2025-12-01 17:51:31,781 - DEBUG - integration_test - Syncing planner state at step 100: vehicle_state=[16.7995877   3.71477756 -0.15902807  2.99999971 18.45070262]
2025-12-01 17:51:31,781 - INFO - integration_test - Step 100: Re-initialized spline from 18.4507 to 18.1739 (vehicle at (16.80, 3.71), closest path point at (17.05, 4.21), distance=0.557m)
2025-12-01 17:51:31,781 - DEBUG - integration_test -   Set spline state to 18.1739
2025-12-01 17:51:31,784 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:31,799 - DEBUG - integration_test - Step 100: Checking path alignment: vehicle=(16.800, 3.715), path_start=(0.000, 0.000), dist=17.205m
2025-12-01 17:51:31,799 - WARNING - integration_test - Could not update reference path at step 100: x and y must have the same length
2025-12-01 17:51:31,799 - INFO - integration_test - === Calling planner.solve_mpc() at step 100 ===
2025-12-01 17:51:31,802 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:31,803 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:31,803 - INFO - integration_test - Warmstart k=0: x0=16.79958770144161 , y0=3.7147775555194245 , psi0=-0.1590280706044696 , v0=2.9999997100813136 , spline0=18.173887680360313 , a0=0.0 , w0=0.0
2025-12-01 17:51:31,803 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:31,804 - INFO - integration_test - Dyn residual k=0: pred=[17.095802171748275, 3.6672699752208895, -0.1590280706044696, 2.9999997100813136, 18.473887651368443], ws=[17.095802171748275, 3.6672699752208895, -0.15902807060446955, 2.9999997100813136, 22.754549471599795], res=[0.0, 0.0, -5.551115123125783e-17, 0.0, -4.2806618202313516], res_norm=4.281e+00
2025-12-01 17:51:31,805 - INFO - integration_test - Dyn residual k=1: pred=[17.39201664205494, 3.6197623949223545, -0.15902807060446955, 2.9999997100813136, 23.054549442607925], ws=[17.39201664205494, 3.6197623949223545, -0.15902807060446955, 2.9999997100813136, 27.342566000843156], res=[0.0, 0.0, 0.0, 0.0, -4.288016558235231], res_norm=4.288e+00
2025-12-01 17:51:31,806 - INFO - integration_test - Dyn residual k=2: pred=[17.688231112361606, 3.5722548146238196, -0.15902807060446955, 2.9999997100813136, 27.642565971851287], ws=[17.688231112361606, 3.5722548146238196, -0.15902807060446955, 2.9999997100813136, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -2.0414505727372223], res_norm=2.041e+00
2025-12-01 17:51:31,823 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:31,836 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:31,853 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:31,867 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:31,884 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:31,897 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:31,914 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:31,926 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:31,941 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:31,953 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:31,969 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:31,982 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:31,997 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:32,009 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:32,024 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:32,036 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:32,050 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:32,062 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:32,078 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:32,090 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:32,105 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:32,117 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:32,268 - INFO - integration_test - Step 100: MPC solve successful
2025-12-01 17:51:32,283 - INFO - integration_test - Step 100: Computed 6 numeric contouring constraints for visualization (s=18.174)
2025-12-01 17:51:32,284 - DEBUG - integration_test - Step 100: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:32,284 - INFO - integration_test - === Applying control at step 100 ===
2025-12-01 17:51:32,284 - INFO - integration_test -   Control dict from planner: {'a': 2.397043087633634e-07, 'w': 0.7999979052884794}
2025-12-01 17:51:32,284 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:32,284 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:32,285 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:32,285 - INFO - integration_test - Step 100 completed in 0.505s
2025-12-01 17:51:32,300 - INFO - integration_test - Step 101 (contouring until path end)
2025-12-01 17:51:32,301 - DEBUG - integration_test - Syncing planner state at step 101: vehicle_state=[17.0973856   3.67916286 -0.07902828  2.99999973 18.47388765]
2025-12-01 17:51:32,301 - INFO - integration_test - Step 101: Re-initialized spline from 18.4739 to 18.1739 (vehicle at (17.10, 3.68), closest path point at (17.05, 4.21), distance=0.536m)
2025-12-01 17:51:32,301 - DEBUG - integration_test -   Set spline state to 18.1739
2025-12-01 17:51:32,303 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:32,319 - DEBUG - integration_test - Step 101: Checking path alignment: vehicle=(17.097, 3.679), path_start=(0.000, 0.000), dist=17.489m
2025-12-01 17:51:32,319 - WARNING - integration_test - Could not update reference path at step 101: x and y must have the same length
2025-12-01 17:51:32,319 - INFO - integration_test - === Calling planner.solve_mpc() at step 101 ===
2025-12-01 17:51:32,322 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:32,324 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:32,324 - INFO - integration_test - Warmstart k=0: x0=17.097385602785682 , y0=3.679162862805136 , psi0=-0.07902828007562167 , v0=2.9999997340517446 , spline0=18.173887680360313 , a0=0.0 , w0=0.0
2025-12-01 17:51:32,324 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:32,325 - INFO - integration_test - Dyn residual k=0: pred=[17.396449243388158, 3.655479051610603, -0.07902828007562167, 2.9999997340517446, 18.473887653765487], ws=[17.396449243388158, 3.655479051610603, -0.07902828007562146, 2.9999997340517446, 22.754549473996835], res=[0.0, 0.0, -2.0816681711721685e-16, 0.0, -4.280661820231348], res_norm=4.281e+00
2025-12-01 17:51:32,326 - INFO - integration_test - Dyn residual k=1: pred=[17.695512883990634, 3.63179524041607, -0.07902828007562146, 2.9999997340517446, 23.05454944740201], ws=[17.695512883990634, 3.63179524041607, -0.0790282800756219, 2.9999997340517446, 27.34004090730068], res=[0.0, 0.0, 4.440892098500626e-16, 0.0, -4.285491459898669], res_norm=4.285e+00
2025-12-01 17:51:32,327 - INFO - integration_test - Dyn residual k=2: pred=[17.99457652459311, 3.608111429221537, -0.0790282800756219, 2.9999997340517446, 27.640040880705854], ws=[17.99457652459311, 3.608111429221537, -0.0790282800756219, 2.9999997340517446, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -2.043975663882655], res_norm=2.044e+00
2025-12-01 17:51:32,344 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:32,358 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:32,375 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:32,388 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:32,405 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:32,424 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:32,440 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:32,452 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:32,468 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:32,480 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:32,495 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:32,507 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:32,522 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:32,534 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:32,550 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:32,562 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:32,579 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:32,591 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:32,606 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:32,618 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:32,633 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:32,645 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:32,798 - INFO - integration_test - Step 101: MPC solve successful
2025-12-01 17:51:32,813 - INFO - integration_test - Step 101: Computed 6 numeric contouring constraints for visualization (s=18.174)
2025-12-01 17:51:32,813 - DEBUG - integration_test - Step 101: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:32,813 - INFO - integration_test - === Applying control at step 101 ===
2025-12-01 17:51:32,814 - INFO - integration_test -   Control dict from planner: {'a': 1.9719419369080424e-06, 'w': 0.8000000083329082}
2025-12-01 17:51:32,814 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:32,814 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:32,815 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:32,815 - INFO - integration_test - Step 101 completed in 0.515s
2025-12-01 17:51:32,827 - INFO - integration_test - Step 102 (contouring until path end)
2025-12-01 17:51:32,828 - DEBUG - integration_test - Syncing planner state at step 102: vehicle_state=[1.73970772e+01 3.66746047e+00 9.71720758e-04 2.99999993e+00
 1.84738877e+01]
2025-12-01 17:51:32,829 - INFO - integration_test - Step 102: Re-initialized spline from 18.4739 to 18.1739 (vehicle at (17.40, 3.67), closest path point at (17.05, 4.21), distance=0.646m)
2025-12-01 17:51:32,829 - DEBUG - integration_test -   Set spline state to 18.1739
2025-12-01 17:51:32,831 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:32,847 - DEBUG - integration_test - Step 102: Checking path alignment: vehicle=(17.397, 3.667), path_start=(0.000, 0.000), dist=17.779m
2025-12-01 17:51:32,848 - WARNING - integration_test - Could not update reference path at step 102: x and y must have the same length
2025-12-01 17:51:32,848 - INFO - integration_test - === Calling planner.solve_mpc() at step 102 ===
2025-12-01 17:51:32,852 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:32,854 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:32,854 - INFO - integration_test - Warmstart k=0: x0=17.397077205658274 , y0=3.6674604729255686 , psi0=0.000971720757669145 , v0=2.9999999312459384 , spline0=18.173887680360313 , a0=0.0 , w0=0.0
2025-12-01 17:51:32,854 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:32,855 - INFO - integration_test - Dyn residual k=0: pred=[17.697077057146696, 3.6677519891003114, 0.000971720757669145, 2.9999999312459384, 18.473887673484906], ws=[17.697077057146696, 3.6677519891003114, 0.0009717207576689368, 2.9999999312459384, 22.754549493716254], res=[0.0, 0.0, 2.0816681711721685e-16, 0.0, -4.280661820231348], res_norm=4.281e+00
2025-12-01 17:51:32,856 - INFO - integration_test - Dyn residual k=1: pred=[17.99707690863512, 3.668043505275054, 0.0009717207576689368, 2.9999999312459384, 23.05454948684085], ws=[17.99707690863512, 3.668043505275054, 0.0009717207576689368, 2.9999999312459384, 27.337850020499143], res=[0.0, 0.0, 0.0, 0.0, -4.283300533658295], res_norm=4.283e+00
2025-12-01 17:51:32,857 - INFO - integration_test - Dyn residual k=2: pred=[18.29707676012354, 3.668335021449797, 0.0009717207576689368, 2.9999999312459384, 27.637850013623737], ws=[18.29707676012354, 3.668335021449797, 0.0009717207576689368, 2.9999999312459384, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -2.046166530964772], res_norm=2.046e+00
2025-12-01 17:51:32,873 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:32,887 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:32,903 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:32,916 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:32,933 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:32,945 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:32,962 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:32,975 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:32,990 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:33,002 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:33,017 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:33,029 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:33,043 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:33,055 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:33,071 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:33,085 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:33,102 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:33,115 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:33,133 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:33,146 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:33,161 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:33,174 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:33,326 - INFO - integration_test - Step 102: MPC solve successful
2025-12-01 17:51:33,341 - INFO - integration_test - Step 102: Computed 6 numeric contouring constraints for visualization (s=18.174)
2025-12-01 17:51:33,341 - DEBUG - integration_test - Step 102: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:33,341 - INFO - integration_test - === Applying control at step 102 ===
2025-12-01 17:51:33,341 - INFO - integration_test -   Control dict from planner: {'a': 6.57145223133901e-07, 'w': 0.8000000075415906}
2025-12-01 17:51:33,341 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:33,341 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:33,342 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:33,343 - INFO - integration_test - Step 102 completed in 0.515s
2025-12-01 17:51:33,358 - INFO - integration_test - Step 103 (contouring until path end)
2025-12-01 17:51:33,358 - DEBUG - integration_test - Syncing planner state at step 103: vehicle_state=[17.69674551  3.67974527  0.08097172  3.         18.47388768]
2025-12-01 17:51:33,359 - INFO - integration_test - Step 103: Re-initialized spline from 18.4739 to 18.7797 (vehicle at (17.70, 3.68), closest path point at (17.70, 4.24), distance=0.562m)
2025-12-01 17:51:33,359 - DEBUG - integration_test -   Set spline state to 18.7797
2025-12-01 17:51:33,361 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:33,377 - DEBUG - integration_test - Step 103: Checking path alignment: vehicle=(17.697, 3.680), path_start=(0.000, 0.000), dist=18.075m
2025-12-01 17:51:33,377 - WARNING - integration_test - Could not update reference path at step 103: x and y must have the same length
2025-12-01 17:51:33,377 - INFO - integration_test - === Calling planner.solve_mpc() at step 103 ===
2025-12-01 17:51:33,381 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:33,383 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:33,383 - INFO - integration_test - Warmstart k=0: x0=17.696745512797072 , y0=3.679745274143093 , psi0=0.0809717215118282 , v0=2.9999999969604607 , spline0=18.779683936372322 , a0=0.0 , w0=0.0
2025-12-01 17:51:33,383 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:33,384 - INFO - integration_test - Dyn residual k=0: pred=[17.995762586756996, 3.704010255043013, 0.0809717215118282, 2.9999999969604607, 19.079683936068367], ws=[17.995762586756996, 3.704010255043013, 0.08097172151182841, 2.9999999969604607, 23.569952754574118], res=[0.0, 0.0, -2.0816681711721685e-16, 0.0, -4.490268818505751], res_norm=4.490e+00
2025-12-01 17:51:33,385 - INFO - integration_test - Dyn residual k=1: pred=[18.29477966071692, 3.728275235942933, 0.08097172151182841, 2.9999999969604607, 23.869952754270162], ws=[18.29477966071692, 3.728275235942933, 0.08097172151182797, 2.9999999969604607, 28.27322616012232], res=[0.0, 0.0, 4.440892098500626e-16, 0.0, -4.403273405852158], res_norm=4.403e+00
2025-12-01 17:51:33,386 - INFO - integration_test - Dyn residual k=2: pred=[18.593796734676843, 3.752540216842853, 0.08097172151182797, 2.9999999969604607, 28.573226159818365], ws=[18.593796734676843, 3.752540216842853, 0.08097172151182797, 2.9999999969604607, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -1.1107903847701444], res_norm=1.111e+00
2025-12-01 17:51:33,402 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:33,416 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:33,432 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:33,445 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:33,462 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:33,475 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:33,491 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:33,504 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:33,519 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:33,532 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:33,547 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:33,559 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:33,574 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:33,587 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:33,602 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:33,614 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:33,629 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:33,641 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:33,657 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:33,669 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:33,684 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:33,697 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:33,848 - INFO - integration_test - Step 103: MPC solve successful
2025-12-01 17:51:33,862 - INFO - integration_test - Step 103: Computed 6 numeric contouring constraints for visualization (s=18.780)
2025-12-01 17:51:33,862 - DEBUG - integration_test - Step 103: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:33,862 - INFO - integration_test - === Applying control at step 103 ===
2025-12-01 17:51:33,862 - INFO - integration_test -   Control dict from planner: {'a': 2.6670169459902644e-08, 'w': 0.7999994595788444}
2025-12-01 17:51:33,862 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:33,862 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:33,864 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:33,865 - INFO - integration_test - Step 103 completed in 0.507s
2025-12-01 17:51:33,878 - INFO - integration_test - Step 104 (contouring until path end)
2025-12-01 17:51:33,878 - DEBUG - integration_test - Syncing planner state at step 104: vehicle_state=[17.99447366  3.71593868  0.16097167  3.         19.07968394]
2025-12-01 17:51:33,879 - INFO - integration_test - Step 104: Re-initialized spline from 19.0797 to 18.7797 (vehicle at (17.99, 3.72), closest path point at (17.70, 4.24), distance=0.603m)
2025-12-01 17:51:33,879 - DEBUG - integration_test -   Set spline state to 18.7797
2025-12-01 17:51:33,882 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:33,897 - DEBUG - integration_test - Step 104: Checking path alignment: vehicle=(17.994, 3.716), path_start=(0.000, 0.000), dist=18.374m
2025-12-01 17:51:33,897 - WARNING - integration_test - Could not update reference path at step 104: x and y must have the same length
2025-12-01 17:51:33,897 - INFO - integration_test - === Calling planner.solve_mpc() at step 104 ===
2025-12-01 17:51:33,901 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:33,902 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:33,902 - INFO - integration_test - Warmstart k=0: x0=17.99447366101943 , y0=3.7159386784669066 , psi0=0.16097166746971264 , v0=2.9999999996274775 , spline0=18.779683936372322 , a0=0.0 , w0=0.0
2025-12-01 17:51:33,902 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:33,903 - INFO - integration_test - Dyn residual k=0: pred=[18.290595264895288, 3.7640218948281206, 0.16097166746971264, 2.9999999996274775, 19.07968393633507], ws=[18.290595264895288, 3.7640218948281206, 0.1609716674697128, 2.9999999996274775, 23.569952754840816], res=[0.0, 0.0, -1.6653345369377348e-16, 0.0, -4.490268818505747], res_norm=4.490e+00
2025-12-01 17:51:33,904 - INFO - integration_test - Dyn residual k=1: pred=[18.586716868771145, 3.8121051111893345, 0.1609716674697128, 2.9999999996274775, 23.869952754803563], ws=[18.586716868771145, 3.8121051111893345, 0.16097166746971237, 2.9999999996274775, 28.271442598904166], res=[0.0, 0.0, 4.440892098500626e-16, 0.0, -4.4014898441006025], res_norm=4.401e+00
2025-12-01 17:51:33,905 - INFO - integration_test - Dyn residual k=2: pred=[18.882838472647002, 3.8601883275505484, 0.16097166746971237, 2.9999999996274775, 28.571442598866913], ws=[18.882838472647002, 3.8601883275505484, 0.16097166746971237, 2.9999999996274775, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -1.1125739457215964], res_norm=1.113e+00
2025-12-01 17:51:33,922 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:33,935 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:33,951 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:33,965 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:33,982 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:33,995 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:34,012 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:34,024 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:34,039 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:34,052 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:34,067 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:34,080 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:34,095 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:34,107 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:34,122 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:34,134 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:34,151 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:34,164 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:34,180 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:34,193 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:34,208 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:34,219 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:34,368 - INFO - integration_test - Step 104: MPC solve successful
2025-12-01 17:51:34,384 - INFO - integration_test - Step 104: Computed 6 numeric contouring constraints for visualization (s=18.780)
2025-12-01 17:51:34,384 - DEBUG - integration_test - Step 104: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:34,384 - INFO - integration_test - === Applying control at step 104 ===
2025-12-01 17:51:34,384 - INFO - integration_test -   Control dict from planner: {'a': 1.5838706467309306e-07, 'w': 0.7999997789915191}
2025-12-01 17:51:34,384 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:34,384 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:34,386 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:34,386 - INFO - integration_test - Step 104 completed in 0.508s
2025-12-01 17:51:34,401 - INFO - integration_test - Step 105 (contouring until path end)
2025-12-01 17:51:34,402 - DEBUG - integration_test - Syncing planner state at step 105: vehicle_state=[18.28835721  3.77580917  0.24097165  3.00000002 19.07968394]
2025-12-01 17:51:34,402 - INFO - integration_test - Step 105: Re-initialized spline from 19.0797 to 19.3855 (vehicle at (18.29, 3.78), closest path point at (18.34, 4.31), distance=0.535m)
2025-12-01 17:51:34,402 - DEBUG - integration_test -   Set spline state to 19.3855
2025-12-01 17:51:34,405 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:34,421 - DEBUG - integration_test - Step 105: Checking path alignment: vehicle=(18.288, 3.776), path_start=(0.000, 0.000), dist=18.674m
2025-12-01 17:51:34,422 - WARNING - integration_test - Could not update reference path at step 105: x and y must have the same length
2025-12-01 17:51:34,422 - INFO - integration_test - === Calling planner.solve_mpc() at step 105 ===
2025-12-01 17:51:34,425 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:34,426 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:34,426 - INFO - integration_test - Warmstart k=0: x0=18.288357205473 , y0=3.7758091684969117 , psi0=0.24097164536886456 , v0=3.0 , spline0=19.385480192384332 , a0=0.0 , w0=0.0
2025-12-01 17:51:34,426 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:34,427 - INFO - integration_test - Dyn residual k=0: pred=[18.579689171587425, 3.847403061531894, 0.24097164536886456, 3.0, 19.685480192384333], ws=[18.579689171587425, 3.847403061531894, 0.24097164536886462, 3.0, 24.373545838119234], res=[0.0, 0.0, -5.551115123125783e-17, 0.0, -4.688065645734902], res_norm=4.688e+00
2025-12-01 17:51:34,428 - INFO - integration_test - Dyn residual k=1: pred=[18.87102113770185, 3.9189969545668766, 0.24097164536886462, 3.0, 24.673545838119235], ws=[18.87102113770185, 3.9189969545668766, 0.24097164536886462, 3.0, 29.139084517856475], res=[0.0, 0.0, 0.0, 0.0, -4.465538679737239], res_norm=4.466e+00
2025-12-01 17:51:34,429 - INFO - integration_test - Dyn residual k=2: pred=[19.162353103816272, 3.990590847601859, 0.24097164536886462, 3.0, 29.439084517856475], ws=[19.162353103816272, 3.990590847601859, 0.24097164536886462, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -0.24493202673203385], res_norm=2.449e-01
2025-12-01 17:51:34,446 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:34,459 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:34,479 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:34,492 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:34,509 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:34,521 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:34,537 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:34,549 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:34,564 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:34,577 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:34,592 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:34,605 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:34,620 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:34,632 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:34,646 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:34,659 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:34,674 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:34,686 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:34,701 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:34,714 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:34,728 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:34,741 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:34,922 - INFO - integration_test - Step 105: MPC solve successful
2025-12-01 17:51:34,937 - INFO - integration_test - Step 105: Computed 6 numeric contouring constraints for visualization (s=19.385)
2025-12-01 17:51:34,937 - DEBUG - integration_test - Step 105: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:34,937 - INFO - integration_test - === Applying control at step 105 ===
2025-12-01 17:51:34,938 - INFO - integration_test -   Control dict from planner: {'a': -4.914848269483961e-07, 'w': 0.7999949572511943}
2025-12-01 17:51:34,938 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:34,938 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:34,939 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:34,939 - INFO - integration_test - Step 105 completed in 0.538s
2025-12-01 17:51:34,956 - INFO - integration_test - Step 106 (contouring until path end)
2025-12-01 17:51:34,957 - DEBUG - integration_test - Syncing planner state at step 106: vehicle_state=[18.57651631  3.85897371  0.32097114  2.99999997 19.68548019]
2025-12-01 17:51:34,958 - INFO - integration_test - Step 106: Re-initialized spline from 19.6855 to 19.3855 (vehicle at (18.58, 3.86), closest path point at (18.34, 4.31), distance=0.506m)
2025-12-01 17:51:34,958 - DEBUG - integration_test -   Set spline state to 19.3855
2025-12-01 17:51:34,960 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:34,979 - DEBUG - integration_test - Step 106: Checking path alignment: vehicle=(18.577, 3.859), path_start=(0.000, 0.000), dist=18.973m
2025-12-01 17:51:34,979 - WARNING - integration_test - Could not update reference path at step 106: x and y must have the same length
2025-12-01 17:51:34,979 - INFO - integration_test - === Calling planner.solve_mpc() at step 106 ===
2025-12-01 17:51:34,983 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:34,984 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:34,984 - INFO - integration_test - Warmstart k=0: x0=18.5765163133765 , y0=3.858973712557618 , psi0=0.320971141093984 , v0=2.9999999663177013 , spline0=19.385480192384332 , a0=0.0 , w0=0.0
2025-12-01 17:51:34,984 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:34,986 - INFO - integration_test - Dyn residual k=0: pred=[18.861195154779566, 3.953620187592192, 0.320971141093984, 2.9999999663177013, 19.6854801890161], ws=[18.861195154779566, 3.953620187592192, 0.32097114109398417, 2.9999999663177013, 24.373545834751006], res=[0.0, 0.0, -1.6653345369377348e-16, 0.0, -4.6880656457349055], res_norm=4.688e+00
2025-12-01 17:51:34,987 - INFO - integration_test - Dyn residual k=1: pred=[19.14587399618263, 4.048266662626766, 0.32097114109398417, 2.9999999663177013, 24.673545831382775], ws=[19.14587399618263, 4.048266662626766, 0.3209711410939837, 2.9999999663177013, 29.137885582445325], res=[0.0, 0.0, 4.440892098500626e-16, 0.0, -4.46433975106255], res_norm=4.464e+00
2025-12-01 17:51:34,988 - INFO - integration_test - Dyn residual k=2: pred=[19.430552837585694, 4.142913137661339, 0.3209711410939837, 2.9999999663177013, 29.437885579077093], ws=[19.430552837585694, 4.142913137661339, 0.3209711410939837, 2.9999999663177013, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -0.24613096551141567], res_norm=2.461e-01
2025-12-01 17:51:35,005 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:35,018 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:35,034 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:35,048 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:35,064 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:35,077 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:35,092 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:35,104 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:35,119 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:35,131 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:35,146 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:35,158 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:35,173 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:35,185 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:35,200 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:35,212 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:35,235 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:35,248 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:35,264 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:35,276 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:35,291 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:35,303 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:35,495 - INFO - integration_test - Step 106: MPC solve successful
2025-12-01 17:51:35,509 - INFO - integration_test - Step 106: Computed 6 numeric contouring constraints for visualization (s=19.385)
2025-12-01 17:51:35,510 - DEBUG - integration_test - Step 106: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:35,510 - INFO - integration_test - === Applying control at step 106 ===
2025-12-01 17:51:35,510 - INFO - integration_test -   Control dict from planner: {'a': 4.244579014690815e-07, 'w': 0.8000000078615541}
2025-12-01 17:51:35,510 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:35,510 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:35,511 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:35,511 - INFO - integration_test - Step 106 completed in 0.554s
2025-12-01 17:51:35,524 - INFO - integration_test - Step 107 (contouring until path end)
2025-12-01 17:51:35,525 - DEBUG - integration_test - Syncing planner state at step 107: vehicle_state=[18.85710776  3.96490035  0.40097114  3.00000001 19.68548019]
2025-12-01 17:51:35,526 - DEBUG - integration_test - Step 107: Using propagated spline 19.6855 (close to path, dist=0.464m)
2025-12-01 17:51:35,526 - DEBUG - integration_test -   Set spline state to 19.6855
2025-12-01 17:51:35,528 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:35,543 - DEBUG - integration_test - Step 107: Checking path alignment: vehicle=(18.857, 3.965), path_start=(0.000, 0.000), dist=19.269m
2025-12-01 17:51:35,544 - WARNING - integration_test - Could not update reference path at step 107: x and y must have the same length
2025-12-01 17:51:35,544 - INFO - integration_test - === Calling planner.solve_mpc() at step 107 ===
2025-12-01 17:51:35,547 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:35,548 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:35,548 - INFO - integration_test - Warmstart k=0: x0=18.85710776012031 , y0=3.9649003478485536 , psi0=0.40097114188013944 , v0=3.0 , spline0=19.68548019326068 , a0=0.0 , w0=0.0
2025-12-01 17:51:35,548 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:35,549 - INFO - integration_test - Dyn residual k=0: pred=[19.133312473900506, 4.081994139680572, 0.40097114188013944, 3.0, 19.98548019326068], ws=[19.133312473900506, 4.081994139680572, 0.4009711418801394, 3.0, 24.7009392535352], res=[0.0, 0.0, 5.551115123125783e-17, 0.0, -4.715459060274519], res_norm=4.715e+00
2025-12-01 17:51:35,550 - INFO - integration_test - Dyn residual k=1: pred=[19.409517187680702, 4.19908793151259, 0.4009711418801394, 3.0, 25.0009392535352], ws=[19.409517187680702, 4.19908793151259, 0.4009711418801394, 3.0, 29.52910444194379], res=[0.0, 0.0, 0.0, 0.0, -4.52816518840859], res_norm=4.528e+00
2025-12-01 17:51:35,551 - INFO - integration_test - Dyn residual k=2: pred=[19.685721901460898, 4.3161817233446085, 0.4009711418801394, 3.0, 29.82910444194379], ws=[19.685721901460898, 4.3161817233446085, 0.4009711418801394, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.14508789735528183], res_norm=1.451e-01
2025-12-01 17:51:35,567 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:35,581 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:35,596 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:35,608 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:35,623 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:35,635 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:35,650 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:35,662 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:35,677 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:35,689 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:35,704 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:35,716 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:35,731 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:35,743 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:35,757 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:35,770 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:35,786 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:35,798 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:35,813 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:35,825 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:35,839 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:35,851 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:36,043 - INFO - integration_test - Step 107: MPC solve successful
2025-12-01 17:51:36,059 - INFO - integration_test - Step 107: Computed 6 numeric contouring constraints for visualization (s=19.685)
2025-12-01 17:51:36,059 - DEBUG - integration_test - Step 107: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:36,059 - INFO - integration_test - === Applying control at step 107 ===
2025-12-01 17:51:36,060 - INFO - integration_test -   Control dict from planner: {'a': 1.39730623316887e-07, 'w': 0.79999997525136}
2025-12-01 17:51:36,060 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:36,060 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:36,061 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:36,061 - INFO - integration_test - Step 107 completed in 0.536s
2025-12-01 17:51:36,077 - INFO - integration_test - Step 108 (contouring until path end)
2025-12-01 17:51:36,077 - DEBUG - integration_test - Syncing planner state at step 108: vehicle_state=[19.1283367   4.09291158  0.48097114  3.00000002 19.9854802 ]
2025-12-01 17:51:36,078 - DEBUG - integration_test - Step 108: Using propagated spline 19.9855 (close to path, dist=0.354m)
2025-12-01 17:51:36,078 - DEBUG - integration_test -   Set spline state to 19.9855
2025-12-01 17:51:36,080 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:36,096 - DEBUG - integration_test - Step 108: Checking path alignment: vehicle=(19.128, 4.093), path_start=(0.000, 0.000), dist=19.561m
2025-12-01 17:51:36,097 - WARNING - integration_test - Could not update reference path at step 108: x and y must have the same length
2025-12-01 17:51:36,097 - INFO - integration_test - === Calling planner.solve_mpc() at step 108 ===
2025-12-01 17:51:36,100 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:36,101 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:36,101 - INFO - integration_test - Warmstart k=0: x0=19.12833670103849 , y0=4.092911579206668 , psi0=0.4809711394052754 , v0=3.0 , spline0=19.985480195534336 , a0=0.0 , w0=0.0
2025-12-01 17:51:36,101 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:36,102 - INFO - integration_test - Dyn residual k=0: pred=[19.39430051682696, 4.231703685218632, 0.4809711394052754, 3.0, 20.285480195534337], ws=[19.39430051682696, 4.231703685218632, 0.4809711394052756, 3.0, 25.1510437524254], res=[0.0, 0.0, -1.6653345369377348e-16, 0.0, -4.865563556891065], res_norm=4.866e+00
2025-12-01 17:51:36,103 - INFO - integration_test - Dyn residual k=1: pred=[19.66026433261543, 4.370495791230595, 0.4809711394052756, 3.0, 25.451043752425402], ws=[19.66026433261543, 4.370495791230595, 0.4809711394052756, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -4.232972792163107], res_norm=4.233e+00
2025-12-01 17:51:36,104 - INFO - integration_test - Dyn residual k=2: pred=[19.9262281484039, 4.509287897242558, 0.4809711394052756, 3.0, 29.98401654458851], ws=[19.9262281484039, 4.509287897242558, 0.4809711394052756, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 17:51:36,120 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:36,133 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:36,149 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:36,162 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:36,179 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:36,192 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:36,207 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:36,219 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:36,233 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:36,245 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:36,260 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:36,273 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:36,288 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:36,300 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:36,315 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:36,326 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:36,341 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:36,354 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:36,369 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:36,381 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:36,396 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:36,408 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:36,568 - INFO - integration_test - Step 108: MPC solve successful
2025-12-01 17:51:36,586 - INFO - integration_test - Step 108: Computed 6 numeric contouring constraints for visualization (s=19.985)
2025-12-01 17:51:36,586 - DEBUG - integration_test - Step 108: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:36,586 - INFO - integration_test - === Applying control at step 108 ===
2025-12-01 17:51:36,586 - INFO - integration_test -   Control dict from planner: {'a': -4.878844615631324e-07, 'w': 0.799987287547006}
2025-12-01 17:51:36,586 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:36,586 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:36,587 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:36,588 - INFO - integration_test - Step 108 completed in 0.511s
2025-12-01 17:51:36,605 - INFO - integration_test - Step 109 (contouring until path end)
2025-12-01 17:51:36,606 - DEBUG - integration_test - Syncing planner state at step 109: vehicle_state=[19.38846829  4.24218841  0.56096987  2.99999997 20.28548019]
2025-12-01 17:51:36,606 - DEBUG - integration_test - Step 109: Using propagated spline 20.2855 (close to path, dist=0.377m)
2025-12-01 17:51:36,606 - DEBUG - integration_test -   Set spline state to 20.2855
2025-12-01 17:51:36,608 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:36,625 - DEBUG - integration_test - Step 109: Checking path alignment: vehicle=(19.388, 4.242), path_start=(0.000, 0.000), dist=19.847m
2025-12-01 17:51:36,626 - WARNING - integration_test - Could not update reference path at step 109: x and y must have the same length
2025-12-01 17:51:36,626 - INFO - integration_test - === Calling planner.solve_mpc() at step 109 ===
2025-12-01 17:51:36,628 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:36,630 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:36,630 - INFO - integration_test - Warmstart k=0: x0=19.388468289545973 , y0=4.242188405552177 , psi0=0.560969868159976 , v0=2.9999999739481074 , spline0=20.285480192929146 , a0=0.0 , w0=0.0
2025-12-01 17:51:36,630 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:36,631 - INFO - integration_test - Dyn residual k=0: pred=[19.64249014694936, 4.401790706281898, 0.560969868159976, 2.9999999739481074, 20.585480190323956], ws=[19.64249014694936, 4.401790706281898, 0.560969868159976, 2.9999999739481074, 25.475459636697806], res=[0.0, 0.0, 0.0, 0.0, -4.88997944637385], res_norm=4.890e+00
2025-12-01 17:51:36,632 - INFO - integration_test - Dyn residual k=1: pred=[19.896512004352747, 4.561393007011619, 0.560969868159976, 2.9999999739481074, 25.775459634092616], ws=[19.896512004352747, 4.561393007011619, 0.560969868159976, 2.9999999739481074, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -3.908556910495893], res_norm=3.909e+00
2025-12-01 17:51:36,633 - INFO - integration_test - Dyn residual k=2: pred=[20.150533861756134, 4.720995307741339, 0.560969868159976, 2.9999999739481074, 29.98401654198332], ws=[20.150533861756134, 4.720995307741339, 0.560969868159976, 2.9999999739481074, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.29999999739481], res_norm=3.000e-01
2025-12-01 17:51:36,649 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:36,662 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:36,679 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:36,691 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:36,706 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:36,719 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:36,734 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:36,746 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:36,761 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:36,774 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:36,789 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:36,801 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:36,816 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:36,828 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:36,842 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:36,854 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:36,869 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:36,882 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:36,897 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:36,909 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:36,924 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:36,936 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:37,133 - INFO - integration_test - Step 109: MPC solve successful
2025-12-01 17:51:37,150 - INFO - integration_test - Step 109: Computed 6 numeric contouring constraints for visualization (s=20.285)
2025-12-01 17:51:37,150 - DEBUG - integration_test - Step 109: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:37,150 - INFO - integration_test - === Applying control at step 109 ===
2025-12-01 17:51:37,150 - INFO - integration_test -   Control dict from planner: {'a': 3.7333498882512524e-07, 'w': 0.80000000420055}
2025-12-01 17:51:37,150 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:37,150 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:37,151 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:37,152 - INFO - integration_test - Step 109 completed in 0.546s
2025-12-01 17:51:37,166 - INFO - integration_test - Step 110 (contouring until path end)
2025-12-01 17:51:37,167 - DEBUG - integration_test - Syncing planner state at step 110: vehicle_state=[19.63583859  4.41177598  0.64096987  3.00000001 20.58548019]
2025-12-01 17:51:37,168 - DEBUG - integration_test - Step 110: Using propagated spline 20.5855 (close to path, dist=0.149m)
2025-12-01 17:51:37,168 - DEBUG - integration_test -   Set spline state to 20.5855
2025-12-01 17:51:37,170 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:37,186 - DEBUG - integration_test - Step 110: Checking path alignment: vehicle=(19.636, 4.412), path_start=(0.000, 0.000), dist=20.125m
2025-12-01 17:51:37,186 - WARNING - integration_test - Could not update reference path at step 110: x and y must have the same length
2025-12-01 17:51:37,186 - INFO - integration_test - === Calling planner.solve_mpc() at step 110 ===
2025-12-01 17:51:37,189 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:37,190 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:37,190 - INFO - integration_test - Warmstart k=0: x0=19.63583859409563 , y0=4.411775978155789 , psi0=0.6409698685800309 , v0=3.0 , spline0=20.585480194057308 , a0=0.0 , w0=0.0
2025-12-01 17:51:37,190 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:37,191 - INFO - integration_test - Dyn residual k=0: pred=[19.876293447986644, 4.591167904507708, 0.6409698685800309, 3.0, 20.88548019405731], ws=[19.876293447986644, 4.591167904507708, 0.6409698685800311, 3.0, 25.908631115489808], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, -5.023150921432499], res_norm=5.023e+00
2025-12-01 17:51:37,192 - INFO - integration_test - Dyn residual k=1: pred=[20.116748301877657, 4.770559830859628, 0.6409698685800311, 3.0, 26.20863111548981], ws=[20.116748301877657, 4.770559830859628, 0.6409698685800311, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -3.4753854290987007], res_norm=3.475e+00
2025-12-01 17:51:37,193 - INFO - integration_test - Dyn residual k=2: pred=[20.35720315576867, 4.949951757211547, 0.6409698685800311, 3.0, 29.98401654458851], ws=[20.35720315576867, 4.949951757211547, 0.6409698685800311, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 17:51:37,209 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:37,222 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:37,238 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:37,251 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:37,267 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:37,279 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:37,295 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:37,307 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:37,322 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:37,334 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:37,349 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:37,361 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:37,376 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:37,389 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:37,403 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:37,415 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:37,430 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:37,442 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:37,457 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:37,469 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:37,485 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:37,497 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:37,685 - INFO - integration_test - Step 110: MPC solve successful
2025-12-01 17:51:37,700 - INFO - integration_test - Step 110: Computed 6 numeric contouring constraints for visualization (s=20.585)
2025-12-01 17:51:37,701 - DEBUG - integration_test - Step 110: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:37,701 - INFO - integration_test - === Applying control at step 110 ===
2025-12-01 17:51:37,701 - INFO - integration_test -   Control dict from planner: {'a': 1.2231105725914656e-07, 'w': 0.7999999448439724}
2025-12-01 17:51:37,701 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:37,701 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:37,702 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:37,702 - INFO - integration_test - Step 110 completed in 0.535s
2025-12-01 17:51:37,716 - INFO - integration_test - Step 111 (contouring until path end)
2025-12-01 17:51:37,717 - DEBUG - integration_test - Syncing planner state at step 111: vehicle_state=[19.8688652   4.60058968  0.72096986  3.00000002 20.8854802 ]
2025-12-01 17:51:37,717 - DEBUG - integration_test - Step 111: Using propagated spline 20.8855 (close to path, dist=0.275m)
2025-12-01 17:51:37,717 - DEBUG - integration_test -   Set spline state to 20.8855
2025-12-01 17:51:37,719 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:37,734 - DEBUG - integration_test - Step 111: Checking path alignment: vehicle=(19.869, 4.601), path_start=(0.000, 0.000), dist=20.395m
2025-12-01 17:51:37,735 - WARNING - integration_test - Could not update reference path at step 111: x and y must have the same length
2025-12-01 17:51:37,735 - INFO - integration_test - === Calling planner.solve_mpc() at step 111 ===
2025-12-01 17:51:37,737 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:37,739 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:37,739 - INFO - integration_test - Warmstart k=0: x0=19.868865199219524 , y0=4.600589683040455 , psi0=0.7209698630644281 , v0=3.0 , spline0=20.88548019640858 , a0=0.0 , w0=0.0
2025-12-01 17:51:37,739 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:37,740 - INFO - integration_test - Dyn residual k=0: pred=[20.094214958064153, 4.798623736144124, 0.7209698630644281, 3.0, 21.18548019640858], ws=[20.094214958064153, 4.798623736144124, 0.7209698630644281, 3.0, 26.22999240242819], res=[0.0, 0.0, 0.0, 0.0, -5.044512206019611], res_norm=5.045e+00
2025-12-01 17:51:37,741 - INFO - integration_test - Dyn residual k=1: pred=[20.319564716908783, 4.996657789247794, 0.7209698630644281, 3.0, 26.529992402428192], ws=[20.319564716908783, 4.996657789247794, 0.7209698630644281, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -3.154024142160317], res_norm=3.154e+00
2025-12-01 17:51:37,741 - INFO - integration_test - Dyn residual k=2: pred=[20.544914475753412, 5.194691842351464, 0.7209698630644281, 3.0, 29.98401654458851], ws=[20.544914475753412, 5.194691842351464, 0.7209698630644281, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 17:51:37,757 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:37,772 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:37,789 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:37,801 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:37,817 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:37,829 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:37,844 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:37,856 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:37,872 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:37,884 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:37,899 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:37,911 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:37,926 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:37,938 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:37,953 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:37,966 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:37,981 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:37,993 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:38,009 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:38,021 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:38,035 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:38,048 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:38,253 - INFO - integration_test - Step 111: MPC solve successful
2025-12-01 17:51:38,269 - INFO - integration_test - Step 111: Computed 6 numeric contouring constraints for visualization (s=20.885)
2025-12-01 17:51:38,269 - DEBUG - integration_test - Step 111: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:38,269 - INFO - integration_test - === Applying control at step 111 ===
2025-12-01 17:51:38,269 - INFO - integration_test -   Control dict from planner: {'a': 4.288929279511072e-08, 'w': 0.7999999957095184}
2025-12-01 17:51:38,269 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:38,269 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:38,270 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:38,271 - INFO - integration_test - Step 111 completed in 0.554s
2025-12-01 17:51:38,288 - INFO - integration_test - Step 112 (contouring until path end)
2025-12-01 17:51:38,289 - DEBUG - integration_test - Syncing planner state at step 112: vehicle_state=[20.08605753  4.80742176  0.80096986  3.00000003 21.1854802 ]
2025-12-01 17:51:38,290 - DEBUG - integration_test - Step 112: Using propagated spline 21.1855 (close to path, dist=0.136m)
2025-12-01 17:51:38,290 - DEBUG - integration_test -   Set spline state to 21.1855
2025-12-01 17:51:38,292 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:38,307 - DEBUG - integration_test - Step 112: Checking path alignment: vehicle=(20.086, 4.807), path_start=(0.000, 0.000), dist=20.653m
2025-12-01 17:51:38,307 - WARNING - integration_test - Could not update reference path at step 112: x and y must have the same length
2025-12-01 17:51:38,307 - INFO - integration_test - === Calling planner.solve_mpc() at step 112 ===
2025-12-01 17:51:38,310 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:38,311 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:38,311 - INFO - integration_test - Warmstart k=0: x0=20.086057528586945 , y0=4.807421755991025 , psi0=0.80096986263538 , v0=3.0 , spline0=21.185480199188742 , a0=0.0 , w0=0.0
2025-12-01 17:51:38,311 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:38,312 - INFO - integration_test - Dyn residual k=0: pred=[20.294860722061323, 5.0228311949552955, 0.80096986263538, 3.0, 21.485480199188743], ws=[20.294860722061323, 5.0228311949552955, 0.8009698626353798, 3.0, 26.646315352033017], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -5.160835152844275], res_norm=5.161e+00
2025-12-01 17:51:38,313 - INFO - integration_test - Dyn residual k=1: pred=[20.5036639155357, 5.238240633919566, 0.8009698626353798, 3.0, 26.946315352033018], ws=[20.5036639155357, 5.238240633919566, 0.8009698626353798, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -2.737701192555491], res_norm=2.738e+00
2025-12-01 17:51:38,314 - INFO - integration_test - Dyn residual k=2: pred=[20.712467109010078, 5.453650072883836, 0.8009698626353798, 3.0, 29.98401654458851], ws=[20.712467109010078, 5.453650072883836, 0.8009698626353798, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 17:51:38,330 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:38,342 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:38,357 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:38,370 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:38,385 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:38,398 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:38,413 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:38,425 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:38,440 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:38,452 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:38,467 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:38,480 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:38,495 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:38,507 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:38,522 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:38,535 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:38,549 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:38,561 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:38,578 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:38,590 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:38,606 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:38,618 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:39,836 - WARNING - integration_test - Step 112: MPC solve failed
2025-12-01 17:51:39,836 - WARNING - integration_test -   Consecutive MPC failures: 1/50
2025-12-01 17:51:39,846 - INFO - integration_test - Step 112: Computed 6 numeric contouring constraints for visualization (s=21.185)
2025-12-01 17:51:39,846 - DEBUG - integration_test - Step 112: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:39,847 - INFO - integration_test - === Applying control at step 112 ===
2025-12-01 17:51:39,847 - INFO - integration_test -   Control dict from planner: {'a': 4.288929279511072e-08, 'w': 0.7999999957095184}
2025-12-01 17:51:39,847 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:39,847 - INFO - integration_test -   Planner output success: False
2025-12-01 17:51:39,848 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:39,848 - INFO - integration_test - Step 112 completed in 1.559s
2025-12-01 17:51:39,859 - INFO - integration_test - Step 113 (contouring until path end)
2025-12-01 17:51:39,859 - DEBUG - integration_test - Syncing planner state at step 113: vehicle_state=[20.28602629  5.03094918  0.88096986  3.00000003 21.4854802 ]
2025-12-01 17:51:39,860 - DEBUG - integration_test - Step 113: Using propagated spline 21.4855 (close to path, dist=0.310m)
2025-12-01 17:51:39,860 - DEBUG - integration_test -   Set spline state to 21.4855
2025-12-01 17:51:39,862 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:39,877 - DEBUG - integration_test - Step 113: Checking path alignment: vehicle=(20.286, 5.031), path_start=(0.000, 0.000), dist=20.901m
2025-12-01 17:51:39,878 - WARNING - integration_test - Could not update reference path at step 113: x and y must have the same length
2025-12-01 17:51:39,878 - INFO - integration_test - === Calling planner.solve_mpc() at step 113 ===
2025-12-01 17:51:39,880 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:39,882 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:39,882 - INFO - integration_test - Warmstart k=0: x0=20.286026291665166 , y0=5.030949177993879 , psi0=0.8809698622063318 , v0=3.0 , spline0=21.4854802023978 , a0=0.0 , w0=0.0
2025-12-01 17:51:39,882 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:39,883 - INFO - integration_test - Dyn residual k=0: pred=[20.476947291908246, 5.26235611753153, 0.8809698622063318, 3.0, 21.7854802023978], ws=[20.476947291908246, 5.26235611753153, 0.8809698622063316, 3.0, 26.96498157039145], res=[0.0, 0.0, 2.220446049250313e-16, 0.0, -5.179501367993652], res_norm=5.180e+00
2025-12-01 17:51:39,884 - INFO - integration_test - Dyn residual k=1: pred=[20.667868292151326, 5.493763057069181, 0.8809698622063316, 3.0, 27.264981570391452], ws=[20.667868292151326, 5.493763057069181, 0.8809698622063316, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -2.419034974197057], res_norm=2.419e+00
2025-12-01 17:51:39,885 - INFO - integration_test - Dyn residual k=2: pred=[20.858789292394405, 5.725169996606832, 0.8809698622063316, 3.0, 29.98401654458851], ws=[20.858789292394405, 5.725169996606832, 0.8809698622063316, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 17:51:39,900 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:39,912 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:39,928 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:39,941 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:39,956 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:39,969 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:39,984 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:39,996 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:40,012 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:40,024 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:40,039 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:40,051 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:40,065 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:40,078 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:40,093 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:40,105 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:40,120 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:40,132 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:40,148 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:40,161 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:40,178 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:40,191 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:40,359 - INFO - integration_test - Step 113: MPC solve successful
2025-12-01 17:51:40,375 - INFO - integration_test - Step 113: Computed 6 numeric contouring constraints for visualization (s=21.485)
2025-12-01 17:51:40,375 - DEBUG - integration_test - Step 113: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:40,375 - INFO - integration_test - === Applying control at step 113 ===
2025-12-01 17:51:40,375 - INFO - integration_test -   Control dict from planner: {'a': -1.5922161164314635e-06, 'w': -0.7999946601197987}
2025-12-01 17:51:40,375 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:40,375 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:40,376 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:40,377 - INFO - integration_test - Step 113 completed in 0.517s
2025-12-01 17:51:40,391 - INFO - integration_test - Step 114 (contouring until path end)
2025-12-01 17:51:40,392 - DEBUG - integration_test - Syncing planner state at step 114: vehicle_state=[20.48599499  5.25447665  0.8009704   2.99999987 21.78548019]
2025-12-01 17:51:40,393 - DEBUG - integration_test - Step 114: Using propagated spline 21.7855 (close to path, dist=0.430m)
2025-12-01 17:51:40,393 - DEBUG - integration_test -   Set spline state to 21.7855
2025-12-01 17:51:40,395 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:40,410 - DEBUG - integration_test - Step 114: Checking path alignment: vehicle=(20.486, 5.254), path_start=(0.000, 0.000), dist=21.149m
2025-12-01 17:51:40,411 - WARNING - integration_test - Could not update reference path at step 114: x and y must have the same length
2025-12-01 17:51:40,411 - INFO - integration_test - === Calling planner.solve_mpc() at step 114 ===
2025-12-01 17:51:40,414 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:40,415 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:40,415 - INFO - integration_test - Warmstart k=0: x0=20.485994990581574 , y0=5.254476648436283 , psi0=0.800970396194352 , v0=2.999999872868959 , spline0=21.785480189684694 , a0=0.0 , w0=0.0
2025-12-01 17:51:40,415 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:40,416 - INFO - integration_test - Dyn residual k=0: pred=[20.694798060273833, 5.469886189680926, 0.800970396194352, 2.999999872868959, 22.08548017697159], ws=[20.694798060273833, 5.469886189680926, 0.800970396194352, 2.999999872868959, 27.366547924999065], res=[0.0, 0.0, 0.0, 0.0, -5.281067748027475], res_norm=5.281e+00
2025-12-01 17:51:40,417 - INFO - integration_test - Dyn residual k=1: pred=[20.90360112996609, 5.685295730925569, 0.800970396194352, 2.999999872868959, 27.66654791228596], ws=[20.90360112996609, 5.685295730925569, 0.800970396194352, 2.999999872868959, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -2.017468632302549], res_norm=2.017e+00
2025-12-01 17:51:40,418 - INFO - integration_test - Dyn residual k=2: pred=[21.11240419965835, 5.900705272170212, 0.800970396194352, 2.999999872868959, 29.984016531875405], ws=[21.11240419965835, 5.900705272170212, 0.800970396194352, 2.999999872868959, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.2999999872868955], res_norm=3.000e-01
2025-12-01 17:51:40,435 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:40,449 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:40,467 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:40,481 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:40,497 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:40,510 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:40,527 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:40,540 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:40,555 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:40,568 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:40,583 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:40,595 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:40,611 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:40,623 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:40,638 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:40,649 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:40,664 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:40,677 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:40,692 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:40,705 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:40,720 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:40,732 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:45,886 - WARNING - integration_test - Step 114: MPC solve failed
2025-12-01 17:51:45,886 - WARNING - integration_test -   Consecutive MPC failures: 1/50
2025-12-01 17:51:45,897 - INFO - integration_test - Step 114: Computed 6 numeric contouring constraints for visualization (s=21.785)
2025-12-01 17:51:45,897 - DEBUG - integration_test - Step 114: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:45,897 - INFO - integration_test - === Applying control at step 114 ===
2025-12-01 17:51:45,897 - INFO - integration_test -   Control dict from planner: {'a': -1.5922161164314635e-06, 'w': -0.7999946601197987}
2025-12-01 17:51:45,897 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:45,897 - INFO - integration_test -   Planner output success: False
2025-12-01 17:51:45,898 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:45,899 - INFO - integration_test - Step 114 completed in 5.507s
2025-12-01 17:51:45,910 - INFO - integration_test - Step 115 (contouring until path end)
2025-12-01 17:51:45,910 - DEBUG - integration_test - Syncing planner state at step 115: vehicle_state=[20.70318714  5.46130888  0.72097093  2.99999971 22.08548016]
2025-12-01 17:51:45,911 - INFO - integration_test - Step 115: Re-initialized spline from 22.0855 to 22.4145 (vehicle at (20.70, 5.46), closest path point at (20.96, 5.01), distance=0.516m)
2025-12-01 17:51:45,911 - DEBUG - integration_test -   Set spline state to 22.4145
2025-12-01 17:51:45,912 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:45,927 - DEBUG - integration_test - Step 115: Checking path alignment: vehicle=(20.703, 5.461), path_start=(0.000, 0.000), dist=21.411m
2025-12-01 17:51:45,927 - WARNING - integration_test - Could not update reference path at step 115: x and y must have the same length
2025-12-01 17:51:45,927 - INFO - integration_test - === Calling planner.solve_mpc() at step 115 ===
2025-12-01 17:51:45,930 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:45,931 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:45,931 - INFO - integration_test - Warmstart k=0: x0=20.703187138289532 , y0=5.461308880002114 , psi0=0.7209709301823721 , v0=2.9999997136473477 , spline0=22.414461472444383 , a0=0.0 , w0=0.0
2025-12-01 17:51:45,931 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:45,932 - INFO - integration_test - Dyn residual k=0: pred=[20.92853666429853, 5.659343154677893, 0.7209709301823721, 2.9999997136473477, 22.714461443809117], ws=[20.92853666429853, 5.659343154677893, 0.7209709301823723, 2.9999997136473477, 28.03887023031865], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, -5.324408786509533], res_norm=5.324e+00
2025-12-01 17:51:45,933 - INFO - integration_test - Dyn residual k=1: pred=[21.153886190307528, 5.857377429353673, 0.7209709301823723, 2.9999997136473477, 28.338870201683385], ws=[21.153886190307528, 5.857377429353673, 0.7209709301823723, 2.9999997136473477, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -1.3451463429051245], res_norm=1.345e+00
2025-12-01 17:51:45,934 - INFO - integration_test - Dyn residual k=2: pred=[21.379235716316526, 6.055411704029453, 0.7209709301823723, 2.9999997136473477, 29.984016515953243], ws=[21.379235716316526, 6.055411704029453, 0.7209709301823723, 2.9999997136473477, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.2999999713647341], res_norm=3.000e-01
2025-12-01 17:51:45,949 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:45,961 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:45,977 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:45,989 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:46,004 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:46,016 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:46,031 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:46,043 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:46,058 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:46,070 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:46,086 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:46,098 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:46,113 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:46,125 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:46,140 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:46,152 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:46,167 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:46,180 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:46,197 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:46,210 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:46,226 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:46,239 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:46,461 - INFO - integration_test - Step 115: MPC solve successful
2025-12-01 17:51:46,476 - INFO - integration_test - Step 115: Computed 6 numeric contouring constraints for visualization (s=22.414)
2025-12-01 17:51:46,476 - DEBUG - integration_test - Step 115: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:46,476 - INFO - integration_test - === Applying control at step 115 ===
2025-12-01 17:51:46,476 - INFO - integration_test -   Control dict from planner: {'a': -2.000000012570399, 'w': -0.7999998452699653}
2025-12-01 17:51:46,476 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:46,476 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:46,477 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:46,478 - INFO - integration_test - Step 115 completed in 0.568s
2025-12-01 17:51:46,492 - INFO - integration_test - Step 116 (contouring until path end)
2025-12-01 17:51:46,493 - DEBUG - integration_test - Syncing planner state at step 116: vehicle_state=[20.92836205  5.64393258  0.64097095  2.79999971 22.69446144]
2025-12-01 17:51:46,493 - INFO - integration_test - Step 116: Re-initialized spline from 22.6945 to 22.4145 (vehicle at (20.93, 5.64), closest path point at (20.96, 5.01), distance=0.630m)
2025-12-01 17:51:46,493 - DEBUG - integration_test -   Set spline state to 22.4145
2025-12-01 17:51:46,496 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:46,511 - DEBUG - integration_test - Step 116: Checking path alignment: vehicle=(20.928, 5.644), path_start=(0.000, 0.000), dist=21.676m
2025-12-01 17:51:46,512 - WARNING - integration_test - Could not update reference path at step 116: x and y must have the same length
2025-12-01 17:51:46,512 - INFO - integration_test - === Calling planner.solve_mpc() at step 116 ===
2025-12-01 17:51:46,515 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:46,516 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:46,516 - INFO - integration_test - Warmstart k=0: x0=20.928362053356583 , y0=5.6439325843775014 , psi0=0.6409709456553756 , v0=2.7999997123903078 , spline0=22.414461472444383 , a0=0.0 , w0=0.0
2025-12-01 17:51:46,516 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:46,517 - INFO - integration_test - Dyn residual k=0: pred=[21.15278638026499, 5.811365273496347, 0.6409709456553756, 2.7999997123903078, 22.694461443683416], ws=[21.15278638026499, 5.811365273496347, 0.6409709456553756, 2.7999997123903078, 28.01887023019295], res=[0.0, 0.0, 0.0, 0.0, -5.324408786509533], res_norm=5.324e+00
2025-12-01 17:51:46,519 - INFO - integration_test - Dyn residual k=1: pred=[21.377210707173393, 5.978797962615192, 0.6409709456553756, 2.7999997123903078, 28.29887020143198], ws=[21.377210707173393, 5.978797962615192, 0.6409709456553756, 2.7999997123903078, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -1.3851463431565278], res_norm=1.385e+00
2025-12-01 17:51:46,519 - INFO - integration_test - Dyn residual k=2: pred=[21.6016350340818, 6.1462306517340375, 0.6409709456553756, 2.7999997123903078, 29.96401651582754], ws=[21.6016350340818, 6.1462306517340375, 0.6409709456553756, 2.7999997123903078, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.2799999712390324], res_norm=2.800e-01
2025-12-01 17:51:46,536 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:46,549 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:46,566 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:46,580 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:46,597 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:46,610 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:46,625 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:46,637 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:46,652 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:46,665 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:46,680 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:46,693 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:46,708 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:46,720 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:46,735 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:46,747 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:46,762 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:46,774 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:46,790 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:46,802 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:46,817 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:46,829 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:47,032 - INFO - integration_test - Step 116: MPC solve successful
2025-12-01 17:51:47,048 - INFO - integration_test - Step 116: Computed 6 numeric contouring constraints for visualization (s=22.414)
2025-12-01 17:51:47,048 - DEBUG - integration_test - Step 116: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:47,048 - INFO - integration_test - === Applying control at step 116 ===
2025-12-01 17:51:47,048 - INFO - integration_test -   Control dict from planner: {'a': -2.000000019996617, 'w': -0.800000009894552}
2025-12-01 17:51:47,048 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:47,048 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:47,049 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:47,050 - INFO - integration_test - Step 116 completed in 0.557s
2025-12-01 17:51:47,064 - INFO - integration_test - Step 117 (contouring until path end)
2025-12-01 17:51:47,065 - DEBUG - integration_test - Syncing planner state at step 117: vehicle_state=[21.15091977  5.79667157  0.56097094  2.59999971 22.67446144]
2025-12-01 17:51:47,066 - INFO - integration_test - Step 117: Re-initialized spline from 22.6745 to 23.0203 (vehicle at (21.15, 5.80), closest path point at (21.52, 5.26), distance=0.651m)
2025-12-01 17:51:47,067 - DEBUG - integration_test -   Set spline state to 23.0203
2025-12-01 17:51:47,069 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:47,084 - DEBUG - integration_test - Step 117: Checking path alignment: vehicle=(21.151, 5.797), path_start=(0.000, 0.000), dist=21.931m
2025-12-01 17:51:47,084 - WARNING - integration_test - Could not update reference path at step 117: x and y must have the same length
2025-12-01 17:51:47,084 - INFO - integration_test - === Calling planner.solve_mpc() at step 117 ===
2025-12-01 17:51:47,087 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:47,088 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:47,088 - INFO - integration_test - Warmstart k=0: x0=21.150919767490286 , y0=5.796671565769469 , psi0=0.5609709446659203 , v0=2.5999997103906463 , spline0=23.020257728456393 , a0=0.0 , w0=0.0
2025-12-01 17:51:47,088 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:47,089 - INFO - integration_test - Dyn residual k=0: pred=[21.37107187239142, 5.934993782524101, 0.5609709446659203, 2.5999997103906463, 23.280257699495458], ws=[21.37107187239142, 5.934993782524101, 0.5609709446659203, 2.5999997103906463, 28.709487808750147], res=[0.0, 0.0, 0.0, 0.0, -5.429230109254689], res_norm=5.429e+00
2025-12-01 17:51:47,090 - INFO - integration_test - Dyn residual k=1: pred=[21.59122397729255, 6.073315999278733, 0.5609709446659203, 2.5999997103906463, 28.969487779789212], ws=[21.59122397729255, 6.073315999278733, 0.5609709446659203, 2.5999997103906463, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -0.7145287647992973], res_norm=7.145e-01
2025-12-01 17:51:47,091 - INFO - integration_test - Dyn residual k=2: pred=[21.811376082193682, 6.211638216033364, 0.5609709446659203, 2.5999997103906463, 29.944016515627574], ws=[21.811376082193682, 6.211638216033364, 0.5609709446659203, 2.5999997103906463, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.2599999710390648], res_norm=2.600e-01
2025-12-01 17:51:47,107 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:47,120 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:47,135 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:47,147 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:47,163 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:47,175 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:47,191 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:47,203 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:47,218 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:47,230 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:47,245 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:47,257 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:47,273 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:47,287 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:47,304 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:47,316 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:47,331 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:47,343 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:47,358 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:47,371 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:47,387 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:47,400 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:47,665 - INFO - integration_test - Step 117: MPC solve successful
2025-12-01 17:51:47,680 - INFO - integration_test - Step 117: Computed 6 numeric contouring constraints for visualization (s=23.020)
2025-12-01 17:51:47,681 - DEBUG - integration_test - Step 117: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:47,681 - INFO - integration_test - === Applying control at step 117 ===
2025-12-01 17:51:47,681 - INFO - integration_test -   Control dict from planner: {'a': -2.0000000199982457, 'w': -0.8000000098397597}
2025-12-01 17:51:47,681 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:47,681 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:47,682 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:47,682 - INFO - integration_test - Step 117 completed in 0.618s
2025-12-01 17:51:47,693 - INFO - integration_test - Step 118 (contouring until path end)
2025-12-01 17:51:47,694 - DEBUG - integration_test - Syncing planner state at step 118: vehicle_state=[21.36762966  5.92118462  0.48097094  2.39999971 23.2602577 ]
2025-12-01 17:51:47,695 - INFO - integration_test - Step 118: Re-initialized spline from 23.2603 to 23.0203 (vehicle at (21.37, 5.92), closest path point at (21.52, 5.26), distance=0.679m)
2025-12-01 17:51:47,695 - DEBUG - integration_test -   Set spline state to 23.0203
2025-12-01 17:51:47,697 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:47,711 - DEBUG - integration_test - Step 118: Checking path alignment: vehicle=(21.368, 5.921), path_start=(0.000, 0.000), dist=22.173m
2025-12-01 17:51:47,712 - WARNING - integration_test - Could not update reference path at step 118: x and y must have the same length
2025-12-01 17:51:47,712 - INFO - integration_test - === Calling planner.solve_mpc() at step 118 ===
2025-12-01 17:51:47,715 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:47,716 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:47,716 - INFO - integration_test - Warmstart k=0: x0=21.367629664224737 , y0=5.921184615110664 , psi0=0.4809709436819444 , v0=2.3999997083908218 , spline0=23.020257728456393 , a0=0.0 , w0=0.0
2025-12-01 17:51:47,716 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:47,717 - INFO - integration_test - Dyn residual k=0: pred=[21.580400712734892, 6.032218244784961, 0.4809709436819444, 2.3999997083908218, 23.260257699295476], ws=[21.580400712734892, 6.032218244784961, 0.48097094368194426, 2.3999997083908218, 28.68948780855017], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -5.429230109254693], res_norm=5.429e+00
2025-12-01 17:51:47,718 - INFO - integration_test - Dyn residual k=1: pred=[21.79317176124505, 6.143251874459257, 0.48097094368194426, 2.3999997083908218, 28.92948777938925], ws=[21.79317176124505, 6.143251874459257, 0.48097094368194426, 2.3999997083908218, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -0.7545287651992574], res_norm=7.545e-01
2025-12-01 17:51:47,719 - INFO - integration_test - Dyn residual k=2: pred=[22.005942809755204, 6.254285504133554, 0.48097094368194426, 2.3999997083908218, 29.924016515427592], ws=[22.005942809755204, 6.254285504133554, 0.48097094368194426, 2.3999997083908218, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.23999997083908298], res_norm=2.400e-01
2025-12-01 17:51:47,734 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:47,746 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:47,762 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:47,775 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:47,791 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:47,804 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:47,819 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:47,832 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:47,846 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:47,858 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:47,873 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:47,885 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:47,900 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:47,913 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:47,928 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:47,940 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:47,955 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:47,968 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:47,983 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:47,996 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:48,011 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:48,023 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:48,243 - INFO - integration_test - Step 118: MPC solve successful
2025-12-01 17:51:48,258 - INFO - integration_test - Step 118: Computed 6 numeric contouring constraints for visualization (s=23.020)
2025-12-01 17:51:48,258 - DEBUG - integration_test - Step 118: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:48,258 - INFO - integration_test - === Applying control at step 118 ===
2025-12-01 17:51:48,258 - INFO - integration_test -   Control dict from planner: {'a': -2.000000019975456, 'w': -0.8000000062544554}
2025-12-01 17:51:48,258 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:48,258 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:48,259 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:48,260 - INFO - integration_test - Step 118 completed in 0.566s
2025-12-01 17:51:48,277 - INFO - integration_test - Step 119 (contouring until path end)
2025-12-01 17:51:48,278 - DEBUG - integration_test - Syncing planner state at step 119: vehicle_state=[21.57551495  6.01944705  0.40097094  2.19999971 23.2402577 ]
2025-12-01 17:51:48,278 - INFO - integration_test - Step 119: Re-initialized spline from 23.2403 to 23.6261 (vehicle at (21.58, 6.02), closest path point at (22.06, 5.53), distance=0.689m)
2025-12-01 17:51:48,278 - DEBUG - integration_test -   Set spline state to 23.6261
2025-12-01 17:51:48,280 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:48,296 - DEBUG - integration_test - Step 119: Checking path alignment: vehicle=(21.576, 6.019), path_start=(0.000, 0.000), dist=22.399m
2025-12-01 17:51:48,297 - WARNING - integration_test - Could not update reference path at step 119: x and y must have the same length
2025-12-01 17:51:48,297 - INFO - integration_test - === Calling planner.solve_mpc() at step 119 ===
2025-12-01 17:51:48,300 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:48,301 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:48,301 - INFO - integration_test - Warmstart k=0: x0=21.57551495021855 , y0=6.019447051327962 , psi0=0.40097094305649883 , v0=2.1999997063932764 , spline0=23.626053984468406 , a0=0.0 , w0=0.0
2025-12-01 17:51:48,301 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:48,302 - INFO - integration_test - Dyn residual k=0: pred=[21.778065063698246, 6.105315780273185, 0.40097094305649883, 2.1999997063932764, 23.846053955107735], ws=[21.778065063698246, 6.105315780273185, 0.4009709430564987, 2.1999997063932764, 29.37226648829518], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -5.526212533187444], res_norm=5.526e+00
2025-12-01 17:51:48,303 - INFO - integration_test - Dyn residual k=1: pred=[21.980615177177942, 6.191184509218408, 0.4009709430564987, 2.1999997063932764, 29.592266458934507], ws=[21.980615177177942, 6.191184509218408, 0.4009709430564987, 2.1999997063932764, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -0.09175008565400233], res_norm=9.175e-02
2025-12-01 17:51:48,304 - INFO - integration_test - Dyn residual k=2: pred=[22.183165290657637, 6.277053238163631, 0.4009709430564987, 2.1999997063932764, 29.904016515227838], ws=[22.183165290657637, 6.277053238163631, 0.4009709430564987, 2.1999997063932764, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.21999997063932852], res_norm=2.200e-01
2025-12-01 17:51:48,320 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:48,334 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:48,350 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:48,362 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:48,379 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:48,392 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:48,407 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:48,419 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:48,434 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:48,446 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:48,462 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:48,475 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:48,490 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:48,502 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:48,517 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:48,529 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:48,544 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:48,556 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:48,572 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:48,585 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:48,600 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:48,612 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:48,913 - INFO - integration_test - Step 119: MPC solve successful
2025-12-01 17:51:48,928 - INFO - integration_test - Step 119: Computed 6 numeric contouring constraints for visualization (s=23.626)
2025-12-01 17:51:48,928 - DEBUG - integration_test - Step 119: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:48,928 - INFO - integration_test - === Applying control at step 119 ===
2025-12-01 17:51:48,928 - INFO - integration_test -   Control dict from planner: {'a': 1.9999986637173441, 'w': 0.799892440569872}
2025-12-01 17:51:48,929 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:48,929 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:48,930 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:48,931 - INFO - integration_test - Step 119 completed in 0.653s
2025-12-01 17:51:48,943 - INFO - integration_test - Step 120 (contouring until path end)
2025-12-01 17:51:48,944 - DEBUG - integration_test - Syncing planner state at step 120: vehicle_state=[21.78340078  6.11770836  0.48096019  2.39999957 23.86605394]
2025-12-01 17:51:48,945 - INFO - integration_test - Step 120: Re-initialized spline from 23.8661 to 23.6261 (vehicle at (21.78, 6.12), closest path point at (22.06, 5.53), distance=0.651m)
2025-12-01 17:51:48,945 - DEBUG - integration_test -   Set spline state to 23.6261
2025-12-01 17:51:48,947 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:48,963 - DEBUG - integration_test - Step 120: Checking path alignment: vehicle=(21.783, 6.118), path_start=(0.000, 0.000), dist=22.626m
2025-12-01 17:51:48,964 - WARNING - integration_test - Could not update reference path at step 120: x and y must have the same length
2025-12-01 17:51:48,964 - INFO - integration_test - === Calling planner.solve_mpc() at step 120 ===
2025-12-01 17:51:48,967 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:48,969 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:48,969 - INFO - integration_test - Warmstart k=0: x0=21.78340078115657 , y0=6.117708357339932 , psi0=0.48096018711348604 , v0=2.3999995727650107 , spline0=23.626053984468406 , a0=0.0 , w0=0.0
2025-12-01 17:51:48,969 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:48,970 - INFO - integration_test - Dyn residual k=0: pred=[21.996173011971333, 6.22873969204699, 0.48096018711348604, 2.3999995727650107, 23.86605394174491], ws=[21.996173011971333, 6.22873969204699, 0.4809601871134861, 2.3999995727650107, 29.392266474932352], res=[0.0, 0.0, -5.551115123125783e-17, 0.0, -5.526212533187444], res_norm=5.526e+00
2025-12-01 17:51:48,971 - INFO - integration_test - Dyn residual k=1: pred=[22.208945242786097, 6.339771026754049, 0.4809601871134861, 2.3999995727650107, 29.632266432208855], ws=[22.208945242786097, 6.339771026754049, 0.4809601871134861, 2.3999995727650107, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -0.05175011237965421], res_norm=5.175e-02
2025-12-01 17:51:48,972 - INFO - integration_test - Dyn residual k=2: pred=[22.42171747360086, 6.450802361461107, 0.4809601871134861, 2.3999995727650107, 29.92401650186501], ws=[22.42171747360086, 6.450802361461107, 0.4809601871134861, 2.3999995727650107, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.23999995727650258], res_norm=2.400e-01
2025-12-01 17:51:48,989 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:49,003 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:49,019 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:49,032 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:49,048 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:49,060 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:49,076 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:49,089 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:49,104 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:49,118 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:49,133 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:49,144 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:49,159 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:49,172 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:49,187 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:49,199 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:49,214 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:49,226 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:49,241 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:49,253 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:49,268 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:49,281 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:49,580 - INFO - integration_test - Step 120: MPC solve successful
2025-12-01 17:51:49,595 - INFO - integration_test - Step 120: Computed 6 numeric contouring constraints for visualization (s=23.626)
2025-12-01 17:51:49,595 - DEBUG - integration_test - Step 120: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:49,595 - INFO - integration_test - === Applying control at step 120 ===
2025-12-01 17:51:49,595 - INFO - integration_test -   Control dict from planner: {'a': 1.999499194572735, 'w': -0.09820701739448222}
2025-12-01 17:51:49,595 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:49,595 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:49,597 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:49,597 - INFO - integration_test - Step 120 completed in 0.653s
2025-12-01 17:51:49,609 - INFO - integration_test - Step 121 (contouring until path end)
2025-12-01 17:51:49,610 - DEBUG - integration_test - Syncing planner state at step 121: vehicle_state=[22.00560815  6.23226014  0.47113949  2.59994949 23.88604893]
2025-12-01 17:51:49,611 - INFO - integration_test - Step 121: Re-initialized spline from 23.8860 to 23.6261 (vehicle at (22.01, 6.23), closest path point at (22.06, 5.53), distance=0.708m)
2025-12-01 17:51:49,611 - DEBUG - integration_test -   Set spline state to 23.6261
2025-12-01 17:51:49,612 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:49,627 - DEBUG - integration_test - Step 121: Checking path alignment: vehicle=(22.006, 6.232), path_start=(0.000, 0.000), dist=22.871m
2025-12-01 17:51:49,628 - WARNING - integration_test - Could not update reference path at step 121: x and y must have the same length
2025-12-01 17:51:49,628 - INFO - integration_test - === Calling planner.solve_mpc() at step 121 ===
2025-12-01 17:51:49,631 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:49,632 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:49,632 - INFO - integration_test - Warmstart k=0: x0=22.00560814894215 , y0=6.2322601372873665 , psi0=0.4711394853740378 , v0=2.5999494922222843 , spline0=23.626053984468406 , a0=0.0 , w0=0.0
2025-12-01 17:51:49,632 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:49,633 - INFO - integration_test - Dyn residual k=0: pred=[22.237277078007843, 6.3502723439722075, 0.4711394853740378, 2.5999494922222843, 23.886048933690635], ws=[22.237277078007843, 6.3502723439722075, 0.4711394853740378, 2.5999494922222843, 29.412261466878082], res=[0.0, 0.0, 0.0, 0.0, -5.526212533187447], res_norm=5.526e+00
2025-12-01 17:51:49,634 - INFO - integration_test - Dyn residual k=1: pred=[22.468946007073534, 6.4682845506570485, 0.4711394853740378, 2.5999494922222843, 29.67225641610031], ws=[22.468946007073534, 6.4682845506570485, 0.4711394853740378, 2.5999494922222843, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -0.011760128488198518], res_norm=1.176e-02
2025-12-01 17:51:49,635 - INFO - integration_test - Dyn residual k=2: pred=[22.700614936139225, 6.58629675734189, 0.4711394853740378, 2.5999494922222843, 29.944011493810738], ws=[22.700614936139225, 6.58629675734189, 0.4711394853740378, 2.5999494922222843, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.25999494922222866], res_norm=2.600e-01
2025-12-01 17:51:49,650 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:49,662 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:49,678 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:49,691 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:49,706 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:49,718 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:49,733 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:49,745 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:49,760 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:49,774 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:49,789 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:49,802 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:49,817 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:49,829 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:49,844 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:49,857 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:49,872 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:49,884 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:49,900 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:49,911 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:49,926 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:49,938 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:50,162 - INFO - integration_test - Step 121: MPC solve successful
2025-12-01 17:51:50,178 - INFO - integration_test - Step 121: Computed 6 numeric contouring constraints for visualization (s=23.626)
2025-12-01 17:51:50,178 - DEBUG - integration_test - Step 121: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:50,178 - INFO - integration_test - === Applying control at step 121 ===
2025-12-01 17:51:50,178 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000029129033, 'w': -0.6867336812074765}
2025-12-01 17:51:50,178 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:50,178 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:50,179 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:50,180 - INFO - integration_test - Step 121 completed in 0.570s
2025-12-01 17:51:50,194 - INFO - integration_test - Step 122 (contouring until path end)
2025-12-01 17:51:50,195 - DEBUG - integration_test - Syncing planner state at step 122: vehicle_state=[22.2502533   6.34635392  0.40246612  2.79994949 23.90604893]
2025-12-01 17:51:50,195 - INFO - integration_test - Step 122: Re-initialized spline from 23.9060 to 24.2319 (vehicle at (22.25, 6.35), closest path point at (22.90, 6.00), distance=0.733m)
2025-12-01 17:51:50,196 - DEBUG - integration_test -   Set spline state to 24.2319
2025-12-01 17:51:50,197 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:50,213 - DEBUG - integration_test - Step 122: Checking path alignment: vehicle=(22.250, 6.346), path_start=(0.000, 0.000), dist=23.138m
2025-12-01 17:51:50,213 - WARNING - integration_test - Could not update reference path at step 122: x and y must have the same length
2025-12-01 17:51:50,213 - INFO - integration_test - === Calling planner.solve_mpc() at step 122 ===
2025-12-01 17:51:50,216 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:50,218 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:50,218 - INFO - integration_test - Warmstart k=0: x0=22.250253303855747 , y0=6.34635391755195 , psi0=0.4024661172532902 , v0=2.7999494925135746 , spline0=24.231850240480416 , a0=0.0 , w0=0.0
2025-12-01 17:51:50,218 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:50,219 - INFO - integration_test - Dyn residual k=0: pred=[22.50787605267387, 6.456024747300181, 0.4024661172532902, 2.7999494925135746, 24.511845189731773], ws=[22.50787605267387, 6.456024747300181, 0.4024661172532902, 2.7999494925135746, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -5.1721713548567365], res_norm=5.172e+00
2025-12-01 17:51:50,220 - INFO - integration_test - Dyn residual k=1: pred=[22.76549880149199, 6.5656955770484124, 0.4024661172532902, 2.7999494925135746, 29.964011493839866], ws=[22.76549880149199, 6.5656955770484124, 0.4024661172532902, 2.7999494925135746, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.27999494925135693], res_norm=2.800e-01
2025-12-01 17:51:50,220 - INFO - integration_test - Dyn residual k=2: pred=[23.023121550310112, 6.675366406796644, 0.4024661172532902, 2.7999494925135746, 29.964011493839866], ws=[23.023121550310112, 6.675366406796644, 0.4024661172532902, 2.7999494925135746, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.27999494925135693], res_norm=2.800e-01
2025-12-01 17:51:50,236 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:50,250 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:50,266 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:50,278 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:50,294 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:50,307 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:50,322 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:50,336 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:50,350 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:50,362 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:50,378 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:50,391 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:50,406 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:50,419 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:50,434 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:50,446 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:50,461 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:50,474 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:50,489 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:50,501 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:50,516 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:50,528 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:50,723 - INFO - integration_test - Step 122: MPC solve successful
2025-12-01 17:51:50,738 - INFO - integration_test - Step 122: Computed 6 numeric contouring constraints for visualization (s=24.232)
2025-12-01 17:51:50,739 - DEBUG - integration_test - Step 122: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:50,739 - INFO - integration_test - === Applying control at step 122 ===
2025-12-01 17:51:50,739 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000199913046, 'w': 0.8000000099144671}
2025-12-01 17:51:50,739 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:50,739 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:50,740 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:50,740 - INFO - integration_test - Step 122 completed in 0.546s
2025-12-01 17:51:50,756 - INFO - integration_test - Step 123 (contouring until path end)
2025-12-01 17:51:50,757 - DEBUG - integration_test - Syncing planner state at step 123: vehicle_state=[22.51219435  6.47060823  0.48246612  2.99994949 24.53184519]
2025-12-01 17:51:50,758 - INFO - integration_test - Step 123: Re-initialized spline from 24.5318 to 24.2319 (vehicle at (22.51, 6.47), closest path point at (22.90, 6.00), distance=0.608m)
2025-12-01 17:51:50,758 - DEBUG - integration_test -   Set spline state to 24.2319
2025-12-01 17:51:50,760 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:50,777 - DEBUG - integration_test - Step 123: Checking path alignment: vehicle=(22.512, 6.471), path_start=(0.000, 0.000), dist=23.424m
2025-12-01 17:51:50,778 - WARNING - integration_test - Could not update reference path at step 123: x and y must have the same length
2025-12-01 17:51:50,778 - INFO - integration_test - === Calling planner.solve_mpc() at step 123 ===
2025-12-01 17:51:50,781 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:50,783 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:50,783 - INFO - integration_test - Warmstart k=0: x0=22.512194353969406 , y0=6.470608232846663 , psi0=0.4824661182447369 , v0=2.999949494512705 , spline0=24.231850240480416 , a0=0.0 , w0=0.0
2025-12-01 17:51:50,783 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:50,784 - INFO - integration_test - Dyn residual k=0: pred=[22.777945907318287, 6.6097954506108225, 0.4824661182447369, 2.999949494512705, 24.531845189931687], ws=[22.777945907318287, 6.6097954506108225, 0.48246611824473673, 2.999949494512705, 29.68401654458851], res=[0.0, 0.0, 1.6653345369377348e-16, 0.0, -5.152171354656822], res_norm=5.152e+00
2025-12-01 17:51:50,784 - INFO - integration_test - Dyn residual k=1: pred=[23.04369746066717, 6.748982668374982, 0.48246611824473673, 2.999949494512705, 29.98401149403978], ws=[23.04369746066717, 6.748982668374982, 0.48246611824473673, 2.999949494512705, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.29999494945127125], res_norm=3.000e-01
2025-12-01 17:51:50,785 - INFO - integration_test - Dyn residual k=2: pred=[23.30944901401605, 6.888169886139141, 0.48246611824473673, 2.999949494512705, 29.98401149403978], ws=[23.30944901401605, 6.888169886139141, 0.48246611824473673, 2.999949494512705, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.29999494945127125], res_norm=3.000e-01
2025-12-01 17:51:50,802 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:50,816 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:50,833 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:50,846 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:50,863 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:50,878 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:50,894 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:50,908 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:50,924 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:50,938 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:50,954 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:50,967 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:50,983 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:50,995 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:51,010 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:51,022 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:51,037 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:51,049 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:51,065 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:51,079 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:51,095 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:51,107 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:51,293 - INFO - integration_test - Step 123: MPC solve successful
2025-12-01 17:51:51,308 - INFO - integration_test - Step 123: Computed 6 numeric contouring constraints for visualization (s=24.232)
2025-12-01 17:51:51,309 - DEBUG - integration_test - Step 123: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:51,309 - INFO - integration_test - === Applying control at step 123 ===
2025-12-01 17:51:51,309 - INFO - integration_test -   Control dict from planner: {'a': 0.0005053548503065715, 'w': 0.8000000071265659}
2025-12-01 17:51:51,309 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:51,309 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:51,310 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:51,310 - INFO - integration_test - Step 123 completed in 0.553s
2025-12-01 17:51:51,325 - INFO - integration_test - Step 124 (contouring until path end)
2025-12-01 17:51:51,326 - DEBUG - integration_test - Syncing planner state at step 124: vehicle_state=[22.77210019  6.62027272  0.56246612  3.00000003 24.53185024]
2025-12-01 17:51:51,326 - INFO - integration_test - Step 124: Re-initialized spline from 24.5319 to 24.2319 (vehicle at (22.77, 6.62), closest path point at (22.90, 6.00), distance=0.633m)
2025-12-01 17:51:51,327 - DEBUG - integration_test -   Set spline state to 24.2319
2025-12-01 17:51:51,328 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:51,344 - DEBUG - integration_test - Step 124: Checking path alignment: vehicle=(22.772, 6.620), path_start=(0.000, 0.000), dist=23.715m
2025-12-01 17:51:51,344 - WARNING - integration_test - Could not update reference path at step 124: x and y must have the same length
2025-12-01 17:51:51,344 - INFO - integration_test - === Calling planner.solve_mpc() at step 124 ===
2025-12-01 17:51:51,347 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:51,349 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:51,349 - INFO - integration_test - Warmstart k=0: x0=22.77210018560548 , y0=6.620272717704398 , psi0=0.5624661189573935 , v0=3.0 , spline0=24.231850240480416 , a0=0.0 , w0=0.0
2025-12-01 17:51:51,349 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:51,350 - INFO - integration_test - Dyn residual k=0: pred=[23.025882955884324, 6.780254921432177, 0.5624661189573935, 3.0, 24.531850240480416], ws=[23.025882955884324, 6.780254921432177, 0.5624661189573934, 3.0, 29.68401654458851], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -5.152166304108093], res_norm=5.152e+00
2025-12-01 17:51:51,351 - INFO - integration_test - Dyn residual k=1: pred=[23.279665726163167, 6.940237125159956, 0.5624661189573934, 3.0, 29.98401654458851], ws=[23.279665726163167, 6.940237125159956, 0.5624661189573934, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 17:51:51,352 - INFO - integration_test - Dyn residual k=2: pred=[23.53344849644201, 7.100219328887735, 0.5624661189573934, 3.0, 29.98401654458851], ws=[23.53344849644201, 7.100219328887735, 0.5624661189573934, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 17:51:51,368 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:51,382 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:51,398 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:51,410 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:51,425 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:51,437 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:51,452 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:51,465 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:51,481 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:51,493 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:51,508 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:51,521 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:51,536 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:51,548 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:51,563 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:51,576 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:51,591 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:51,604 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:51,619 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:51,631 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:51,646 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:51,658 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:51,950 - INFO - integration_test - Step 124: MPC solve successful
2025-12-01 17:51:51,965 - INFO - integration_test - Step 124: Computed 6 numeric contouring constraints for visualization (s=24.232)
2025-12-01 17:51:51,966 - DEBUG - integration_test - Step 124: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:51,966 - INFO - integration_test - === Applying control at step 124 ===
2025-12-01 17:51:51,966 - INFO - integration_test -   Control dict from planner: {'a': -6.476663473961105e-08, 'w': -0.5785604523873743}
2025-12-01 17:51:51,966 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:51,966 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:51,967 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:51,968 - INFO - integration_test - Step 124 completed in 0.642s
2025-12-01 17:51:51,988 - INFO - integration_test - Step 125 (contouring until path end)
2025-12-01 17:51:51,988 - DEBUG - integration_test - Syncing planner state at step 125: vehicle_state=[23.03036808  6.7728263   0.50461007  3.00000002 24.53185024]
2025-12-01 17:51:51,989 - INFO - integration_test - Step 125: Re-initialized spline from 24.5319 to 24.8376 (vehicle at (23.03, 6.77), closest path point at (23.38, 6.30), distance=0.588m)
2025-12-01 17:51:51,989 - DEBUG - integration_test -   Set spline state to 24.8376
2025-12-01 17:51:51,990 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:52,005 - DEBUG - integration_test - Step 125: Checking path alignment: vehicle=(23.030, 6.773), path_start=(0.000, 0.000), dist=24.006m
2025-12-01 17:51:52,005 - WARNING - integration_test - Could not update reference path at step 125: x and y must have the same length
2025-12-01 17:51:52,005 - INFO - integration_test - === Calling planner.solve_mpc() at step 125 ===
2025-12-01 17:51:52,008 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:52,009 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:52,009 - INFO - integration_test - Warmstart k=0: x0=23.03036807878871 , y0=6.772826300232523 , psi0=0.5046100737186561 , v0=3.0 , spline0=24.837646496492425 , a0=0.0 , w0=0.0
2025-12-01 17:51:52,009 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:52,010 - INFO - integration_test - Dyn residual k=0: pred=[23.29297699592641, 6.917866145239909, 0.5046100737186561, 3.0, 25.137646496492426], ws=[23.29297699592641, 6.917866145239909, 0.5046100737186561, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -4.546370048096083], res_norm=4.546e+00
2025-12-01 17:51:52,010 - INFO - integration_test - Dyn residual k=1: pred=[23.555585913064107, 7.0629059902472955, 0.5046100737186561, 3.0, 29.98401654458851], ws=[23.555585913064107, 7.0629059902472955, 0.5046100737186561, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 17:51:52,011 - INFO - integration_test - Dyn residual k=2: pred=[23.818194830201804, 7.207945835254682, 0.5046100737186561, 3.0, 29.98401654458851], ws=[23.818194830201804, 7.207945835254682, 0.5046100737186561, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 17:51:52,027 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:52,039 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:52,055 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:52,068 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:52,084 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:52,097 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:52,112 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:52,124 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:52,139 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:52,152 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:52,168 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:52,181 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:52,196 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:52,208 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:52,223 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:52,235 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:52,250 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:52,262 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:52,279 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:52,292 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:52,307 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:52,319 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:52,518 - INFO - integration_test - Step 125: MPC solve successful
2025-12-01 17:51:52,536 - INFO - integration_test - Step 125: Computed 6 numeric contouring constraints for visualization (s=24.838)
2025-12-01 17:51:52,536 - DEBUG - integration_test - Step 125: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:52,536 - INFO - integration_test - === Applying control at step 125 ===
2025-12-01 17:51:52,536 - INFO - integration_test -   Control dict from planner: {'a': 4.31899907343903e-08, 'w': 0.8000000098440414}
2025-12-01 17:51:52,536 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:52,536 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:52,538 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:52,538 - INFO - integration_test - Step 125 completed in 0.550s
2025-12-01 17:51:52,555 - INFO - integration_test - Step 126 (contouring until path end)
2025-12-01 17:51:52,557 - DEBUG - integration_test - Syncing planner state at step 126: vehicle_state=[23.28689847  6.92821024  0.58461007  3.00000003 25.1376465 ]
2025-12-01 17:51:52,557 - INFO - integration_test - Step 126: Re-initialized spline from 25.1376 to 24.8376 (vehicle at (23.29, 6.93), closest path point at (23.38, 6.30), distance=0.633m)
2025-12-01 17:51:52,558 - DEBUG - integration_test -   Set spline state to 24.8376
2025-12-01 17:51:52,559 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:52,578 - DEBUG - integration_test - Step 126: Checking path alignment: vehicle=(23.287, 6.928), path_start=(0.000, 0.000), dist=24.296m
2025-12-01 17:51:52,578 - WARNING - integration_test - Could not update reference path at step 126: x and y must have the same length
2025-12-01 17:51:52,579 - INFO - integration_test - === Calling planner.solve_mpc() at step 126 ===
2025-12-01 17:51:52,582 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:52,584 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:52,584 - INFO - integration_test - Warmstart k=0: x0=23.286898474860116 , y0=6.928210244796409 , psi0=0.5846100747030603 , v0=3.0 , spline0=24.837646496492425 , a0=0.0 , w0=0.0
2025-12-01 17:51:52,584 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:52,585 - INFO - integration_test - Dyn residual k=0: pred=[23.537076676563174, 7.09377252127455, 0.5846100747030603, 3.0, 25.137646496492426], ws=[23.537076676563174, 7.09377252127455, 0.5846100747030603, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -4.546370048096083], res_norm=4.546e+00
2025-12-01 17:51:52,586 - INFO - integration_test - Dyn residual k=1: pred=[23.787254878266232, 7.259334797752691, 0.5846100747030603, 3.0, 29.98401654458851], ws=[23.787254878266232, 7.259334797752691, 0.5846100747030603, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 17:51:52,587 - INFO - integration_test - Dyn residual k=2: pred=[24.03743307996929, 7.424897074230833, 0.5846100747030603, 3.0, 29.98401654458851], ws=[24.03743307996929, 7.424897074230833, 0.5846100747030603, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 17:51:52,605 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:52,619 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:52,637 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:52,650 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:52,666 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:52,681 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:52,697 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:52,709 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:52,726 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:52,738 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:52,753 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:52,766 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:52,782 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:52,794 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:52,809 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:52,822 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:52,837 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:52,849 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:52,864 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:52,877 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:52,892 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:52,904 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:53,467 - INFO - integration_test - Step 126: MPC solve successful
2025-12-01 17:51:53,482 - INFO - integration_test - Step 126: Computed 6 numeric contouring constraints for visualization (s=24.838)
2025-12-01 17:51:53,482 - DEBUG - integration_test - Step 126: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:53,482 - INFO - integration_test - === Applying control at step 126 ===
2025-12-01 17:51:53,482 - INFO - integration_test -   Control dict from planner: {'a': 1.4397117032283336e-08, 'w': 0.4242791699004004}
2025-12-01 17:51:53,482 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:53,482 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:53,483 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:53,484 - INFO - integration_test - Step 126 completed in 0.927s
2025-12-01 17:51:53,496 - INFO - integration_test - Step 127 (contouring until path end)
2025-12-01 17:51:53,497 - DEBUG - integration_test - Syncing planner state at step 127: vehicle_state=[23.53348992  7.09902933  0.62703799  3.00000003 25.1376465 ]
2025-12-01 17:51:53,498 - INFO - integration_test - Step 127: Re-initialized spline from 25.1376 to 25.4434 (vehicle at (23.53, 7.10), closest path point at (23.85, 6.62), distance=0.581m)
2025-12-01 17:51:53,498 - DEBUG - integration_test -   Set spline state to 25.4434
2025-12-01 17:51:53,500 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:53,514 - DEBUG - integration_test - Step 127: Checking path alignment: vehicle=(23.533, 7.099), path_start=(0.000, 0.000), dist=24.581m
2025-12-01 17:51:53,514 - WARNING - integration_test - Could not update reference path at step 127: x and y must have the same length
2025-12-01 17:51:53,514 - INFO - integration_test - === Calling planner.solve_mpc() at step 127 ===
2025-12-01 17:51:53,517 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:53,518 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:53,518 - INFO - integration_test - Warmstart k=0: x0=23.533489922718925 , y0=7.09902932923308 , psi0=0.6270379916931003 , v0=3.0 , spline0=25.443442752504435 , a0=0.0 , w0=0.0
2025-12-01 17:51:53,518 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:53,519 - INFO - integration_test - Dyn residual k=0: pred=[23.776420626564356, 7.2750539670800665, 0.6270379916931003, 3.0, 25.743442752504436], ws=[23.776420626564356, 7.2750539670800665, 0.6270379916931001, 3.0, 29.68401654458851], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -3.9405737920840735], res_norm=3.941e+00
2025-12-01 17:51:53,520 - INFO - integration_test - Dyn residual k=1: pred=[24.019351330409787, 7.451078604927053, 0.6270379916931001, 3.0, 29.98401654458851], ws=[24.019351330409787, 7.451078604927053, 0.6270379916931001, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 17:51:53,521 - INFO - integration_test - Dyn residual k=2: pred=[24.262282034255218, 7.62710324277404, 0.6270379916931001, 3.0, 29.98401654458851], ws=[24.262282034255218, 7.62710324277404, 0.6270379916931001, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 17:51:53,536 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:53,548 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:53,564 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:53,576 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:53,592 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:53,604 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:53,619 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:53,632 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:53,647 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:53,659 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:53,674 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:53,687 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:53,702 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:53,715 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:53,730 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:53,742 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:53,757 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:53,770 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:53,786 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:53,799 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:53,815 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:53,829 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:54,108 - INFO - integration_test - Step 127: MPC solve successful
2025-12-01 17:51:54,123 - INFO - integration_test - Step 127: Computed 6 numeric contouring constraints for visualization (s=25.443)
2025-12-01 17:51:54,123 - DEBUG - integration_test - Step 127: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:54,123 - INFO - integration_test - === Applying control at step 127 ===
2025-12-01 17:51:54,123 - INFO - integration_test -   Control dict from planner: {'a': 7.200367182833853e-09, 'w': -0.022353084626432172}
2025-12-01 17:51:54,124 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:54,124 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:54,125 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:54,125 - INFO - integration_test - Step 127 completed in 0.628s
2025-12-01 17:51:54,141 - INFO - integration_test - Step 128 (contouring until path end)
2025-12-01 17:51:54,142 - DEBUG - integration_test - Syncing planner state at step 128: vehicle_state=[23.77661716  7.27478231  0.62480268  3.00000003 25.74344276]
2025-12-01 17:51:54,142 - INFO - integration_test - Step 128: Re-initialized spline from 25.7434 to 26.0492 (vehicle at (23.78, 7.27), closest path point at (24.32, 6.94), distance=0.638m)
2025-12-01 17:51:54,142 - DEBUG - integration_test -   Set spline state to 26.0492
2025-12-01 17:51:54,144 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:54,160 - DEBUG - integration_test - Step 128: Checking path alignment: vehicle=(23.777, 7.275), path_start=(0.000, 0.000), dist=24.865m
2025-12-01 17:51:54,160 - WARNING - integration_test - Could not update reference path at step 128: x and y must have the same length
2025-12-01 17:51:54,160 - INFO - integration_test - === Calling planner.solve_mpc() at step 128 ===
2025-12-01 17:51:54,163 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:54,165 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:54,165 - INFO - integration_test - Warmstart k=0: x0=23.776617161261136 , y0=7.274782309812938 , psi0=0.6248026832304571 , v0=3.0 , spline0=26.049239008516444 , a0=0.0 , w0=0.0
2025-12-01 17:51:54,165 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:54,166 - INFO - integration_test - Dyn residual k=0: pred=[24.01994072722751, 7.450263483291482, 0.6248026832304571, 3.0, 26.349239008516445], ws=[24.01994072722751, 7.450263483291482, 0.624802683230457, 3.0, 29.68401654458851], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -3.334777536072064], res_norm=3.335e+00
2025-12-01 17:51:54,167 - INFO - integration_test - Dyn residual k=1: pred=[24.263264293193885, 7.625744656770026, 0.624802683230457, 3.0, 29.98401654458851], ws=[24.263264293193885, 7.625744656770026, 0.624802683230457, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 17:51:54,167 - INFO - integration_test - Dyn residual k=2: pred=[24.50658785916026, 7.80122583024857, 0.624802683230457, 3.0, 29.98401654458851], ws=[24.50658785916026, 7.80122583024857, 0.624802683230457, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 17:51:54,183 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:54,196 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:54,213 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:54,226 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:54,241 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:54,253 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:54,268 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:54,279 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:54,294 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:54,306 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:54,321 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:54,333 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:54,348 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:54,360 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:54,374 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:54,387 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:54,401 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:54,413 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:54,429 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:54,441 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:54,456 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:54,468 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:54,739 - INFO - integration_test - Step 128: MPC solve successful
2025-12-01 17:51:54,754 - INFO - integration_test - Step 128: Computed 6 numeric contouring constraints for visualization (s=26.049)
2025-12-01 17:51:54,754 - DEBUG - integration_test - Step 128: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:54,754 - INFO - integration_test - === Applying control at step 128 ===
2025-12-01 17:51:54,754 - INFO - integration_test -   Control dict from planner: {'a': -3.804680687125898e-13, 'w': 0.02058606200306069}
2025-12-01 17:51:54,754 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:54,754 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:54,755 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:54,756 - INFO - integration_test - Step 128 completed in 0.614s
2025-12-01 17:51:54,773 - INFO - integration_test - Step 129 (contouring until path end)
2025-12-01 17:51:54,774 - DEBUG - integration_test - Syncing planner state at step 129: vehicle_state=[24.01975993  7.45051381  0.62686129  3.00000003 26.34923901]
2025-12-01 17:51:54,774 - INFO - integration_test - Step 129: Re-initialized spline from 26.3492 to 26.0492 (vehicle at (24.02, 7.45), closest path point at (24.32, 6.94), distance=0.594m)
2025-12-01 17:51:54,774 - DEBUG - integration_test -   Set spline state to 26.0492
2025-12-01 17:51:54,776 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:54,794 - DEBUG - integration_test - Step 129: Checking path alignment: vehicle=(24.020, 7.451), path_start=(0.000, 0.000), dist=25.149m
2025-12-01 17:51:54,795 - WARNING - integration_test - Could not update reference path at step 129: x and y must have the same length
2025-12-01 17:51:54,795 - INFO - integration_test - === Calling planner.solve_mpc() at step 129 ===
2025-12-01 17:51:54,798 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:54,800 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:54,800 - INFO - integration_test - Warmstart k=0: x0=24.01975993454502 , y0=7.450513814717061 , psi0=0.6268612894307631 , v0=3.0 , spline0=26.049239008516444 , a0=0.0 , w0=0.0
2025-12-01 17:51:54,800 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:54,801 - INFO - integration_test - Dyn residual k=0: pred=[24.26272173854943, 7.626495523411242, 0.6268612894307631, 3.0, 26.349239008516445], ws=[24.26272173854943, 7.626495523411242, 0.6268612894307632, 3.0, 29.68401654458851], res=[0.0, 0.0, -1.1102230246251565e-16, 0.0, -3.334777536072064], res_norm=3.335e+00
2025-12-01 17:51:54,802 - INFO - integration_test - Dyn residual k=1: pred=[24.50568354255384, 7.8024772321054225, 0.6268612894307632, 3.0, 29.98401654458851], ws=[24.50568354255384, 7.8024772321054225, 0.6268612894307632, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 17:51:54,803 - INFO - integration_test - Dyn residual k=2: pred=[24.74864534655825, 7.978458940799603, 0.6268612894307632, 3.0, 29.98401654458851], ws=[24.74864534655825, 7.978458940799603, 0.6268612894307632, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 17:51:54,820 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:54,834 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:54,850 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:54,862 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:54,878 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:54,891 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:54,906 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:54,918 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:54,933 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:54,945 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:54,960 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:54,972 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:54,988 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:55,001 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:55,016 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:55,028 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:55,043 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:55,056 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:55,071 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:55,083 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:55,099 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:55,111 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:55,370 - INFO - integration_test - Step 129: MPC solve successful
2025-12-01 17:51:55,385 - INFO - integration_test - Step 129: Computed 6 numeric contouring constraints for visualization (s=26.049)
2025-12-01 17:51:55,385 - DEBUG - integration_test - Step 129: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:55,385 - INFO - integration_test - === Applying control at step 129 ===
2025-12-01 17:51:55,385 - INFO - integration_test -   Control dict from planner: {'a': -1.152985751359742e-06, 'w': -0.006734050126324617}
2025-12-01 17:51:55,385 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:55,386 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:55,387 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:55,387 - INFO - integration_test - Step 129 completed in 0.613s
2025-12-01 17:51:55,403 - INFO - integration_test - Step 130 (contouring until path end)
2025-12-01 17:51:55,404 - DEBUG - integration_test - Syncing planner state at step 130: vehicle_state=[24.26278097  7.6264137   0.62618788  2.99999991 26.349239  ]
2025-12-01 17:51:55,404 - INFO - integration_test - Step 130: Re-initialized spline from 26.3492 to 26.6550 (vehicle at (24.26, 7.63), closest path point at (24.77, 7.27), distance=0.625m)
2025-12-01 17:51:55,404 - DEBUG - integration_test -   Set spline state to 26.6550
2025-12-01 17:51:55,406 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:55,421 - DEBUG - integration_test - Step 130: Checking path alignment: vehicle=(24.263, 7.626), path_start=(0.000, 0.000), dist=25.433m
2025-12-01 17:51:55,422 - WARNING - integration_test - Could not update reference path at step 130: x and y must have the same length
2025-12-01 17:51:55,422 - INFO - integration_test - === Calling planner.solve_mpc() at step 130 ===
2025-12-01 17:51:55,425 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:55,426 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:55,426 - INFO - integration_test - Warmstart k=0: x0=24.26278097142657 , y0=7.626413702644798 , psi0=0.6261878844181307 , v0=2.9999999147012066 , spline0=26.655035264528458 , a0=0.0 , w0=0.0
2025-12-01 17:51:55,426 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:55,427 - INFO - integration_test - Dyn residual k=0: pred=[24.505861220386837, 7.802231754754036, 0.6261878844181307, 2.9999999147012066, 26.955035255998578], ws=[24.505861220386837, 7.802231754754036, 0.6261878844181306, 2.9999999147012066, 29.68401654458851], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -2.7289812885899316], res_norm=2.729e+00
2025-12-01 17:51:55,428 - INFO - integration_test - Dyn residual k=1: pred=[24.748941469347105, 7.978049806863274, 0.6261878844181306, 2.9999999147012066, 29.98401653605863], ws=[24.748941469347105, 7.978049806863274, 0.6261878844181306, 2.9999999147012066, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.2999999914701199], res_norm=3.000e-01
2025-12-01 17:51:55,429 - INFO - integration_test - Dyn residual k=2: pred=[24.992021718307374, 8.153867858972513, 0.6261878844181306, 2.9999999147012066, 29.98401653605863], ws=[24.992021718307374, 8.153867858972513, 0.6261878844181306, 2.9999999147012066, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.2999999914701199], res_norm=3.000e-01
2025-12-01 17:51:55,445 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:55,458 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:55,475 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:55,488 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:55,504 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:55,517 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:55,532 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:55,544 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:55,560 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:55,573 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:55,588 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:55,600 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:55,615 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:55,627 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:55,642 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:55,654 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:55,669 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:55,682 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:55,698 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:55,710 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:55,725 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:55,737 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:56,272 - INFO - integration_test - Step 130: MPC solve successful
2025-12-01 17:51:56,286 - INFO - integration_test - Step 130: Computed 6 numeric contouring constraints for visualization (s=26.655)
2025-12-01 17:51:56,286 - DEBUG - integration_test - Step 130: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:56,286 - INFO - integration_test - === Applying control at step 130 ===
2025-12-01 17:51:56,287 - INFO - integration_test -   Control dict from planner: {'a': 1.1529864352659464e-06, 'w': -0.0003481697383280434}
2025-12-01 17:51:56,287 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:56,287 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:56,287 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:56,288 - INFO - integration_test - Step 130 completed in 0.884s
2025-12-01 17:51:56,302 - INFO - integration_test - Step 131 (contouring until path end)
2025-12-01 17:51:56,302 - DEBUG - integration_test - Syncing planner state at step 131: vehicle_state=[24.50586429  7.80222753  0.62615307  3.00000003 26.95503527]
2025-12-01 17:51:56,303 - INFO - integration_test - Step 131: Re-initialized spline from 26.9550 to 26.6550 (vehicle at (24.51, 7.80), closest path point at (24.77, 7.27), distance=0.598m)
2025-12-01 17:51:56,303 - DEBUG - integration_test -   Set spline state to 26.6550
2025-12-01 17:51:56,304 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:56,319 - DEBUG - integration_test - Step 131: Checking path alignment: vehicle=(24.506, 7.802), path_start=(0.000, 0.000), dist=25.718m
2025-12-01 17:51:56,320 - WARNING - integration_test - Could not update reference path at step 131: x and y must have the same length
2025-12-01 17:51:56,320 - INFO - integration_test - === Calling planner.solve_mpc() at step 131 ===
2025-12-01 17:51:56,322 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:56,323 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:56,323 - INFO - integration_test - Warmstart k=0: x0=24.5058642857352 , y0=7.80222752643767 , psi0=0.6261530674442979 , v0=3.0 , spline0=26.655035264528458 , a0=0.0 , w0=0.0
2025-12-01 17:51:56,323 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:56,324 - INFO - integration_test - Dyn residual k=0: pred=[24.74895066291231, 7.978037120120459, 0.6261530674442979, 3.0, 26.95503526452846], ws=[24.74895066291231, 7.978037120120459, 0.6261530674442977, 3.0, 29.68401654458851], res=[0.0, 0.0, 2.220446049250313e-16, 0.0, -2.728981280060051], res_norm=2.729e+00
2025-12-01 17:51:56,325 - INFO - integration_test - Dyn residual k=1: pred=[24.99203704008942, 8.153846713803247, 0.6261530674442977, 3.0, 29.98401654458851], ws=[24.99203704008942, 8.153846713803247, 0.6261530674442977, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 17:51:56,326 - INFO - integration_test - Dyn residual k=2: pred=[25.235123417266532, 8.329656307486037, 0.6261530674442977, 3.0, 29.98401654458851], ws=[25.235123417266532, 8.329656307486037, 0.6261530674442977, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 17:51:56,341 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:56,353 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:56,369 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:56,382 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:56,397 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:56,409 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:56,424 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:56,436 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:56,451 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:56,463 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:56,479 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:56,491 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:56,506 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:56,518 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:56,533 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:56,544 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:56,559 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:56,572 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:56,587 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:56,599 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:56,614 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:56,627 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:57,479 - INFO - integration_test - Step 131: MPC solve successful
2025-12-01 17:51:57,493 - INFO - integration_test - Step 131: Computed 6 numeric contouring constraints for visualization (s=26.655)
2025-12-01 17:51:57,493 - DEBUG - integration_test - Step 131: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:57,493 - INFO - integration_test - === Applying control at step 131 ===
2025-12-01 17:51:57,493 - INFO - integration_test -   Control dict from planner: {'a': 4.98631584663307e-13, 'w': 0.001401582410284528}
2025-12-01 17:51:57,493 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:57,493 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:57,494 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:57,495 - INFO - integration_test - Step 131 completed in 1.193s
2025-12-01 17:51:57,518 - INFO - integration_test - Step 132 (contouring until path end)
2025-12-01 17:51:57,519 - DEBUG - integration_test - Syncing planner state at step 132: vehicle_state=[24.74893834  7.97805416  0.62629323  3.00000003 26.95503527]
2025-12-01 17:51:57,520 - INFO - integration_test - Step 132: Re-initialized spline from 26.9550 to 27.2608 (vehicle at (24.75, 7.98), closest path point at (25.23, 7.61), distance=0.605m)
2025-12-01 17:51:57,520 - DEBUG - integration_test -   Set spline state to 27.2608
2025-12-01 17:51:57,522 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:57,535 - DEBUG - integration_test - Step 132: Checking path alignment: vehicle=(24.749, 7.978), path_start=(0.000, 0.000), dist=26.003m
2025-12-01 17:51:57,536 - WARNING - integration_test - Could not update reference path at step 132: x and y must have the same length
2025-12-01 17:51:57,536 - INFO - integration_test - === Calling planner.solve_mpc() at step 132 ===
2025-12-01 17:51:57,538 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:57,540 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:57,540 - INFO - integration_test - Warmstart k=0: x0=24.74893834396548 , y0=7.978054156582601 , psi0=0.6262932256853263 , v0=3.0 , spline0=27.260831520540467 , a0=0.0 , w0=0.0
2025-12-01 17:51:57,540 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:57,540 - INFO - integration_test - Dyn residual k=0: pred=[24.99200007759163, 8.153897819097491, 0.6262932256853263, 3.0, 27.560831520540468], ws=[24.99200007759163, 8.153897819097491, 0.6262932256853264, 3.0, 29.68401654458851], res=[0.0, 0.0, -1.1102230246251565e-16, 0.0, -2.123185024048041], res_norm=2.123e+00
2025-12-01 17:51:57,541 - INFO - integration_test - Dyn residual k=1: pred=[25.23506181121778, 8.32974148161238, 0.6262932256853264, 3.0, 29.98401654458851], ws=[25.23506181121778, 8.32974148161238, 0.6262932256853264, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 17:51:57,542 - INFO - integration_test - Dyn residual k=2: pred=[25.47812354484393, 8.50558514412727, 0.6262932256853264, 3.0, 29.98401654458851], ws=[25.47812354484393, 8.50558514412727, 0.6262932256853264, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 17:51:57,557 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:57,571 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:57,589 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:57,603 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:57,620 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:57,635 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:57,652 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:57,668 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:57,685 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:57,698 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:57,715 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:57,728 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:57,744 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:57,756 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:57,772 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:57,785 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:57,801 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:57,814 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:57,829 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:57,841 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:57,856 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:57,870 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:58,277 - INFO - integration_test - Step 132: MPC solve successful
2025-12-01 17:51:58,291 - INFO - integration_test - Step 132: Computed 6 numeric contouring constraints for visualization (s=27.261)
2025-12-01 17:51:58,291 - DEBUG - integration_test - Step 132: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:58,291 - INFO - integration_test - === Applying control at step 132 ===
2025-12-01 17:51:58,291 - INFO - integration_test -   Control dict from planner: {'a': -9.341558215976593e-13, 'w': 0.0003747483309161216}
2025-12-01 17:51:58,292 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:58,292 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:58,292 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:58,293 - INFO - integration_test - Step 132 completed in 0.774s
2025-12-01 17:51:58,307 - INFO - integration_test - Step 133 (contouring until path end)
2025-12-01 17:51:58,308 - DEBUG - integration_test - Syncing planner state at step 133: vehicle_state=[24.99199679  8.15390238  0.6263307   3.00000003 27.56083152]
2025-12-01 17:51:58,308 - INFO - integration_test - Step 133: Re-initialized spline from 27.5608 to 27.2608 (vehicle at (24.99, 8.15), closest path point at (25.23, 7.61), distance=0.596m)
2025-12-01 17:51:58,308 - DEBUG - integration_test -   Set spline state to 27.2608
2025-12-01 17:51:58,310 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:58,324 - DEBUG - integration_test - Step 133: Checking path alignment: vehicle=(24.992, 8.154), path_start=(0.000, 0.000), dist=26.289m
2025-12-01 17:51:58,324 - WARNING - integration_test - Could not update reference path at step 133: x and y must have the same length
2025-12-01 17:51:58,325 - INFO - integration_test - === Calling planner.solve_mpc() at step 133 ===
2025-12-01 17:51:58,327 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:58,328 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:58,328 - INFO - integration_test - Warmstart k=0: x0=24.99199678510936 , y0=8.153902375163755 , psi0=0.6263307005184179 , v0=3.0 , spline0=27.260831520540467 , a0=0.0 , w0=0.0
2025-12-01 17:51:58,328 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:58,329 - INFO - integration_test - Dyn residual k=0: pred=[25.235051928852936, 8.329755146253067, 0.6263307005184179, 3.0, 27.560831520540468], ws=[25.235051928852936, 8.329755146253067, 0.6263307005184178, 3.0, 29.68401654458851], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -2.123185024048041], res_norm=2.123e+00
2025-12-01 17:51:58,330 - INFO - integration_test - Dyn residual k=1: pred=[25.47810707259651, 8.50560791734238, 0.6263307005184178, 3.0, 29.98401654458851], ws=[25.47810707259651, 8.50560791734238, 0.6263307005184178, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 17:51:58,331 - INFO - integration_test - Dyn residual k=2: pred=[25.721162216340087, 8.681460688431692, 0.6263307005184178, 3.0, 29.98401654458851], ws=[25.721162216340087, 8.681460688431692, 0.6263307005184178, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 17:51:58,346 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:58,358 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:58,373 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:58,386 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:58,401 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:58,413 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:58,428 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:58,440 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:58,455 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:58,468 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:58,483 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:58,495 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:58,509 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:58,521 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:58,536 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:58,548 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:58,563 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:58,575 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:58,591 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:58,603 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:58,618 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:58,630 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:58,879 - INFO - integration_test - Step 133: MPC solve successful
2025-12-01 17:51:58,894 - INFO - integration_test - Step 133: Computed 6 numeric contouring constraints for visualization (s=27.261)
2025-12-01 17:51:58,894 - DEBUG - integration_test - Step 133: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:58,894 - INFO - integration_test - === Applying control at step 133 ===
2025-12-01 17:51:58,894 - INFO - integration_test -   Control dict from planner: {'a': -1.5355056945026798e-13, 'w': 0.06132082823399451}
2025-12-01 17:51:58,894 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:58,894 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:58,895 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:58,896 - INFO - integration_test - Step 133 completed in 0.588s
2025-12-01 17:51:58,910 - INFO - integration_test - Step 134 (contouring until path end)
2025-12-01 17:51:58,911 - DEBUG - integration_test - Syncing planner state at step 134: vehicle_state=[25.23451124  8.33049926  0.63246278  3.00000003 27.56083152]
2025-12-01 17:51:58,912 - INFO - integration_test - Step 134: Re-initialized spline from 27.5608 to 27.8666 (vehicle at (25.23, 8.33), closest path point at (25.67, 7.95), distance=0.581m)
2025-12-01 17:51:58,912 - DEBUG - integration_test -   Set spline state to 27.8666
2025-12-01 17:51:58,914 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:58,929 - DEBUG - integration_test - Step 134: Checking path alignment: vehicle=(25.235, 8.330), path_start=(0.000, 0.000), dist=26.574m
2025-12-01 17:51:58,930 - WARNING - integration_test - Could not update reference path at step 134: x and y must have the same length
2025-12-01 17:51:58,930 - INFO - integration_test - === Calling planner.solve_mpc() at step 134 ===
2025-12-01 17:51:58,933 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:58,934 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:58,934 - INFO - integration_test - Warmstart k=0: x0=25.234511237847638 , y0=8.33049926073986 , psi0=0.6324627833418174 , v0=3.0 , spline0=27.866627776552477 , a0=0.0 , w0=0.0
2025-12-01 17:51:58,934 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:58,935 - INFO - integration_test - Dyn residual k=0: pred=[25.476483474873337, 8.507839150524362, 0.6324627833418174, 3.0, 28.166627776552478], ws=[25.476483474873337, 8.507839150524362, 0.6324627833418175, 3.0, 29.68401654458851], res=[0.0, 0.0, -1.1102230246251565e-16, 0.0, -1.5173887680360316], res_norm=1.517e+00
2025-12-01 17:51:58,936 - INFO - integration_test - Dyn residual k=1: pred=[25.718455711899036, 8.685179040308864, 0.6324627833418175, 3.0, 29.98401654458851], ws=[25.718455711899036, 8.685179040308864, 0.6324627833418175, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 17:51:58,937 - INFO - integration_test - Dyn residual k=2: pred=[25.960427948924735, 8.862518930093366, 0.6324627833418175, 3.0, 29.98401654458851], ws=[25.960427948924735, 8.862518930093366, 0.6324627833418175, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 17:51:58,953 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:58,966 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:58,983 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:58,995 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:59,011 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:59,023 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:59,038 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:59,050 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:59,065 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:59,078 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:59,093 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:59,106 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:59,121 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:59,133 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:59,149 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:59,161 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:59,176 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:59,189 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:59,204 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:59,216 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:59,231 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:59,243 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:59,557 - INFO - integration_test - Step 134: MPC solve successful
2025-12-01 17:51:59,573 - INFO - integration_test - Step 134: Computed 6 numeric contouring constraints for visualization (s=27.867)
2025-12-01 17:51:59,573 - DEBUG - integration_test - Step 134: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:51:59,573 - INFO - integration_test - === Applying control at step 134 ===
2025-12-01 17:51:59,573 - INFO - integration_test -   Control dict from planner: {'a': -4.048266188341525e-11, 'w': -0.07049758201751916}
2025-12-01 17:51:59,573 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:51:59,573 - INFO - integration_test -   Planner output success: True
2025-12-01 17:51:59,574 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:51:59,575 - INFO - integration_test - Step 134 completed in 0.664s
2025-12-01 17:51:59,591 - INFO - integration_test - Step 135 (contouring until path end)
2025-12-01 17:51:59,592 - DEBUG - integration_test - Syncing planner state at step 135: vehicle_state=[25.47710657  8.50698476  0.62541303  3.00000003 28.16662778]
2025-12-01 17:51:59,592 - INFO - integration_test - Step 135: Re-initialized spline from 28.1666 to 27.8666 (vehicle at (25.48, 8.51), closest path point at (25.67, 7.95), distance=0.591m)
2025-12-01 17:51:59,592 - DEBUG - integration_test -   Set spline state to 27.8666
2025-12-01 17:51:59,594 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:59,610 - DEBUG - integration_test - Step 135: Checking path alignment: vehicle=(25.477, 8.507), path_start=(0.000, 0.000), dist=26.860m
2025-12-01 17:51:59,610 - WARNING - integration_test - Could not update reference path at step 135: x and y must have the same length
2025-12-01 17:51:59,610 - INFO - integration_test - === Calling planner.solve_mpc() at step 135 ===
2025-12-01 17:51:59,613 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:51:59,615 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:51:59,615 - INFO - integration_test - Warmstart k=0: x0=25.477106572086612 , y0=8.50698476400551 , psi0=0.6254130251400655 , v0=3.0 , spline0=27.866627776552477 , a0=0.0 , w0=0.0
2025-12-01 17:51:59,615 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:51:59,616 - INFO - integration_test - Dyn residual k=0: pred=[25.720322989224005, 8.682614415359858, 0.6254130251400655, 3.0, 28.166627776552478], ws=[25.720322989224005, 8.682614415359858, 0.6254130251400656, 3.0, 29.68401654458851], res=[0.0, 0.0, -1.1102230246251565e-16, 0.0, -1.5173887680360316], res_norm=1.517e+00
2025-12-01 17:51:59,617 - INFO - integration_test - Dyn residual k=1: pred=[25.9635394063614, 8.858244066714205, 0.6254130251400656, 3.0, 29.98401654458851], ws=[25.9635394063614, 8.858244066714205, 0.6254130251400656, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 17:51:59,618 - INFO - integration_test - Dyn residual k=2: pred=[26.206755823498792, 9.033873718068552, 0.6254130251400656, 3.0, 29.98401654458851], ws=[26.206755823498792, 9.033873718068552, 0.6254130251400656, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 17:51:59,634 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:59,648 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:59,663 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:59,676 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:59,692 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:59,704 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:59,719 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:59,731 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:59,746 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:59,759 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:59,774 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:59,787 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:59,802 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:59,814 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:59,829 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:59,841 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:59,856 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:59,869 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:59,884 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:59,897 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:51:59,912 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:51:59,924 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:52:00,145 - INFO - integration_test - Step 135: MPC solve successful
2025-12-01 17:52:00,160 - INFO - integration_test - Step 135: Computed 6 numeric contouring constraints for visualization (s=27.867)
2025-12-01 17:52:00,160 - DEBUG - integration_test - Step 135: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:52:00,160 - INFO - integration_test - === Applying control at step 135 ===
2025-12-01 17:52:00,160 - INFO - integration_test -   Control dict from planner: {'a': 2.4930818615452486e-11, 'w': -0.8000000099526492}
2025-12-01 17:52:00,160 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:52:00,160 - INFO - integration_test -   Planner output success: True
2025-12-01 17:52:00,161 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:52:00,161 - INFO - integration_test - Step 135 completed in 0.570s
2025-12-01 17:52:00,177 - INFO - integration_test - Step 136 (contouring until path end)
2025-12-01 17:52:00,178 - DEBUG - integration_test - Syncing planner state at step 136: vehicle_state=[25.72708509  8.67270367  0.54541302  3.00000003 28.16662778]
2025-12-01 17:52:00,179 - INFO - integration_test - Step 136: Re-initialized spline from 28.1666 to 28.4724 (vehicle at (25.73, 8.67), closest path point at (26.12, 8.30), distance=0.541m)
2025-12-01 17:52:00,179 - DEBUG - integration_test -   Set spline state to 28.4724
2025-12-01 17:52:00,181 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:52:00,196 - DEBUG - integration_test - Step 136: Checking path alignment: vehicle=(25.727, 8.673), path_start=(0.000, 0.000), dist=27.150m
2025-12-01 17:52:00,197 - WARNING - integration_test - Could not update reference path at step 136: x and y must have the same length
2025-12-01 17:52:00,197 - INFO - integration_test - === Calling planner.solve_mpc() at step 136 ===
2025-12-01 17:52:00,200 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:52:00,201 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:52:00,201 - INFO - integration_test - Warmstart k=0: x0=25.727085087608046 , y0=8.67270367171769 , psi0=0.5454130241448005 , v0=3.0 , spline0=28.472424032564486 , a0=0.0 , w0=0.0
2025-12-01 17:52:00,202 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:52:00,202 - INFO - integration_test - Dyn residual k=0: pred=[25.983559017206197, 8.828335042065964, 0.5454130241448005, 3.0, 28.772424032564487], ws=[25.983559017206197, 8.828335042065964, 0.5454130241448008, 3.0, 29.68401654458851], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, -0.911592512024022], res_norm=9.116e-01
2025-12-01 17:52:00,203 - INFO - integration_test - Dyn residual k=1: pred=[26.240032946804348, 8.983966412414238, 0.5454130241448008, 3.0, 29.98401654458851], ws=[26.240032946804348, 8.983966412414238, 0.5454130241448008, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 17:52:00,204 - INFO - integration_test - Dyn residual k=2: pred=[26.4965068764025, 9.139597782762513, 0.5454130241448008, 3.0, 29.98401654458851], ws=[26.4965068764025, 9.139597782762513, 0.5454130241448008, 3.0, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.3000000000000007], res_norm=3.000e-01
2025-12-01 17:52:00,219 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:52:00,232 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:52:00,247 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:52:00,259 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:52:00,275 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:52:00,288 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:52:00,303 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:52:00,315 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:52:00,330 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:52:00,343 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:52:00,358 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:52:00,371 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:52:00,386 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:52:00,398 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:52:00,414 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:52:00,426 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:52:00,442 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:52:00,454 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:52:00,470 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:52:00,482 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:52:00,497 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:52:00,509 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:52:00,711 - INFO - integration_test - Step 136: MPC solve successful
2025-12-01 17:52:00,727 - INFO - integration_test - Step 136: Computed 6 numeric contouring constraints for visualization (s=28.472)
2025-12-01 17:52:00,727 - DEBUG - integration_test - Step 136: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:52:00,727 - INFO - integration_test - === Applying control at step 136 ===
2025-12-01 17:52:00,727 - INFO - integration_test -   Control dict from planner: {'a': -2.000000019441954, 'w': -0.7999999989715827}
2025-12-01 17:52:00,727 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:52:00,728 - INFO - integration_test -   Planner output success: True
2025-12-01 17:52:00,728 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:52:00,729 - INFO - integration_test - Step 136 completed in 0.551s
2025-12-01 17:52:00,744 - INFO - integration_test - Step 137 (contouring until path end)
2025-12-01 17:52:00,745 - DEBUG - integration_test - Syncing planner state at step 137: vehicle_state=[25.98069552  8.81319184  0.46541302  2.80000003 28.75242404]
2025-12-01 17:52:00,746 - INFO - integration_test - Step 137: Re-initialized spline from 28.7524 to 28.4724 (vehicle at (25.98, 8.81), closest path point at (26.12, 8.30), distance=0.533m)
2025-12-01 17:52:00,746 - DEBUG - integration_test -   Set spline state to 28.4724
2025-12-01 17:52:00,748 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:52:00,764 - DEBUG - integration_test - Step 137: Checking path alignment: vehicle=(25.981, 8.813), path_start=(0.000, 0.000), dist=27.435m
2025-12-01 17:52:00,765 - WARNING - integration_test - Could not update reference path at step 137: x and y must have the same length
2025-12-01 17:52:00,765 - INFO - integration_test - === Calling planner.solve_mpc() at step 137 ===
2025-12-01 17:52:00,768 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2025-12-01 17:52:00,770 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2025-12-01 17:52:00,770 - INFO - integration_test - Warmstart k=0: x0=25.980695522757717 , y0=8.813191839404043 , psi0=0.46541302424764225 , v0=2.8000000280540407 , spline0=28.472424032564486 , a0=0.0 , w0=0.0
2025-12-01 17:52:00,770 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2025-12-01 17:52:00,771 - INFO - integration_test - Dyn residual k=0: pred=[26.23091368363217, 8.938853581949788, 0.46541302424764225, 2.8000000280540407, 28.75242403536989], ws=[26.23091368363217, 8.938853581949788, 0.4654130242476424, 2.8000000280540407, 29.68401654458851], res=[0.0, 0.0, -1.6653345369377348e-16, 0.0, -0.9315925092186177], res_norm=9.316e-01
2025-12-01 17:52:00,772 - INFO - integration_test - Dyn residual k=1: pred=[26.481131844506624, 9.064515324495533, 0.4654130242476424, 2.8000000280540407, 29.964016547393914], ws=[26.481131844506624, 9.064515324495533, 0.4654130242476424, 2.8000000280540407, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.28000000280540505], res_norm=2.800e-01
2025-12-01 17:52:00,773 - INFO - integration_test - Dyn residual k=2: pred=[26.731350005381078, 9.190177067041278, 0.4654130242476424, 2.8000000280540407, 29.964016547393914], ws=[26.731350005381078, 9.190177067041278, 0.4654130242476424, 2.8000000280540407, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, 0.28000000280540505], res_norm=2.800e-01
2025-12-01 17:52:00,790 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:52:00,804 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:52:00,820 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:52:00,834 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:52:00,851 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:52:00,864 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:52:00,882 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:52:00,897 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:52:00,913 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:52:00,927 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:52:00,942 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:52:00,954 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:52:00,970 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:52:00,983 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:52:00,998 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:52:01,010 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:52:01,025 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:52:01,037 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:52:01,052 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:52:01,064 - INFO - integration_test - Stage 9: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:52:01,080 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2025-12-01 17:52:01,092 - INFO - integration_test - Stage 10: constraints count=2 (linearized=0, contouring=2, other=0)
2025-12-01 17:52:01,259 - INFO - integration_test - Step 137: MPC solve successful
2025-12-01 17:52:01,276 - INFO - integration_test - Step 137: Computed 6 numeric contouring constraints for visualization (s=28.472)
2025-12-01 17:52:01,276 - DEBUG - integration_test - Step 137: Captured 6 contouring constraint halfspaces for visualization
2025-12-01 17:52:01,276 - INFO - integration_test - === Applying control at step 137 ===
2025-12-01 17:52:01,276 - INFO - integration_test -   Control dict from planner: {'a': -2.000000019883367, 'w': 0.22440540935206296}
2025-12-01 17:52:01,277 - INFO - integration_test -   Expected input names: ['a', 'w']
2025-12-01 17:52:01,277 - INFO - integration_test -   Planner output success: True
2025-12-01 17:52:01,278 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2025-12-01 17:52:01,278 - INFO - integration_test - Goal reached at step 137!
2025-12-01 17:52:01,278 - INFO - integration_test - Step 137 completed in 0.533s
2025-12-01 17:52:01,293 - INFO - integration_test - Goal reached at step 137, added 3 extra frames for visualization
2025-12-01 17:52:01,294 - INFO - integration_test - Saving test results...
2025-12-01 17:52:01,295 - INFO - integration_test - Saved 142 vehicle states to test_outputs/20251201_175032_contouring_contouring_gaussian_contouring_unicycle/vehicle_states.csv
2025-12-01 17:52:01,295 - INFO - integration_test - Saved obstacle summary to test_outputs/20251201_175032_contouring_contouring_gaussian_contouring_unicycle/obstacle_summary.csv
2025-12-01 17:52:01,296 - INFO - integration_test - Saved 149 states for obstacle 0 to test_outputs/20251201_175032_contouring_contouring_gaussian_contouring_unicycle/obstacle_0_detailed_states.csv
2025-12-01 17:52:01,297 - INFO - integration_test - Saved 149 states for obstacle 1 to test_outputs/20251201_175032_contouring_contouring_gaussian_contouring_unicycle/obstacle_1_detailed_states.csv
2025-12-01 17:52:01,297 - INFO - integration_test - Saved state history: 142 vehicle states, 2 obstacles
2025-12-01 17:52:01,297 - INFO - integration_test - Creating animation...
2025-12-01 17:52:01,317 - DEBUG - integration_test - Frame 0: Drawing 6 contouring constraint halfspaces
2025-12-01 17:52:01,322 - INFO - integration_test - Frame 0: Found Gaussian module 'gaussian_constraints', calling visualizer
2025-12-01 17:52:01,322 - INFO - integration_test - Frame 0: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:01,322 - INFO - integration_test - Frame 0: Obstacle 0 has Gaussian prediction with major_radius=0.55, minor_radius=0.44999999999999996, position=[7.63224169 6.0385516 ]
2025-12-01 17:52:01,322 - INFO - integration_test - Frame 0: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:01,322 - INFO - integration_test - Frame 0: Obstacle 1 has Gaussian prediction with major_radius=0.55, minor_radius=0.44999999999999996, position=[16.8414233   2.71069981]
2025-12-01 17:52:01,323 - INFO - integration_test - Frame 0: Found 2/2 obstacles with Gaussian predictions, calling visualizer
2025-12-01 17:52:01,323 - INFO - integration_test - Frame 0: About to call Gaussian visualizer.visualize()
2025-12-01 17:52:01,323 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:01,323 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:01,324 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.63, 6.04), size=(2.20, 1.95), color=red
2025-12-01 17:52:01,326 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:01,327 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.84, 2.71), size=(2.20, 1.95), color=orange
2025-12-01 17:52:01,329 - INFO - integration_test - Frame 0: Gaussian visualizer.visualize() completed
2025-12-01 17:52:01,329 - INFO - integration_test - Frame 0: Visualizer added 4 ellipses, 2 markers, and 2 text annotations for Gaussian constraints
2025-12-01 17:52:01,329 - DEBUG - integration_test - Frame 0: Drawing 6 contouring constraint halfspaces
2025-12-01 17:52:01,335 - INFO - integration_test - Frame 0: Found Gaussian module 'gaussian_constraints', calling visualizer
2025-12-01 17:52:01,335 - INFO - integration_test - Frame 0: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:01,335 - INFO - integration_test - Frame 0: Obstacle 0 has Gaussian prediction with major_radius=0.55, minor_radius=0.44999999999999996, position=[7.63224169 6.0385516 ]
2025-12-01 17:52:01,335 - INFO - integration_test - Frame 0: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:01,336 - INFO - integration_test - Frame 0: Obstacle 1 has Gaussian prediction with major_radius=0.55, minor_radius=0.44999999999999996, position=[16.8414233   2.71069981]
2025-12-01 17:52:01,336 - INFO - integration_test - Frame 0: Found 2/2 obstacles with Gaussian predictions, calling visualizer
2025-12-01 17:52:01,336 - INFO - integration_test - Frame 0: About to call Gaussian visualizer.visualize()
2025-12-01 17:52:01,336 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:01,336 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:01,337 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.63, 6.04), size=(2.20, 1.95), color=red
2025-12-01 17:52:01,339 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:01,340 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.84, 2.71), size=(2.20, 1.95), color=orange
2025-12-01 17:52:01,342 - INFO - integration_test - Frame 0: Gaussian visualizer.visualize() completed
2025-12-01 17:52:01,342 - INFO - integration_test - Frame 0: Visualizer added 4 ellipses, 2 markers, and 2 text annotations for Gaussian constraints
2025-12-01 17:52:01,429 - DEBUG - integration_test - Frame 1: Drawing 6 contouring constraint halfspaces
2025-12-01 17:52:01,435 - INFO - integration_test - Frame 1: Found Gaussian module 'gaussian_constraints', calling visualizer
2025-12-01 17:52:01,435 - INFO - integration_test - Frame 1: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:01,435 - INFO - integration_test - Frame 1: Obstacle 0 has Gaussian prediction with major_radius=0.55, minor_radius=0.44999999999999996, position=[7.65346773 5.93571943]
2025-12-01 17:52:01,435 - INFO - integration_test - Frame 1: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:01,435 - INFO - integration_test - Frame 1: Obstacle 1 has Gaussian prediction with major_radius=0.55, minor_radius=0.44999999999999996, position=[16.84125447  2.81569967]
2025-12-01 17:52:01,435 - INFO - integration_test - Frame 1: Found 2/2 obstacles with Gaussian predictions, calling visualizer
2025-12-01 17:52:01,435 - INFO - integration_test - Frame 1: About to call Gaussian visualizer.visualize()
2025-12-01 17:52:01,435 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:01,435 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:01,437 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.65, 5.94), size=(2.20, 1.95), color=red
2025-12-01 17:52:01,438 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:01,440 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.84, 2.82), size=(2.20, 1.95), color=orange
2025-12-01 17:52:01,441 - INFO - integration_test - Frame 1: Gaussian visualizer.visualize() completed
2025-12-01 17:52:01,441 - INFO - integration_test - Frame 1: Visualizer added 4 ellipses, 2 markers, and 2 text annotations for Gaussian constraints
2025-12-01 17:52:01,503 - DEBUG - integration_test - Frame 2: Drawing 6 contouring constraint halfspaces
2025-12-01 17:52:01,509 - INFO - integration_test - Frame 2: Found Gaussian module 'gaussian_constraints', calling visualizer
2025-12-01 17:52:01,509 - INFO - integration_test - Frame 2: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:01,509 - INFO - integration_test - Frame 2: Obstacle 0 has Gaussian prediction with major_radius=0.55, minor_radius=0.44999999999999996, position=[7.67296612 5.83254573]
2025-12-01 17:52:01,509 - INFO - integration_test - Frame 2: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:01,509 - INFO - integration_test - Frame 2: Obstacle 1 has Gaussian prediction with major_radius=0.55, minor_radius=0.44999999999999996, position=[16.83624358  2.92058004]
2025-12-01 17:52:01,509 - INFO - integration_test - Frame 2: Found 2/2 obstacles with Gaussian predictions, calling visualizer
2025-12-01 17:52:01,509 - INFO - integration_test - Frame 2: About to call Gaussian visualizer.visualize()
2025-12-01 17:52:01,510 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:01,510 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:01,511 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.67, 5.83), size=(2.20, 1.95), color=red
2025-12-01 17:52:01,513 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:01,515 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.84, 2.92), size=(2.20, 1.95), color=orange
2025-12-01 17:52:01,517 - INFO - integration_test - Frame 2: Gaussian visualizer.visualize() completed
2025-12-01 17:52:01,517 - INFO - integration_test - Frame 2: Visualizer added 4 ellipses, 2 markers, and 2 text annotations for Gaussian constraints
2025-12-01 17:52:01,598 - INFO - integration_test - Frame 3: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:01,599 - INFO - integration_test - Frame 3: Obstacle 0 has Gaussian prediction with major_radius=0.55, minor_radius=0.44999999999999996, position=[7.69706003 5.73034748]
2025-12-01 17:52:01,599 - INFO - integration_test - Frame 3: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:01,599 - INFO - integration_test - Frame 3: Obstacle 1 has Gaussian prediction with major_radius=0.55, minor_radius=0.44999999999999996, position=[16.82688075  3.02516176]
2025-12-01 17:52:01,599 - INFO - integration_test - Frame 3: Found 2/2 obstacles with Gaussian predictions, calling visualizer
2025-12-01 17:52:01,599 - INFO - integration_test - Frame 3: About to call Gaussian visualizer.visualize()
2025-12-01 17:52:01,599 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:01,599 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:01,601 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.70, 5.73), size=(2.20, 1.95), color=red
2025-12-01 17:52:01,603 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:01,604 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.83, 3.03), size=(2.20, 1.95), color=orange
2025-12-01 17:52:01,606 - INFO - integration_test - Frame 3: Gaussian visualizer.visualize() completed
2025-12-01 17:52:01,606 - INFO - integration_test - Frame 3: Visualizer added 4 ellipses, 2 markers, and 2 text annotations for Gaussian constraints
2025-12-01 17:52:01,689 - INFO - integration_test - Frame 4: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:01,690 - INFO - integration_test - Frame 4: Obstacle 0 has Gaussian prediction with major_radius=0.55, minor_radius=0.44999999999999996, position=[7.72400652 5.62886405]
2025-12-01 17:52:01,690 - INFO - integration_test - Frame 4: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:01,690 - INFO - integration_test - Frame 4: Obstacle 1 has Gaussian prediction with major_radius=0.55, minor_radius=0.44999999999999996, position=[16.81944304  3.12989801]
2025-12-01 17:52:01,690 - INFO - integration_test - Frame 4: Found 2/2 obstacles with Gaussian predictions, calling visualizer
2025-12-01 17:52:01,690 - INFO - integration_test - Frame 4: About to call Gaussian visualizer.visualize()
2025-12-01 17:52:01,690 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:01,690 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:01,692 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.72, 5.63), size=(2.20, 1.95), color=red
2025-12-01 17:52:01,693 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:01,695 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.82, 3.13), size=(2.20, 1.95), color=orange
2025-12-01 17:52:01,698 - INFO - integration_test - Frame 4: Gaussian visualizer.visualize() completed
2025-12-01 17:52:01,698 - INFO - integration_test - Frame 4: Visualizer added 4 ellipses, 2 markers, and 2 text annotations for Gaussian constraints
2025-12-01 17:52:01,773 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:01,773 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:01,775 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.75, 5.53), size=(2.20, 1.95), color=red
2025-12-01 17:52:01,777 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:01,778 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.81, 3.23), size=(2.20, 1.95), color=orange
2025-12-01 17:52:01,857 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:01,858 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:01,859 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.78, 5.43), size=(2.20, 1.95), color=red
2025-12-01 17:52:01,861 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:01,862 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.80, 3.34), size=(2.20, 1.95), color=orange
2025-12-01 17:52:01,939 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:01,939 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:01,941 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.81, 5.32), size=(2.20, 1.95), color=red
2025-12-01 17:52:01,943 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:01,945 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.79, 3.44), size=(2.20, 1.95), color=orange
2025-12-01 17:52:02,026 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:02,026 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:02,028 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.83, 5.22), size=(2.20, 1.95), color=red
2025-12-01 17:52:02,030 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:02,031 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.78, 3.55), size=(2.20, 1.95), color=orange
2025-12-01 17:52:02,113 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:02,114 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:02,116 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.85, 5.12), size=(2.20, 1.95), color=red
2025-12-01 17:52:02,118 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:02,120 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.76, 3.65), size=(2.20, 1.95), color=orange
2025-12-01 17:52:02,220 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:02,220 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:02,223 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.87, 5.02), size=(2.20, 1.95), color=red
2025-12-01 17:52:02,227 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:02,230 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.75, 3.76), size=(2.20, 1.95), color=orange
2025-12-01 17:52:02,353 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:02,353 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:02,356 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.90, 4.92), size=(2.20, 1.95), color=red
2025-12-01 17:52:02,358 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:02,360 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.74, 3.86), size=(2.20, 1.95), color=orange
2025-12-01 17:52:02,482 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:02,482 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:02,484 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.91, 4.81), size=(2.20, 1.95), color=red
2025-12-01 17:52:02,486 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:02,488 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.74, 3.97), size=(2.20, 1.95), color=orange
2025-12-01 17:52:02,599 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:02,599 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:02,601 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.91, 4.69), size=(2.20, 1.95), color=red
2025-12-01 17:52:02,603 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:02,604 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.76, 4.08), size=(2.20, 1.95), color=orange
2025-12-01 17:52:02,685 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:02,685 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:02,686 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.88, 4.58), size=(2.20, 1.95), color=red
2025-12-01 17:52:02,688 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:02,690 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.80, 4.19), size=(2.20, 1.95), color=orange
2025-12-01 17:52:02,769 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:02,769 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:02,771 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.84, 4.47), size=(2.20, 1.95), color=red
2025-12-01 17:52:02,773 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:02,774 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.85, 4.30), size=(2.20, 1.95), color=orange
2025-12-01 17:52:02,852 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:02,852 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:02,854 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.78, 4.36), size=(2.20, 1.95), color=red
2025-12-01 17:52:02,855 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:02,857 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.93, 4.40), size=(2.20, 1.95), color=orange
2025-12-01 17:52:02,934 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:02,935 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:02,936 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.71, 4.25), size=(2.20, 1.95), color=red
2025-12-01 17:52:02,938 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:02,940 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (17.02, 4.49), size=(2.20, 1.95), color=orange
2025-12-01 17:52:03,017 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:03,017 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:03,019 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.61, 4.16), size=(2.20, 1.95), color=red
2025-12-01 17:52:03,021 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:03,022 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (17.12, 4.57), size=(2.20, 1.95), color=orange
2025-12-01 17:52:03,101 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:03,101 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:03,103 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.50, 4.08), size=(2.20, 1.95), color=red
2025-12-01 17:52:03,106 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:03,107 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (17.24, 4.64), size=(2.20, 1.95), color=orange
2025-12-01 17:52:03,192 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:03,192 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:03,194 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.38, 4.01), size=(2.20, 1.95), color=red
2025-12-01 17:52:03,196 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:03,197 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (17.38, 4.68), size=(2.20, 1.95), color=orange
2025-12-01 17:52:03,280 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:03,280 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:03,282 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.24, 3.97), size=(2.20, 1.95), color=red
2025-12-01 17:52:03,284 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:03,286 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (17.52, 4.71), size=(2.20, 1.95), color=orange
2025-12-01 17:52:03,365 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:03,365 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:03,368 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.09, 3.94), size=(2.20, 1.95), color=red
2025-12-01 17:52:03,370 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:03,372 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (17.67, 4.72), size=(2.20, 1.95), color=orange
2025-12-01 17:52:03,454 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:03,454 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:03,456 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.94, 3.94), size=(2.20, 1.95), color=red
2025-12-01 17:52:03,458 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:03,459 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (17.82, 4.70), size=(2.20, 1.95), color=orange
2025-12-01 17:52:03,538 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:03,538 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:03,540 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.79, 3.95), size=(2.20, 1.95), color=red
2025-12-01 17:52:03,542 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:03,543 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (17.96, 4.67), size=(2.20, 1.95), color=orange
2025-12-01 17:52:03,624 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:03,625 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:03,626 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.94, 3.98), size=(2.20, 1.95), color=red
2025-12-01 17:52:03,628 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:03,630 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (18.11, 4.68), size=(2.20, 1.95), color=orange
2025-12-01 17:52:03,709 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:03,709 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:03,711 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.08, 4.03), size=(2.20, 1.95), color=red
2025-12-01 17:52:03,713 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:03,714 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (18.26, 4.67), size=(2.20, 1.95), color=orange
2025-12-01 17:52:03,791 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:03,792 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:03,793 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.22, 4.10), size=(2.20, 1.95), color=red
2025-12-01 17:52:03,795 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:03,797 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (18.41, 4.65), size=(2.20, 1.95), color=orange
2025-12-01 17:52:03,875 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:03,875 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:03,877 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.34, 4.19), size=(2.20, 1.95), color=red
2025-12-01 17:52:03,879 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:03,881 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (18.55, 4.60), size=(2.20, 1.95), color=orange
2025-12-01 17:52:03,958 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:03,958 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:03,959 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.44, 4.30), size=(2.20, 1.95), color=red
2025-12-01 17:52:03,961 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:03,962 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (18.68, 4.52), size=(2.20, 1.95), color=orange
2025-12-01 17:52:04,027 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:04,027 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:04,028 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.53, 4.42), size=(2.20, 1.95), color=red
2025-12-01 17:52:04,030 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:04,031 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (18.80, 4.43), size=(2.20, 1.95), color=orange
2025-12-01 17:52:04,096 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:04,096 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:04,098 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.60, 4.55), size=(2.20, 1.95), color=red
2025-12-01 17:52:04,099 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:04,101 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (18.91, 4.33), size=(2.20, 1.95), color=orange
2025-12-01 17:52:04,163 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:04,164 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:04,165 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.65, 4.69), size=(2.20, 1.95), color=red
2025-12-01 17:52:04,167 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:04,169 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (19.01, 4.22), size=(2.20, 1.95), color=orange
2025-12-01 17:52:04,232 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:04,232 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:04,234 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.69, 4.84), size=(2.20, 1.95), color=red
2025-12-01 17:52:04,235 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:04,237 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (19.10, 4.10), size=(2.20, 1.95), color=orange
2025-12-01 17:52:04,301 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:04,301 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:04,303 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.71, 4.99), size=(2.20, 1.95), color=red
2025-12-01 17:52:04,304 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:04,305 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (19.17, 3.97), size=(2.20, 1.95), color=orange
2025-12-01 17:52:04,371 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:04,371 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:04,373 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.73, 5.13), size=(2.20, 1.95), color=red
2025-12-01 17:52:04,374 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:04,376 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (19.24, 3.83), size=(2.20, 1.95), color=orange
2025-12-01 17:52:04,440 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:04,440 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:04,441 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.74, 5.28), size=(2.20, 1.95), color=red
2025-12-01 17:52:04,443 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:04,444 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (19.11, 3.90), size=(2.20, 1.95), color=orange
2025-12-01 17:52:04,509 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:04,509 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:04,511 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.74, 5.43), size=(2.20, 1.95), color=red
2025-12-01 17:52:04,512 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:04,514 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (18.96, 3.95), size=(2.20, 1.95), color=orange
2025-12-01 17:52:04,578 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:04,578 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:04,579 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.73, 5.58), size=(2.20, 1.95), color=red
2025-12-01 17:52:04,581 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:04,583 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (18.82, 3.97), size=(2.20, 1.95), color=orange
2025-12-01 17:52:04,644 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:04,645 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:04,646 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.71, 5.73), size=(2.20, 1.95), color=red
2025-12-01 17:52:04,648 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:04,649 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (18.67, 3.98), size=(2.20, 1.95), color=orange
2025-12-01 17:52:04,713 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:04,714 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:04,715 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.68, 5.88), size=(2.20, 1.95), color=red
2025-12-01 17:52:04,717 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:04,718 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (18.52, 3.96), size=(2.20, 1.95), color=orange
2025-12-01 17:52:04,781 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:04,781 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:04,783 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.63, 6.02), size=(2.20, 1.95), color=red
2025-12-01 17:52:04,784 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:04,786 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (18.37, 3.91), size=(2.20, 1.95), color=orange
2025-12-01 17:52:04,849 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:04,849 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:04,850 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.59, 6.17), size=(2.20, 1.95), color=red
2025-12-01 17:52:04,852 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:04,853 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (18.24, 3.85), size=(2.20, 1.95), color=orange
2025-12-01 17:52:04,918 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:04,918 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:04,920 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.45, 6.11), size=(2.20, 1.95), color=red
2025-12-01 17:52:04,921 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:04,923 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (18.11, 3.77), size=(2.20, 1.95), color=orange
2025-12-01 17:52:04,987 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:04,987 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:04,989 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.32, 6.04), size=(2.20, 1.95), color=red
2025-12-01 17:52:04,990 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:04,992 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (18.00, 3.67), size=(2.20, 1.95), color=orange
2025-12-01 17:52:05,055 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:05,055 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:05,057 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.18, 5.98), size=(2.20, 1.95), color=red
2025-12-01 17:52:05,059 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:05,060 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (17.91, 3.55), size=(2.20, 1.95), color=orange
2025-12-01 17:52:05,127 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:05,128 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:05,129 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.05, 5.91), size=(2.20, 1.95), color=red
2025-12-01 17:52:05,131 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:05,132 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (17.82, 3.43), size=(2.20, 1.95), color=orange
2025-12-01 17:52:05,203 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:05,203 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:05,204 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.93, 5.82), size=(2.20, 1.95), color=red
2025-12-01 17:52:05,206 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:05,207 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (17.75, 3.30), size=(2.20, 1.95), color=orange
2025-12-01 17:52:05,271 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:05,271 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:05,273 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.81, 5.73), size=(2.20, 1.95), color=red
2025-12-01 17:52:05,274 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:05,275 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (17.68, 3.16), size=(2.20, 1.95), color=orange
2025-12-01 17:52:05,339 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:05,339 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:05,341 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.68, 5.66), size=(2.20, 1.95), color=red
2025-12-01 17:52:05,342 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:05,344 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (17.54, 3.21), size=(2.20, 1.95), color=orange
2025-12-01 17:52:05,410 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:05,410 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:05,411 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.53, 5.61), size=(2.20, 1.95), color=red
2025-12-01 17:52:05,413 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:05,414 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (17.40, 3.24), size=(2.20, 1.95), color=orange
2025-12-01 17:52:05,478 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:05,478 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:05,479 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.39, 5.58), size=(2.20, 1.95), color=red
2025-12-01 17:52:05,481 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:05,483 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (17.25, 3.25), size=(2.20, 1.95), color=orange
2025-12-01 17:52:05,550 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:05,550 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:05,552 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.24, 5.58), size=(2.20, 1.95), color=red
2025-12-01 17:52:05,553 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:05,555 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (17.10, 3.24), size=(2.20, 1.95), color=orange
2025-12-01 17:52:05,619 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:05,619 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:05,621 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.09, 5.57), size=(2.20, 1.95), color=red
2025-12-01 17:52:05,622 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:05,624 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.95, 3.20), size=(2.20, 1.95), color=orange
2025-12-01 17:52:05,687 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:05,687 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:05,689 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.94, 5.59), size=(2.20, 1.95), color=red
2025-12-01 17:52:05,690 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:05,691 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.81, 3.14), size=(2.20, 1.95), color=orange
2025-12-01 17:52:05,755 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:05,755 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:05,756 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.79, 5.63), size=(2.20, 1.95), color=red
2025-12-01 17:52:05,758 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:05,759 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.69, 3.06), size=(2.20, 1.95), color=orange
2025-12-01 17:52:05,823 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:05,823 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:05,825 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.66, 5.69), size=(2.20, 1.95), color=red
2025-12-01 17:52:05,826 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:05,828 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.57, 2.97), size=(2.20, 1.95), color=orange
2025-12-01 17:52:05,892 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:05,892 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:05,894 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.53, 5.77), size=(2.20, 1.95), color=red
2025-12-01 17:52:05,895 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:05,897 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.45, 2.88), size=(2.20, 1.95), color=orange
2025-12-01 17:52:05,960 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:05,960 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:05,961 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.39, 5.83), size=(2.20, 1.95), color=red
2025-12-01 17:52:05,963 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:05,965 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.33, 2.79), size=(2.20, 1.95), color=orange
2025-12-01 17:52:06,030 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:06,031 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:06,032 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.25, 5.87), size=(2.20, 1.95), color=red
2025-12-01 17:52:06,034 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:06,035 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.21, 2.69), size=(2.20, 1.95), color=orange
2025-12-01 17:52:06,101 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:06,101 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:06,102 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.10, 5.89), size=(2.20, 1.95), color=red
2025-12-01 17:52:06,104 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:06,105 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.12, 2.58), size=(2.20, 1.95), color=orange
2025-12-01 17:52:06,167 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:06,168 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:06,169 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.00, 5.89), size=(2.20, 1.95), color=red
2025-12-01 17:52:06,171 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:06,172 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.01, 2.48), size=(2.20, 1.95), color=orange
2025-12-01 17:52:06,237 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:06,237 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:06,239 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (4.96, 5.79), size=(2.20, 1.95), color=red
2025-12-01 17:52:06,240 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:06,242 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (15.88, 2.40), size=(2.20, 1.95), color=orange
2025-12-01 17:52:06,313 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:06,313 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:06,315 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (4.94, 5.68), size=(2.20, 1.95), color=red
2025-12-01 17:52:06,316 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:06,318 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (15.75, 2.33), size=(2.20, 1.95), color=orange
2025-12-01 17:52:06,386 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:06,386 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:06,388 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (4.93, 5.56), size=(2.20, 1.95), color=red
2025-12-01 17:52:06,389 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:06,391 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (15.74, 2.18), size=(2.20, 1.95), color=orange
2025-12-01 17:52:06,455 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:06,455 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:06,457 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (4.94, 5.45), size=(2.20, 1.95), color=red
2025-12-01 17:52:06,458 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:06,459 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (15.70, 2.04), size=(2.20, 1.95), color=orange
2025-12-01 17:52:06,524 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:06,524 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:06,525 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (4.95, 5.32), size=(2.20, 1.95), color=red
2025-12-01 17:52:06,527 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:06,528 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (15.67, 1.94), size=(2.20, 1.95), color=orange
2025-12-01 17:52:06,593 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:06,593 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:06,595 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (4.97, 5.20), size=(2.20, 1.95), color=red
2025-12-01 17:52:06,597 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:06,598 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (15.61, 1.84), size=(2.20, 1.95), color=orange
2025-12-01 17:52:06,665 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:06,666 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:06,668 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.01, 5.07), size=(2.20, 1.95), color=red
2025-12-01 17:52:06,670 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:06,671 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (15.54, 1.75), size=(2.20, 1.95), color=orange
2025-12-01 17:52:06,735 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:06,736 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:06,737 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.05, 4.94), size=(2.20, 1.95), color=red
2025-12-01 17:52:06,739 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:06,740 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (15.46, 1.67), size=(2.20, 1.95), color=orange
2025-12-01 17:52:06,808 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:06,808 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:06,810 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.09, 4.81), size=(2.20, 1.95), color=red
2025-12-01 17:52:06,811 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:06,812 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (15.35, 1.60), size=(2.20, 1.95), color=orange
2025-12-01 17:52:06,877 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:06,877 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:06,879 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.14, 4.68), size=(2.20, 1.95), color=red
2025-12-01 17:52:06,881 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:06,883 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (15.24, 1.54), size=(2.20, 1.95), color=orange
2025-12-01 17:52:06,947 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:06,947 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:06,949 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.20, 4.54), size=(2.20, 1.95), color=red
2025-12-01 17:52:06,950 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:06,952 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (15.11, 1.50), size=(2.20, 1.95), color=orange
2025-12-01 17:52:07,017 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:07,017 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:07,019 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.27, 4.41), size=(2.20, 1.95), color=red
2025-12-01 17:52:07,020 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:07,022 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (14.98, 1.48), size=(2.20, 1.95), color=orange
2025-12-01 17:52:07,087 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:07,087 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:07,088 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.33, 4.27), size=(2.20, 1.95), color=red
2025-12-01 17:52:07,090 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:07,091 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (14.84, 1.48), size=(2.20, 1.95), color=orange
2025-12-01 17:52:07,154 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:07,155 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:07,156 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.40, 4.14), size=(2.20, 1.95), color=red
2025-12-01 17:52:07,158 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:07,159 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (14.71, 1.43), size=(2.20, 1.95), color=orange
2025-12-01 17:52:07,224 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:07,224 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:07,226 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.47, 4.01), size=(2.20, 1.95), color=red
2025-12-01 17:52:07,228 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:07,229 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (14.56, 1.40), size=(2.20, 1.95), color=orange
2025-12-01 17:52:07,294 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:07,295 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:07,296 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.53, 4.15), size=(2.20, 1.95), color=red
2025-12-01 17:52:07,298 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:07,299 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (14.41, 1.40), size=(2.20, 1.95), color=orange
2025-12-01 17:52:07,364 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:07,364 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:07,366 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.61, 4.28), size=(2.20, 1.95), color=red
2025-12-01 17:52:07,368 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:07,370 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (14.26, 1.42), size=(2.20, 1.95), color=orange
2025-12-01 17:52:07,439 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:07,439 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:07,441 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.70, 4.39), size=(2.20, 1.95), color=red
2025-12-01 17:52:07,442 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:07,444 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (14.12, 1.46), size=(2.20, 1.95), color=orange
2025-12-01 17:52:07,511 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:07,511 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:07,512 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.81, 4.49), size=(2.20, 1.95), color=red
2025-12-01 17:52:07,514 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:07,515 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.98, 1.52), size=(2.20, 1.95), color=orange
2025-12-01 17:52:07,579 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:07,579 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:07,581 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.94, 4.57), size=(2.20, 1.95), color=red
2025-12-01 17:52:07,583 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:07,584 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.85, 1.60), size=(2.20, 1.95), color=orange
2025-12-01 17:52:07,648 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:07,648 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:07,650 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.08, 4.63), size=(2.20, 1.95), color=red
2025-12-01 17:52:07,652 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:07,653 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.74, 1.70), size=(2.20, 1.95), color=orange
2025-12-01 17:52:07,718 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:07,718 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:07,719 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.22, 4.68), size=(2.20, 1.95), color=red
2025-12-01 17:52:07,721 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:07,722 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.65, 1.82), size=(2.20, 1.95), color=orange
2025-12-01 17:52:07,786 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:07,787 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:07,788 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.37, 4.70), size=(2.20, 1.95), color=red
2025-12-01 17:52:07,790 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:07,791 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.57, 1.94), size=(2.20, 1.95), color=orange
2025-12-01 17:52:07,854 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:07,854 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:07,856 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.52, 4.69), size=(2.20, 1.95), color=red
2025-12-01 17:52:07,857 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:07,859 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.51, 2.08), size=(2.20, 1.95), color=orange
2025-12-01 17:52:07,927 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:07,927 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:07,929 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.67, 4.67), size=(2.20, 1.95), color=red
2025-12-01 17:52:07,931 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:07,933 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.58, 1.95), size=(2.20, 1.95), color=orange
2025-12-01 17:52:07,999 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:07,999 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:08,001 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.81, 4.62), size=(2.20, 1.95), color=red
2025-12-01 17:52:08,002 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:08,004 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.67, 1.83), size=(2.20, 1.95), color=orange
2025-12-01 17:52:08,067 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:08,067 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:08,069 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.94, 4.55), size=(2.20, 1.95), color=red
2025-12-01 17:52:08,071 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:08,072 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.78, 1.73), size=(2.20, 1.95), color=orange
2025-12-01 17:52:08,136 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:08,137 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:08,138 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.79, 4.58), size=(2.20, 1.95), color=red
2025-12-01 17:52:08,140 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:08,141 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.91, 1.65), size=(2.20, 1.95), color=orange
2025-12-01 17:52:08,206 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:08,206 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:08,208 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.64, 4.58), size=(2.20, 1.95), color=red
2025-12-01 17:52:08,209 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:08,211 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (14.04, 1.58), size=(2.20, 1.95), color=orange
2025-12-01 17:52:08,275 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:08,275 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:08,277 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.50, 4.56), size=(2.20, 1.95), color=red
2025-12-01 17:52:08,278 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:08,280 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (14.18, 1.53), size=(2.20, 1.95), color=orange
2025-12-01 17:52:08,344 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:08,344 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:08,345 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.35, 4.52), size=(2.20, 1.95), color=red
2025-12-01 17:52:08,347 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:08,349 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (14.33, 1.51), size=(2.20, 1.95), color=orange
2025-12-01 17:52:08,413 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:08,414 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:08,416 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.22, 4.45), size=(2.20, 1.95), color=red
2025-12-01 17:52:08,417 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:08,418 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (14.48, 1.51), size=(2.20, 1.95), color=orange
2025-12-01 17:52:08,484 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:08,484 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:08,486 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.09, 4.37), size=(2.20, 1.95), color=red
2025-12-01 17:52:08,487 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:08,489 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (14.63, 1.53), size=(2.20, 1.95), color=orange
2025-12-01 17:52:08,648 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:08,648 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:08,649 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.98, 4.27), size=(2.20, 1.95), color=red
2025-12-01 17:52:08,651 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:08,652 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (14.77, 1.58), size=(2.20, 1.95), color=orange
2025-12-01 17:52:08,717 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:08,717 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:08,719 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.88, 4.15), size=(2.20, 1.95), color=red
2025-12-01 17:52:08,720 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:08,722 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (14.72, 1.44), size=(2.20, 1.95), color=orange
2025-12-01 17:52:08,787 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:08,787 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:08,788 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.81, 4.03), size=(2.20, 1.95), color=red
2025-12-01 17:52:08,790 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:08,791 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (14.65, 1.31), size=(2.20, 1.95), color=orange
2025-12-01 17:52:08,856 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:08,856 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:08,857 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.75, 3.89), size=(2.20, 1.95), color=red
2025-12-01 17:52:08,859 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:08,860 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (14.56, 1.19), size=(2.20, 1.95), color=orange
2025-12-01 17:52:08,927 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:08,927 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:08,928 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.71, 3.74), size=(2.20, 1.95), color=red
2025-12-01 17:52:08,930 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:08,931 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (14.45, 1.08), size=(2.20, 1.95), color=orange
2025-12-01 17:52:08,996 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:08,996 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:08,998 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.70, 3.59), size=(2.20, 1.95), color=red
2025-12-01 17:52:09,000 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:09,001 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (14.33, 1.00), size=(2.20, 1.95), color=orange
2025-12-01 17:52:09,065 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:09,065 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:09,067 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.70, 3.44), size=(2.20, 1.95), color=red
2025-12-01 17:52:09,069 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:09,070 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (14.19, 0.93), size=(2.20, 1.95), color=orange
2025-12-01 17:52:09,134 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:09,134 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:09,136 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.73, 3.29), size=(2.20, 1.95), color=red
2025-12-01 17:52:09,137 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:09,139 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (14.05, 0.88), size=(2.20, 1.95), color=orange
2025-12-01 17:52:09,207 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:09,207 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:09,209 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.75, 3.15), size=(2.20, 1.95), color=red
2025-12-01 17:52:09,210 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:09,212 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.90, 0.86), size=(2.20, 1.95), color=orange
2025-12-01 17:52:09,277 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:09,277 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:09,278 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.77, 3.00), size=(2.20, 1.95), color=red
2025-12-01 17:52:09,280 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:09,281 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.75, 0.86), size=(2.20, 1.95), color=orange
2025-12-01 17:52:09,345 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:09,345 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:09,347 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.80, 2.85), size=(2.20, 1.95), color=red
2025-12-01 17:52:09,349 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:09,351 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.60, 0.88), size=(2.20, 1.95), color=orange
2025-12-01 17:52:09,416 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:09,416 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:09,418 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.82, 2.70), size=(2.20, 1.95), color=red
2025-12-01 17:52:09,419 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:09,420 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.46, 0.92), size=(2.20, 1.95), color=orange
2025-12-01 17:52:09,485 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:09,485 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:09,487 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.95, 2.79), size=(2.20, 1.95), color=red
2025-12-01 17:52:09,488 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:09,490 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.32, 0.99), size=(2.20, 1.95), color=orange
2025-12-01 17:52:09,555 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:09,556 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:09,557 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.08, 2.85), size=(2.20, 1.95), color=red
2025-12-01 17:52:09,559 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:09,560 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.20, 1.07), size=(2.20, 1.95), color=orange
2025-12-01 17:52:09,626 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:09,626 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:09,627 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.22, 2.90), size=(2.20, 1.95), color=red
2025-12-01 17:52:09,629 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:09,630 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.09, 1.17), size=(2.20, 1.95), color=orange
2025-12-01 17:52:09,696 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:09,696 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:09,697 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.37, 2.92), size=(2.20, 1.95), color=red
2025-12-01 17:52:09,699 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:09,700 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (12.99, 1.29), size=(2.20, 1.95), color=orange
2025-12-01 17:52:09,764 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:09,764 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:09,766 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.52, 2.92), size=(2.20, 1.95), color=red
2025-12-01 17:52:09,768 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:09,769 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (12.87, 1.21), size=(2.20, 1.95), color=orange
2025-12-01 17:52:09,834 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:09,834 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:09,835 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.67, 2.90), size=(2.20, 1.95), color=red
2025-12-01 17:52:09,837 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:09,838 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (12.73, 1.15), size=(2.20, 1.95), color=orange
2025-12-01 17:52:09,904 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:09,904 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:09,905 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.81, 2.86), size=(2.20, 1.95), color=red
2025-12-01 17:52:09,907 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:09,908 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (12.58, 1.11), size=(2.20, 1.95), color=orange
2025-12-01 17:52:09,974 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:09,974 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:09,975 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.96, 2.81), size=(2.20, 1.95), color=red
2025-12-01 17:52:09,977 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:09,978 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (12.43, 1.09), size=(2.20, 1.95), color=orange
2025-12-01 17:52:10,043 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:10,043 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:10,044 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.09, 2.74), size=(2.20, 1.95), color=red
2025-12-01 17:52:10,046 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:10,047 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (12.28, 1.10), size=(2.20, 1.95), color=orange
2025-12-01 17:52:10,112 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:10,112 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:10,114 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.21, 2.65), size=(2.20, 1.95), color=red
2025-12-01 17:52:10,116 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:10,117 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (12.14, 1.13), size=(2.20, 1.95), color=orange
2025-12-01 17:52:10,182 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:10,182 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:10,184 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.08, 2.72), size=(2.20, 1.95), color=red
2025-12-01 17:52:10,186 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:10,187 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.99, 1.18), size=(2.20, 1.95), color=orange
2025-12-01 17:52:10,251 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:10,251 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:10,252 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.95, 2.80), size=(2.20, 1.95), color=red
2025-12-01 17:52:10,254 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:10,255 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.86, 1.25), size=(2.20, 1.95), color=orange
2025-12-01 17:52:10,321 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:10,321 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:10,323 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.81, 2.87), size=(2.20, 1.95), color=red
2025-12-01 17:52:10,325 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:10,326 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.74, 1.34), size=(2.20, 1.95), color=orange
2025-12-01 17:52:10,392 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:10,392 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:10,393 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.67, 2.91), size=(2.20, 1.95), color=red
2025-12-01 17:52:10,395 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:10,396 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.64, 1.44), size=(2.20, 1.95), color=orange
2025-12-01 17:52:10,461 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:10,461 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:10,462 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.52, 2.93), size=(2.20, 1.95), color=red
2025-12-01 17:52:10,464 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:10,465 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.55, 1.56), size=(2.20, 1.95), color=orange
2025-12-01 17:52:10,531 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:10,531 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:10,533 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.37, 2.92), size=(2.20, 1.95), color=red
2025-12-01 17:52:10,534 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:10,535 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.48, 1.70), size=(2.20, 1.95), color=orange
2025-12-01 17:52:10,602 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:10,603 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:10,604 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.22, 2.90), size=(2.20, 1.95), color=red
2025-12-01 17:52:10,606 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:10,607 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.38, 1.81), size=(2.20, 1.95), color=orange
2025-12-01 17:52:10,671 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:10,671 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:10,673 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.08, 2.85), size=(2.20, 1.95), color=red
2025-12-01 17:52:10,674 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:10,676 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.30, 1.93), size=(2.20, 1.95), color=orange
2025-12-01 17:52:10,741 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:10,741 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:10,743 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.95, 2.78), size=(2.20, 1.95), color=red
2025-12-01 17:52:10,744 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:10,746 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.23, 2.07), size=(2.20, 1.95), color=orange
2025-12-01 17:52:10,812 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:10,812 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:10,813 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.83, 2.70), size=(2.20, 1.95), color=red
2025-12-01 17:52:10,815 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:10,817 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.18, 2.21), size=(2.20, 1.95), color=orange
2025-12-01 17:52:10,881 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:10,881 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:10,883 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.72, 2.59), size=(2.20, 1.95), color=red
2025-12-01 17:52:10,885 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:10,886 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.15, 2.36), size=(2.20, 1.95), color=orange
2025-12-01 17:52:10,950 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:10,950 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:10,952 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.63, 2.47), size=(2.20, 1.95), color=red
2025-12-01 17:52:10,954 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:10,955 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.13, 2.51), size=(2.20, 1.95), color=orange
2025-12-01 17:52:11,019 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:11,019 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:11,021 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.75, 2.56), size=(2.20, 1.95), color=red
2025-12-01 17:52:11,022 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:11,024 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.11, 2.66), size=(2.20, 1.95), color=orange
2025-12-01 17:52:11,089 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:11,089 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:11,090 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (5.88, 2.63), size=(2.20, 1.95), color=red
2025-12-01 17:52:11,092 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:11,093 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.09, 2.81), size=(2.20, 1.95), color=orange
2025-12-01 17:52:11,158 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:11,158 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:11,160 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.02, 2.68), size=(2.20, 1.95), color=red
2025-12-01 17:52:11,161 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:11,162 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.08, 2.95), size=(2.20, 1.95), color=orange
2025-12-01 17:52:11,228 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:11,228 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:11,230 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.17, 2.70), size=(2.20, 1.95), color=red
2025-12-01 17:52:11,232 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:11,233 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.07, 3.10), size=(2.20, 1.95), color=orange
2025-12-01 17:52:11,298 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:11,299 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:11,300 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.32, 2.71), size=(2.20, 1.95), color=red
2025-12-01 17:52:11,302 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:11,303 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.21, 3.04), size=(2.20, 1.95), color=orange
2025-12-01 17:52:11,367 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:11,367 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:11,368 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.47, 2.69), size=(2.20, 1.95), color=red
2025-12-01 17:52:11,370 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:11,371 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.36, 3.00), size=(2.20, 1.95), color=orange
2025-12-01 17:52:11,437 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:11,437 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:11,438 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.62, 2.66), size=(2.20, 1.95), color=red
2025-12-01 17:52:11,440 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:11,441 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.50, 2.99), size=(2.20, 1.95), color=orange
2025-12-01 17:52:11,508 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:11,508 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:11,510 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.76, 2.60), size=(2.20, 1.95), color=red
2025-12-01 17:52:11,511 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:11,512 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.65, 2.99), size=(2.20, 1.95), color=orange
2025-12-01 17:52:11,579 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:11,579 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:11,581 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.89, 2.53), size=(2.20, 1.95), color=red
2025-12-01 17:52:11,583 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:11,584 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.80, 3.02), size=(2.20, 1.95), color=orange
2025-12-01 17:52:11,646 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:11,646 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:11,648 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.89, 2.53), size=(2.20, 1.95), color=red
2025-12-01 17:52:11,650 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:11,651 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.80, 3.02), size=(2.20, 1.95), color=orange
2025-12-01 17:52:11,710 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:11,711 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:11,712 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.89, 2.53), size=(2.20, 1.95), color=red
2025-12-01 17:52:11,714 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:11,716 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.80, 3.02), size=(2.20, 1.95), color=orange
2025-12-01 17:52:11,774 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:11,774 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:11,776 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.89, 2.53), size=(2.20, 1.95), color=red
2025-12-01 17:52:11,777 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:11,779 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.80, 3.02), size=(2.20, 1.95), color=orange
2025-12-01 17:52:11,838 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2025-12-01 17:52:11,838 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:11,839 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.89, 2.53), size=(2.20, 1.95), color=red
2025-12-01 17:52:11,841 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2025-12-01 17:52:11,842 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.80, 3.02), size=(2.20, 1.95), color=orange
2025-12-01 17:52:21,477 - INFO - integration_test - Saved animation with 142 frames at 10.00 fps to test_outputs/20251201_175032_contouring_contouring_gaussian_contouring_unicycle/animation.gif (duration: 14.20s, size: 3159667 bytes)
2025-12-01 17:52:21,531 - INFO - integration_test - Animation created successfully
2025-12-01 17:52:21,532 - INFO - integration_test - Test completed successfully
