2026-01-12 15:25:18,851 - INFO - integration_test - Contouring objective detected: automatically switching to contouring-aware dynamics model
2026-01-12 15:25:18,851 - WARNING - integration_test -   Vehicle dynamics 'contouring_unicycle' is not automatically converted. Ensure it supports contouring (has 'spline' state variable)
2026-01-12 15:25:18,851 - INFO - integration_test - Created vehicle dynamics model: ContouringSecondOrderUnicycleModel
2026-01-12 15:25:18,851 - INFO - integration_test - ✓ Validation passed: Contouring objective with dynamics model that has 'spline' state
2026-01-12 15:25:18,851 - INFO - integration_test - Creating objective module: contouring
2026-01-12 15:25:18,868 - INFO - integration_test - Objective module 'contouring' created: contouring_objective
2026-01-12 15:25:18,868 - INFO - integration_test - Creating 2 constraint module(s): ['contouring', 'gaussian']
2026-01-12 15:25:18,868 - DEBUG - integration_test - Creating constraint module: contouring
2026-01-12 15:25:18,873 - INFO - integration_test - Constraint module 'contouring' created: contouring_constraints
2026-01-12 15:25:18,873 - DEBUG - integration_test - Creating constraint module: gaussian
2026-01-12 15:25:18,882 - INFO - integration_test - Constraint module 'gaussian' created: gaussian_constraints
2026-01-12 15:25:18,882 - INFO - integration_test - Created 2 constraint module(s)
2026-01-12 15:25:18,896 - INFO - integration_test - Setting solver on all modules...
2026-01-12 15:25:18,896 - DEBUG - integration_test -   Set solver on module: contouring_constraints
2026-01-12 15:25:18,896 - DEBUG - integration_test -   Set solver on module: gaussian_constraints
2026-01-12 15:25:18,896 - DEBUG - integration_test -   Set solver on module: control_effort_objective
2026-01-12 15:25:18,896 - DEBUG - integration_test -   Set solver on module: control_jerk_objective
2026-01-12 15:25:18,896 - DEBUG - integration_test -   Set solver on module: path_reference_velocity_objective
2026-01-12 15:25:18,896 - DEBUG - integration_test -   Set solver on module: contouring_objective
2026-01-12 15:25:18,897 - WARNING - integration_test - Error shaping obstacles: name 'get_dummy_obstacle' is not defined
2026-01-12 15:25:18,897 - WARNING - integration_test - Error in on_data_received: 'Planner' object has no attribute 'on_data_received'
2026-01-12 15:25:18,897 - INFO - integration_test - Initial vehicle state (before spline): [0. 0. 0. 1.]
2026-01-12 15:25:18,897 - INFO - integration_test - Vehicle starting position: (0.00, 0.00)
2026-01-12 15:25:18,897 - INFO - integration_test - Reference path start: (0.00, 0.00)
2026-01-12 15:25:18,897 - INFO - integration_test - Reference path starts at vehicle position (requirement satisfied)
2026-01-12 15:25:18,897 - INFO - integration_test - Contouring-aware dynamics detected: initializing spline variable
2026-01-12 15:25:18,897 - INFO - integration_test - Initialized spline to closest path point: s=0.0000 (vehicle at (0.00, 0.00), closest path point at (0.00, 0.00), distance=0.000m)
2026-01-12 15:25:18,898 - INFO - integration_test - Added spline variable: 0.0000
2026-01-12 15:25:18,898 - INFO - integration_test - Final initial state: [0. 0. 0. 1. 0.] (variables: ['x', 'y', 'psi', 'v', 'spline'])
2026-01-12 15:25:18,898 - INFO - integration_test - Step 0 (contouring until path end)
2026-01-12 15:25:18,898 - DEBUG - integration_test - Syncing planner state at step 0: vehicle_state=[0. 0. 0. 1. 0.]
2026-01-12 15:25:18,898 - DEBUG - integration_test - Step 0: Using propagated spline 0.0000 (close to path, dist=0.000m, drift=0.000m)
2026-01-12 15:25:18,898 - DEBUG - integration_test -   Set spline state to 0.0000
2026-01-12 15:25:18,900 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:18,917 - DEBUG - integration_test - Step 0: Checking path alignment: vehicle=(0.000, 0.000), path_start=(0.000, 0.000), dist=0.000m
2026-01-12 15:25:18,917 - INFO - integration_test - === Calling planner.solve_mpc() at step 0 ===
2026-01-12 15:25:18,921 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:18,932 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:18,932 - INFO - integration_test - Warmstart k=0: x0=0.0 , y0=0.0 , psi0=0.0 , v0=1.0 , spline0=0.0 , a0=0.0 , w0=0.0
2026-01-12 15:25:18,932 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:18,933 - INFO - integration_test - Dyn residual k=0: pred=[0.1, 0.0, 0.0, 1.0, 0.1], ws=[0.1, 0.0, 0.0, 1.0, 0.051515151515151514], res=[0.0, 0.0, 0.0, 0.0, 0.04848484848484849], res_norm=4.848e-02
2026-01-12 15:25:18,934 - INFO - integration_test - Dyn residual k=1: pred=[0.2, 0.0, 0.0, 1.0, 0.15151515151515152], ws=[0.2, 0.0, 0.0, 1.0, 0.10530806991582416], res=[0.0, 0.0, 0.0, 0.0, 0.04620708159932736], res_norm=4.621e-02
2026-01-12 15:25:18,935 - INFO - integration_test - Dyn residual k=2: pred=[0.30000000000000004, 0.0, 0.0, 1.0, 0.20530806991582418], ws=[0.30000000000000004, 0.0, 0.0, 1.0, 0.161778744996012], res=[0.0, 0.0, 0.0, 0.0, 0.04352932491981218], res_norm=4.353e-02
2026-01-12 15:25:18,948 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:18,969 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:18,983 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:18,994 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:19,008 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:19,019 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:19,032 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:19,043 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:19,057 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:19,067 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:19,081 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:19,091 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:19,105 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:19,115 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:19,129 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:19,140 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:19,154 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:19,165 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:19,179 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:19,190 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:19,203 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:19,213 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:20,578 - INFO - integration_test - Step 0: MPC solve successful
2026-01-12 15:25:20,799 - INFO - integration_test - Step 0: Computed 6 numeric contouring constraints for visualization (s=0.000)
2026-01-12 15:25:20,799 - DEBUG - integration_test - Step 0: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:20,799 - DEBUG - integration_test - Linearized constraints module not found at step 0
2026-01-12 15:25:20,799 - INFO - integration_test - === Applying control at step 0 ===
2026-01-12 15:25:20,799 - INFO - integration_test -   Control dict from planner: {'a': 1.9999999924124585, 'w': 0.799999485449155}
2026-01-12 15:25:20,799 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:20,799 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:20,801 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:20,802 - INFO - integration_test - Step 0 completed in 1.904s
2026-01-12 15:25:20,816 - INFO - integration_test - Step 1 (contouring until path end)
2026-01-12 15:25:20,818 - DEBUG - integration_test - Syncing planner state at step 1: vehicle_state=[0.10987738 0.00453084 0.07999995 1.2        0.12      ]
2026-01-12 15:25:20,819 - DEBUG - integration_test - Step 1: Using propagated spline 0.1200 (close to path, dist=0.110m, drift=0.120m)
2026-01-12 15:25:20,819 - DEBUG - integration_test -   Set spline state to 0.1200
2026-01-12 15:25:20,821 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:20,839 - DEBUG - integration_test - Step 1: Checking path alignment: vehicle=(0.110, 0.005), path_start=(0.000, 0.000), dist=0.110m
2026-01-12 15:25:20,839 - INFO - integration_test - === Calling planner.solve_mpc() at step 1 ===
2026-01-12 15:25:20,843 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:20,856 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:20,856 - INFO - integration_test - Warmstart k=0: x0=0.10987737540100137 , y0=0.004530842140060357 , psi0=0.07999994854491549 , v0=1.1999999992412458 , spline0=0.0517171717164053 , a0=0.0 , w0=0.0
2026-01-12 15:25:20,856 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:20,857 - INFO - integration_test - Dyn residual k=0: pred=[0.22949358057512487, 0.014120599255435583, 0.07999994854491549, 1.1999999992412458, 0.17171717164052988], ws=[0.22949358057512487, 0.014120599255435583, 0.07999994854491543, 1.1999999992412458, 0.10627058848603554], res=[0.0, 0.0, 5.551115123125783e-17, 0.0, 0.06544658315449434], res_norm=6.545e-02
2026-01-12 15:25:20,858 - INFO - integration_test - Dyn residual k=1: pred=[0.34910978574924834, 0.023710356370810804, 0.07999994854491543, 1.1999999992412458, 0.22627058841016012], ws=[0.3491097857492484, 0.023710356370810804, 0.07999994854491543, 1.1999999992412458, 0.2188543561345701], res=[-5.551115123125783e-17, 0.0, 0.0, 0.0, 0.007416232275590018], res_norm=7.416e-03
2026-01-12 15:25:20,859 - INFO - integration_test - Dyn residual k=2: pred=[0.46872599092337186, 0.03330011348618603, 0.07999994854491543, 1.1999999992412458, 0.3388543560586947], ws=[0.4687259909233719, 0.03330011348618603, 0.07999994854491543, 1.1999999992412458, 0.2822950990201408], res=[-5.551115123125783e-17, 0.0, 0.0, 0.0, 0.056559257038553856], res_norm=5.656e-02
2026-01-12 15:25:20,873 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:20,893 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:20,908 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:20,919 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:20,933 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:20,945 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:20,959 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:20,971 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:20,984 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:20,995 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:21,009 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:21,020 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:21,034 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:21,045 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:21,058 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:21,069 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:21,083 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:21,094 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:21,108 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:21,118 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:21,131 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:21,141 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:21,247 - INFO - integration_test - Step 1: MPC solve successful
2026-01-12 15:25:21,260 - INFO - integration_test - Step 1: Computed 6 numeric contouring constraints for visualization (s=0.120)
2026-01-12 15:25:21,260 - DEBUG - integration_test - Step 1: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:21,260 - INFO - integration_test - === Applying control at step 1 ===
2026-01-12 15:25:21,260 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000188763383, 'w': 0.799999989740094}
2026-01-12 15:25:21,260 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:21,260 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:21,261 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:21,262 - INFO - integration_test - Step 1 completed in 0.444s
2026-01-12 15:25:21,272 - INFO - integration_test - Step 2 (contouring until path end)
2026-01-12 15:25:21,272 - DEBUG - integration_test - Syncing planner state at step 2: vehicle_state=[0.23889213 0.02022161 0.15999995 1.4        0.26      ]
2026-01-12 15:25:21,273 - DEBUG - integration_test - Step 2: Using propagated spline 0.2600 (close to path, dist=0.240m, drift=0.260m)
2026-01-12 15:25:21,273 - DEBUG - integration_test -   Set spline state to 0.2600
2026-01-12 15:25:21,275 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:21,291 - DEBUG - integration_test - Step 2: Checking path alignment: vehicle=(0.239, 0.020), path_start=(0.000, 0.000), dist=0.240m
2026-01-12 15:25:21,291 - INFO - integration_test - === Calling planner.solve_mpc() at step 2 ===
2026-01-12 15:25:21,294 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:21,304 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:21,304 - INFO - integration_test - Warmstart k=0: x0=0.2388921287478776 , y0=0.020221612102707547 , psi0=0.15999994751892488 , v0=1.4000000011288796 , spline0=0.159393939395061 , a0=0.0 , w0=0.0
2026-01-12 15:25:21,304 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:21,305 - INFO - integration_test - Dyn residual k=0: pred=[0.37710394970247796, 0.04252615379318216, 0.15999994751892488, 1.4000000011288796, 0.29939393950794896], ws=[0.37710394970247796, 0.04252615379318217, 0.15999994751892466, 1.4000000011288796, 0.21989439508800157], res=[0.0, -6.938893903907228e-18, 2.220446049250313e-16, 0.0, 0.07949954441994739], res_norm=7.950e-02
2026-01-12 15:25:21,306 - INFO - integration_test - Dyn residual k=1: pred=[0.5153157706570783, 0.06483069548365675, 0.15999994751892466, 1.4000000011288796, 0.3598943952008895], ws=[0.5153157706570783, 0.06483069548365676, 0.15999994751892466, 1.4000000011288796, 0.2850309021896323], res=[0.0, -1.3877787807814457e-17, 0.0, 0.0, 0.07486349301125722], res_norm=7.486e-02
2026-01-12 15:25:21,307 - INFO - integration_test - Dyn residual k=2: pred=[0.6535275916116787, 0.08713523717413135, 0.15999994751892466, 1.4000000011288796, 0.4250309023025203], ws=[0.6535275916116787, 0.08713523717413135, 0.15999994751892466, 1.4000000011288796, 0.4146696911105565], res=[0.0, 0.0, 0.0, 0.0, 0.01036121119196376], res_norm=1.036e-02
2026-01-12 15:25:21,320 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:21,339 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:21,354 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:21,364 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:21,378 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:21,389 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:21,403 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:21,413 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:21,427 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:21,438 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:21,451 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:21,462 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:21,476 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:21,487 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:21,500 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:21,511 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:21,524 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:21,535 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:21,549 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:21,559 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:21,573 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:21,583 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:21,703 - INFO - integration_test - Step 2: MPC solve successful
2026-01-12 15:25:21,715 - INFO - integration_test - Step 2: Computed 6 numeric contouring constraints for visualization (s=0.260)
2026-01-12 15:25:21,716 - DEBUG - integration_test - Step 2: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:21,716 - INFO - integration_test - === Applying control at step 2 ===
2026-01-12 15:25:21,716 - INFO - integration_test -   Control dict from planner: {'a': 2.000000019973142, 'w': 0.8000000096405819}
2026-01-12 15:25:21,716 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:21,716 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:21,717 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:21,717 - INFO - integration_test - Step 2 completed in 0.445s
2026-01-12 15:25:21,728 - INFO - integration_test - Step 3 (contouring until path end)
2026-01-12 15:25:21,729 - DEBUG - integration_test - Syncing planner state at step 3: vehicle_state=[0.38583644 0.0501447  0.23999995 1.6        0.42      ]
2026-01-12 15:25:21,729 - DEBUG - integration_test - Step 3: Using propagated spline 0.4200 (close to path, dist=0.389m, drift=0.420m)
2026-01-12 15:25:21,729 - DEBUG - integration_test -   Set spline state to 0.4200
2026-01-12 15:25:21,731 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:21,748 - DEBUG - integration_test - Step 3: Checking path alignment: vehicle=(0.386, 0.050), path_start=(0.000, 0.000), dist=0.389m
2026-01-12 15:25:21,748 - INFO - integration_test - === Calling planner.solve_mpc() at step 3 ===
2026-01-12 15:25:21,752 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:21,761 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:21,761 - INFO - integration_test - Warmstart k=0: x0=0.38583643756972186 , y0=0.0501446991119155 , psi0=0.2399999484829831 , v0=1.6000000031261936 , spline0=0.21898989900402555 , a0=0.0 , w0=0.0
2026-01-12 15:25:21,761 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:21,762 - INFO - integration_test - Dyn residual k=0: pred=[0.5412505158090223, 0.08817711140809784, 0.2399999484829831, 1.6000000031261936, 0.37898989931664495], ws=[0.5412505158090223, 0.08817711140809784, 0.2399999484829829, 1.6000000031261936, 0.34216400934776103], res=[0.0, 0.0, 1.942890293094024e-16, 0.0, 0.03682588996888392], res_norm=3.683e-02
2026-01-12 15:25:21,763 - INFO - integration_test - Dyn residual k=1: pred=[0.6966645940483227, 0.12620952370428012, 0.2399999484829829, 1.6000000031261936, 0.5021640096603804], ws=[0.6966645940483227, 0.12620952370428012, 0.2399999484829829, 1.6000000031261936, 0.41668683409263046], res=[0.0, 0.0, 0.0, 0.0, 0.08547717556774997], res_norm=8.548e-02
2026-01-12 15:25:21,764 - INFO - integration_test - Dyn residual k=2: pred=[0.8520786722876231, 0.1642419360004624, 0.2399999484829829, 1.6000000031261936, 0.5766868344052498], ws=[0.8520786722876231, 0.16424193600046244, 0.2399999484829829, 1.6000000031261936, 0.7399794739130935], res=[0.0, -2.7755575615628914e-17, 0.0, 0.0, -0.16329263950784367], res_norm=1.633e-01
2026-01-12 15:25:21,777 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:21,797 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:21,811 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:21,822 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:21,836 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:21,847 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:21,860 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:21,871 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:21,884 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:21,895 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:21,909 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:21,920 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:21,933 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:21,944 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:21,958 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:21,969 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:21,983 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:21,994 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:22,008 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:22,018 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:22,031 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:22,041 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:22,157 - INFO - integration_test - Step 3: MPC solve successful
2026-01-12 15:25:22,169 - INFO - integration_test - Step 3: Computed 6 numeric contouring constraints for visualization (s=0.420)
2026-01-12 15:25:22,170 - DEBUG - integration_test - Step 3: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:22,170 - INFO - integration_test - === Applying control at step 3 ===
2026-01-12 15:25:22,170 - INFO - integration_test -   Control dict from planner: {'a': 2.000000019303684, 'w': 0.799999991547264}
2026-01-12 15:25:22,170 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:22,170 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:22,171 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:22,171 - INFO - integration_test - Step 3 completed in 0.443s
2026-01-12 15:25:22,182 - INFO - integration_test - Step 4 (contouring until path end)
2026-01-12 15:25:22,182 - DEBUG - integration_test - Syncing planner state at step 4: vehicle_state=[0.54913547 0.09724073 0.31999995 1.80000001 0.6       ]
2026-01-12 15:25:22,183 - DEBUG - integration_test - Step 4: Using propagated spline 0.6000 (close to path, dist=0.455m, drift=0.006m)
2026-01-12 15:25:22,183 - DEBUG - integration_test -   Set spline state to 0.6000
2026-01-12 15:25:22,185 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:22,203 - DEBUG - integration_test - Step 4: Checking path alignment: vehicle=(0.549, 0.097), path_start=(0.000, 0.000), dist=0.558m
2026-01-12 15:25:22,203 - INFO - integration_test - === Calling planner.solve_mpc() at step 4 ===
2026-01-12 15:25:22,207 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:22,216 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:22,216 - INFO - integration_test - Warmstart k=0: x0=0.5491354652903415 , y0=0.09724073110387965 , psi0=0.3199999476377095 , v0=1.800000005056562 , spline0=0.339393939445775 , a0=0.0 , w0=0.0
2026-01-12 15:25:22,216 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:22,217 - INFO - integration_test - Dyn residual k=0: pred=[0.719997843990024, 0.15386270322709794, 0.3199999476377095, 1.800000005056562, 0.5193939399514312], ws=[0.7199978439900241, 0.15386270322709794, 0.31999994763770934, 1.800000005056562, 0.47435686264919547], res=[-1.1102230246251565e-16, 0.0, 1.6653345369377348e-16, 0.0, 0.04503707730223577], res_norm=4.504e-02
2026-01-12 15:25:22,218 - INFO - integration_test - Dyn residual k=1: pred=[0.8908602226897067, 0.2104846753503162, 0.31999994763770934, 1.800000005056562, 0.6543568631548518], ws=[0.8908602226897067, 0.2104846753503162, 0.31999994763770934, 1.800000005056562, 0.8018290656605166], res=[0.0, 0.0, 0.0, 0.0, -0.14747220250566484], res_norm=1.475e-01
2026-01-12 15:25:22,219 - INFO - integration_test - Dyn residual k=2: pred=[1.0617226013893892, 0.26710664747353446, 0.31999994763770934, 1.800000005056562, 0.9818290661661728], ws=[1.0617226013893892, 0.26710664747353446, 0.31999994763770934, 1.800000005056562, 0.8999392968758964], res=[0.0, 0.0, 0.0, 0.0, 0.08188976929027647], res_norm=8.189e-02
2026-01-12 15:25:22,232 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:22,251 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:22,265 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:22,276 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:22,290 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:22,301 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:22,315 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:22,326 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:22,339 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:22,350 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:22,363 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:22,375 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:22,388 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:22,399 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:22,413 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:22,423 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:22,437 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:22,448 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:22,461 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:22,472 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:22,484 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:22,494 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:22,627 - INFO - integration_test - Step 4: MPC solve successful
2026-01-12 15:25:22,640 - INFO - integration_test - Step 4: Computed 6 numeric contouring constraints for visualization (s=0.600)
2026-01-12 15:25:22,640 - DEBUG - integration_test - Step 4: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:22,640 - INFO - integration_test - === Applying control at step 4 ===
2026-01-12 15:25:22,640 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000199451287, 'w': 0.800000008772156}
2026-01-12 15:25:22,641 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:22,641 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:22,641 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:22,642 - INFO - integration_test - Step 4 completed in 0.460s
2026-01-12 15:25:22,651 - INFO - integration_test - Step 5 (contouring until path end)
2026-01-12 15:25:22,651 - DEBUG - integration_test - Syncing planner state at step 5: vehicle_state=[0.7268615  0.16427973 0.39999995 2.00000001 0.8       ]
2026-01-12 15:25:22,652 - DEBUG - integration_test - Step 5: Using propagated spline 0.8000 (close to path, dist=0.375m, drift=0.194m)
2026-01-12 15:25:22,652 - DEBUG - integration_test -   Set spline state to 0.8000
2026-01-12 15:25:22,654 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:22,671 - DEBUG - integration_test - Step 5: Checking path alignment: vehicle=(0.727, 0.164), path_start=(0.000, 0.000), dist=0.745m
2026-01-12 15:25:22,671 - INFO - integration_test - === Calling planner.solve_mpc() at step 5 ===
2026-01-12 15:25:22,675 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:22,684 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:22,684 - INFO - integration_test - Warmstart k=0: x0=0.7268614960107628 , y0=0.16427973320139655 , psi0=0.3999999485149251 , v0=2.000000007051075 , spline0=0.46868686881296123 , a0=0.0 , w0=0.0
2026-01-12 15:25:22,684 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:22,685 - INFO - integration_test - Dyn residual k=0: pred=[0.9110736994706331, 0.24216339245352944, 0.3999999485149251, 2.000000007051075, 0.6686868695180688], ws=[0.9110736994706331, 0.24216339245352947, 0.39999994851492504, 2.000000007051075, 0.6103245125192172], res=[0.0, -2.7755575615628914e-17, 5.551115123125783e-17, 0.0, 0.05836235699885162], res_norm=5.836e-02
2026-01-12 15:25:22,686 - INFO - integration_test - Dyn residual k=1: pred=[1.0952859029305033, 0.32004705170566233, 0.39999994851492504, 2.000000007051075, 0.8103245132243246], ws=[1.0952859029305033, 0.3200470517056624, 0.39999994851492504, 2.000000007051075, 0.9554815266854431], res=[0.0, -5.551115123125783e-17, 0.0, 0.0, -0.14515701346111842], res_norm=1.452e-01
2026-01-12 15:25:22,687 - INFO - integration_test - Dyn residual k=2: pred=[1.2794981063903736, 0.39793071095779525, 0.39999994851492504, 2.000000007051075, 1.1554815273905505], ws=[1.2794981063903736, 0.3979307109577953, 0.39999994851492504, 2.000000007051075, 1.0655810523160703], res=[0.0, -5.551115123125783e-17, 0.0, 0.0, 0.08990047507448029], res_norm=8.990e-02
2026-01-12 15:25:22,700 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:22,720 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:22,734 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:22,745 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:22,758 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:22,771 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:22,785 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:22,796 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:22,810 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:22,821 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:22,834 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:22,845 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:22,858 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:22,869 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:22,883 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:22,894 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:22,908 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:22,919 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:22,933 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:22,943 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:22,957 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:22,967 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:23,095 - INFO - integration_test - Step 5: MPC solve successful
2026-01-12 15:25:23,108 - INFO - integration_test - Step 5: Computed 6 numeric contouring constraints for visualization (s=0.800)
2026-01-12 15:25:23,108 - DEBUG - integration_test - Step 5: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:23,108 - INFO - integration_test - === Applying control at step 5 ===
2026-01-12 15:25:23,108 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000199556918, 'w': 0.800000008795979}
2026-01-12 15:25:23,108 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:23,108 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:23,109 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:23,109 - INFO - integration_test - Step 5 completed in 0.458s
2026-01-12 15:25:23,118 - INFO - integration_test - Step 6 (contouring until path end)
2026-01-12 15:25:23,119 - DEBUG - integration_test - Syncing planner state at step 6: vehicle_state=[0.91675191 0.25382376 0.47999995 2.20000001 1.02      ]
2026-01-12 15:25:23,120 - DEBUG - integration_test - Step 6: Using propagated spline 1.0200 (close to path, dist=0.373m, drift=0.414m)
2026-01-12 15:25:23,120 - DEBUG - integration_test -   Set spline state to 1.0200
2026-01-12 15:25:23,122 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:23,139 - DEBUG - integration_test - Step 6: Checking path alignment: vehicle=(0.917, 0.254), path_start=(0.000, 0.000), dist=0.951m
2026-01-12 15:25:23,139 - INFO - integration_test - === Calling planner.solve_mpc() at step 6 ===
2026-01-12 15:25:23,143 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:23,152 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:23,152 - INFO - integration_test - Warmstart k=0: x0=0.9167519144600843 , y0=0.2538237634758494 , psi0=0.479999949394523 , v0=2.200000009046644 , spline0=0.608080808329804 , a0=0.0 , w0=0.0
2026-01-12 15:25:23,152 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:23,153 - INFO - integration_test - Dyn residual k=0: pred=[1.1118908034150414, 0.3554151726376344, 0.479999949394523, 2.200000009046644, 0.8280808092344685], ws=[1.1118908034150414, 0.3554151726376344, 0.47999994939452284, 2.200000009046644, 0.9559336016007656], res=[0.0, 0.0, 1.6653345369377348e-16, 0.0, -0.1278527923662971], res_norm=1.279e-01
2026-01-12 15:25:23,154 - INFO - integration_test - Dyn residual k=1: pred=[1.3070296923699987, 0.45700658179941933, 0.47999994939452284, 2.200000009046644, 1.17593360250543], ws=[1.3070296923699987, 0.4570065817994194, 0.47999994939452284, 2.200000009046644, 1.1373145690336046], res=[0.0, -5.551115123125783e-17, 0.0, 0.0, 0.03861903347182549], res_norm=3.862e-02
2026-01-12 15:25:23,155 - INFO - integration_test - Dyn residual k=2: pred=[1.502168581324956, 0.5585979909612043, 0.47999994939452284, 2.200000009046644, 1.3573145699382692], ws=[1.502168581324956, 0.5585979909612043, 0.47999994939452284, 2.200000009046644, 1.4647139039735502], res=[0.0, 0.0, 0.0, 0.0, -0.10739933403528101], res_norm=1.074e-01
2026-01-12 15:25:23,168 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:23,188 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:23,202 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:23,214 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:23,228 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:23,239 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:23,253 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:23,264 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:23,278 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:23,289 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:23,303 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:23,315 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:23,330 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:23,342 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:23,357 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:23,369 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:23,384 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:23,395 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:23,410 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:23,420 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:23,434 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:23,444 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:23,557 - INFO - integration_test - Step 6: MPC solve successful
2026-01-12 15:25:23,570 - INFO - integration_test - Step 6: Computed 6 numeric contouring constraints for visualization (s=1.020)
2026-01-12 15:25:23,570 - DEBUG - integration_test - Step 6: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:23,570 - INFO - integration_test - === Applying control at step 6 ===
2026-01-12 15:25:23,571 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000199183896, 'w': -0.3838893542503305}
2026-01-12 15:25:23,571 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:23,571 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:23,572 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:23,572 - INFO - integration_test - Step 6 completed in 0.453s
2026-01-12 15:25:23,582 - INFO - integration_test - Step 7 (contouring until path end)
2026-01-12 15:25:23,583 - DEBUG - integration_test - Syncing planner state at step 7: vehicle_state=[1.12277748 0.35603421 0.44161101 2.40000001 1.26      ]
2026-01-12 15:25:23,584 - DEBUG - integration_test - Step 7: Using propagated spline 1.2600 (close to path, dist=0.485m, drift=0.654m)
2026-01-12 15:25:23,584 - DEBUG - integration_test -   Set spline state to 1.2600
2026-01-12 15:25:23,586 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:23,605 - DEBUG - integration_test - Step 7: Checking path alignment: vehicle=(1.123, 0.356), path_start=(0.000, 0.000), dist=1.178m
2026-01-12 15:25:23,605 - INFO - integration_test - === Calling planner.solve_mpc() at step 7 ===
2026-01-12 15:25:23,609 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:23,618 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:23,618 - INFO - integration_test - Warmstart k=0: x0=1.122777476124086 , y0=0.3560342144505942 , psi0=0.44161101396949 , v0=2.400000011038483 , spline0=1.011717172293965 , a0=0.0 , w0=0.0
2026-01-12 15:25:23,618 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:23,619 - INFO - integration_test - Dyn residual k=0: pred=[1.3397529079239086, 0.4586093699470776, 0.44161101396949, 2.400000011038483, 1.2517171733978134], ws=[1.3397529079239086, 0.4586093699470776, 0.44161101396949, 2.400000011038483, 1.1329712611190548], res=[0.0, 0.0, 0.0, 0.0, 0.11874591227875864], res_norm=1.187e-01
2026-01-12 15:25:23,620 - INFO - integration_test - Dyn residual k=1: pred=[1.556728339723731, 0.561184525443561, 0.44161101396949, 2.400000011038483, 1.372971262222903], ws=[1.556728339723731, 0.561184525443561, 0.44161101396949, 2.400000011038483, 1.3254303849439564], res=[0.0, 0.0, 0.0, 0.0, 0.047540877278946736], res_norm=4.754e-02
2026-01-12 15:25:23,621 - INFO - integration_test - Dyn residual k=2: pred=[1.7737037715235535, 0.6637596809400444, 0.44161101396949, 2.400000011038483, 1.5654303860478047], ws=[1.7737037715235535, 0.6637596809400444, 0.44161101396949, 2.400000011038483, 1.6823533530070556], res=[0.0, 0.0, 0.0, 0.0, -0.11692296695925086], res_norm=1.169e-01
2026-01-12 15:25:23,635 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:23,655 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:23,670 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:23,681 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:23,695 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:23,707 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:23,721 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:23,732 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:23,747 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:23,758 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:23,772 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:23,783 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:23,798 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:23,809 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:23,823 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:23,836 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:23,851 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:23,862 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:23,876 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:23,886 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:23,899 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:23,909 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:24,004 - INFO - integration_test - Step 7: MPC solve successful
2026-01-12 15:25:24,016 - INFO - integration_test - Step 7: Computed 6 numeric contouring constraints for visualization (s=1.260)
2026-01-12 15:25:24,017 - DEBUG - integration_test - Step 7: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:24,017 - INFO - integration_test - === Applying control at step 7 ===
2026-01-12 15:25:24,017 - INFO - integration_test -   Control dict from planner: {'a': 1.9999998961872996, 'w': -0.7999999968966396}
2026-01-12 15:25:24,017 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:24,017 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:24,018 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:24,018 - INFO - integration_test - Step 7 completed in 0.435s
2026-01-12 15:25:24,029 - INFO - integration_test - Step 8 (contouring until path end)
2026-01-12 15:25:24,029 - DEBUG - integration_test - Syncing planner state at step 8: vehicle_state=[1.35287634 0.45361089 0.36161101 2.6        1.52      ]
2026-01-12 15:25:24,030 - DEBUG - integration_test - Step 8: Using propagated spline 1.5200 (close to path, dist=0.493m, drift=0.308m)
2026-01-12 15:25:24,030 - DEBUG - integration_test -   Set spline state to 1.5200
2026-01-12 15:25:24,032 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:24,049 - DEBUG - integration_test - Step 8: Checking path alignment: vehicle=(1.353, 0.454), path_start=(0.000, 0.000), dist=1.427m
2026-01-12 15:25:24,049 - INFO - integration_test - === Calling planner.solve_mpc() at step 8 ===
2026-01-12 15:25:24,052 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:24,062 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:24,062 - INFO - integration_test - Warmstart k=0: x0=1.3528763391492515 , y0=0.45361088609628486 , psi0=0.361611014279826 , v0=2.600000000657213 , spline0=1.1854545461153871 , a0=0.0 , w0=0.0
2026-01-12 15:25:24,062 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:24,063 - INFO - integration_test - Dyn residual k=0: pred=[1.5960616427681766, 0.5455940809633164, 0.361611014279826, 2.600000000657213, 1.4454545461811086], ws=[1.5960616427681766, 0.5455940809633164, 0.3616110142798261, 2.600000000657213, 1.311925808101387], res=[0.0, 0.0, -1.1102230246251565e-16, 0.0, 0.13352873807972165], res_norm=1.335e-01
2026-01-12 15:25:24,064 - INFO - integration_test - Dyn residual k=1: pred=[1.8392469463871017, 0.637577275830348, 0.3616110142798261, 2.600000000657213, 1.5719258081671081], ws=[1.8392469463871017, 0.637577275830348, 0.3616110142798261, 2.600000000657213, 1.7407402147799156], res=[0.0, 0.0, 0.0, 0.0, -0.16881440661280744], res_norm=1.688e-01
2026-01-12 15:25:24,064 - INFO - integration_test - Dyn residual k=2: pred=[2.082432250006027, 0.7295604706973795, 0.3616110142798261, 2.600000000657213, 2.000740214845637], ws=[2.082432250006027, 0.7295604706973795, 0.3616110142798261, 2.600000000657213, 1.8929630786407754], res=[0.0, 0.0, 0.0, 0.0, 0.1077771362048614], res_norm=1.078e-01
2026-01-12 15:25:24,078 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:24,098 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:24,112 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:24,124 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:24,138 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:24,149 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:24,162 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:24,174 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:24,187 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:24,198 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:24,212 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:24,223 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:24,237 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:24,248 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:24,262 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:24,273 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:24,286 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:24,297 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:24,312 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:24,322 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:24,335 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:24,346 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:24,450 - INFO - integration_test - Step 8: MPC solve successful
2026-01-12 15:25:24,463 - INFO - integration_test - Step 8: Computed 6 numeric contouring constraints for visualization (s=1.520)
2026-01-12 15:25:24,463 - DEBUG - integration_test - Step 8: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:24,463 - INFO - integration_test - === Applying control at step 8 ===
2026-01-12 15:25:24,463 - INFO - integration_test -   Control dict from planner: {'a': 2.000000019656251, 'w': -0.8000000099245661}
2026-01-12 15:25:24,463 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:24,463 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:24,464 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:24,464 - INFO - integration_test - Step 8 completed in 0.435s
2026-01-12 15:25:24,476 - INFO - integration_test - Step 9 (contouring until path end)
2026-01-12 15:25:24,476 - DEBUG - integration_test - Syncing planner state at step 9: vehicle_state=[1.60900658 0.53880742 0.28161101 2.8        1.8       ]
2026-01-12 15:25:24,477 - DEBUG - integration_test - Step 9: Using propagated spline 1.8000 (close to path, dist=0.602m, drift=0.588m)
2026-01-12 15:25:24,477 - DEBUG - integration_test -   Set spline state to 1.8000
2026-01-12 15:25:24,479 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:24,495 - DEBUG - integration_test - Step 9: Checking path alignment: vehicle=(1.609, 0.539), path_start=(0.000, 0.000), dist=1.697m
2026-01-12 15:25:24,496 - INFO - integration_test - === Calling planner.solve_mpc() at step 9 ===
2026-01-12 15:25:24,499 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:24,509 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:24,509 - INFO - integration_test - Warmstart k=0: x0=1.6090065770167035 , y0=0.5388074204867923 , psi0=0.28161101328736937 , v0=2.800000002622838 , spline0=1.3050505057983974 , a0=0.0 , w0=0.0
2026-01-12 15:25:24,509 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:24,510 - INFO - integration_test - Dyn residual k=0: pred=[1.8779770913151537, 0.6166204180187352, 0.28161101328736937, 2.800000002622838, 1.5850505060606812], ws=[1.8779770913151537, 0.6166204180187352, 0.28161101328736926, 2.800000002622838, 1.7385870666704923], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, -0.15353656060981113], res_norm=1.535e-01
2026-01-12 15:25:24,510 - INFO - integration_test - Dyn residual k=1: pred=[2.1469476056136036, 0.6944334155506782, 0.28161101328736926, 2.800000002622838, 2.0185870669327763], ws=[2.1469476056136036, 0.6944334155506782, 0.28161101328736926, 2.800000002622838, 2.12644559291449], res=[0.0, 0.0, 0.0, 0.0, -0.10785852598171353], res_norm=1.079e-01
2026-01-12 15:25:24,511 - INFO - integration_test - Dyn residual k=2: pred=[2.415918119912054, 0.7722464130826211, 0.28161101328736926, 2.800000002622838, 2.4064455931767736], ws=[2.4159181199120536, 0.7722464130826211, 0.28161101328736926, 2.800000002622838, 2.313521685586431], res=[4.440892098500626e-16, 0.0, 0.0, 0.0, 0.09292390759034275], res_norm=9.292e-02
2026-01-12 15:25:24,525 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:24,544 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:24,558 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:24,569 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:24,583 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:24,594 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:24,608 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:24,618 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:24,632 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:24,644 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:24,658 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:24,668 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:24,682 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:24,693 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:24,707 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:24,717 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:24,731 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:24,742 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:24,756 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:24,766 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:24,779 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:24,790 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:24,896 - INFO - integration_test - Step 9: MPC solve successful
2026-01-12 15:25:24,908 - INFO - integration_test - Step 9: Computed 6 numeric contouring constraints for visualization (s=1.800)
2026-01-12 15:25:24,909 - DEBUG - integration_test - Step 9: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:24,909 - INFO - integration_test - === Applying control at step 9 ===
2026-01-12 15:25:24,909 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000142622443, 'w': -0.8000000098861656}
2026-01-12 15:25:24,909 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:24,909 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:24,910 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:24,910 - INFO - integration_test - Step 9 completed in 0.434s
2026-01-12 15:25:24,919 - INFO - integration_test - Step 10 (contouring until path end)
2026-01-12 15:25:24,920 - DEBUG - integration_test - Syncing planner state at step 10: vehicle_state=[1.89053999 0.60804697 0.20161101 3.         2.1       ]
2026-01-12 15:25:24,922 - DEBUG - integration_test - Step 10: Using propagated spline 2.1000 (close to path, dist=0.706m, drift=0.283m)
2026-01-12 15:25:24,922 - DEBUG - integration_test -   Set spline state to 2.1000
2026-01-12 15:25:24,924 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:24,942 - DEBUG - integration_test - Step 10: Checking path alignment: vehicle=(1.891, 0.608), path_start=(0.000, 0.000), dist=1.986m
2026-01-12 15:25:24,942 - INFO - integration_test - === Calling planner.solve_mpc() at step 10 ===
2026-01-12 15:25:24,945 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:24,955 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:24,955 - INFO - integration_test - Warmstart k=0: x0=1.8905399880814628 , y0=0.6080469687266263 , psi0=0.2016110122987528 , v0=3.0000000040490624 , spline0=1.7212121222549868 , a0=0.0 , w0=0.0
2026-01-12 15:25:24,955 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:24,956 - INFO - integration_test - Dyn residual k=0: pred=[2.184463562707636, 0.6681213602917182, 0.2016110122987528, 3.0000000040490624, 2.021212122659893], ws=[2.184463562310931, 0.6681213602106366, 0.2016110122987529, 3.0, 2.1300757004575672], res=[3.9670489115906094e-10, 8.108158588981951e-11, -8.326672684688674e-17, 4.049062418687299e-09, -0.10886357779767408], res_norm=1.089e-01
2026-01-12 15:25:24,957 - INFO - integration_test - Dyn residual k=1: pred=[2.4783871365403995, 0.7281957516946469, 0.2016110122987529, 3.0, 2.430075700457567], ws=[2.4783871365403995, 0.7281957516946469, 0.2016110122987529, 3.0, 2.3274404756576526], res=[0.0, 0.0, 0.0, 0.0, 0.10263522479991449], res_norm=1.026e-01
2026-01-12 15:25:24,958 - INFO - integration_test - Dyn residual k=2: pred=[2.772310710769868, 0.7882701431786572, 0.2016110122987529, 3.0, 2.627440475657653], ws=[2.772310710769868, 0.7882701431786572, 0.2016110122987529, 3.0, 2.526737922091122], res=[0.0, 0.0, 0.0, 0.0, 0.1007025535665309], res_norm=1.007e-01
2026-01-12 15:25:24,971 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:24,991 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:25,005 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:25,016 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:25,031 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:25,042 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:25,056 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:25,067 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:25,081 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:25,092 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:25,106 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:25,116 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:25,130 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:25,141 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:25,156 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:25,166 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:25,180 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:25,191 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:25,205 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:25,215 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:25,228 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:25,239 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:25,360 - INFO - integration_test - Step 10: MPC solve successful
2026-01-12 15:25:25,373 - INFO - integration_test - Step 10: Computed 6 numeric contouring constraints for visualization (s=2.100)
2026-01-12 15:25:25,373 - DEBUG - integration_test - Step 10: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:25,373 - INFO - integration_test - === Applying control at step 10 ===
2026-01-12 15:25:25,373 - INFO - integration_test -   Control dict from planner: {'a': -1.2777622913283906, 'w': -0.8000000099989398}
2026-01-12 15:25:25,373 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:25,373 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:25,374 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:25,375 - INFO - integration_test - Step 10 completed in 0.454s
2026-01-12 15:25:25,384 - INFO - integration_test - Step 11 (contouring until path end)
2026-01-12 15:25:25,384 - DEBUG - integration_test - Syncing planner state at step 11: vehicle_state=[2.18023426 0.65536294 0.12161101 2.87222377 2.38722238]
2026-01-12 15:25:25,385 - DEBUG - integration_test - Step 11: Using propagated spline 2.3872 (close to path, dist=0.844m, drift=0.570m)
2026-01-12 15:25:25,385 - DEBUG - integration_test -   Set spline state to 2.3872
2026-01-12 15:25:25,387 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:25,405 - DEBUG - integration_test - Step 11: Checking path alignment: vehicle=(2.180, 0.655), path_start=(0.000, 0.000), dist=2.277m
2026-01-12 15:25:25,405 - INFO - integration_test - === Calling planner.solve_mpc() at step 11 ===
2026-01-12 15:25:25,409 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:25,418 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:25,418 - INFO - integration_test - Warmstart k=0: x0=2.180234260165855 , y0=0.6553629402121015 , psi0=0.12161101129885882 , v0=2.872223774916223 , spline0=1.94007860531949 , a0=0.0 , w0=0.0
2026-01-12 15:25:25,418 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:25,419 - INFO - integration_test - Dyn residual k=0: pred=[2.465335353879637, 0.6902063111045003, 0.12161101129885882, 2.872223774916223, 2.2273009828111126], ws=[2.465335353879637, 0.6902063111045003, 0.12161101129885887, 2.872223774916223, 2.2756643033145454], res=[0.0, 0.0, -5.551115123125783e-17, 0.0, -0.04836332050343284], res_norm=4.836e-02
2026-01-12 15:25:25,420 - INFO - integration_test - Dyn residual k=1: pred=[2.7504364475934193, 0.725049681996899, 0.12161101129885887, 2.872223774916223, 2.5628866808061677], ws=[2.7504364475934193, 0.725049681996899, 0.12161101129885887, 2.872223774916223, 2.481537615154058], res=[0.0, 0.0, 0.0, 0.0, 0.08134906565210986], res_norm=8.135e-02
2026-01-12 15:25:25,421 - INFO - integration_test - Dyn residual k=2: pred=[3.0355375413072014, 0.7598930528892978, 0.12161101129885887, 2.872223774916223, 2.76875999264568], ws=[3.0355375413072014, 0.7598930528892978, 0.12161101129885887, 2.872223774916223, 2.8634877564023498], res=[0.0, 0.0, 0.0, 0.0, -0.09472776375666969], res_norm=9.473e-02
2026-01-12 15:25:25,434 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:25,453 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:25,468 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:25,479 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:25,493 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:25,504 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:25,518 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:25,529 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:25,543 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:25,554 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:25,568 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:25,579 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:25,593 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:25,604 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:25,618 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:25,629 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:25,644 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:25,655 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:25,669 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:25,679 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:25,692 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:25,702 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:25,816 - INFO - integration_test - Step 11: MPC solve successful
2026-01-12 15:25:25,829 - INFO - integration_test - Step 11: Computed 6 numeric contouring constraints for visualization (s=2.387)
2026-01-12 15:25:25,830 - DEBUG - integration_test - Step 11: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:25,830 - INFO - integration_test - === Applying control at step 11 ===
2026-01-12 15:25:25,830 - INFO - integration_test -   Control dict from planner: {'a': -2.000000019342745, 'w': -0.8000000099657345}
2026-01-12 15:25:25,830 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:25,830 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:25,831 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:25,831 - INFO - integration_test - Step 11 completed in 0.447s
2026-01-12 15:25:25,843 - INFO - integration_test - Step 12 (contouring until path end)
2026-01-12 15:25:25,844 - DEBUG - integration_test - Syncing planner state at step 12: vehicle_state=[2.45644941 0.67808906 0.04161101 2.67222377 2.65444476]
2026-01-12 15:25:25,844 - DEBUG - integration_test - Step 12: Using propagated spline 2.6544 (close to path, dist=1.002m, drift=0.231m)
2026-01-12 15:25:25,845 - DEBUG - integration_test -   Set spline state to 2.6544
2026-01-12 15:25:25,846 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:25,864 - DEBUG - integration_test - Step 12: Checking path alignment: vehicle=(2.456, 0.678), path_start=(0.000, 0.000), dist=2.548m
2026-01-12 15:25:25,864 - INFO - integration_test - === Calling planner.solve_mpc() at step 12 ===
2026-01-12 15:25:25,867 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:25,877 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:25,877 - INFO - integration_test - Warmstart k=0: x0=2.4564494132473134 , y0=0.6780890610311837 , psi0=0.04161101030228537 , v0=2.6722237729819485 , spline0=2.0875758433886284 , a0=0.0 , w0=0.0
2026-01-12 15:25:25,877 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:25,878 - INFO - integration_test - Dyn residual k=0: pred=[2.723440479333908, 0.6892052455763521, 0.04161101030228537, 2.6722237729819485, 2.354798220686823], ws=[2.723440479333908, 0.6892052455763521, 0.04161101030228531, 2.6722237729819485, 2.4398658606199843], res=[0.0, 0.0, 5.551115123125783e-17, 0.0, -0.08506763993316113], res_norm=8.507e-02
2026-01-12 15:25:25,879 - INFO - integration_test - Dyn residual k=1: pred=[2.990431545420503, 0.7003214301215205, 0.04161101030228531, 2.6722237729819485, 2.707088237918179], ws=[2.990431545420503, 0.7003214301215205, 0.04161101030228531, 2.6722237729819485, 2.810202351413885], res=[0.0, 0.0, 0.0, 0.0, -0.10311411349570587], res_norm=1.031e-01
2026-01-12 15:25:25,879 - INFO - integration_test - Dyn residual k=2: pred=[3.257422611507098, 0.7114376146666889, 0.04161101030228531, 2.6722237729819485, 3.0774247287120797], ws=[3.257422611507098, 0.7114376146666889, 0.04161101030228531, 2.6722237729819485, 2.7705520400914496], res=[0.0, 0.0, 0.0, 0.0, 0.3068726886206301], res_norm=3.069e-01
2026-01-12 15:25:25,893 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:25,912 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:25,926 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:25,938 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:25,952 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:25,963 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:25,977 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:25,988 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:26,002 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:26,013 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:26,027 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:26,038 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:26,052 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:26,063 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:26,077 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:26,089 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:26,102 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:26,123 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:26,137 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:26,148 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:26,161 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:26,171 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:26,291 - INFO - integration_test - Step 12: MPC solve successful
2026-01-12 15:25:26,304 - INFO - integration_test - Step 12: Computed 6 numeric contouring constraints for visualization (s=2.654)
2026-01-12 15:25:26,304 - DEBUG - integration_test - Step 12: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:26,304 - INFO - integration_test - === Applying control at step 12 ===
2026-01-12 15:25:26,304 - INFO - integration_test -   Control dict from planner: {'a': -2.000034879380391, 'w': -0.8000752795116818}
2026-01-12 15:25:26,304 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:26,304 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:26,306 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:26,306 - INFO - integration_test - Step 12 completed in 0.462s
2026-01-12 15:25:26,315 - INFO - integration_test - Step 13 (contouring until path end)
2026-01-12 15:25:26,316 - DEBUG - integration_test - Syncing planner state at step 13: vehicle_state=[ 2.71360247  0.67863568 -0.03839652  2.47222029  2.90166679]
2026-01-12 15:25:26,317 - DEBUG - integration_test - Step 13: Using propagated spline 2.9017 (close to path, dist=1.137m, drift=0.478m)
2026-01-12 15:25:26,317 - DEBUG - integration_test -   Set spline state to 2.9017
2026-01-12 15:25:26,318 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:26,336 - DEBUG - integration_test - Step 13: Checking path alignment: vehicle=(2.714, 0.679), path_start=(0.000, 0.000), dist=2.797m
2026-01-12 15:25:26,336 - INFO - integration_test - === Calling planner.solve_mpc() at step 13 ===
2026-01-12 15:25:26,340 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:26,349 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:26,349 - INFO - integration_test - Warmstart k=0: x0=2.713602473389222 , y0=0.6786356825126394 , psi0=-0.0383965176488828 , v0=2.4722202850439094 , spline0=2.3944444810897054 , a0=0.0 , w0=0.0
2026-01-12 15:25:26,349 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:26,350 - INFO - integration_test - Dyn residual k=0: pred=[2.960642285482374, 0.6691455498051434, -0.0383965176488828, 2.4722202850439094, 2.6416665095940965], ws=[2.960642285482374, 0.6691455498051434, -0.038396517648882966, 2.4722202850439094, 2.5798983025238336], res=[0.0, 0.0, 1.6653345369377348e-16, 0.0, 0.06176820707026298], res_norm=6.177e-02
2026-01-12 15:25:26,351 - INFO - integration_test - Dyn residual k=1: pred=[3.2076820975755265, 0.6596554170976474, -0.038396517648882966, 2.4722202850439094, 2.8271203310282247], ws=[3.2076820975755265, 0.6596554170976474, -0.038396517648882966, 2.4722202850439094, 2.6975346860527525], res=[0.0, 0.0, 0.0, 0.0, 0.1295856449754722], res_norm=1.296e-01
2026-01-12 15:25:26,351 - INFO - integration_test - Dyn residual k=2: pred=[3.4547219096686788, 0.6501652843901514, -0.038396517648882966, 2.4722202850439094, 2.9447567145571436], ws=[3.4547219096686788, 0.6501652843901514, -0.038396517648882966, 2.4722202850439094, 3.080042866742598], res=[0.0, 0.0, 0.0, 0.0, -0.13528615218545426], res_norm=1.353e-01
2026-01-12 15:25:26,365 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:26,384 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:26,398 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:26,409 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:26,423 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:26,434 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:26,448 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:26,459 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:26,472 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:26,483 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:26,497 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:26,508 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:26,521 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:26,532 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:26,546 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:26,557 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:26,570 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:26,581 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:26,595 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:26,605 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:26,618 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:26,628 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:26,766 - INFO - integration_test - Step 13: MPC solve successful
2026-01-12 15:25:26,778 - INFO - integration_test - Step 13: Computed 6 numeric contouring constraints for visualization (s=2.902)
2026-01-12 15:25:26,779 - DEBUG - integration_test - Step 13: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:26,779 - INFO - integration_test - === Applying control at step 13 ===
2026-01-12 15:25:26,779 - INFO - integration_test -   Control dict from planner: {'a': -2.000179867233618, 'w': -0.8004217652638891}
2026-01-12 15:25:26,779 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:26,779 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:26,780 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:26,780 - INFO - integration_test - Step 13 completed in 0.464s
2026-01-12 15:25:26,791 - INFO - integration_test - Step 14 (contouring until path end)
2026-01-12 15:25:26,792 - DEBUG - integration_test - Syncing planner state at step 14: vehicle_state=[ 2.95004193  0.66019036 -0.11843869  2.2722023   3.12888702]
2026-01-12 15:25:26,792 - DEBUG - integration_test - Step 14: Using propagated spline 3.1289 (close to path, dist=1.307m, drift=0.706m)
2026-01-12 15:25:26,792 - DEBUG - integration_test -   Set spline state to 3.1289
2026-01-12 15:25:26,794 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:26,811 - DEBUG - integration_test - Step 14: Checking path alignment: vehicle=(2.950, 0.660), path_start=(0.000, 0.000), dist=3.023m
2026-01-12 15:25:26,811 - INFO - integration_test - === Calling planner.solve_mpc() at step 14 ===
2026-01-12 15:25:26,815 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:26,824 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:26,824 - INFO - integration_test - Warmstart k=0: x0=2.95004192778781 , y0=0.6601903591193315 , psi0=-0.1184386941752717 , v0=2.272202298320548 , spline0=2.545409066063339 , a0=0.0 , w0=0.0
2026-01-12 15:25:26,824 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:26,825 - INFO - integration_test - Dyn residual k=0: pred=[3.1756703283703294, 0.6333415659340512, -0.1184386941752717, 2.272202298320548, 2.7726292958953938], ws=[3.1756703283703294, 0.6333415659340512, -0.11843869417527175, 2.272202298320548, 2.912814008826955], res=[0.0, 0.0, 5.551115123125783e-17, 0.0, -0.14018471293156143], res_norm=1.402e-01
2026-01-12 15:25:26,826 - INFO - integration_test - Dyn residual k=1: pred=[3.401298728952849, 0.6064927727487709, -0.11843869417527175, 2.272202298320548, 3.14003423865901], ws=[3.401298728952849, 0.6064927727487709, -0.11843869417527175, 2.272202298320548, 3.0267191351438902], res=[0.0, 0.0, 0.0, 0.0, 0.11331510351511964], res_norm=1.133e-01
2026-01-12 15:25:26,826 - INFO - integration_test - Dyn residual k=2: pred=[3.6269271295353684, 0.5796439795634906, -0.11843869417527175, 2.272202298320548, 3.253939364975945], ws=[3.6269271295353684, 0.5796439795634906, -0.11843869417527175, 2.272202298320548, 3.153418658331967], res=[0.0, 0.0, 0.0, 0.0, 0.10052070664397794], res_norm=1.005e-01
2026-01-12 15:25:26,840 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:26,859 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:26,873 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:26,883 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:26,898 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:26,909 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:26,922 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:26,933 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:26,947 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:26,958 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:26,972 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:26,982 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:26,997 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:27,008 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:27,022 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:27,033 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:27,046 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:27,057 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:27,071 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:27,081 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:27,094 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:27,105 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:27,254 - INFO - integration_test - Step 14: MPC solve successful
2026-01-12 15:25:27,266 - INFO - integration_test - Step 14: Computed 6 numeric contouring constraints for visualization (s=3.129)
2026-01-12 15:25:27,267 - DEBUG - integration_test - Step 14: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:27,267 - INFO - integration_test - === Applying control at step 14 ===
2026-01-12 15:25:27,267 - INFO - integration_test -   Control dict from planner: {'a': -2.000328838210047, 'w': -0.8008428281811354}
2026-01-12 15:25:27,267 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:27,267 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:27,268 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:27,268 - INFO - integration_test - Step 14 completed in 0.476s
2026-01-12 15:25:27,279 - INFO - integration_test - Step 15 (contouring until path end)
2026-01-12 15:25:27,280 - DEBUG - integration_test - Syncing planner state at step 15: vehicle_state=[ 3.16450212  0.62605025 -0.19852298  2.07216941  3.33610396]
2026-01-12 15:25:27,280 - DEBUG - integration_test - Step 15: Using propagated spline 3.3361 (close to path, dist=1.463m, drift=0.307m)
2026-01-12 15:25:27,280 - DEBUG - integration_test -   Set spline state to 3.3361
2026-01-12 15:25:27,282 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:27,299 - DEBUG - integration_test - Step 15: Checking path alignment: vehicle=(3.165, 0.626), path_start=(0.000, 0.000), dist=3.226m
2026-01-12 15:25:27,299 - INFO - integration_test - === Calling planner.solve_mpc() at step 15 ===
2026-01-12 15:25:27,303 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:27,312 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:27,312 - INFO - integration_test - Warmstart k=0: x0=3.1645021185084885 , y0=0.6260502465328217 , psi0=-0.19852297699338523 , v0=2.0721694144995433 , spline0=2.86290438991771 , a0=0.0 , w0=0.0
2026-01-12 15:25:27,312 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:27,313 - INFO - integration_test - Dyn residual k=0: pred=[3.3676491012054544, 0.5851826035252738, -0.19852297699338523, 2.0721694144995433, 3.0701213313676643], ws=[3.3676491012054544, 0.5851826035252738, -0.1985229769933854, 2.0721694144995433, 2.9886844926273985], res=[0.0, 0.0, 1.6653345369377348e-16, 0.0, 0.08143683874026575], res_norm=8.144e-02
2026-01-12 15:25:27,314 - INFO - integration_test - Dyn residual k=1: pred=[3.57079608390242, 0.544314960517726, -0.1985229769933854, 2.0721694144995433, 3.195901434077353], ws=[3.57079608390242, 0.544314960517726, -0.1985229769933854, 2.0721694144995433, 3.108184351839325], res=[0.0, 0.0, 0.0, 0.0, 0.08771708223802799], res_norm=8.772e-02
2026-01-12 15:25:27,315 - INFO - integration_test - Dyn residual k=2: pred=[3.773943066599386, 0.5034473175101781, -0.1985229769933854, 2.0721694144995433, 3.315401293289279], ws=[3.773943066599386, 0.5034473175101781, -0.1985229769933854, 2.0721694144995433, 3.145572999918763], res=[0.0, 0.0, 0.0, 0.0, 0.1698282933705162], res_norm=1.698e-01
2026-01-12 15:25:27,328 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:27,347 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:27,361 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:27,372 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:27,386 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:27,397 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:27,411 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:27,422 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:27,436 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:27,447 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:27,460 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:27,471 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:27,485 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:27,496 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:27,510 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:27,521 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:27,534 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:27,545 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:27,559 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:27,569 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:27,582 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:27,592 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:27,998 - WARNING - integration_test - Step 15: MPC solve failed
2026-01-12 15:25:27,998 - WARNING - integration_test -   Consecutive MPC failures: 1/50
2026-01-12 15:25:28,008 - INFO - integration_test - Step 15: Computed 6 numeric contouring constraints for visualization (s=3.336)
2026-01-12 15:25:28,008 - DEBUG - integration_test - Step 15: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:28,008 - INFO - integration_test - === Applying control at step 15 ===
2026-01-12 15:25:28,008 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:28,008 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:28,008 - INFO - integration_test -   Planner output success: False
2026-01-12 15:25:28,008 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:28,009 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:28,010 - INFO - integration_test - Step 15 completed in 0.730s
2026-01-12 15:25:28,019 - INFO - integration_test - Step 16 (contouring until path end)
2026-01-12 15:25:28,020 - DEBUG - integration_test - Syncing planner state at step 16: vehicle_state=[ 3.3676491   0.5851826  -0.19852298  2.07216941  3.5433209 ]
2026-01-12 15:25:28,021 - DEBUG - integration_test - Step 16: Using propagated spline 3.5433 (close to path, dist=1.601m, drift=0.514m)
2026-01-12 15:25:28,021 - DEBUG - integration_test -   Set spline state to 3.5433
2026-01-12 15:25:28,023 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:28,040 - DEBUG - integration_test - Step 16: Checking path alignment: vehicle=(3.368, 0.585), path_start=(0.000, 0.000), dist=3.418m
2026-01-12 15:25:28,040 - INFO - integration_test - === Calling planner.solve_mpc() at step 16 ===
2026-01-12 15:25:28,044 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:28,053 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:28,053 - INFO - integration_test - Warmstart k=0: x0=3.3676491012054544 , y0=0.5851826035252738 , psi0=-0.19852297699338523 , v0=2.0721694144995433 , spline0=2.7614774627322802 , a0=0.0 , w0=0.0
2026-01-12 15:25:28,053 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:28,055 - INFO - integration_test - Dyn residual k=0: pred=[3.57079608390242, 0.544314960517726, -0.19852297699338523, 2.0721694144995433, 2.9686944041822345], ws=[3.57079608390242, 0.544314960517726, -0.1985229769933854, 2.0721694144995433, 3.0464784781874648], res=[0.0, 0.0, 1.6653345369377348e-16, 0.0, -0.07778407400523024], res_norm=7.778e-02
2026-01-12 15:25:28,056 - INFO - integration_test - Dyn residual k=1: pred=[3.773943066599386, 0.5034473175101781, -0.1985229769933854, 2.0721694144995433, 3.253695419637419], ws=[3.773943066599386, 0.5034473175101781, -0.1985229769933854, 2.0721694144995433, 3.17211090505923], res=[0.0, 0.0, 0.0, 0.0, 0.08158451457818883], res_norm=8.158e-02
2026-01-12 15:25:28,056 - INFO - integration_test - Dyn residual k=2: pred=[3.977090049296352, 0.46257967450263027, -0.1985229769933854, 2.0721694144995433, 3.3793278465091845], ws=[3.977090049296352, 0.46257967450263027, -0.1985229769933854, 2.0721694144995433, 3.2900487622209607], res=[0.0, 0.0, 0.0, 0.0, 0.08927908428822384], res_norm=8.928e-02
2026-01-12 15:25:28,070 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:28,089 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:28,103 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:28,115 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:28,129 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:28,141 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:28,154 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:28,165 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:28,179 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:28,190 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:28,203 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:28,214 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:28,228 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:28,239 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:28,253 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:28,263 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:28,277 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:28,289 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:28,302 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:28,313 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:28,325 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:28,335 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:28,761 - WARNING - integration_test - Step 16: MPC solve failed
2026-01-12 15:25:28,761 - WARNING - integration_test -   Consecutive MPC failures: 2/50
2026-01-12 15:25:28,770 - INFO - integration_test - Step 16: Computed 6 numeric contouring constraints for visualization (s=3.543)
2026-01-12 15:25:28,770 - DEBUG - integration_test - Step 16: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:28,771 - INFO - integration_test - === Applying control at step 16 ===
2026-01-12 15:25:28,771 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:28,771 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:28,771 - INFO - integration_test -   Planner output success: False
2026-01-12 15:25:28,771 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:28,772 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:28,772 - INFO - integration_test - Step 16 completed in 0.753s
2026-01-12 15:25:28,782 - INFO - integration_test - Step 17 (contouring until path end)
2026-01-12 15:25:28,783 - DEBUG - integration_test - Syncing planner state at step 17: vehicle_state=[ 3.57079608  0.54431496 -0.19852298  2.07216941  3.75053784]
2026-01-12 15:25:28,784 - DEBUG - integration_test - Step 17: Using propagated spline 3.7505 (close to path, dist=1.754m, drift=0.722m)
2026-01-12 15:25:28,784 - DEBUG - integration_test -   Set spline state to 3.7505
2026-01-12 15:25:28,785 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:28,802 - DEBUG - integration_test - Step 17: Checking path alignment: vehicle=(3.571, 0.544), path_start=(0.000, 0.000), dist=3.612m
2026-01-12 15:25:28,802 - INFO - integration_test - === Calling planner.solve_mpc() at step 17 ===
2026-01-12 15:25:28,807 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:28,816 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:28,816 - INFO - integration_test - Warmstart k=0: x0=3.57079608390242 , y0=0.544314960517726 , psi0=-0.19852297699338523 , v0=2.0721694144995433 , spline0=3.093624489517455 , a0=0.0 , w0=0.0
2026-01-12 15:25:28,816 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:28,817 - INFO - integration_test - Dyn residual k=0: pred=[3.773943066599386, 0.5034473175101781, -0.19852297699338523, 2.0721694144995433, 3.3008414309674095], ws=[3.773943066599386, 0.5034473175101781, -0.1985229769933854, 2.0721694144995433, 3.222251550997845], res=[0.0, 0.0, 1.6653345369377348e-16, 0.0, 0.07858987996956435], res_norm=7.859e-02
2026-01-12 15:25:28,818 - INFO - integration_test - Dyn residual k=1: pred=[3.977090049296352, 0.46257967450263027, -0.1985229769933854, 2.0721694144995433, 3.4294684924477994], ws=[3.977090049296352, 0.46257967450263027, -0.1985229769933854, 2.0721694144995433, 3.268702051147547], res=[0.0, 0.0, 0.0, 0.0, 0.16076644130025253], res_norm=1.608e-01
2026-01-12 15:25:28,818 - INFO - integration_test - Dyn residual k=2: pred=[4.180237031993318, 0.4217120314950824, -0.1985229769933854, 2.0721694144995433, 3.475918992597501], ws=[4.180237031993318, 0.4217120314950824, -0.1985229769933854, 2.0721694144995433, 3.4006306364767096], res=[0.0, 0.0, 0.0, 0.0, 0.07528835612079154], res_norm=7.529e-02
2026-01-12 15:25:28,832 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:28,851 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:28,865 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:28,876 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:28,890 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:28,901 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:28,915 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:28,926 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:28,940 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:28,950 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:28,964 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:28,975 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:28,989 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:28,999 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:29,013 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:29,024 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:29,037 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:29,048 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:29,062 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:29,072 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:29,085 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:29,095 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:29,530 - WARNING - integration_test - Step 17: MPC solve failed
2026-01-12 15:25:29,530 - WARNING - integration_test -   Consecutive MPC failures: 3/50
2026-01-12 15:25:29,542 - INFO - integration_test - Step 17: Computed 6 numeric contouring constraints for visualization (s=3.751)
2026-01-12 15:25:29,542 - DEBUG - integration_test - Step 17: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:29,542 - INFO - integration_test - === Applying control at step 17 ===
2026-01-12 15:25:29,542 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:29,542 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:29,542 - INFO - integration_test -   Planner output success: False
2026-01-12 15:25:29,542 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:29,543 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:29,544 - INFO - integration_test - Step 17 completed in 0.761s
2026-01-12 15:25:29,554 - INFO - integration_test - Step 18 (contouring until path end)
2026-01-12 15:25:29,556 - DEBUG - integration_test - Syncing planner state at step 18: vehicle_state=[ 3.77394307  0.50344732 -0.19852298  2.07216941  3.95775478]
2026-01-12 15:25:29,557 - DEBUG - integration_test - Step 18: Using propagated spline 3.9578 (close to path, dist=1.917m, drift=0.929m)
2026-01-12 15:25:29,557 - DEBUG - integration_test -   Set spline state to 3.9578
2026-01-12 15:25:29,558 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:29,576 - DEBUG - integration_test - Step 18: Checking path alignment: vehicle=(3.774, 0.503), path_start=(0.000, 0.000), dist=3.807m
2026-01-12 15:25:29,576 - INFO - integration_test - === Calling planner.solve_mpc() at step 18 ===
2026-01-12 15:25:29,580 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:29,589 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:29,589 - INFO - integration_test - Warmstart k=0: x0=3.773943066599386 , y0=0.5034473175101781 , psi0=-0.19852297699338523 , v0=2.0721694144995433 , spline0=3.16688300417148 , a0=0.0 , w0=0.0
2026-01-12 15:25:29,589 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:29,590 - INFO - integration_test - Dyn residual k=0: pred=[3.977090049296352, 0.46257967450263027, -0.19852297699338523, 2.0721694144995433, 3.3740999456214342], ws=[3.977090049296352, 0.46257967450263027, -0.1985229769933854, 2.0721694144995433, 3.496930251895242], res=[0.0, 0.0, 1.6653345369377348e-16, 0.0, -0.12283030627380764], res_norm=1.228e-01
2026-01-12 15:25:29,591 - INFO - integration_test - Dyn residual k=1: pred=[4.180237031993318, 0.4217120314950824, -0.1985229769933854, 2.0721694144995433, 3.704147193345196], ws=[4.180237031993318, 0.4217120314950824, -0.1985229769933854, 2.0721694144995433, 3.6390958874084176], res=[0.0, 0.0, 0.0, 0.0, 0.06505130593677855], res_norm=6.505e-02
2026-01-12 15:25:29,592 - INFO - integration_test - Dyn residual k=2: pred=[4.383384014690284, 0.38084438848753455, -0.1985229769933854, 2.0721694144995433, 3.846312828858372], ws=[4.383384014690284, 0.38084438848753455, -0.1985229769933854, 2.0721694144995433, 3.6915324861867163], res=[0.0, 0.0, 0.0, 0.0, 0.15478034267165564], res_norm=1.548e-01
2026-01-12 15:25:29,605 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:29,624 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:29,638 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:29,649 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:29,663 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:29,674 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:29,687 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:29,698 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:29,712 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:29,723 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:29,736 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:29,747 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:29,761 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:29,772 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:29,785 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:29,796 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:29,809 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:29,820 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:29,834 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:29,844 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:29,857 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:29,867 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:30,277 - WARNING - integration_test - Step 18: MPC solve failed
2026-01-12 15:25:30,278 - WARNING - integration_test -   Consecutive MPC failures: 4/50
2026-01-12 15:25:30,287 - INFO - integration_test - Step 18: Computed 6 numeric contouring constraints for visualization (s=3.958)
2026-01-12 15:25:30,287 - DEBUG - integration_test - Step 18: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:30,287 - INFO - integration_test - === Applying control at step 18 ===
2026-01-12 15:25:30,287 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:30,287 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:30,287 - INFO - integration_test -   Planner output success: False
2026-01-12 15:25:30,288 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:30,289 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:30,289 - INFO - integration_test - Step 18 completed in 0.733s
2026-01-12 15:25:30,298 - INFO - integration_test - Step 19 (contouring until path end)
2026-01-12 15:25:30,299 - DEBUG - integration_test - Syncing planner state at step 19: vehicle_state=[ 3.97709005  0.46257967 -0.19852298  2.07216941  4.16497172]
2026-01-12 15:25:30,300 - INFO - integration_test - Step 19: Safety reset spline from 4.1650 to 3.6348 (vehicle at (3.98, 0.46), closest path point at (2.95, 2.25), distance=2.063m, drift=0.530m)
2026-01-12 15:25:30,300 - DEBUG - integration_test -   Set spline state to 3.6348
2026-01-12 15:25:30,302 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:30,319 - DEBUG - integration_test - Step 19: Checking path alignment: vehicle=(3.977, 0.463), path_start=(0.000, 0.000), dist=4.004m
2026-01-12 15:25:30,319 - INFO - integration_test - === Calling planner.solve_mpc() at step 19 ===
2026-01-12 15:25:30,323 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:30,333 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:30,333 - INFO - integration_test - Warmstart k=0: x0=3.977090049296352 , y0=0.46257967450263027 , psi0=-0.19852297699338523 , v0=2.0721694144995433 , spline0=3.48879900447356 , a0=0.0 , w0=0.0
2026-01-12 15:25:30,333 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:30,334 - INFO - integration_test - Dyn residual k=0: pred=[4.180237031993318, 0.4217120314950824, -0.19852297699338523, 2.0721694144995433, 3.6960159459235142], ws=[4.180237031993318, 0.4217120314950824, -0.1985229769933854, 2.0721694144995433, 3.4109684164839567], res=[0.0, 0.0, 1.6653345369377348e-16, 0.0, 0.2850475294395576], res_norm=2.850e-01
2026-01-12 15:25:30,335 - INFO - integration_test - Dyn residual k=1: pred=[4.383384014690284, 0.38084438848753455, -0.1985229769933854, 2.0721694144995433, 3.618185357933911], ws=[4.383384014690284, 0.38084438848753455, -0.1985229769933854, 2.0721694144995433, 3.7046886099849012], res=[0.0, 0.0, 0.0, 0.0, -0.0865032520509903], res_norm=8.650e-02
2026-01-12 15:25:30,335 - INFO - integration_test - Dyn residual k=2: pred=[4.58653099738725, 0.3399767454799867, -0.1985229769933854, 2.0721694144995433, 3.9119055514348555], ws=[4.58653099738725, 0.3399767454799867, -0.1985229769933854, 2.0721694144995433, 3.8069177267138032], res=[0.0, 0.0, 0.0, 0.0, 0.10498782472105228], res_norm=1.050e-01
2026-01-12 15:25:30,349 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:30,368 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:30,382 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:30,393 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:30,407 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:30,418 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:30,432 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:30,443 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:30,457 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:30,467 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:30,481 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:30,492 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:30,506 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:30,516 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:30,530 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:30,541 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:30,555 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:30,566 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:30,580 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:30,590 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:30,603 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:30,613 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:31,060 - WARNING - integration_test - Step 19: MPC solve failed
2026-01-12 15:25:31,060 - WARNING - integration_test -   Consecutive MPC failures: 5/50
2026-01-12 15:25:31,070 - INFO - integration_test - Step 19: Computed 6 numeric contouring constraints for visualization (s=3.635)
2026-01-12 15:25:31,070 - DEBUG - integration_test - Step 19: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:31,070 - INFO - integration_test - === Applying control at step 19 ===
2026-01-12 15:25:31,070 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:31,070 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:31,070 - INFO - integration_test -   Planner output success: False
2026-01-12 15:25:31,071 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:31,072 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:31,072 - INFO - integration_test - Step 19 completed in 0.773s
2026-01-12 15:25:31,081 - INFO - integration_test - Step 20 (contouring until path end)
2026-01-12 15:25:31,082 - DEBUG - integration_test - Syncing planner state at step 20: vehicle_state=[ 4.18023703  0.42171203 -0.19852298  2.07216941  3.84199448]
2026-01-12 15:25:31,083 - INFO - integration_test - Step 20: Safety reset spline from 3.8420 to 3.6348 (vehicle at (4.18, 0.42), closest path point at (2.95, 2.25), distance=2.205m, drift=0.207m)
2026-01-12 15:25:31,083 - DEBUG - integration_test -   Set spline state to 3.6348
2026-01-12 15:25:31,085 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:31,103 - DEBUG - integration_test - Step 20: Checking path alignment: vehicle=(4.180, 0.422), path_start=(0.000, 0.000), dist=4.201m
2026-01-12 15:25:31,103 - INFO - integration_test - === Calling planner.solve_mpc() at step 20 ===
2026-01-12 15:25:31,107 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:31,116 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:31,123 - INFO - integration_test - Warmstart k=0: x0=4.180237031993318 , y0=0.4217120314950824 , psi0=-0.19852297699338523 , v0=2.0721694144995433 , spline0=3.401579029361721 , a0=0.0 , w0=0.0
2026-01-12 15:25:31,124 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:31,125 - INFO - integration_test - Dyn residual k=0: pred=[4.383384014690284, 0.38084438848753455, -0.19852297699338523, 2.0721694144995433, 3.6087959708116752], ws=[4.383384014690284, 0.38084438848753455, -0.1985229769933854, 2.0721694144995433, 3.754779020215475], res=[0.0, 0.0, 1.6653345369377348e-16, 0.0, -0.1459830494037999], res_norm=1.460e-01
2026-01-12 15:25:31,126 - INFO - integration_test - Dyn residual k=1: pred=[4.58653099738725, 0.3399767454799867, -0.1985229769933854, 2.0721694144995433, 3.9619959616654294], ws=[4.58653099738725, 0.3399767454799867, -0.1985229769933854, 2.0721694144995433, 3.8581986099675603], res=[0.0, 0.0, 0.0, 0.0, 0.10379735169786919], res_norm=1.038e-01
2026-01-12 15:25:31,126 - INFO - integration_test - Dyn residual k=2: pred=[4.789677980084216, 0.2991091024724388, -0.1985229769933854, 2.0721694144995433, 4.065415551417515], ws=[4.789677980084216, 0.2991091024724388, -0.1985229769933854, 2.0721694144995433, 4.162581269840947], res=[0.0, 0.0, 0.0, 0.0, -0.09716571842343225], res_norm=9.717e-02
2026-01-12 15:25:31,140 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:31,159 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:31,173 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:31,184 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:31,198 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:31,209 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:31,223 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:31,233 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:31,247 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:31,258 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:31,271 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:31,282 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:31,296 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:31,307 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:31,320 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:31,331 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:31,344 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:31,355 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:31,369 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:31,379 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:31,392 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:31,402 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:31,814 - WARNING - integration_test - Step 20: MPC solve failed
2026-01-12 15:25:31,814 - WARNING - integration_test -   Consecutive MPC failures: 6/50
2026-01-12 15:25:31,823 - INFO - integration_test - Step 20: Computed 6 numeric contouring constraints for visualization (s=3.635)
2026-01-12 15:25:31,824 - DEBUG - integration_test - Step 20: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:31,824 - INFO - integration_test - === Applying control at step 20 ===
2026-01-12 15:25:31,824 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:31,824 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:31,824 - INFO - integration_test -   Planner output success: False
2026-01-12 15:25:31,824 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:31,825 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:31,826 - INFO - integration_test - Step 20 completed in 0.744s
2026-01-12 15:25:31,835 - INFO - integration_test - Step 21 (contouring until path end)
2026-01-12 15:25:31,836 - DEBUG - integration_test - Syncing planner state at step 21: vehicle_state=[ 4.38338401  0.38084439 -0.19852298  2.07216941  3.84199448]
2026-01-12 15:25:31,837 - INFO - integration_test - Step 21: Safety reset spline from 3.8420 to 3.6348 (vehicle at (4.38, 0.38), closest path point at (2.95, 2.25), distance=2.356m, drift=0.207m)
2026-01-12 15:25:31,837 - DEBUG - integration_test -   Set spline state to 3.6348
2026-01-12 15:25:31,839 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:31,856 - DEBUG - integration_test - Step 21: Checking path alignment: vehicle=(4.383, 0.381), path_start=(0.000, 0.000), dist=4.400m
2026-01-12 15:25:31,856 - INFO - integration_test - === Calling planner.solve_mpc() at step 21 ===
2026-01-12 15:25:31,860 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:31,869 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:31,869 - INFO - integration_test - Warmstart k=0: x0=4.383384014690284 , y0=0.38084438848753455 , psi0=-0.19852297699338523 , v0=2.0721694144995433 , spline0=3.750458929809077 , a0=0.0 , w0=0.0
2026-01-12 15:25:31,869 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:31,870 - INFO - integration_test - Dyn residual k=0: pred=[4.58653099738725, 0.3399767454799867, -0.19852297699338523, 2.0721694144995433, 3.957675871259031], ws=[4.58653099738725, 0.3399767454799867, -0.1985229769933854, 2.0721694144995433, 3.8285769911617455], res=[0.0, 0.0, 1.6653345369377348e-16, 0.0, 0.12909888009728565], res_norm=1.291e-01
2026-01-12 15:25:31,871 - INFO - integration_test - Dyn residual k=1: pred=[4.789677980084216, 0.2991091024724388, -0.1985229769933854, 2.0721694144995433, 4.0357939326117], ws=[4.789677980084216, 0.2991091024724388, -0.1985229769933854, 2.0721694144995433, 3.9176313771621003], res=[0.0, 0.0, 0.0, 0.0, 0.11816255544959953], res_norm=1.182e-01
2026-01-12 15:25:31,872 - INFO - integration_test - Dyn residual k=2: pred=[4.992824962781182, 0.25824145946489097, -0.1985229769933854, 2.0721694144995433, 4.124848318612055], ws=[4.992824962781182, 0.25824145946489097, -0.1985229769933854, 2.0721694144995433, 4.01744722496116], res=[0.0, 0.0, 0.0, 0.0, 0.10740109365089534], res_norm=1.074e-01
2026-01-12 15:25:31,885 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:31,904 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:31,919 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:31,930 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:31,944 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:31,955 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:31,969 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:31,980 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:31,994 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:32,005 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:32,019 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:32,030 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:32,043 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:32,055 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:32,068 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:32,079 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:32,093 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:32,104 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:32,118 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:32,128 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:32,141 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:32,151 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:32,582 - WARNING - integration_test - Step 21: MPC solve failed
2026-01-12 15:25:32,582 - WARNING - integration_test -   Consecutive MPC failures: 7/50
2026-01-12 15:25:32,592 - INFO - integration_test - Step 21: Computed 6 numeric contouring constraints for visualization (s=3.635)
2026-01-12 15:25:32,593 - DEBUG - integration_test - Step 21: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:32,593 - INFO - integration_test - === Applying control at step 21 ===
2026-01-12 15:25:32,593 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:32,593 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:32,593 - INFO - integration_test -   Planner output success: False
2026-01-12 15:25:32,593 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:32,594 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:32,594 - INFO - integration_test - Step 21 completed in 0.758s
2026-01-12 15:25:32,604 - INFO - integration_test - Step 22 (contouring until path end)
2026-01-12 15:25:32,606 - DEBUG - integration_test - Syncing planner state at step 22: vehicle_state=[ 4.586531    0.33997675 -0.19852298  2.07216941  3.84199448]
2026-01-12 15:25:32,606 - INFO - integration_test - Step 22: Safety reset spline from 3.8420 to 3.6348 (vehicle at (4.59, 0.34), closest path point at (2.95, 2.25), distance=2.516m, drift=0.207m)
2026-01-12 15:25:32,606 - DEBUG - integration_test -   Set spline state to 3.6348
2026-01-12 15:25:32,608 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:32,625 - DEBUG - integration_test - Step 22: Checking path alignment: vehicle=(4.587, 0.340), path_start=(0.000, 0.000), dist=4.599m
2026-01-12 15:25:32,625 - INFO - integration_test - === Calling planner.solve_mpc() at step 22 ===
2026-01-12 15:25:32,629 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:32,639 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:32,639 - INFO - integration_test - Warmstart k=0: x0=4.58653099738725 , y0=0.3399767454799867 , psi0=-0.19852297699338523 , v0=2.0721694144995433 , spline0=3.837678904920916 , a0=0.0 , w0=0.0
2026-01-12 15:25:32,639 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:32,640 - INFO - integration_test - Dyn residual k=0: pred=[4.789677980084216, 0.2991091024724388, -0.19852297699338523, 2.0721694144995433, 4.044895846370871], ws=[4.789677980084216, 0.2991091024724388, -0.1985229769933854, 2.0721694144995433, 4.167670853405924], res=[0.0, 0.0, 1.6653345369377348e-16, 0.0, -0.12277500703505329], res_norm=1.228e-01
2026-01-12 15:25:32,640 - INFO - integration_test - Dyn residual k=1: pred=[4.992824962781182, 0.25824145946489097, -0.1985229769933854, 2.0721694144995433, 4.374887794855878], ws=[4.992824962781182, 0.25824145946489097, -0.1985229769933854, 2.0721694144995433, 4.246670589161483], res=[0.0, 0.0, 0.0, 0.0, 0.1282172056943951], res_norm=1.282e-01
2026-01-12 15:25:32,641 - INFO - integration_test - Dyn residual k=2: pred=[5.1959719454781474, 0.21737381645734308, -0.1985229769933854, 2.0721694144995433, 4.453887530611437], ws=[5.1959719454781474, 0.21737381645734308, -0.1985229769933854, 2.0721694144995433, 4.336082707853125], res=[0.0, 0.0, 0.0, 0.0, 0.11780482275831261], res_norm=1.178e-01
2026-01-12 15:25:32,654 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:32,674 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:32,688 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:32,699 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:32,713 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:32,724 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:32,737 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:32,748 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:32,762 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:32,773 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:32,787 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:32,798 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:32,811 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:32,822 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:32,836 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:32,847 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:32,861 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:32,872 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:32,886 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:32,896 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:32,909 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:32,919 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:33,311 - WARNING - integration_test - Step 22: MPC solve failed
2026-01-12 15:25:33,311 - WARNING - integration_test -   Consecutive MPC failures: 8/50
2026-01-12 15:25:33,320 - INFO - integration_test - Step 22: Computed 6 numeric contouring constraints for visualization (s=3.635)
2026-01-12 15:25:33,320 - DEBUG - integration_test - Step 22: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:33,320 - INFO - integration_test - === Applying control at step 22 ===
2026-01-12 15:25:33,320 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:33,320 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:33,320 - INFO - integration_test -   Planner output success: False
2026-01-12 15:25:33,320 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:33,322 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:33,322 - INFO - integration_test - Step 22 completed in 0.717s
2026-01-12 15:25:33,331 - INFO - integration_test - Step 23 (contouring until path end)
2026-01-12 15:25:33,332 - DEBUG - integration_test - Syncing planner state at step 23: vehicle_state=[ 4.78967798  0.2991091  -0.19852298  2.07216941  3.84199448]
2026-01-12 15:25:33,333 - INFO - integration_test - Step 23: Safety reset spline from 3.8420 to 4.2406 (vehicle at (4.79, 0.30), closest path point at (3.43, 2.58), distance=2.652m, drift=0.399m)
2026-01-12 15:25:33,333 - DEBUG - integration_test -   Set spline state to 4.2406
2026-01-12 15:25:33,335 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:33,352 - DEBUG - integration_test - Step 23: Checking path alignment: vehicle=(4.790, 0.299), path_start=(0.000, 0.000), dist=4.799m
2026-01-12 15:25:33,352 - INFO - integration_test - === Calling planner.solve_mpc() at step 23 ===
2026-01-12 15:25:33,356 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:33,366 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:33,366 - INFO - integration_test - Warmstart k=0: x0=4.789677980084216 , y0=0.2991091024724388 , psi0=-0.19852297699338523 , v0=2.0721694144995433 , spline0=3.920243426944758 , a0=0.0 , w0=0.0
2026-01-12 15:25:33,366 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:33,367 - INFO - integration_test - Dyn residual k=0: pred=[4.992824962781182, 0.25824145946489097, -0.19852297699338523, 2.0721694144995433, 4.127460368394712], ws=[4.992824962781182, 0.25824145946489097, -0.1985229769933854, 2.0721694144995433, 4.020558811419108], res=[0.0, 0.0, 1.6653345369377348e-16, 0.0, 0.106901556975604], res_norm=1.069e-01
2026-01-12 15:25:33,368 - INFO - integration_test - Dyn residual k=1: pred=[5.1959719454781474, 0.21737381645734308, -0.1985229769933854, 2.0721694144995433, 4.2277757528690625], ws=[5.1959719454781474, 0.21737381645734308, -0.1985229769933854, 2.0721694144995433, 4.132422414400736], res=[0.0, 0.0, 0.0, 0.0, 0.0953533384683265], res_norm=9.535e-02
2026-01-12 15:25:33,368 - INFO - integration_test - Dyn residual k=2: pred=[5.399118928175113, 0.1765061734497952, -0.1985229769933854, 2.0721694144995433, 4.33963935585069], ws=[5.399118928175113, 0.1765061734497952, -0.1985229769933854, 2.0721694144995433, 4.475810010628902], res=[0.0, 0.0, 0.0, 0.0, -0.136170654778212], res_norm=1.362e-01
2026-01-12 15:25:33,382 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:33,401 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:33,415 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:33,426 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:33,440 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:33,451 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:33,464 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:33,475 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:33,489 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:33,500 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:33,513 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:33,525 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:33,538 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:33,549 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:33,563 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:33,573 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:33,587 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:33,598 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:33,612 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:33,622 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:33,635 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:33,645 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:34,078 - WARNING - integration_test - Step 23: MPC solve failed
2026-01-12 15:25:34,078 - WARNING - integration_test -   Consecutive MPC failures: 9/50
2026-01-12 15:25:34,088 - INFO - integration_test - Step 23: Computed 6 numeric contouring constraints for visualization (s=4.241)
2026-01-12 15:25:34,088 - DEBUG - integration_test - Step 23: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:34,088 - INFO - integration_test - === Applying control at step 23 ===
2026-01-12 15:25:34,088 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:34,088 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:34,088 - INFO - integration_test -   Planner output success: False
2026-01-12 15:25:34,088 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:34,089 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:34,090 - INFO - integration_test - Step 23 completed in 0.758s
2026-01-12 15:25:34,100 - INFO - integration_test - Step 24 (contouring until path end)
2026-01-12 15:25:34,100 - DEBUG - integration_test - Syncing planner state at step 24: vehicle_state=[ 4.99282496  0.25824146 -0.19852298  2.07216941  4.44779073]
2026-01-12 15:25:34,101 - INFO - integration_test - Step 24: Safety reset spline from 4.4478 to 4.2406 (vehicle at (4.99, 0.26), closest path point at (3.43, 2.58), distance=2.795m, drift=0.207m)
2026-01-12 15:25:34,101 - DEBUG - integration_test -   Set spline state to 4.2406
2026-01-12 15:25:34,103 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:34,120 - DEBUG - integration_test - Step 24: Checking path alignment: vehicle=(4.993, 0.258), path_start=(0.000, 0.000), dist=4.999m
2026-01-12 15:25:34,120 - INFO - integration_test - === Calling planner.solve_mpc() at step 24 ===
2026-01-12 15:25:34,124 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:34,134 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:34,134 - INFO - integration_test - Warmstart k=0: x0=4.992824962781182 , y0=0.25824145946489097 , psi0=-0.19852297699338523 , v0=2.0721694144995433 , spline0=4.013582556157728 , a0=0.0 , w0=0.0
2026-01-12 15:25:34,134 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:34,135 - INFO - integration_test - Dyn residual k=0: pred=[5.1959719454781474, 0.2173738164573431, -0.19852297699338523, 2.0721694144995433, 4.220799497607683], ws=[5.1959719454781474, 0.2173738164573431, -0.1985229769933854, 2.0721694144995433, 4.386366889566617], res=[0.0, 0.0, 1.6653345369377348e-16, 0.0, -0.165567391958934], res_norm=1.656e-01
2026-01-12 15:25:34,135 - INFO - integration_test - Dyn residual k=1: pred=[5.399118928175113, 0.17650617344979522, -0.1985229769933854, 2.0721694144995433, 4.593583831016571], ws=[5.399118928175113, 0.17650617344979522, -0.1985229769933854, 2.0721694144995433, 4.490516478537855], res=[0.0, 0.0, 0.0, 0.0, 0.10306735247871579], res_norm=1.031e-01
2026-01-12 15:25:34,136 - INFO - integration_test - Dyn residual k=2: pred=[5.602265910872079, 0.13563853044224733, -0.1985229769933854, 2.0721694144995433, 4.697733419987809], ws=[5.602265910872079, 0.13563853044224733, -0.1985229769933854, 2.0721694144995433, 4.605902878472752], res=[0.0, 0.0, 0.0, 0.0, 0.09183054151505754], res_norm=9.183e-02
2026-01-12 15:25:34,151 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:34,170 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:34,185 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:34,196 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:34,210 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:34,221 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:34,235 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:34,246 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:34,260 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:34,271 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:34,285 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:34,297 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:34,310 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:34,322 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:34,335 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:34,346 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:34,360 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:34,372 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:34,385 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:34,396 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:34,409 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:34,419 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:34,812 - WARNING - integration_test - Step 24: MPC solve failed
2026-01-12 15:25:34,812 - WARNING - integration_test -   Consecutive MPC failures: 10/50
2026-01-12 15:25:34,822 - INFO - integration_test - Step 24: Computed 6 numeric contouring constraints for visualization (s=4.241)
2026-01-12 15:25:34,822 - DEBUG - integration_test - Step 24: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:34,822 - INFO - integration_test - === Applying control at step 24 ===
2026-01-12 15:25:34,822 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:34,822 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:34,822 - INFO - integration_test -   Planner output success: False
2026-01-12 15:25:34,822 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:34,823 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:34,824 - INFO - integration_test - Step 24 completed in 0.724s
2026-01-12 15:25:34,834 - INFO - integration_test - Step 25 (contouring until path end)
2026-01-12 15:25:34,835 - DEBUG - integration_test - Syncing planner state at step 25: vehicle_state=[ 5.19597195  0.21737382 -0.19852298  2.07216941  4.44779073]
2026-01-12 15:25:34,835 - INFO - integration_test - Step 25: Safety reset spline from 4.4478 to 4.2406 (vehicle at (5.20, 0.22), closest path point at (3.43, 2.58), distance=2.946m, drift=0.207m)
2026-01-12 15:25:34,835 - DEBUG - integration_test -   Set spline state to 4.2406
2026-01-12 15:25:34,837 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:34,855 - DEBUG - integration_test - Step 25: Checking path alignment: vehicle=(5.196, 0.217), path_start=(0.000, 0.000), dist=5.201m
2026-01-12 15:25:34,856 - INFO - integration_test - === Calling planner.solve_mpc() at step 25 ===
2026-01-12 15:25:34,859 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:34,869 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:34,869 - INFO - integration_test - Warmstart k=0: x0=5.1959719454781474 , y0=0.2173738164573431 , psi0=-0.19852297699338523 , v0=2.0721694144995433 , spline0=4.38693907300961 , a0=0.0 , w0=0.0
2026-01-12 15:25:34,869 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:34,870 - INFO - integration_test - Dyn residual k=0: pred=[5.399118928175113, 0.17650617344979525, -0.19852297699338523, 2.0721694144995433, 4.594156014459564], ws=[5.399118928175113, 0.17650617344979525, -0.1985229769933854, 2.0721694144995433, 4.464248617867955], res=[0.0, 0.0, 1.6653345369377348e-16, 0.0, 0.12990739659160955], res_norm=1.299e-01
2026-01-12 15:25:34,871 - INFO - integration_test - Dyn residual k=1: pred=[5.602265910872079, 0.13563853044224736, -0.1985229769933854, 2.0721694144995433, 4.671465559317909], ws=[5.602265910872079, 0.13563853044224736, -0.1985229769933854, 2.0721694144995433, 4.842509793821581], res=[0.0, 0.0, 0.0, 0.0, -0.1710442345036718], res_norm=1.710e-01
2026-01-12 15:25:34,872 - INFO - integration_test - Dyn residual k=2: pred=[5.805412893569045, 0.09477088743469947, -0.1985229769933854, 2.0721694144995433, 5.049726735271535], ws=[5.805412893569045, 0.09477088743469947, -0.1985229769933854, 2.0721694144995433, 4.946669899629423], res=[0.0, 0.0, 0.0, 0.0, 0.10305683564211154], res_norm=1.031e-01
2026-01-12 15:25:34,885 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:34,905 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:34,919 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:34,930 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:34,945 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:34,956 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:34,969 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:34,980 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:34,994 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:35,005 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:35,019 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:35,030 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:35,044 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:35,055 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:35,069 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:35,080 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:35,094 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:35,105 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:35,119 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:35,129 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:35,142 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:35,152 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:35,269 - INFO - integration_test - Step 25: MPC solve successful
2026-01-12 15:25:35,282 - INFO - integration_test - Step 25: Computed 6 numeric contouring constraints for visualization (s=4.241)
2026-01-12 15:25:35,282 - DEBUG - integration_test - Step 25: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:35,282 - INFO - integration_test - === Applying control at step 25 ===
2026-01-12 15:25:35,282 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000199984984, 'w': -0.8000000099904653}
2026-01-12 15:25:35,282 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:35,282 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:35,283 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:35,283 - INFO - integration_test - Step 25 completed in 0.449s
2026-01-12 15:25:35,295 - INFO - integration_test - Step 26 (contouring until path end)
2026-01-12 15:25:35,296 - DEBUG - integration_test - Syncing planner state at step 26: vehicle_state=[ 5.40695127  0.16593663 -0.27852298  2.27216942  4.46779073]
2026-01-12 15:25:35,297 - INFO - integration_test - Step 26: Safety reset spline from 4.4678 to 4.8464 (vehicle at (5.41, 0.17), closest path point at (3.92, 2.89), distance=3.102m, drift=0.379m)
2026-01-12 15:25:35,297 - DEBUG - integration_test -   Set spline state to 4.8464
2026-01-12 15:25:35,299 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:35,316 - DEBUG - integration_test - Step 26: Checking path alignment: vehicle=(5.407, 0.166), path_start=(0.000, 0.000), dist=5.409m
2026-01-12 15:25:35,316 - INFO - integration_test - === Calling planner.solve_mpc() at step 26 ===
2026-01-12 15:25:35,320 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:35,330 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:35,330 - INFO - integration_test - Warmstart k=0: x0=5.406951271554618 , y0=0.1659366337141502 , psi0=-0.27852297799243175 , v0=2.272169416499393 , spline0=4.475622749134583 , a0=0.0 , w0=0.0
2026-01-12 15:25:35,330 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:35,331 - INFO - integration_test - Dyn residual k=0: pred=[5.625411856952774, 0.10346655127265683, -0.27852297799243175, 2.272169416499393, 4.702839690784523], ws=[5.625411856952774, 0.10346655127265682, -0.27852297799243164, 2.272169416499393, 4.862936469532459], res=[0.0, 1.3877787807814457e-17, -1.1102230246251565e-16, 0.0, -0.1600967787479357], res_norm=1.601e-01
2026-01-12 15:25:35,332 - INFO - integration_test - Dyn residual k=1: pred=[5.84387244235093, 0.04099646883116346, -0.27852297799243164, 2.272169416499393, 5.090153411182398], ws=[5.831251961771416, 0.07189186595568398, -0.27852297799243164, 2.272169416499393, 4.959613998200645], res=[0.012620480579514037, -0.030895397124520517, 0.0, 0.0, 0.13053941298175342], res_norm=1.347e-01
2026-01-12 15:25:35,332 - INFO - integration_test - Dyn residual k=2: pred=[6.049712547169572, 0.009421783514190617, -0.27852297799243164, 2.272169416499393, 5.1868309398505845], ws=[5.966937482805099, 0.152978230005282, -0.27852297799243164, 2.272169416499393, 5.08524948274881], res=[0.08277506436447357, -0.14355644649109137, 0.0, 0.0, 0.10158145710177457], res_norm=1.944e-01
2026-01-12 15:25:35,346 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:35,366 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:35,380 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:35,391 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:35,405 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:35,416 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:35,430 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:35,441 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:35,455 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:35,466 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:35,480 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:35,491 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:35,505 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:35,516 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:35,529 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:35,541 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:35,554 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:35,565 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:35,579 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:35,590 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:35,603 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:35,613 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:35,735 - INFO - integration_test - Step 26: MPC solve successful
2026-01-12 15:25:35,748 - INFO - integration_test - Step 26: Computed 6 numeric contouring constraints for visualization (s=4.846)
2026-01-12 15:25:35,748 - DEBUG - integration_test - Step 26: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:35,748 - INFO - integration_test - === Applying control at step 26 ===
2026-01-12 15:25:35,748 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000199985726, 'w': 0.8000000099757666}
2026-01-12 15:25:35,748 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:35,749 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:35,749 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:35,750 - INFO - integration_test - Step 26 completed in 0.454s
2026-01-12 15:25:35,762 - INFO - integration_test - Step 27 (contouring until path end)
2026-01-12 15:25:35,763 - DEBUG - integration_test - Syncing planner state at step 27: vehicle_state=[ 5.63742216  0.1100344  -0.19852298  2.47216942  5.09358699]
2026-01-12 15:25:35,763 - INFO - integration_test - Step 27: Safety reset spline from 5.0936 to 4.8464 (vehicle at (5.64, 0.11), closest path point at (3.92, 2.89), distance=3.266m, drift=0.247m)
2026-01-12 15:25:35,763 - DEBUG - integration_test -   Set spline state to 4.8464
2026-01-12 15:25:35,765 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:35,782 - DEBUG - integration_test - Step 27: Checking path alignment: vehicle=(5.637, 0.110), path_start=(0.000, 0.000), dist=5.638m
2026-01-12 15:25:35,782 - INFO - integration_test - === Calling planner.solve_mpc() at step 27 ===
2026-01-12 15:25:35,786 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:35,795 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:35,795 - INFO - integration_test - Warmstart k=0: x0=5.637422164242571 , y0=0.11003440497310622 , psi0=-0.1985229769948551 , v0=2.4721694184992504 , spline0=4.87345588239099 , a0=0.0 , w0=0.0
2026-01-12 15:25:35,795 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:35,796 - INFO - integration_test - Dyn residual k=0: pred=[5.879783505245656, 0.06127790053712929, -0.1985229769948551, 2.4721694184992504, 5.120672824240915], ws=[5.8343871451103295, 0.07379014467230949, -0.19852297699485533, 2.4721694184992504, 4.740263123927647], res=[0.04539636013532622, -0.012512244135180199, 2.220446049250313e-16, 0.0, 0.38040970031326804], res_norm=3.833e-01
2026-01-12 15:25:35,797 - INFO - integration_test - Dyn residual k=1: pred=[6.076748486113415, 0.02503364023633249, -0.19852297699485533, 2.4721694184992504, 4.987480065777572], ws=[5.998930884200552, 0.17179897442361014, -0.19852297699485533, 2.4721694184992504, 5.114955738052398], res=[0.07781760191286224, -0.14676533418727766, 0.0, 0.0, -0.1274756722748256], res_norm=2.094e-01
2026-01-12 15:25:35,798 - INFO - integration_test - Dyn residual k=2: pred=[6.241292225203638, 0.12304246998763314, -0.19852297699485533, 2.4721694184992504, 5.362172679902323], ws=[6.183725149378689, 0.27820554054948055, -0.19852297699485533, 2.4721694184992504, 5.515220058710609], res=[0.05756707582494869, -0.15516307056184742, 0.0, 0.0, -0.153047378808286], res_norm=2.254e-01
2026-01-12 15:25:35,811 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:35,831 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:35,845 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:35,856 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:35,870 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:35,881 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:35,895 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:35,906 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:35,920 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:35,931 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:35,944 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:35,956 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:35,969 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:35,980 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:35,994 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:36,006 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:36,019 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:36,030 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:36,044 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:36,057 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:36,072 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:36,085 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:36,210 - INFO - integration_test - Step 27: MPC solve successful
2026-01-12 15:25:36,223 - INFO - integration_test - Step 27: Computed 6 numeric contouring constraints for visualization (s=4.846)
2026-01-12 15:25:36,223 - DEBUG - integration_test - Step 27: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:36,223 - INFO - integration_test - === Applying control at step 27 ===
2026-01-12 15:25:36,224 - INFO - integration_test -   Control dict from planner: {'a': 2.000000019565909, 'w': 0.8000000088697848}
2026-01-12 15:25:36,224 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:36,224 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:36,224 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:36,225 - INFO - integration_test - Step 27 completed in 0.463s
2026-01-12 15:25:36,234 - INFO - integration_test - Step 28 (contouring until path end)
2026-01-12 15:25:36,235 - DEBUG - integration_test - Syncing planner state at step 28: vehicle_state=[ 5.89136732  0.06957262 -0.11852298  2.67216942  5.11358699]
2026-01-12 15:25:36,236 - INFO - integration_test - Step 28: Safety reset spline from 5.1136 to 4.8464 (vehicle at (5.89, 0.07), closest path point at (3.92, 2.89), distance=3.440m, drift=0.267m)
2026-01-12 15:25:36,236 - DEBUG - integration_test -   Set spline state to 4.8464
2026-01-12 15:25:36,238 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:36,256 - DEBUG - integration_test - Step 28: Checking path alignment: vehicle=(5.891, 0.070), path_start=(0.000, 0.000), dist=5.892m
2026-01-12 15:25:36,256 - INFO - integration_test - === Calling planner.solve_mpc() at step 28 ===
2026-01-12 15:25:36,259 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:36,269 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:36,269 - INFO - integration_test - Warmstart k=0: x0=5.870148853444076 , y0=0.09534725455823967 , psi0=-0.11852297610787661 , v0=2.6721694204558415 , spline0=4.773997599076889 , a0=0.0 , w0=0.0
2026-01-12 15:25:36,269 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:36,270 - INFO - integration_test - Dyn residual k=0: pred=[6.135491100461458, 0.06375000683063613, -0.11852297610787661, 2.6721694204558415, 5.041214541122473], ws=[6.1081747784071645, 0.23518301544483755, -0.11852297610787677, 2.6721694204558415, 5.2166288947059645], res=[0.02731632205429335, -0.1714330086142014, 1.5265566588595902e-16, 0.0, -0.17541435358349133], res_norm=2.468e-01
2026-01-12 15:25:36,271 - INFO - integration_test - Dyn residual k=1: pred=[6.373517025424547, 0.20358576771723397, -0.11852297610787677, 2.6721694204558415, 5.483845836751549], ws=[6.258201422044325, 0.3199520930698725, -0.11852297610787677, 2.6721694204558415, 5.356863929920536], res=[0.11531560338022118, -0.11636632535263852, 0.0, 0.0, 0.12698190683101274], res_norm=2.073e-01
2026-01-12 15:25:36,272 - INFO - integration_test - Dyn residual k=2: pred=[6.5235436690617075, 0.2883548453422689, -0.11852297610787677, 2.6721694204558415, 5.62408087196612], ws=[6.407793199196348, 0.4017568671888032, -0.11852297610787677, 2.6721694204558415, 5.720959546602206], res=[0.1157504698653593, -0.1134020218465343, 0.0, 0.0, -0.0968786746360859], res_norm=1.888e-01
2026-01-12 15:25:36,286 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:36,306 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:36,320 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:36,331 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:36,346 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:36,357 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:36,370 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:36,381 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:36,395 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:36,406 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:36,419 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:36,431 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:36,444 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:36,455 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:36,469 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:36,480 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:36,493 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:36,504 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:36,518 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:36,528 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:36,541 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:36,551 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:36,653 - INFO - integration_test - Step 28: MPC solve successful
2026-01-12 15:25:36,665 - INFO - integration_test - Step 28: Computed 6 numeric contouring constraints for visualization (s=4.846)
2026-01-12 15:25:36,665 - DEBUG - integration_test - Step 28: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:36,665 - INFO - integration_test - === Applying control at step 28 ===
2026-01-12 15:25:36,666 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000099211594, 'w': 0.800000004772104}
2026-01-12 15:25:36,666 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:36,666 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:36,666 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:36,667 - INFO - integration_test - Step 28 completed in 0.432s
2026-01-12 15:25:36,679 - INFO - integration_test - Step 29 (contouring until path end)
2026-01-12 15:25:36,679 - DEBUG - integration_test - Syncing planner state at step 29: vehicle_state=[ 6.16766683  0.04796577 -0.03852298  2.87216942  5.13358699]
2026-01-12 15:25:36,680 - INFO - integration_test - Step 29: Safety reset spline from 5.1336 to 5.4522 (vehicle at (6.17, 0.05), closest path point at (4.42, 3.19), distance=3.592m, drift=0.319m)
2026-01-12 15:25:36,680 - DEBUG - integration_test -   Set spline state to 5.4522
2026-01-12 15:25:36,682 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:36,700 - DEBUG - integration_test - Step 29: Checking path alignment: vehicle=(6.168, 0.048), path_start=(0.000, 0.000), dist=6.168m
2026-01-12 15:25:36,700 - INFO - integration_test - === Calling planner.solve_mpc() at step 29 ===
2026-01-12 15:25:36,707 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:36,723 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:36,724 - INFO - integration_test - Warmstart k=0: x0=6.089949658435204 , y0=0.2247044068688968 , psi0=-0.038522975630666215 , v0=2.8721694214479574 , spline0=5.199641051582841 , a0=0.0 , w0=0.0
2026-01-12 15:25:36,724 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:36,725 - INFO - integration_test - Dyn residual k=0: pred=[6.376953509141427, 0.213642692046735, -0.038522975630666215, 2.8721694214479574, 5.486857993727637], ws=[6.27640399967737, 0.33005283778246763, -0.03852297563066642, 2.8721694214479574, 5.600116792093026], res=[0.10054950946405672, -0.11641014573573263, 2.0816681711721685e-16, 0.0, -0.11325879836538899], res_norm=1.910e-01
2026-01-12 15:25:36,726 - INFO - integration_test - Dyn residual k=1: pred=[6.5634078503835935, 0.31899112296030574, -0.03852297563066642, 2.8721694214479574, 5.887333734237822], ws=[6.514936159708374, 0.4586247428661019, -0.03852297563066642, 2.8721694214479574, 5.81993493350918], res=[0.04847169067521939, -0.13963361990579615, 0.0, 0.0, 0.06739880072864146], res_norm=1.624e-01
2026-01-12 15:25:36,727 - INFO - integration_test - Dyn residual k=2: pred=[6.801940010414597, 0.44756302804394, -0.03852297563066642, 2.8721694214479574, 6.107151875653976], ws=[6.712161609392712, 0.5594084584213843, -0.03852297563066642, 2.8721694214479574, 6.003172743550101], res=[0.08977840102188495, -0.11184543037744432, 0.0, 0.0, 0.10397913210387522], res_norm=1.771e-01
2026-01-12 15:25:36,743 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:36,769 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:36,784 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:36,796 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:36,810 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:36,822 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:36,835 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:36,846 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:36,860 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:36,872 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:36,885 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:36,897 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:36,911 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:36,922 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:36,935 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:36,946 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:36,960 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:36,971 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:36,985 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:36,995 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:37,008 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:37,018 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:37,118 - INFO - integration_test - Step 29: MPC solve successful
2026-01-12 15:25:37,131 - INFO - integration_test - Step 29: Computed 6 numeric contouring constraints for visualization (s=5.452)
2026-01-12 15:25:37,131 - DEBUG - integration_test - Step 29: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:37,131 - INFO - integration_test - === Applying control at step 29 ===
2026-01-12 15:25:37,131 - INFO - integration_test -   Control dict from planner: {'a': 1.2783059968419483, 'w': 0.7999999194501974}
2026-01-12 15:25:37,131 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:37,131 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:37,132 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:37,132 - INFO - integration_test - Step 29 completed in 0.453s
2026-01-12 15:25:37,145 - INFO - integration_test - Step 30 (contouring until path end)
2026-01-12 15:25:37,145 - DEBUG - integration_test - Syncing planner state at step 30: vehicle_state=[6.46119657 0.04848452 0.04147702 3.00000002 5.75216631]
2026-01-12 15:25:37,146 - INFO - integration_test - Step 30: Safety reset spline from 5.7522 to 5.4522 (vehicle at (6.46, 0.05), closest path point at (4.42, 3.19), distance=3.743m, drift=0.300m)
2026-01-12 15:25:37,146 - DEBUG - integration_test -   Set spline state to 5.4522
2026-01-12 15:25:37,148 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:37,165 - DEBUG - integration_test - Step 30: Checking path alignment: vehicle=(6.461, 0.048), path_start=(0.000, 0.000), dist=6.461m
2026-01-12 15:25:37,165 - INFO - integration_test - === Calling planner.solve_mpc() at step 30 ===
2026-01-12 15:25:37,169 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:37,179 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:37,179 - INFO - integration_test - Warmstart k=0: x0=6.305968625468965 , y0=0.3463743182311667 , psi0=0.041477016314353535 , v0=3.000000021132152 , spline0=5.401661253603043 , a0=0.0 , w0=0.0
2026-01-12 15:25:37,179 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:37,180 - INFO - integration_test - Dyn residual k=0: pred=[6.605710613140635, 0.3588138557854814, 0.041477016314353535, 3.000000021132152, 5.7016612557162585], ws=[6.549769872574101, 0.47679619310733257, 0.04147701631435341, 3.0, 5.852198608428357], res=[0.055940740566533975, -0.11798233732185115, 1.249000902703301e-16, 2.1132152028258133e-08, -0.15053735271209856], res_norm=1.993e-01
2026-01-12 15:25:37,181 - INFO - integration_test - Dyn residual k=1: pred=[6.849511858134374, 0.4892357305740225, 0.04147701631435341, 3.0, 6.152198608428357], ws=[6.806917879114887, 0.6059840914631436, 0.04147701631435341, 3.0, 6.31948570334757], res=[0.042593979019486916, -0.1167483608891211, 0.0, 0.0, -0.1672870949192129], res_norm=2.084e-01
2026-01-12 15:25:37,182 - INFO - integration_test - Dyn residual k=2: pred=[7.1066598646751595, 0.6184236289298335, 0.04147701631435341, 3.0, 6.61948570334757], ws=[7.078678397546131, 0.7326481131994682, 0.04147701631435341, 3.0, 6.803656197108166], res=[0.02798146712902838, -0.11422448426963472, 0.0, 0.0, -0.1841704937605968], res_norm=2.185e-01
2026-01-12 15:25:37,195 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:37,215 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:37,230 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:37,241 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:37,256 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:37,267 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:37,281 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:37,293 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:37,307 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:37,317 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:37,332 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:37,343 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:37,356 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:37,367 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:37,381 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:37,392 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:37,405 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:37,416 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:37,430 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:37,441 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:37,453 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:37,464 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:37,576 - INFO - integration_test - Step 30: MPC solve successful
2026-01-12 15:25:37,589 - INFO - integration_test - Step 30: Computed 6 numeric contouring constraints for visualization (s=5.452)
2026-01-12 15:25:37,589 - DEBUG - integration_test - Step 30: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:37,589 - INFO - integration_test - === Applying control at step 30 ===
2026-01-12 15:25:37,589 - INFO - integration_test -   Control dict from planner: {'a': 6.603580090529644e-08, 'w': 0.8000000094267843}
2026-01-12 15:25:37,589 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:37,589 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:37,590 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:37,591 - INFO - integration_test - Step 30 completed in 0.445s
2026-01-12 15:25:37,601 - INFO - integration_test - Step 31 (contouring until path end)
2026-01-12 15:25:37,602 - DEBUG - integration_test - Syncing planner state at step 31: vehicle_state=[6.76012162 0.07289408 0.12147702 3.00000003 5.75216631]
2026-01-12 15:25:37,603 - INFO - integration_test - Step 31: Safety reset spline from 5.7522 to 6.0580 (vehicle at (6.76, 0.07), closest path point at (5.27, 3.64), distance=3.865m, drift=0.306m)
2026-01-12 15:25:37,603 - DEBUG - integration_test -   Set spline state to 6.0580
2026-01-12 15:25:37,605 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:37,623 - DEBUG - integration_test - Step 31: Checking path alignment: vehicle=(6.760, 0.073), path_start=(0.000, 0.000), dist=6.761m
2026-01-12 15:25:37,623 - INFO - integration_test - === Calling planner.solve_mpc() at step 31 ===
2026-01-12 15:25:37,626 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:37,637 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:37,637 - INFO - integration_test - Warmstart k=0: x0=6.575285981237424 , y0=0.4900070073499605 , psi0=0.12147701725703197 , v0=3.000000027735732 , spline0=6.108467610625154 , a0=0.0 , w0=0.0
2026-01-12 15:25:37,637 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:37,638 - INFO - integration_test - Dyn residual k=0: pred=[6.873075204783534, 0.5263605491849507, 0.12147701725703197, 3.000000027735732, 6.408467613398727], ws=[6.776809677047544, 0.5913146332439174, 0.12147701725703186, 3.0, 6.063537709377388], res=[0.09626552773598984, -0.06495408405896674, 1.1102230246251565e-16, 2.7735731933375973e-08, 0.34492990402133916], res_norm=3.640e-01
2026-01-12 15:25:37,639 - INFO - integration_test - Dyn residual k=1: pred=[7.074598897840521, 0.6276681747428101, 0.12147701725703186, 3.0, 6.363537709377388], ws=[7.096509977991869, 0.7405896842778126, 0.12147701725703186, 3.0, 6.586003102202154], res=[-0.021911080151348017, -0.11292150953500246, 0.0, 0.0, -0.22246539282476618], res_norm=2.504e-01
2026-01-12 15:25:37,640 - INFO - integration_test - Dyn residual k=2: pred=[7.394299198784846, 0.7769432257767053, 0.12147701725703186, 3.0, 6.886003102202154], ws=[7.3680829946716635, 0.8558187181680932, 0.12147701725703186, 3.0, 7.0667281137269775], res=[0.02621620411318215, -0.07887549239138791, 0.0, 0.0, -0.18072501152482356], res_norm=1.989e-01
2026-01-12 15:25:37,653 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:37,674 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:37,688 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:37,699 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:37,713 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:37,724 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:37,738 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:37,748 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:37,762 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:37,773 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:37,787 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:37,798 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:37,812 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:37,823 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:37,836 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:37,847 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:37,861 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:37,872 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:37,886 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:37,896 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:37,908 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:37,919 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:38,028 - INFO - integration_test - Step 31: MPC solve successful
2026-01-12 15:25:38,041 - INFO - integration_test - Step 31: Computed 6 numeric contouring constraints for visualization (s=6.058)
2026-01-12 15:25:38,041 - DEBUG - integration_test - Step 31: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:38,041 - INFO - integration_test - === Applying control at step 31 ===
2026-01-12 15:25:38,041 - INFO - integration_test -   Control dict from planner: {'a': 1.4825830421570027e-08, 'w': 0.8000000098495933}
2026-01-12 15:25:38,041 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:38,041 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:38,042 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:38,042 - INFO - integration_test - Step 31 completed in 0.441s
2026-01-12 15:25:38,052 - INFO - integration_test - Step 32 (contouring until path end)
2026-01-12 15:25:38,055 - DEBUG - integration_test - Syncing planner state at step 32: vehicle_state=[7.05613994 0.12111407 0.20147702 3.00000003 6.35796256]
2026-01-12 15:25:38,055 - INFO - integration_test - Step 32: Safety reset spline from 6.3580 to 6.0580 (vehicle at (7.06, 0.12), closest path point at (5.27, 3.64), distance=3.945m, drift=0.300m)
2026-01-12 15:25:38,055 - DEBUG - integration_test -   Set spline state to 6.0580
2026-01-12 15:25:38,057 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:38,074 - DEBUG - integration_test - Step 32: Checking path alignment: vehicle=(7.056, 0.121), path_start=(0.000, 0.000), dist=7.057m
2026-01-12 15:25:38,074 - INFO - integration_test - === Calling planner.solve_mpc() at step 32 ===
2026-01-12 15:25:38,078 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:38,087 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:38,087 - INFO - integration_test - Warmstart k=0: x0=6.797082195976903 , y0=0.6012065548097332 , psi0=0.2014770182419913 , v0=3.000000029218315 , spline0=6.3104878126453565 , a0=0.0 , w0=0.0
2026-01-12 15:25:38,088 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:38,089 - INFO - integration_test - Dyn residual k=0: pred=[7.091013820041887, 0.6612415623271797, 0.2014770182419913, 3.000000029218315, 6.610487815567188], ws=[7.109289390741304, 0.7462540544135061, 0.20147701824199116, 3.0, 6.597837759203737], res=[-0.018275570699416654, -0.08501249208632644, 1.3877787807814457e-16, 2.921831487867621e-08, 0.012650056363450624], res_norm=8.787e-02
2026-01-12 15:25:38,089 - INFO - integration_test - Dyn residual k=1: pred=[7.403221011943558, 0.8062890613462453, 0.20147701824199116, 3.0, 6.897837759203737], ws=[7.415065313901283, 0.874635930550629, 0.20147701824199116, 3.0, 7.348107679868362], res=[-0.011844301957724568, -0.06834686920438371, 0.0, 0.0, -0.450269920664625], res_norm=4.556e-01
2026-01-12 15:25:38,090 - INFO - integration_test - Dyn residual k=2: pred=[7.708996935103538, 0.9346709374833683, 0.20147701824199116, 3.0, 7.648107679868362], ws=[7.700201994437226, 0.9815892057029911, 0.20147701824199116, 3.0, 7.604676113854202], res=[0.008794940666311923, -0.04691826821962286, 0.0, 0.0, 0.043431566014159984], res_norm=6.454e-02
2026-01-12 15:25:38,103 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:38,123 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:38,137 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:38,148 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:38,162 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:38,173 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:38,186 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:38,197 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:38,210 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:38,221 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:38,235 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:38,246 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:38,259 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:38,270 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:38,284 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:38,295 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:38,308 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:38,319 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:38,333 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:38,343 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:38,356 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:38,366 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:38,477 - INFO - integration_test - Step 32: MPC solve successful
2026-01-12 15:25:38,491 - INFO - integration_test - Step 32: Computed 6 numeric contouring constraints for visualization (s=6.058)
2026-01-12 15:25:38,491 - DEBUG - integration_test - Step 32: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:38,491 - INFO - integration_test - === Applying control at step 32 ===
2026-01-12 15:25:38,491 - INFO - integration_test -   Control dict from planner: {'a': 5.139804006011446e-09, 'w': 0.8000000099393952}
2026-01-12 15:25:38,491 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:38,491 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:38,492 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:38,492 - INFO - integration_test - Step 32 completed in 0.438s
2026-01-12 15:25:38,503 - INFO - integration_test - Step 33 (contouring until path end)
2026-01-12 15:25:38,505 - DEBUG - integration_test - Syncing planner state at step 33: vehicle_state=[7.34735803 0.19283606 0.28147702 3.00000003 6.35796256]
2026-01-12 15:25:38,505 - INFO - integration_test - Step 33: Safety reset spline from 6.3580 to 6.6638 (vehicle at (7.35, 0.19), closest path point at (5.83, 3.90), distance=4.004m, drift=0.306m)
2026-01-12 15:25:38,505 - DEBUG - integration_test -   Set spline state to 6.6638
2026-01-12 15:25:38,507 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:38,600 - DEBUG - integration_test - Step 33: Checking path alignment: vehicle=(7.347, 0.193), path_start=(0.000, 0.000), dist=7.350m
2026-01-12 15:25:38,600 - INFO - integration_test - === Calling planner.solve_mpc() at step 33 ===
2026-01-12 15:25:38,604 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:38,614 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:38,614 - INFO - integration_test - Warmstart k=0: x0=7.0915244801912625 , y0=0.7383757806864129 , psi0=0.2814770192359308 , v0=3.0000000297322953 , spline0=6.815273967647266 , a0=0.0 , w0=0.0
2026-01-12 15:25:38,614 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:38,615 - INFO - integration_test - Dyn residual k=0: pred=[7.379718345308893, 0.8217082347034336, 0.2814770192359308, 3.0000000297322953, 7.115273970620495], ws=[7.4025569196220875, 0.8696587577010759, 0.2814770192359308, 3.0, 7.336899184665047], res=[-0.02283857431319447, -0.04795052299764235, 0.0, 2.9732295292461686e-08, -0.22162521404455138], res_norm=2.279e-01
2026-01-12 15:25:38,615 - INFO - integration_test - Dyn residual k=1: pred=[7.690750781883496, 0.9529912108922083, 0.2814770192359308, 3.0, 7.6368991846650465], ws=[7.708829543862217, 0.9846288429065129, 0.2814770192359308, 3.0, 7.6124741794470525], res=[-0.018078761978721047, -0.031637632014304584, 0.0, 0.0, 0.024425005217993956], res_norm=4.387e-02
2026-01-12 15:25:38,616 - INFO - integration_test - Dyn residual k=2: pred=[7.997023406123626, 1.0679612960976452, 0.2814770192359308, 3.0, 7.912474179447052], ws=[7.985576850834907, 1.0759040705978395, 0.2814770192359308, 3.0, 8.100966021327768], res=[0.011446555288718407, -0.007942774500194316, 0.0, 0.0, -0.18849184188071533], res_norm=1.890e-01
2026-01-12 15:25:38,630 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:38,650 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:38,664 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:38,675 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:38,689 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:38,699 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:38,713 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:38,724 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:38,738 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:38,749 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:38,762 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:38,773 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:38,787 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:38,798 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:38,812 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:38,823 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:38,837 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:38,848 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:38,862 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:38,872 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:38,884 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:38,895 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:39,020 - INFO - integration_test - Step 33: MPC solve successful
2026-01-12 15:25:39,032 - INFO - integration_test - Step 33: Computed 6 numeric contouring constraints for visualization (s=6.664)
2026-01-12 15:25:39,033 - DEBUG - integration_test - Step 33: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:39,033 - INFO - integration_test - === Applying control at step 33 ===
2026-01-12 15:25:39,033 - INFO - integration_test -   Control dict from planner: {'a': -5.2584070129102385e-09, 'w': -0.3611113912150735}
2026-01-12 15:25:39,033 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:39,033 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:39,034 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:39,034 - INFO - integration_test - Step 33 completed in 0.530s
2026-01-12 15:25:39,047 - INFO - integration_test - Step 34 (contouring until path end)
2026-01-12 15:25:39,048 - DEBUG - integration_test - Syncing planner state at step 34: vehicle_state=[7.63699371 0.27094747 0.24536588 3.00000003 6.96375882]
2026-01-12 15:25:39,048 - INFO - integration_test - Step 34: Safety reset spline from 6.9638 to 7.2696 (vehicle at (7.64, 0.27), closest path point at (6.41, 4.13), distance=4.050m, drift=0.306m)
2026-01-12 15:25:39,048 - DEBUG - integration_test -   Set spline state to 7.2696
2026-01-12 15:25:39,050 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:39,068 - DEBUG - integration_test - Step 34: Checking path alignment: vehicle=(7.637, 0.271), path_start=(0.000, 0.000), dist=7.642m
2026-01-12 15:25:39,068 - INFO - integration_test - === Calling planner.solve_mpc() at step 34 ===
2026-01-12 15:25:39,072 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:39,081 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:39,081 - INFO - integration_test - Warmstart k=0: x0=7.383757584245558 , y0=0.8621337949217898 , psi0=0.24536588011442348 , v0=3.0000000292064546 , spline0=7.320060122649174 , a0=0.0 , w0=0.0
2026-01-12 15:25:39,081 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:39,082 - INFO - integration_test - Dyn residual k=0: pred=[7.674772141129761, 0.9350071743814946, 0.24536588011442348, 3.0000000292064546, 7.62006012556982], ws=[7.6573213450891675, 0.9663087415584166, 0.24536588011442362, 3.0, 7.56595073891897], res=[0.01745079604059363, -0.03130156717692201, -1.3877787807814457e-16, 2.9206454588148745e-08, 0.05410938665084952], res_norm=6.490e-02
2026-01-12 15:25:39,083 - INFO - integration_test - Dyn residual k=1: pred=[7.948335899140202, 1.0391821203086637, 0.24536588011442362, 3.0, 7.86595073891897], ws=[7.990049971780965, 1.0772422661541023, 0.24536588011442362, 3.0, 7.8679624257173595], res=[-0.041714072640762545, -0.0380601458454386, 0.0, 0.0, -0.002011686798389256], res_norm=5.650e-02
2026-01-12 15:25:39,084 - INFO - integration_test - Dyn residual k=2: pred=[8.281064525832, 1.1501156449043495, 0.24536588011442362, 3.0, 8.16796242571736], ws=[8.350391394072423, 1.1775601842309928, 0.24536588011442362, 3.0, 8.427078045573495], res=[-0.069326868240422, -0.02744453932664337, 0.0, 0.0, -0.25911561985613574], res_norm=2.696e-01
2026-01-12 15:25:39,097 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:39,117 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:39,130 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:39,141 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:39,155 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:39,166 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:39,180 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:39,190 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:39,204 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:39,215 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:39,228 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:39,239 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:39,253 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:39,264 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:39,277 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:39,289 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:39,302 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:39,313 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:39,327 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:39,338 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:39,351 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:39,362 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:39,480 - INFO - integration_test - Step 34: MPC solve successful
2026-01-12 15:25:39,492 - INFO - integration_test - Step 34: Computed 6 numeric contouring constraints for visualization (s=7.270)
2026-01-12 15:25:39,492 - DEBUG - integration_test - Step 34: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:39,492 - INFO - integration_test - === Applying control at step 34 ===
2026-01-12 15:25:39,492 - INFO - integration_test -   Control dict from planner: {'a': -5.075200855445885e-09, 'w': -0.38701863279436083}
2026-01-12 15:25:39,493 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:39,493 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:39,493 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:39,494 - INFO - integration_test - Step 34 completed in 0.447s
2026-01-12 15:25:39,505 - INFO - integration_test - Step 35 (contouring until path end)
2026-01-12 15:25:39,506 - DEBUG - integration_test - Syncing planner state at step 35: vehicle_state=[7.92934562 0.33817196 0.20666402 3.00000003 7.56955508]
2026-01-12 15:25:39,507 - INFO - integration_test - Step 35: Safety reset spline from 7.5696 to 7.8754 (vehicle at (7.93, 0.34), closest path point at (6.61, 4.20), distance=4.083m, drift=0.306m)
2026-01-12 15:25:39,507 - DEBUG - integration_test -   Set spline state to 7.8754
2026-01-12 15:25:39,509 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:39,526 - DEBUG - integration_test - Step 35: Checking path alignment: vehicle=(7.929, 0.338), path_start=(0.000, 0.000), dist=7.937m
2026-01-12 15:25:39,526 - INFO - integration_test - === Calling planner.solve_mpc() at step 35 ===
2026-01-12 15:25:39,530 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:39,540 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:39,540 - INFO - integration_test - Warmstart k=0: x0=7.720278762859226 , y0=0.98864456946521 , psi0=0.2066640168349874 , v0=3.0000000286989343 , spline0=7.622826075630882 , a0=0.0 , w0=0.0
2026-01-12 15:25:39,540 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:39,541 - INFO - integration_test - Dyn residual k=0: pred=[8.01389503267062, 1.0502033854380595, 0.2066640168349874, 3.0000000286989343, 7.922826078500775], ws=[8.020409731214624, 1.0865323197810244, 0.20666401683498759, 3.0, 8.132002419574468], res=[-0.006514698544004105, -0.036328934342964914, -1.942890293094024e-16, 2.8698934340098958e-08, -0.2091763410736922], res_norm=2.124e-01
2026-01-12 15:25:39,542 - INFO - integration_test - Dyn residual k=1: pred=[8.314025998217193, 1.1480911351649832, 0.20666401683498759, 3.0, 8.432002419574468], ws=[8.326428224375908, 1.1715723926546575, 0.20666401683498759, 3.0, 8.64562837994875], res=[-0.012402226158714669, -0.023481257489674334, 0.0, 0.0, -0.21362596037428183], res_norm=2.153e-01
2026-01-12 15:25:39,543 - INFO - integration_test - Dyn residual k=2: pred=[8.620044491378478, 1.2331312080386163, 0.20666401683498759, 3.0, 8.94562837994875], ws=[8.629531928250044, 1.2411049742192914, 0.20666401683498759, 3.0, 8.911108889484254], res=[-0.009487436871566501, -0.007973766180675135, 0.0, 0.0, 0.03451949046449698], res_norm=3.668e-02
2026-01-12 15:25:39,556 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:39,576 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:39,590 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:39,601 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:39,615 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:39,626 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:39,639 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:39,650 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:39,663 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:39,674 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:39,687 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:39,698 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:39,712 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:39,723 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:39,736 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:39,747 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:39,761 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:39,772 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:39,786 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:39,796 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:39,809 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:39,819 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:39,928 - INFO - integration_test - Step 35: MPC solve successful
2026-01-12 15:25:39,940 - INFO - integration_test - Step 35: Computed 6 numeric contouring constraints for visualization (s=7.875)
2026-01-12 15:25:39,940 - DEBUG - integration_test - Step 35: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:39,940 - INFO - integration_test - === Applying control at step 35 ===
2026-01-12 15:25:39,940 - INFO - integration_test -   Control dict from planner: {'a': 8.410583232618194e-09, 'w': 0.8000000095210501}
2026-01-12 15:25:39,941 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:39,941 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:39,941 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:39,942 - INFO - integration_test - Step 35 completed in 0.436s
2026-01-12 15:25:39,951 - INFO - integration_test - Step 36 (contouring until path end)
2026-01-12 15:25:39,952 - DEBUG - integration_test - Syncing planner state at step 36: vehicle_state=[8.22018776 0.41140352 0.28666402 3.00000003 8.17535133]
2026-01-12 15:25:39,953 - INFO - integration_test - Step 36: Safety reset spline from 8.1754 to 8.4811 (vehicle at (8.22, 0.41), closest path point at (7.21, 4.39), distance=4.107m, drift=0.306m)
2026-01-12 15:25:39,953 - DEBUG - integration_test -   Set spline state to 8.4811
2026-01-12 15:25:39,956 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:39,973 - DEBUG - integration_test - Step 36: Checking path alignment: vehicle=(8.220, 0.411), path_start=(0.000, 0.000), dist=8.230m
2026-01-12 15:25:39,973 - INFO - integration_test - === Calling planner.solve_mpc() at step 36 ===
2026-01-12 15:25:39,977 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:39,986 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:39,986 - INFO - integration_test - Warmstart k=0: x0=8.015483731125297 , y0=1.0850410289809962 , psi0=0.2866640177870924 , v0=3.0000000295399927 , spline0=8.127612230632792 , a0=0.0 , w0=0.0
2026-01-12 15:25:39,986 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:39,988 - INFO - integration_test - Dyn residual k=0: pred=[8.30324147593184, 1.1698672164248058, 0.2866640177870924, 3.0000000295399927, 8.42761223358679], ws=[8.341084898852563, 1.1752704624427706, 0.2866640177870923, 3.0, 8.658473487745503], res=[-0.03784342292072296, -0.0054032460179647135, 1.1102230246251565e-16, 2.9539992674187943e-08, -0.23086125415871273], res_norm=2.340e-01
2026-01-12 15:25:39,988 - INFO - integration_test - Dyn residual k=1: pred=[8.628842640825651, 1.2600966490513252, 0.2866640177870923, 3.0, 8.958473487745504], ws=[8.674855094820336, 1.2502739438184522, 0.2866640177870923, 3.0, 9.1931229102366], res=[-0.04601245399468468, 0.009822705232872986, 0.0, 0.0, -0.23464942249109555], res_norm=2.393e-01
2026-01-12 15:25:39,989 - INFO - integration_test - Dyn residual k=2: pred=[8.962612836793424, 1.335100130427007, 0.2866640177870923, 3.0, 9.4931229102366], ws=[9.01249745619918, 1.308565479122891, 0.2866640177870923, 3.0, 9.481238354551673], res=[-0.049884619405755615, 0.02653465130411603, 0.0, 0.0, 0.011884555684927633], res_norm=5.774e-02
2026-01-12 15:25:40,002 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:40,023 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:40,037 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:40,048 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:40,062 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:40,073 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:40,087 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:40,098 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:40,111 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:40,122 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:40,136 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:40,147 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:40,160 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:40,172 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:40,185 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:40,196 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:40,209 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:40,220 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:40,234 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:40,244 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:40,257 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:40,267 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:40,378 - INFO - integration_test - Step 36: MPC solve successful
2026-01-12 15:25:40,390 - INFO - integration_test - Step 36: Computed 6 numeric contouring constraints for visualization (s=8.481)
2026-01-12 15:25:40,391 - DEBUG - integration_test - Step 36: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:40,391 - INFO - integration_test - === Applying control at step 36 ===
2026-01-12 15:25:40,391 - INFO - integration_test -   Control dict from planner: {'a': 1.9325082563501376e-09, 'w': 0.8000000073382255}
2026-01-12 15:25:40,391 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:40,391 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:40,392 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:40,392 - INFO - integration_test - Step 36 completed in 0.440s
2026-01-12 15:25:40,402 - INFO - integration_test - Step 37 (contouring until path end)
2026-01-12 15:25:40,404 - DEBUG - integration_test - Syncing planner state at step 37: vehicle_state=[8.50424743 0.50764343 0.36666402 3.00000003 8.78114759]
2026-01-12 15:25:40,404 - INFO - integration_test - Step 37: Safety reset spline from 8.7811 to 8.4811 (vehicle at (8.50, 0.51), closest path point at (7.21, 4.39), distance=4.094m, drift=0.300m)
2026-01-12 15:25:40,404 - DEBUG - integration_test -   Set spline state to 8.4811
2026-01-12 15:25:40,407 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:40,424 - DEBUG - integration_test - Step 37: Checking path alignment: vehicle=(8.504, 0.508), path_start=(0.000, 0.000), dist=8.519m
2026-01-12 15:25:40,424 - INFO - integration_test - === Calling planner.solve_mpc() at step 37 ===
2026-01-12 15:25:40,427 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:40,437 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:40,437 - INFO - integration_test - Warmstart k=0: x0=8.354362170609084 , y0=1.178548296893191 , psi0=0.36666401852091496 , v0=3.0000000297332434 , spline0=8.430642533663095 , a0=0.0 , w0=0.0
2026-01-12 15:25:40,437 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:40,438 - INFO - integration_test - Dyn residual k=0: pred=[8.634420722763013, 1.2860992576022419, 0.36666401852091496, 3.0000000297332434, 8.730642536636418], ws=[8.670807037969656, 1.249469027741009, 0.3666640185209151, 3.0, 9.18964973289108], res=[-0.03638631520664326, 0.03663022986123288, -1.6653345369377348e-16, 2.9733243422924716e-08, -0.459007196254662], res_norm=4.619e-01
2026-01-12 15:25:40,439 - INFO - integration_test - Dyn residual k=1: pred=[8.950865587347902, 1.3570199873841136, 0.3666640185209151, 3.0, 9.489649732891081], ws=[8.972514115517457, 1.3025667858199745, 0.3666640185209151, 3.0, 9.447263943592237], res=[-0.021648528169555092, 0.05445320156413902, 0.0, 0.0, 0.0423857892988444], res_norm=7.232e-02
2026-01-12 15:25:40,440 - INFO - integration_test - Dyn residual k=2: pred=[9.252572664895704, 1.410117745463079, 0.3666640185209151, 3.0, 9.747263943592237], ws=[9.314969156761205, 1.3465291927690899, 0.3666640185209151, 3.0, 10.222021823184534], res=[-0.06239649186550089, 0.06358855269398922, 0.0, 0.0, -0.4747578795922962], res_norm=4.830e-01
2026-01-12 15:25:40,453 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:40,473 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:40,486 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:40,497 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:40,512 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:40,523 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:40,536 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:40,547 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:40,561 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:40,572 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:40,585 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:40,596 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:40,610 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:40,621 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:40,635 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:40,645 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:40,659 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:40,670 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:40,684 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:40,694 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:40,707 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:40,717 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:40,826 - INFO - integration_test - Step 37: MPC solve successful
2026-01-12 15:25:40,838 - INFO - integration_test - Step 37: Computed 6 numeric contouring constraints for visualization (s=8.481)
2026-01-12 15:25:40,839 - DEBUG - integration_test - Step 37: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:40,839 - INFO - integration_test - === Applying control at step 37 ===
2026-01-12 15:25:40,839 - INFO - integration_test -   Control dict from planner: {'a': -6.012386651427905e-08, 'w': 0.4251070191834699}
2026-01-12 15:25:40,839 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:40,839 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:40,840 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:40,840 - INFO - integration_test - Step 37 completed in 0.437s
2026-01-12 15:25:40,850 - INFO - integration_test - Step 38 (contouring until path end)
2026-01-12 15:25:40,851 - DEBUG - integration_test - Syncing planner state at step 38: vehicle_state=[8.78193595 0.62111385 0.40917472 3.00000002 8.78114759]
2026-01-12 15:25:40,852 - INFO - integration_test - Step 38: Safety reset spline from 8.7811 to 9.0869 (vehicle at (8.78, 0.62), closest path point at (7.83, 4.55), distance=4.040m, drift=0.306m)
2026-01-12 15:25:40,852 - DEBUG - integration_test -   Set spline state to 9.0869
2026-01-12 15:25:40,854 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:40,872 - DEBUG - integration_test - Step 38: Checking path alignment: vehicle=(8.782, 0.621), path_start=(0.000, 0.000), dist=8.804m
2026-01-12 15:25:40,872 - INFO - integration_test - === Calling planner.solve_mpc() at step 38 ===
2026-01-12 15:25:40,875 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:40,885 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:40,885 - INFO - integration_test - Warmstart k=0: x0=8.657301779329261 , y0=1.2467461492426408 , psi0=0.40917472043926195 , v0=3.000000023720857 , spline0=8.935428688665006 , a0=0.0 , w0=0.0
2026-01-12 15:25:40,885 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:40,886 - INFO - integration_test - Dyn residual k=0: pred=[8.932536623882873, 1.3661018435634396, 0.40917472043926195, 3.000000023720857, 9.235428691037091], ws=[9.001397709863037, 1.30693686518413, 0.4091747204392622, 3.0, 9.71626628921064], res=[-0.0688610859801635, 0.05916497837930956, -2.220446049250313e-16, 2.372085683433056e-08, -0.4808375981735491], res_norm=4.893e-01
2026-01-12 15:25:40,887 - INFO - integration_test - Dyn residual k=1: pred=[9.27663255224038, 1.426292558561189, 0.4091747204392622, 3.0, 10.016266289210641], ws=[9.288028883050249, 1.343674792156007, 0.4091747204392622, 3.0, 10.200108975884655], res=[-0.011396330809867905, 0.08261776640518192, 0.0, 0.0, -0.18384268667401393], res_norm=2.019e-01
2026-01-12 15:25:40,888 - INFO - integration_test - Dyn residual k=2: pred=[9.563263725427593, 1.463030485533066, 0.4091747204392622, 3.0, 10.500108975884656], ws=[9.58363285642392, 1.369653222771042, 0.4091747204392622, 3.0, 10.437711112179644], res=[-0.0203691309963272, 0.09337726276202396, 0.0, 0.0, 0.06239786370501221], res_norm=1.141e-01
2026-01-12 15:25:40,901 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:40,922 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:40,936 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:40,947 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:40,961 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:40,973 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:40,986 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:40,997 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:41,011 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:41,022 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:41,036 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:41,048 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:41,062 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:41,073 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:41,087 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:41,098 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:41,111 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:41,122 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:41,136 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:41,146 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:41,159 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:41,169 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:41,285 - INFO - integration_test - Step 38: MPC solve successful
2026-01-12 15:25:41,297 - INFO - integration_test - Step 38: Computed 6 numeric contouring constraints for visualization (s=9.087)
2026-01-12 15:25:41,297 - DEBUG - integration_test - Step 38: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:41,297 - INFO - integration_test - === Applying control at step 38 ===
2026-01-12 15:25:41,297 - INFO - integration_test -   Control dict from planner: {'a': 2.154969042805156e-08, 'w': 0.79999993865586}
2026-01-12 15:25:41,298 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:41,298 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:41,298 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:41,299 - INFO - integration_test - Step 38 completed in 0.448s
2026-01-12 15:25:41,311 - INFO - integration_test - Step 39 (contouring until path end)
2026-01-12 15:25:41,312 - DEBUG - integration_test - Syncing planner state at step 39: vehicle_state=[9.05210562 0.75134579 0.48917471 3.00000003 9.38694384]
2026-01-12 15:25:41,313 - INFO - integration_test - Step 39: Safety reset spline from 9.3869 to 9.6927 (vehicle at (9.05, 0.75), closest path point at (8.46, 4.66), distance=3.957m, drift=0.306m)
2026-01-12 15:25:41,313 - DEBUG - integration_test -   Set spline state to 9.6927
2026-01-12 15:25:41,315 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:41,332 - DEBUG - integration_test - Step 39: Checking path alignment: vehicle=(9.052, 0.751), path_start=(0.000, 0.000), dist=9.083m
2026-01-12 15:25:41,332 - INFO - integration_test - === Calling planner.solve_mpc() at step 39 ===
2026-01-12 15:25:41,336 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:41,345 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:41,345 - INFO - integration_test - Warmstart k=0: x0=8.96422326788486 , y0=1.3012927501304992 , psi0=0.48917471430484794 , v0=3.000000025875826 , spline0=9.440214843666913 , a0=0.0 , w0=0.0
2026-01-12 15:25:41,345 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:41,346 - INFO - integration_test - Dyn residual k=0: pred=[9.2290395578397, 1.4422620167353286, 0.48917471430484794, 3.000000025875826, 9.740214846254496], ws=[9.275652014156169, 1.3423290948314688, 0.48917471430484794, 3.0, 9.943614605523978], res=[-0.04661245631646871, 0.09993292190385983, 0.0, 2.587582592639137e-08, -0.20339975926948206], res_norm=2.314e-01
2026-01-12 15:25:41,347 - INFO - integration_test - Dyn residual k=1: pred=[9.540468301826895, 1.4832983602203995, 0.48917471430484794, 3.0, 10.243614605523979], ws=[9.61027017558413, 1.3714323793246264, 0.48917471430484794, 3.0, 10.458831704021474], res=[-0.06980187375723546, 0.11186598089577315, 0.0, 0.0, -0.21521709849749548], res_norm=2.524e-01
2026-01-12 15:25:41,348 - INFO - integration_test - Dyn residual k=2: pred=[9.875086463254856, 1.512401644713557, 0.48917471430484794, 3.0, 10.758831704021475], ws=[9.831508645799897, 1.3827895202030316, 0.48917471430484794, 3.0, 10.632584446192608], res=[0.0435778174549597, 0.1296121245105255, 0.0, 0.0, 0.12624725782886692], res_norm=1.861e-01
2026-01-12 15:25:41,361 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:41,381 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:41,395 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:41,406 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:41,420 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:41,431 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:41,444 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:41,455 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:41,469 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:41,480 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:41,493 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:41,504 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:41,518 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:41,528 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:41,542 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:41,552 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:41,566 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:41,577 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:41,590 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:41,600 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:41,613 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:41,623 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:41,735 - INFO - integration_test - Step 39: MPC solve successful
2026-01-12 15:25:41,748 - INFO - integration_test - Step 39: Computed 6 numeric contouring constraints for visualization (s=9.693)
2026-01-12 15:25:41,748 - DEBUG - integration_test - Step 39: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:41,748 - INFO - integration_test - === Applying control at step 39 ===
2026-01-12 15:25:41,748 - INFO - integration_test -   Control dict from planner: {'a': 1.3437775084072754e-08, 'w': 0.7999999581860092}
2026-01-12 15:25:41,748 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:41,748 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:41,749 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:41,749 - INFO - integration_test - Step 39 completed in 0.437s
2026-01-12 15:25:41,762 - INFO - integration_test - Step 40 (contouring until path end)
2026-01-12 15:25:41,763 - DEBUG - integration_test - Syncing planner state at step 40: vehicle_state=[9.31100377 0.90275174 0.56917471 3.00000003 9.9927401 ]
2026-01-12 15:25:41,763 - INFO - integration_test - Step 40: Safety reset spline from 9.9927 to 10.2985 (vehicle at (9.31, 0.90), closest path point at (9.10, 4.74), distance=3.845m, drift=0.306m)
2026-01-12 15:25:41,763 - DEBUG - integration_test -   Set spline state to 10.2985
2026-01-12 15:25:41,765 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:41,782 - DEBUG - integration_test - Step 40: Checking path alignment: vehicle=(9.311, 0.903), path_start=(0.000, 0.000), dist=9.355m
2026-01-12 15:25:41,782 - INFO - integration_test - === Calling planner.solve_mpc() at step 40 ===
2026-01-12 15:25:41,786 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:41,796 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:41,796 - INFO - integration_test - Warmstart k=0: x0=9.277338028327366 , y0=1.3425135213901984 , psi0=0.5691747101234489 , v0=3.0000000272196035 , spline0=9.94500099866882 , a0=0.0 , w0=0.0
2026-01-12 15:25:41,796 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:41,797 - INFO - integration_test - Dyn residual k=0: pred=[9.530041843000541, 1.5041946386636798, 0.5691747101234489, 3.0000000272196035, 10.245001001390781], ws=[9.51219298619879, 1.3644323864265857, 0.5691747101234488, 3.0, 10.38084015702636], res=[0.0178488568017503, 0.13976225223709404, 1.1102230246251565e-16, 2.7219603460082453e-08, -0.1358391556355798], res_norm=1.957e-01
2026-01-12 15:25:41,797 - INFO - integration_test - Dyn residual k=1: pred=[9.764896798579134, 1.5261135022331016, 0.5691747101234488, 3.0, 10.680840157026362], ws=[9.835832346868337, 1.3829519482529338, 0.5691747101234488, 3.0, 10.635951969093423], res=[-0.0709355482892029, 0.14316155398016783, 0.0, 0.0, 0.044888187932938806], res_norm=1.660e-01
2026-01-12 15:25:41,798 - INFO - integration_test - Dyn residual k=2: pred=[10.08853615924868, 1.5446330640594497, 0.5691747101234488, 3.0, 10.935951969093423], ws=[10.074595590307487, 1.3887489786058707, 0.5691747101234488, 3.0, 11.063518872559605], res=[0.013940568941192666, 0.155884085453579, 0.0, 0.0, -0.1275669034661817], res_norm=2.019e-01
2026-01-12 15:25:41,811 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:41,831 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:41,845 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:41,856 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:41,870 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:41,881 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:41,894 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:41,906 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:41,919 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:41,930 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:41,944 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:41,955 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:41,969 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:41,980 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:41,993 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:42,005 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:42,018 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:42,029 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:42,043 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:42,053 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:42,067 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:42,077 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:42,201 - INFO - integration_test - Step 40: MPC solve successful
2026-01-12 15:25:42,214 - INFO - integration_test - Step 40: Computed 6 numeric contouring constraints for visualization (s=10.299)
2026-01-12 15:25:42,214 - DEBUG - integration_test - Step 40: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:42,214 - INFO - integration_test - === Applying control at step 40 ===
2026-01-12 15:25:42,215 - INFO - integration_test -   Control dict from planner: {'a': 1.9286921419723848e-08, 'w': 0.8000000099944036}
2026-01-12 15:25:42,215 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:42,215 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:42,215 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:42,216 - INFO - integration_test - Step 40 completed in 0.453s
2026-01-12 15:25:42,228 - INFO - integration_test - Step 41 (contouring until path end)
2026-01-12 15:25:42,229 - DEBUG - integration_test - Syncing planner state at step 41: vehicle_state=[ 9.55697433  1.07436322  0.64917471  3.00000003 10.59853636]
2026-01-12 15:25:42,230 - INFO - integration_test - Step 41: Safety reset spline from 10.5985 to 10.2985 (vehicle at (9.56, 1.07), closest path point at (9.10, 4.74), distance=3.696m, drift=0.300m)
2026-01-12 15:25:42,230 - DEBUG - integration_test -   Set spline state to 10.2985
2026-01-12 15:25:42,232 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:42,249 - DEBUG - integration_test - Step 41: Checking path alignment: vehicle=(9.557, 1.074), path_start=(0.000, 0.000), dist=9.617m
2026-01-12 15:25:42,249 - INFO - integration_test - === Calling planner.solve_mpc() at step 41 ===
2026-01-12 15:25:42,253 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:42,263 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:42,263 - INFO - integration_test - Warmstart k=0: x0=9.472432715868683 , y0=1.3612396939012292 , psi0=0.6491747111228893 , v0=3.0000000291482958 , spline0=10.349041402709226 , a0=0.0 , w0=0.0
2026-01-12 15:25:42,263 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:42,264 - INFO - integration_test - Dyn residual k=0: pred=[9.71140761248896, 1.542598455846235, 0.6491747111228893, 3.0000000291482958, 10.649041405624056], ws=[9.81373870342598, 1.3820984010812687, 0.6491747111228894, 3.0, 10.61873342650728], res=[-0.1023310909370192, 0.1605000547649662, -1.1102230246251565e-16, 2.914829577704836e-08, 0.03030797911677574], res_norm=1.927e-01
2026-01-12 15:25:42,264 - INFO - integration_test - Dyn residual k=1: pred=[10.052713597724354, 1.5634571612641748, 0.6491747111228894, 3.0, 10.91873342650728], ws=[10.034924119746561, 1.437080742951872, 0.6491747111228894, 3.0, 11.011571410056629], res=[0.017789477977792956, 0.12637641831230284, 0.0, 0.0, -0.09283798354934802], res_norm=1.578e-01
2026-01-12 15:25:42,265 - INFO - integration_test - Dyn residual k=2: pred=[10.273899014044936, 1.618439503134778, 0.6491747111228894, 3.0, 11.31157141005663], ws=[10.273899014044936, 1.618439503134778, 0.6491747111228894, 3.0, 11.47322199513249], res=[0.0, 0.0, 0.0, 0.0, -0.16165058507586139], res_norm=1.617e-01
2026-01-12 15:25:42,278 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:42,298 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:42,312 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:42,323 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:42,337 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:42,348 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:42,361 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:42,372 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:42,386 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:42,397 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:42,411 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:42,422 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:42,436 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:42,448 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:42,461 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:42,472 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:42,486 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:42,497 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:42,511 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:42,521 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:42,534 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:42,544 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:42,658 - INFO - integration_test - Step 41: MPC solve successful
2026-01-12 15:25:42,671 - INFO - integration_test - Step 41: Computed 6 numeric contouring constraints for visualization (s=10.299)
2026-01-12 15:25:42,672 - DEBUG - integration_test - Step 41: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:42,672 - INFO - integration_test - === Applying control at step 41 ===
2026-01-12 15:25:42,672 - INFO - integration_test -   Control dict from planner: {'a': 1.3805763409190842e-08, 'w': 0.7999999799623332}
2026-01-12 15:25:42,672 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:42,672 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:42,673 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:42,673 - INFO - integration_test - Step 41 completed in 0.444s
2026-01-12 15:25:42,683 - INFO - integration_test - Step 42 (contouring until path end)
2026-01-12 15:25:42,684 - DEBUG - integration_test - Syncing planner state at step 42: vehicle_state=[ 9.78844392  1.2650825   0.72917471  3.00000003 10.59853636]
2026-01-12 15:25:42,685 - INFO - integration_test - Step 42: Safety reset spline from 10.5985 to 10.9043 (vehicle at (9.79, 1.27), closest path point at (9.75, 4.78), distance=3.517m, drift=0.306m)
2026-01-12 15:25:42,685 - DEBUG - integration_test -   Set spline state to 10.9043
2026-01-12 15:25:42,687 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:42,705 - DEBUG - integration_test - Step 42: Checking path alignment: vehicle=(9.788, 1.265), path_start=(0.000, 0.000), dist=9.870m
2026-01-12 15:25:42,705 - INFO - integration_test - === Calling planner.solve_mpc() at step 42 ===
2026-01-12 15:25:42,709 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:42,718 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:42,718 - INFO - integration_test - Warmstart k=0: x0=9.799632719707386 , y0=1.381541711102812 , psi0=0.7291747091191226 , v0=3.0000000305288723 , spline0=10.853827557711137 , a0=0.0 , w0=0.0
2026-01-12 15:25:42,718 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:42,719 - INFO - integration_test - Dyn residual k=0: pred=[10.023350074965967, 1.5814180398359525, 0.7291747091191226, 3.0000000305288723, 11.153827560764023], ws=[10.012161276976649, 1.4649588251278554, 0.7291747091191225, 3.0, 11.275028855546001], res=[0.011188797989317933, 0.11645921470809717, 1.1102230246251565e-16, 3.052887231902446e-08, -0.12120129478197761], res_norm=1.685e-01
2026-01-12 15:25:42,720 - INFO - integration_test - Dyn residual k=1: pred=[10.235878629958616, 1.6648351518269964, 0.7291747091191225, 3.0, 11.575028855546002], ws=[10.235878629958616, 1.6648351518269964, 0.7291747091191225, 3.0, 11.428868007384807], res=[0.0, 0.0, 0.0, 0.0, 0.14616084816119468], res_norm=1.462e-01
2026-01-12 15:25:42,721 - INFO - integration_test - Dyn residual k=2: pred=[10.459595982940584, 1.8647114785261374, 0.7291747091191225, 3.0, 11.728868007384808], ws=[10.459595982940584, 1.8647114785261374, 0.7291747091191225, 3.0, 11.563402331486675], res=[0.0, 0.0, 0.0, 0.0, 0.1654656758981332], res_norm=1.655e-01
2026-01-12 15:25:42,734 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:42,754 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:42,769 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:42,780 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:42,794 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:42,805 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:42,819 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:42,830 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:42,843 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:42,855 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:42,868 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:42,879 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:42,893 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:42,904 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:42,918 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:42,929 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:42,943 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:42,954 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:42,968 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:42,978 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:42,991 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:43,001 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:44,266 - WARNING - integration_test - Step 42: MPC solve failed
2026-01-12 15:25:44,266 - WARNING - integration_test -   Consecutive MPC failures: 1/50
2026-01-12 15:25:44,276 - INFO - integration_test - Step 42: Computed 6 numeric contouring constraints for visualization (s=10.904)
2026-01-12 15:25:44,276 - DEBUG - integration_test - Step 42: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:44,276 - INFO - integration_test - === Applying control at step 42 ===
2026-01-12 15:25:44,276 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:44,276 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:44,276 - INFO - integration_test -   Planner output success: False
2026-01-12 15:25:44,276 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:44,277 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:44,278 - INFO - integration_test - Step 42 completed in 1.593s
2026-01-12 15:25:44,289 - INFO - integration_test - Step 43 (contouring until path end)
2026-01-12 15:25:44,290 - DEBUG - integration_test - Syncing planner state at step 43: vehicle_state=[10.01216128  1.46495883  0.72917471  3.00000003 11.20433261]
2026-01-12 15:25:44,291 - INFO - integration_test - Step 43: Safety reset spline from 11.2043 to 10.9043 (vehicle at (10.01, 1.46), closest path point at (9.75, 4.78), distance=3.328m, drift=0.300m)
2026-01-12 15:25:44,291 - DEBUG - integration_test -   Set spline state to 10.9043
2026-01-12 15:25:44,293 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:44,310 - DEBUG - integration_test - Step 43: Checking path alignment: vehicle=(10.012, 1.465), path_start=(0.000, 0.000), dist=10.119m
2026-01-12 15:25:44,310 - WARNING - integration_test - Step 43: Vehicle is far from path start (dist=10.119m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:25:44,310 - INFO - integration_test - === Calling planner.solve_mpc() at step 43 ===
2026-01-12 15:25:44,314 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:44,323 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:44,323 - INFO - integration_test - Warmstart k=0: x0=10.012161279253261 , y0=1.4649588271618548 , psi0=0.7291747091191226 , v0=3.0000000305288723 , spline0=11.25786796175154 , a0=0.0 , w0=0.0
2026-01-12 15:25:44,323 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:44,324 - INFO - integration_test - Dyn residual k=0: pred=[10.235878634511842, 1.6648351558949952, 0.7291747091191226, 3.0000000305288723, 11.557867964804426], ws=[10.235878632235229, 1.6648351538609958, 0.7291747091191225, 3.0, 11.419440418873364], res=[2.2766126761553096e-09, 2.033999413342258e-09, 1.1102230246251565e-16, 3.052887231902446e-08, 0.1384275459310622], res_norm=1.384e-01
2026-01-12 15:25:44,325 - INFO - integration_test - Dyn residual k=1: pred=[10.459595985217197, 1.8647114805601368, 0.7291747091191225, 3.0, 11.719440418873365], ws=[10.459595985217197, 1.8647114805601368, 0.7291747091191225, 3.0, 11.816036688111266], res=[0.0, 0.0, 0.0, 0.0, -0.09659626923790121], res_norm=9.660e-02
2026-01-12 15:25:44,326 - INFO - integration_test - Dyn residual k=2: pred=[10.683313338199165, 2.0645878072592776, 0.7291747091191225, 3.0, 12.116036688111267], ws=[10.683313338199165, 2.0645878072592776, 0.7291747091191225, 3.0, 11.98460840141297], res=[0.0, 0.0, 0.0, 0.0, 0.13142828669829676], res_norm=1.314e-01
2026-01-12 15:25:44,339 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:44,358 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:44,372 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:44,383 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:44,397 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:44,408 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:44,422 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:44,433 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:44,447 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:44,458 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:44,471 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:44,482 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:44,496 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:44,507 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:44,520 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:44,531 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:44,545 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:44,565 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:44,579 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:44,589 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:44,602 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:44,612 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:44,731 - INFO - integration_test - Step 43: MPC solve successful
2026-01-12 15:25:44,744 - INFO - integration_test - Step 43: Computed 6 numeric contouring constraints for visualization (s=10.904)
2026-01-12 15:25:44,744 - DEBUG - integration_test - Step 43: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:44,745 - INFO - integration_test - === Applying control at step 43 ===
2026-01-12 15:25:44,745 - INFO - integration_test -   Control dict from planner: {'a': -3.610901559994131e-09, 'w': 0.8000000098785138}
2026-01-12 15:25:44,745 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:44,745 - INFO - integration_test -   Planner output success: True
2026-01-12 15:25:44,746 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:44,746 - INFO - integration_test - Step 43 completed in 0.456s
2026-01-12 15:25:44,758 - INFO - integration_test - Step 44 (contouring until path end)
2026-01-12 15:25:44,759 - DEBUG - integration_test - Syncing planner state at step 44: vehicle_state=[10.22764929  1.67356595  0.80917471  3.00000003 11.20433261]
2026-01-12 15:25:44,760 - INFO - integration_test - Step 44: Safety reset spline from 11.2043 to 11.5101 (vehicle at (10.23, 1.67), closest path point at (10.40, 4.79), distance=3.119m, drift=0.306m)
2026-01-12 15:25:44,760 - DEBUG - integration_test -   Set spline state to 11.5101
2026-01-12 15:25:44,762 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:44,779 - DEBUG - integration_test - Step 44: Checking path alignment: vehicle=(10.228, 1.674), path_start=(0.000, 0.000), dist=10.364m
2026-01-12 15:25:44,779 - WARNING - integration_test - Step 44: Vehicle is far from path start (dist=10.364m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:25:44,779 - INFO - integration_test - === Calling planner.solve_mpc() at step 44 ===
2026-01-12 15:25:44,783 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:44,794 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:44,794 - INFO - integration_test - Warmstart k=0: x0=10.227649291934299 , y0=1.6735659483429717 , psi0=0.8091747101069741 , v0=3.000000030167782 , spline0=11.156593510692844 , a0=0.0 , w0=0.0
2026-01-12 15:25:44,794 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:44,795 - INFO - integration_test - Dyn residual k=0: pred=[10.434678077503774, 1.8906813180331326, 0.8091747101069741, 3.000000030167782, 11.456593513709622], ws=[10.434678075421907, 1.8906813158498361, 0.8091747101069742, 3.0, 11.587932658784517], res=[2.0818671231381813e-09, 2.183296432534121e-09, -1.1102230246251565e-16, 3.016778205022774e-08, -0.13133914507489486], res_norm=1.313e-01
2026-01-12 15:25:44,796 - INFO - integration_test - Dyn residual k=1: pred=[10.641706858909515, 2.1077966833567006, 0.8091747101069742, 3.0, 11.887932658784518], ws=[10.641706858909515, 2.1077966833567006, 0.8091747101069742, 3.0, 11.69345175799066], res=[0.0, 0.0, 0.0, 0.0, 0.19448090079385771], res_norm=1.945e-01
2026-01-12 15:25:44,797 - INFO - integration_test - Dyn residual k=2: pred=[10.848735642397124, 2.3249120508635652, 0.8091747101069742, 3.0, 11.99345175799066], ws=[10.848735642397124, 2.3249120508635652, 0.8091747101069742, 3.0, 12.058783047605882], res=[0.0, 0.0, 0.0, 0.0, -0.06533128961522117], res_norm=6.533e-02
2026-01-12 15:25:44,812 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:44,832 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:44,846 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:44,857 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:44,873 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:44,884 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:44,897 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:44,908 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:44,922 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:44,933 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:44,946 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:44,957 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:44,971 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:44,982 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:44,996 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:45,007 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:45,020 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:45,032 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:45,046 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:45,056 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:45,069 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:45,079 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:45,514 - WARNING - integration_test - Step 44: MPC solve failed
2026-01-12 15:25:45,514 - WARNING - integration_test -   Consecutive MPC failures: 1/50
2026-01-12 15:25:45,524 - INFO - integration_test - Step 44: Computed 6 numeric contouring constraints for visualization (s=11.510)
2026-01-12 15:25:45,524 - DEBUG - integration_test - Step 44: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:45,524 - INFO - integration_test - === Applying control at step 44 ===
2026-01-12 15:25:45,524 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:45,524 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:45,524 - INFO - integration_test -   Planner output success: False
2026-01-12 15:25:45,524 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:45,525 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:45,526 - INFO - integration_test - Step 44 completed in 0.767s
2026-01-12 15:25:45,536 - INFO - integration_test - Step 45 (contouring until path end)
2026-01-12 15:25:45,537 - DEBUG - integration_test - Syncing planner state at step 45: vehicle_state=[10.43467808  1.89068132  0.80917471  3.00000003 11.81012887]
2026-01-12 15:25:45,537 - INFO - integration_test - Step 45: Safety reset spline from 11.8101 to 11.5101 (vehicle at (10.43, 1.89), closest path point at (10.40, 4.79), distance=2.897m, drift=0.300m)
2026-01-12 15:25:45,537 - DEBUG - integration_test -   Set spline state to 11.5101
2026-01-12 15:25:45,540 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:45,557 - DEBUG - integration_test - Step 45: Checking path alignment: vehicle=(10.435, 1.891), path_start=(0.000, 0.000), dist=10.605m
2026-01-12 15:25:45,557 - WARNING - integration_test - Step 45: Vehicle is far from path start (dist=10.605m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:25:45,557 - INFO - integration_test - === Calling planner.solve_mpc() at step 45 ===
2026-01-12 15:25:45,561 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:45,570 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:45,570 - INFO - integration_test - Warmstart k=0: x0=10.434678077503774 , y0=1.8906813180331326 , psi0=0.8091747101069741 , v0=3.000000030167782 , spline0=11.560633914733247 , a0=0.0 , w0=0.0
2026-01-12 15:25:45,570 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:45,571 - INFO - integration_test - Dyn residual k=0: pred=[10.64170686307325, 2.1077966877232934, 0.8091747101069741, 3.000000030167782, 11.860633917750025], ws=[10.641706860991382, 2.107796685539997, 0.8091747101069742, 3.0, 11.941094343775756], res=[2.0818671231381813e-09, 2.183296210489516e-09, -1.1102230246251565e-16, 3.016778205022774e-08, -0.08046042602573067], res_norm=8.046e-02
2026-01-12 15:25:45,572 - INFO - integration_test - Dyn residual k=1: pred=[10.84873564447899, 2.324912053046862, 0.8091747101069742, 3.0, 12.241094343775757], ws=[10.84873564447899, 2.324912053046862, 0.8091747101069742, 3.0, 12.065195776091091], res=[0.0, 0.0, 0.0, 0.0, 0.1758985676846656], res_norm=1.759e-01
2026-01-12 15:25:45,573 - INFO - integration_test - Dyn residual k=2: pred=[11.055764427966599, 2.5420274205537265, 0.8091747101069742, 3.0, 12.365195776091092], ws=[11.055764427966599, 2.5420274205537265, 0.8091747101069742, 3.0, 12.475450630735674], res=[0.0, 0.0, 0.0, 0.0, -0.11025485464458207], res_norm=1.103e-01
2026-01-12 15:25:45,586 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:45,607 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:45,621 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:45,632 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:45,646 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:45,657 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:45,670 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:45,682 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:45,696 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:45,707 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:45,722 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:45,733 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:45,747 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:45,757 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:45,771 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:45,782 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:45,795 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:45,806 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:45,820 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:45,831 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:45,843 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:45,854 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:46,257 - WARNING - integration_test - Step 45: MPC solve failed
2026-01-12 15:25:46,257 - WARNING - integration_test -   Consecutive MPC failures: 2/50
2026-01-12 15:25:46,267 - INFO - integration_test - Step 45: Computed 6 numeric contouring constraints for visualization (s=11.510)
2026-01-12 15:25:46,267 - DEBUG - integration_test - Step 45: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:46,267 - INFO - integration_test - === Applying control at step 45 ===
2026-01-12 15:25:46,267 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:46,267 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:46,267 - INFO - integration_test -   Planner output success: False
2026-01-12 15:25:46,267 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:46,268 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:46,268 - INFO - integration_test - Step 45 completed in 0.732s
2026-01-12 15:25:46,280 - INFO - integration_test - Step 46 (contouring until path end)
2026-01-12 15:25:46,281 - DEBUG - integration_test - Syncing planner state at step 46: vehicle_state=[10.64170686  2.10779669  0.80917471  3.00000003 11.81012887]
2026-01-12 15:25:46,281 - INFO - integration_test - Step 46: Safety reset spline from 11.8101 to 12.1159 (vehicle at (10.64, 2.11), closest path point at (11.05, 4.76), distance=2.686m, drift=0.306m)
2026-01-12 15:25:46,282 - DEBUG - integration_test -   Set spline state to 12.1159
2026-01-12 15:25:46,283 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:46,301 - DEBUG - integration_test - Step 46: Checking path alignment: vehicle=(10.642, 2.108), path_start=(0.000, 0.000), dist=10.848m
2026-01-12 15:25:46,301 - WARNING - integration_test - Step 46: Vehicle is far from path start (dist=10.848m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:25:46,301 - INFO - integration_test - === Calling planner.solve_mpc() at step 46 ===
2026-01-12 15:25:46,306 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:46,315 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:46,315 - INFO - integration_test - Warmstart k=0: x0=10.64170686307325 , y0=2.1077966877232934 , psi0=0.8091747101069741 , v0=3.000000030167782 , spline0=11.964409968725056 , a0=0.0 , w0=0.0
2026-01-12 15:25:46,315 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:46,316 - INFO - integration_test - Dyn residual k=0: pred=[10.848735648642725, 2.3249120574134543, 0.8091747101069741, 3.000000030167782, 12.264409971741834], ws=[10.848735646560858, 2.324912055230158, 0.8091747101069742, 3.0, 12.125227531869573], res=[2.0818671231381813e-09, 2.183296210489516e-09, -1.1102230246251565e-16, 3.016778205022774e-08, 0.1391824398722612], res_norm=1.392e-01
2026-01-12 15:25:46,317 - INFO - integration_test - Dyn residual k=1: pred=[11.055764430048466, 2.5420274227370228, 0.8091747101069742, 3.0, 12.425227531869574], ws=[11.055764430048466, 2.5420274227370228, 0.8091747101069742, 3.0, 12.47277630297122], res=[0.0, 0.0, 0.0, 0.0, -0.04754877110164557], res_norm=4.755e-02
2026-01-12 15:25:46,318 - INFO - integration_test - Dyn residual k=2: pred=[11.262793213536074, 2.7591427902438874, 0.8091747101069742, 3.0, 12.77277630297122], ws=[11.262793213536074, 2.7591427902438874, 0.8091747101069742, 3.0, 12.587027663063953], res=[0.0, 0.0, 0.0, 0.0, 0.18574863990726698], res_norm=1.857e-01
2026-01-12 15:25:46,332 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:46,352 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:46,366 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:46,377 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:46,391 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:46,402 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:46,416 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:46,427 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:46,441 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:46,452 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:46,466 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:46,477 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:46,491 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:46,501 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:46,515 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:46,526 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:46,540 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:46,551 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:46,565 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:46,575 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:46,588 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:46,598 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:47,036 - WARNING - integration_test - Step 46: MPC solve failed
2026-01-12 15:25:47,036 - WARNING - integration_test -   Consecutive MPC failures: 3/50
2026-01-12 15:25:47,045 - INFO - integration_test - Step 46: Computed 6 numeric contouring constraints for visualization (s=12.116)
2026-01-12 15:25:47,046 - DEBUG - integration_test - Step 46: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:47,046 - INFO - integration_test - === Applying control at step 46 ===
2026-01-12 15:25:47,046 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:47,046 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:47,046 - INFO - integration_test -   Planner output success: False
2026-01-12 15:25:47,046 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:47,047 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:47,047 - INFO - integration_test - Step 46 completed in 0.766s
2026-01-12 15:25:47,060 - INFO - integration_test - Step 47 (contouring until path end)
2026-01-12 15:25:47,061 - DEBUG - integration_test - Syncing planner state at step 47: vehicle_state=[10.84873565  2.32491206  0.80917471  3.00000003 12.41592512]
2026-01-12 15:25:47,062 - INFO - integration_test - Step 47: Safety reset spline from 12.4159 to 12.1159 (vehicle at (10.85, 2.32), closest path point at (11.05, 4.76), distance=2.446m, drift=0.300m)
2026-01-12 15:25:47,062 - DEBUG - integration_test -   Set spline state to 12.1159
2026-01-12 15:25:47,063 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:47,081 - DEBUG - integration_test - Step 47: Checking path alignment: vehicle=(10.849, 2.325), path_start=(0.000, 0.000), dist=11.095m
2026-01-12 15:25:47,081 - WARNING - integration_test - Step 47: Vehicle is far from path start (dist=11.095m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:25:47,081 - INFO - integration_test - === Calling planner.solve_mpc() at step 47 ===
2026-01-12 15:25:47,086 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:47,095 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:47,095 - INFO - integration_test - Warmstart k=0: x0=10.848735648642725 , y0=2.3249120574134543 , psi0=0.8091747101069741 , v0=3.000000030167782 , spline0=12.065420069735158 , a0=0.0 , w0=0.0
2026-01-12 15:25:47,096 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:47,097 - INFO - integration_test - Dyn residual k=0: pred=[11.0557644342122, 2.542027427103615, 0.8091747101069741, 3.000000030167782, 12.365420072751936], ws=[11.055764432130333, 2.542027424920319, 0.8091747101069742, 3.0, 12.177732017583843], res=[2.0818671231381813e-09, 2.183296210489516e-09, -1.1102230246251565e-16, 3.016778205022774e-08, 0.18768805516809373], res_norm=1.877e-01
2026-01-12 15:25:47,097 - INFO - integration_test - Dyn residual k=1: pred=[11.262793215617942, 2.7591427924271836, 0.8091747101069742, 3.0, 12.477732017583843], ws=[11.262793215617942, 2.7591427924271836, 0.8091747101069742, 3.0, 12.572586039269034], res=[0.0, 0.0, 0.0, 0.0, -0.0948540216851903], res_norm=9.485e-02
2026-01-12 15:25:47,098 - INFO - integration_test - Dyn residual k=2: pred=[11.46982199910555, 2.9762581599340483, 0.8091747101069742, 3.0, 12.872586039269034], ws=[11.46982199910555, 2.9762581599340483, 0.8091747101069742, 3.0, 12.928728119070335], res=[0.0, 0.0, 0.0, 0.0, -0.05614207980130104], res_norm=5.614e-02
2026-01-12 15:25:47,112 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:47,132 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:47,146 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:47,157 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:47,171 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:47,182 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:47,196 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:47,207 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:47,221 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:47,232 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:47,246 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:47,257 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:47,272 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:47,283 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:47,296 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:47,307 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:47,321 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:47,332 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:47,346 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:47,356 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:47,369 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:47,379 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:47,786 - WARNING - integration_test - Step 47: MPC solve failed
2026-01-12 15:25:47,786 - WARNING - integration_test -   Consecutive MPC failures: 4/50
2026-01-12 15:25:47,796 - INFO - integration_test - Step 47: Computed 6 numeric contouring constraints for visualization (s=12.116)
2026-01-12 15:25:47,796 - DEBUG - integration_test - Step 47: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:47,796 - INFO - integration_test - === Applying control at step 47 ===
2026-01-12 15:25:47,796 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:47,796 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:47,796 - INFO - integration_test -   Planner output success: False
2026-01-12 15:25:47,796 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:47,797 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:47,798 - INFO - integration_test - Step 47 completed in 0.737s
2026-01-12 15:25:47,811 - INFO - integration_test - Step 48 (contouring until path end)
2026-01-12 15:25:47,812 - DEBUG - integration_test - Syncing planner state at step 48: vehicle_state=[11.05576443  2.54202743  0.80917471  3.00000003 12.41592512]
2026-01-12 15:25:47,812 - INFO - integration_test - Step 48: Safety reset spline from 12.4159 to 12.1159 (vehicle at (11.06, 2.54), closest path point at (11.05, 4.76), distance=2.221m, drift=0.300m)
2026-01-12 15:25:47,812 - DEBUG - integration_test -   Set spline state to 12.1159
2026-01-12 15:25:47,814 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:47,832 - DEBUG - integration_test - Step 48: Checking path alignment: vehicle=(11.056, 2.542), path_start=(0.000, 0.000), dist=11.344m
2026-01-12 15:25:47,832 - WARNING - integration_test - Step 48: Vehicle is far from path start (dist=11.344m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:25:47,832 - INFO - integration_test - === Calling planner.solve_mpc() at step 48 ===
2026-01-12 15:25:47,837 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:47,846 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:47,846 - INFO - integration_test - Warmstart k=0: x0=11.0557644342122 , y0=2.542027427103615 , psi0=0.8091747101069741 , v0=3.000000030167782 , spline0=12.46946047377556 , a0=0.0 , w0=0.0
2026-01-12 15:25:47,847 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:47,848 - INFO - integration_test - Dyn residual k=0: pred=[11.262793219781676, 2.759142796793776, 0.8091747101069741, 3.000000030167782, 12.76946047679234], ws=[11.262793217699809, 2.75914279461048, 0.8091747101069742, 3.0, 12.331246604308214], res=[2.0818671231381813e-09, 2.183296210489516e-09, -1.1102230246251565e-16, 3.016778205022774e-08, 0.43821387248412513], res_norm=4.382e-01
2026-01-12 15:25:47,848 - INFO - integration_test - Dyn residual k=1: pred=[11.469822001187417, 2.9762581621173445, 0.8091747101069742, 3.0, 12.631246604308215], ws=[11.469822001187417, 2.9762581621173445, 0.8091747101069742, 3.0, 12.672023494549874], res=[0.0, 0.0, 0.0, 0.0, -0.0407768902416592], res_norm=4.078e-02
2026-01-12 15:25:47,849 - INFO - integration_test - Dyn residual k=2: pred=[11.676850784675025, 3.193373529624209, 0.8091747101069742, 3.0, 12.972023494549875], ws=[11.696291673945588, 3.174173161178402, 0.8091747101069742, 3.0, 13.067542704530297], res=[-0.019440889270562423, 0.019200368445807303, 0.0, 0.0, -0.09551920998042185], res_norm=9.935e-02
2026-01-12 15:25:47,862 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:47,883 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:47,897 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:47,908 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:47,922 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:47,933 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:47,947 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:47,958 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:47,972 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:47,983 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:47,997 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:48,008 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:48,022 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:48,033 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:48,046 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:48,057 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:48,071 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:48,082 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:48,096 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:48,106 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:48,119 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:48,130 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:48,596 - WARNING - integration_test - Step 48: MPC solve failed
2026-01-12 15:25:48,596 - WARNING - integration_test -   Consecutive MPC failures: 5/50
2026-01-12 15:25:48,606 - INFO - integration_test - Step 48: Computed 6 numeric contouring constraints for visualization (s=12.116)
2026-01-12 15:25:48,606 - DEBUG - integration_test - Step 48: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:48,606 - INFO - integration_test - === Applying control at step 48 ===
2026-01-12 15:25:48,606 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:48,606 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:48,606 - INFO - integration_test -   Planner output success: False
2026-01-12 15:25:48,606 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:48,607 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:48,607 - INFO - integration_test - Step 48 completed in 0.796s
2026-01-12 15:25:48,617 - INFO - integration_test - Step 49 (contouring until path end)
2026-01-12 15:25:48,618 - DEBUG - integration_test - Syncing planner state at step 49: vehicle_state=[11.26279322  2.7591428   0.80917471  3.00000003 12.41592512]
2026-01-12 15:25:48,619 - INFO - integration_test - Step 49: Safety reset spline from 12.4159 to 12.7217 (vehicle at (11.26, 2.76), closest path point at (11.70, 4.71), distance=2.002m, drift=0.306m)
2026-01-12 15:25:48,619 - DEBUG - integration_test -   Set spline state to 12.7217
2026-01-12 15:25:48,621 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:48,639 - DEBUG - integration_test - Step 49: Checking path alignment: vehicle=(11.263, 2.759), path_start=(0.000, 0.000), dist=11.596m
2026-01-12 15:25:48,639 - WARNING - integration_test - Step 49: Vehicle is far from path start (dist=11.596m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:25:48,639 - INFO - integration_test - === Calling planner.solve_mpc() at step 49 ===
2026-01-12 15:25:48,643 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:48,653 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:48,653 - INFO - integration_test - Warmstart k=0: x0=11.262793219781676 , y0=2.759142796793776 , psi0=0.8091747101069741 , v0=3.000000030167782 , spline0=12.570206224737067 , a0=0.0 , w0=0.0
2026-01-12 15:25:48,653 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:48,654 - INFO - integration_test - Dyn residual k=0: pred=[11.469822005351151, 2.976258166483937, 0.8091747101069741, 3.000000030167782, 12.870206227753846], ws=[11.469822003269284, 2.9762581643006407, 0.8091747101069742, 3.0, 12.933305560536134], res=[2.0818671231381813e-09, 2.183296210489516e-09, -1.1102230246251565e-16, 3.016778205022774e-08, -0.06309933278228819], res_norm=6.310e-02
2026-01-12 15:25:48,655 - INFO - integration_test - Dyn residual k=1: pred=[11.676850786756892, 3.1933735318075054, 0.8091747101069742, 3.0, 13.233305560536134], ws=[11.676850786756892, 3.1933735318075054, 0.8091747101069742, 3.0, 12.780250935626176], res=[0.0, 0.0, 0.0, 0.0, 0.4530546249099583], res_norm=4.531e-01
2026-01-12 15:25:48,656 - INFO - integration_test - Dyn residual k=2: pred=[11.8838795702445, 3.41048889931437, 0.8091747101069742, 3.0, 13.080250935626177], ws=[12.049463784785395, 3.2737356500772523, 0.8091747101069742, 3.0, 13.510944693952329], res=[-0.16558421454089434, 0.13675324923711774, 0.0, 0.0, -0.43069375832615187], res_norm=4.813e-01
2026-01-12 15:25:48,669 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:48,689 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:48,703 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:48,714 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:48,728 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:48,739 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:48,753 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:48,764 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:48,778 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:48,789 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:48,802 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:48,814 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:48,827 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:48,839 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:48,853 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:48,864 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:48,878 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:48,889 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:48,903 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:48,913 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:48,926 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:48,937 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:49,391 - WARNING - integration_test - Step 49: MPC solve failed
2026-01-12 15:25:49,391 - WARNING - integration_test -   Consecutive MPC failures: 6/50
2026-01-12 15:25:49,400 - INFO - integration_test - Step 49: Computed 6 numeric contouring constraints for visualization (s=12.722)
2026-01-12 15:25:49,400 - DEBUG - integration_test - Step 49: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:49,400 - INFO - integration_test - === Applying control at step 49 ===
2026-01-12 15:25:49,400 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:49,400 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:49,400 - INFO - integration_test -   Planner output success: False
2026-01-12 15:25:49,400 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:49,401 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:49,402 - INFO - integration_test - Step 49 completed in 0.784s
2026-01-12 15:25:49,413 - INFO - integration_test - Step 50 (contouring until path end)
2026-01-12 15:25:49,414 - DEBUG - integration_test - Syncing planner state at step 50: vehicle_state=[11.46982201  2.97625817  0.80917471  3.00000003 13.02172138]
2026-01-12 15:25:49,415 - DEBUG - integration_test - Step 50: Using propagated spline 13.0217 (close to path, dist=1.752m, drift=0.300m)
2026-01-12 15:25:49,415 - DEBUG - integration_test -   Set spline state to 13.0217
2026-01-12 15:25:49,417 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:49,434 - DEBUG - integration_test - Step 50: Checking path alignment: vehicle=(11.470, 2.976), path_start=(0.000, 0.000), dist=11.850m
2026-01-12 15:25:49,434 - WARNING - integration_test - Step 50: Vehicle is far from path start (dist=11.850m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:25:49,435 - INFO - integration_test - === Calling planner.solve_mpc() at step 50 ===
2026-01-12 15:25:49,439 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:49,449 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:49,449 - INFO - integration_test - Warmstart k=0: x0=11.469822005351151 , y0=2.976258166483937 , psi0=0.8091747101069741 , v0=3.000000030167782 , spline0=12.668186025733643 , a0=0.0 , w0=0.0
2026-01-12 15:25:49,449 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:49,450 - INFO - integration_test - Dyn residual k=0: pred=[11.676850790920627, 3.193373536174098, 0.8091747101069741, 3.000000030167782, 12.968186028750422], ws=[11.67685078883876, 3.1933735339908016, 0.8091747101069742, 3.0, 12.804666774708066], res=[2.0818671231381813e-09, 2.183296210489516e-09, -1.1102230246251565e-16, 3.016778205022774e-08, 0.163519254042356], res_norm=1.635e-01
2026-01-12 15:25:49,451 - INFO - integration_test - Dyn residual k=1: pred=[11.883879572326368, 3.4104889014976663, 0.8091747101069742, 3.0, 13.104666774708067], ws=[11.883879572326368, 3.4104889014976663, 0.8091747101069742, 3.0, 13.11330874872422], res=[0.0, 0.0, 0.0, 0.0, -0.008641974016153853], res_norm=8.642e-03
2026-01-12 15:25:49,451 - INFO - integration_test - Dyn residual k=2: pred=[12.090908355813976, 3.627604269004531, 0.8091747101069742, 3.0, 13.413308748724221], ws=[12.227694175751536, 3.5231199588175035, 0.8091747101069742, 3.0, 13.32000922862914], res=[-0.13678581993755934, 0.10448431018702742, 0.0, 0.0, 0.09329952009508169], res_norm=1.958e-01
2026-01-12 15:25:49,465 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:49,485 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:49,499 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:49,511 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:49,525 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:49,536 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:49,550 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:49,570 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:49,584 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:49,595 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:49,608 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:49,619 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:49,633 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:49,644 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:49,658 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:49,669 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:49,682 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:49,693 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:49,707 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:49,717 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:49,730 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:49,740 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:50,159 - WARNING - integration_test - Step 50: MPC solve failed
2026-01-12 15:25:50,159 - WARNING - integration_test -   Consecutive MPC failures: 7/50
2026-01-12 15:25:50,168 - INFO - integration_test - Step 50: Computed 6 numeric contouring constraints for visualization (s=13.022)
2026-01-12 15:25:50,169 - DEBUG - integration_test - Step 50: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:50,169 - INFO - integration_test - === Applying control at step 50 ===
2026-01-12 15:25:50,169 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:50,169 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:50,169 - INFO - integration_test -   Planner output success: False
2026-01-12 15:25:50,169 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:50,170 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:50,171 - INFO - integration_test - Step 50 completed in 0.756s
2026-01-12 15:25:50,181 - INFO - integration_test - Step 51 (contouring until path end)
2026-01-12 15:25:50,182 - DEBUG - integration_test - Syncing planner state at step 51: vehicle_state=[11.67685079  3.19337354  0.80917471  3.00000003 13.32172138]
2026-01-12 15:25:50,183 - DEBUG - integration_test - Step 51: Using propagated spline 13.3217 (close to path, dist=1.521m, drift=0.600m)
2026-01-12 15:25:50,183 - DEBUG - integration_test -   Set spline state to 13.3217
2026-01-12 15:25:50,185 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:50,202 - DEBUG - integration_test - Step 51: Checking path alignment: vehicle=(11.677, 3.193), path_start=(0.000, 0.000), dist=12.106m
2026-01-12 15:25:50,202 - WARNING - integration_test - Step 51: Vehicle is far from path start (dist=12.106m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:25:50,202 - INFO - integration_test - === Calling planner.solve_mpc() at step 51 ===
2026-01-12 15:25:50,207 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:50,216 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:50,216 - INFO - integration_test - Warmstart k=0: x0=11.676850790920627 , y0=3.193373536174098 , psi0=0.8091747101069741 , v0=3.000000030167782 , spline0=12.76616582673022 , a0=0.0 , w0=0.0
2026-01-12 15:25:50,216 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:50,217 - INFO - integration_test - Dyn residual k=0: pred=[11.883879576490102, 3.4104889058642587, 0.8091747101069741, 3.000000030167782, 13.066165829746998], ws=[11.883879574408235, 3.4104889036809625, 0.8091747101069742, 3.0, 12.883553169197203], res=[2.0818671231381813e-09, 2.183296210489516e-09, -1.1102230246251565e-16, 3.016778205022774e-08, 0.18261266054979508], res_norm=1.826e-01
2026-01-12 15:25:50,218 - INFO - integration_test - Dyn residual k=1: pred=[12.090908357895843, 3.627604271187827, 0.8091747101069742, 3.0, 13.183553169197204], ws=[12.090908357895843, 3.627604271187827, 0.8091747101069742, 3.0, 13.506142705301784], res=[0.0, 0.0, 0.0, 0.0, -0.3225895361045801], res_norm=3.226e-01
2026-01-12 15:25:50,219 - INFO - integration_test - Dyn residual k=2: pred=[12.297937141383452, 3.844719638694692, 0.8091747101069742, 3.0, 13.806142705301784], ws=[12.415855976904743, 3.7611769648952045, 0.8091747101069742, 3.0, 13.422931003401064], res=[-0.11791883552129079, 0.08354267379948732, 0.0, 0.0, 0.38321170190071996], res_norm=4.096e-01
2026-01-12 15:25:50,232 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:50,252 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:50,267 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:50,278 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:50,292 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:50,304 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:50,318 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:50,329 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:50,343 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:50,354 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:50,368 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:50,379 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:50,393 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:50,404 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:50,418 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:50,429 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:50,443 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:50,454 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:50,468 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:50,478 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:50,491 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:50,501 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:50,985 - WARNING - integration_test - Step 51: MPC solve failed
2026-01-12 15:25:50,985 - WARNING - integration_test -   Consecutive MPC failures: 8/50
2026-01-12 15:25:50,995 - INFO - integration_test - Step 51: Computed 6 numeric contouring constraints for visualization (s=13.322)
2026-01-12 15:25:50,995 - DEBUG - integration_test - Step 51: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:50,995 - INFO - integration_test - === Applying control at step 51 ===
2026-01-12 15:25:50,995 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:50,995 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:50,995 - INFO - integration_test -   Planner output success: False
2026-01-12 15:25:50,995 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:50,996 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:50,997 - INFO - integration_test - Step 51 completed in 0.814s
2026-01-12 15:25:51,009 - INFO - integration_test - Step 52 (contouring until path end)
2026-01-12 15:25:51,010 - DEBUG - integration_test - Syncing planner state at step 52: vehicle_state=[11.88387958  3.41048891  0.80917471  3.00000003 13.62172139]
2026-01-12 15:25:51,010 - DEBUG - integration_test - Step 52: Using propagated spline 13.6217 (close to path, dist=1.317m, drift=0.900m)
2026-01-12 15:25:51,011 - DEBUG - integration_test -   Set spline state to 13.6217
2026-01-12 15:25:51,012 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:51,030 - DEBUG - integration_test - Step 52: Checking path alignment: vehicle=(11.884, 3.410), path_start=(0.000, 0.000), dist=12.364m
2026-01-12 15:25:51,030 - WARNING - integration_test - Step 52: Vehicle is far from path start (dist=12.364m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:25:51,030 - INFO - integration_test - === Calling planner.solve_mpc() at step 52 ===
2026-01-12 15:25:51,034 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:51,044 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:51,044 - INFO - integration_test - Warmstart k=0: x0=11.883879576490102 , y0=3.4104889058642587 , psi0=0.8091747101069741 , v0=3.000000030167782 , spline0=13.167175930757098 , a0=0.0 , w0=0.0
2026-01-12 15:25:51,044 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:51,045 - INFO - integration_test - Dyn residual k=0: pred=[12.090908362059578, 3.6276042755544196, 0.8091747101069741, 3.000000030167782, 13.467175933773877], ws=[12.09090835997771, 3.6276042733711233, 0.8091747101069742, 3.0, 13.262239261100188], res=[2.0818671231381813e-09, 2.183296210489516e-09, -1.1102230246251565e-16, 3.016778205022774e-08, 0.2049366726736892], res_norm=2.049e-01
2026-01-12 15:25:51,046 - INFO - integration_test - Dyn residual k=1: pred=[12.297937143465319, 3.844719640877988, 0.8091747101069742, 3.0, 13.562239261100189], ws=[12.297937143465319, 3.844719640877988, 0.8091747101069742, 3.0, 13.354789839914336], res=[0.0, 0.0, 0.0, 0.0, 0.20744942118585286], res_norm=2.074e-01
2026-01-12 15:25:51,046 - INFO - integration_test - Dyn residual k=2: pred=[12.504965926952927, 4.061835008384852, 0.8091747101069742, 3.0, 13.654789839914336], ws=[12.366342706381534, 4.105176604266659, 0.8091747101069742, 3.0, 13.634012323268045], res=[0.1386232205713931, -0.04334159588180686, 0.0, 0.0, 0.020777516646290906], res_norm=1.467e-01
2026-01-12 15:25:51,060 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:51,079 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:51,093 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:51,105 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:51,119 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:51,130 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:51,144 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:51,156 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:51,169 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:51,180 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:51,194 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:51,206 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:51,219 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:51,230 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:51,244 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:51,255 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:51,269 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:51,280 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:51,294 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:51,304 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:51,317 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:51,328 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:51,744 - WARNING - integration_test - Step 52: MPC solve failed
2026-01-12 15:25:51,744 - WARNING - integration_test -   Consecutive MPC failures: 9/50
2026-01-12 15:25:51,753 - INFO - integration_test - Step 52: Computed 6 numeric contouring constraints for visualization (s=13.622)
2026-01-12 15:25:51,753 - DEBUG - integration_test - Step 52: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:51,753 - INFO - integration_test - === Applying control at step 52 ===
2026-01-12 15:25:51,753 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:51,753 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:51,753 - INFO - integration_test -   Planner output success: False
2026-01-12 15:25:51,753 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:51,754 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:51,755 - INFO - integration_test - Step 52 completed in 0.745s
2026-01-12 15:25:51,766 - INFO - integration_test - Step 53 (contouring until path end)
2026-01-12 15:25:51,767 - DEBUG - integration_test - Syncing planner state at step 53: vehicle_state=[12.09090836  3.62760428  0.80917471  3.00000003 13.92172139]
2026-01-12 15:25:51,767 - DEBUG - integration_test - Step 53: Using propagated spline 13.9217 (close to path, dist=1.049m, drift=0.594m)
2026-01-12 15:25:51,767 - DEBUG - integration_test -   Set spline state to 13.9217
2026-01-12 15:25:51,769 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:51,787 - DEBUG - integration_test - Step 53: Checking path alignment: vehicle=(12.091, 3.628), path_start=(0.000, 0.000), dist=12.623m
2026-01-12 15:25:51,787 - WARNING - integration_test - Step 53: Vehicle is far from path start (dist=12.623m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:25:51,787 - INFO - integration_test - === Calling planner.solve_mpc() at step 53 ===
2026-01-12 15:25:51,791 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:51,801 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:51,801 - INFO - integration_test - Warmstart k=0: x0=12.090908362059578 , y0=3.6276042755544196 , psi0=0.8091747101069741 , v0=3.000000030167782 , spline0=13.265155731753676 , a0=0.0 , w0=0.0
2026-01-12 15:25:51,801 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:51,802 - INFO - integration_test - Dyn residual k=0: pred=[12.297937147629053, 3.8447196452445804, 0.8091747101069741, 3.000000030167782, 13.565155734770455], ws=[12.297937145547186, 3.844719643061284, 0.8091747101069742, 3.0, 13.346543623576377], res=[2.0818671231381813e-09, 2.183296210489516e-09, -1.1102230246251565e-16, 3.016778205022774e-08, 0.2186121111940782], res_norm=2.186e-01
2026-01-12 15:25:51,803 - INFO - integration_test - Dyn residual k=1: pred=[12.504965929034794, 4.061835010568148, 0.8091747101069742, 3.0, 13.646543623576378], ws=[12.504965929034794, 4.061835010568148, 0.8091747101069742, 3.0, 13.440516653586286], res=[0.0, 0.0, 0.0, 0.0, 0.2060269699900914], res_norm=2.060e-01
2026-01-12 15:25:51,804 - INFO - integration_test - Dyn residual k=2: pred=[12.711994712522403, 4.278950378075013, 0.8091747101069742, 3.0, 13.740516653586287], ws=[12.416898815751036, 4.38128767664784, 0.8091747101069742, 3.0, 13.649661625152678], res=[0.2950958967713664, -0.10233729857282725, 0.0, 0.0, 0.09085502843360871], res_norm=3.253e-01
2026-01-12 15:25:51,817 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:51,836 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:51,851 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:51,862 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:51,876 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:51,886 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:51,900 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:51,911 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:51,925 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:51,936 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:51,949 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:51,960 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:51,974 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:51,985 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:51,998 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:52,009 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:52,023 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:52,034 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:52,047 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:52,058 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:52,070 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:52,080 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:52,506 - WARNING - integration_test - Step 53: MPC solve failed
2026-01-12 15:25:52,506 - WARNING - integration_test -   Consecutive MPC failures: 10/50
2026-01-12 15:25:52,515 - INFO - integration_test - Step 53: Computed 6 numeric contouring constraints for visualization (s=13.922)
2026-01-12 15:25:52,515 - DEBUG - integration_test - Step 53: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:52,516 - INFO - integration_test - === Applying control at step 53 ===
2026-01-12 15:25:52,516 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:52,516 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:52,516 - INFO - integration_test -   Planner output success: False
2026-01-12 15:25:52,516 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:52,517 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:52,517 - INFO - integration_test - Step 53 completed in 0.750s
2026-01-12 15:25:52,530 - INFO - integration_test - Step 54 (contouring until path end)
2026-01-12 15:25:52,531 - DEBUG - integration_test - Syncing planner state at step 54: vehicle_state=[12.29793715  3.84471965  0.80917471  3.00000003 14.22172139]
2026-01-12 15:25:52,531 - DEBUG - integration_test - Step 54: Using propagated spline 14.2217 (close to path, dist=0.803m, drift=0.894m)
2026-01-12 15:25:52,531 - DEBUG - integration_test -   Set spline state to 14.2217
2026-01-12 15:25:52,533 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:52,551 - DEBUG - integration_test - Step 54: Checking path alignment: vehicle=(12.298, 3.845), path_start=(0.000, 0.000), dist=12.885m
2026-01-12 15:25:52,551 - WARNING - integration_test - Step 54: Vehicle is far from path start (dist=12.885m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:25:52,551 - INFO - integration_test - === Calling planner.solve_mpc() at step 54 ===
2026-01-12 15:25:52,556 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:52,566 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:52,566 - INFO - integration_test - Warmstart k=0: x0=12.297937147629053 , y0=3.8447196452445804 , psi0=0.8091747101069741 , v0=3.000000030167782 , spline0=13.363135532750253 , a0=0.0 , w0=0.0
2026-01-12 15:25:52,566 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:52,567 - INFO - integration_test - Dyn residual k=0: pred=[12.504965933198529, 4.061835014934742, 0.8091747101069741, 3.000000030167782, 13.663135535767031], ws=[12.504965931116661, 4.061835012751445, 0.8091747101069742, 3.0, 13.726656246344007], res=[2.0818671231381813e-09, 2.1832970986679356e-09, -1.1102230246251565e-16, 3.016778205022774e-08, -0.0635207105769755], res_norm=6.352e-02
2026-01-12 15:25:52,567 - INFO - integration_test - Dyn residual k=1: pred=[12.71199471460427, 4.278950380258309, 0.8091747101069742, 3.0, 14.026656246344007], ws=[12.569036742324586, 4.32349876994761, 0.8091747101069742, 3.0, 13.69580042254744], res=[0.14295797227968343, -0.04454838968930108, 0.0, 0.0, 0.33085582379656664], res_norm=3.632e-01
2026-01-12 15:25:52,568 - INFO - integration_test - Dyn residual k=2: pred=[12.776065525812195, 4.540614137454475, 0.8091747101069742, 3.0, 13.995800422547441], ws=[12.461209918279918, 4.673655715749839, 0.8091747101069742, 3.0, 13.371789244062025], res=[0.3148556075322766, -0.133041578295364, 0.0, 0.0, 0.6240111784854161], res_norm=7.115e-01
2026-01-12 15:25:52,582 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:52,602 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:52,617 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:52,628 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:52,642 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:52,653 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:52,666 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:52,677 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:52,691 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:52,702 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:52,716 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:52,727 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:52,741 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:52,751 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:52,765 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:52,776 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:52,789 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:52,800 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:52,814 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:52,824 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:52,837 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:52,847 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:53,278 - WARNING - integration_test - Step 54: MPC solve failed
2026-01-12 15:25:53,278 - WARNING - integration_test -   Consecutive MPC failures: 11/50
2026-01-12 15:25:53,289 - INFO - integration_test - Step 54: Computed 6 numeric contouring constraints for visualization (s=14.222)
2026-01-12 15:25:53,289 - DEBUG - integration_test - Step 54: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:53,289 - INFO - integration_test - === Applying control at step 54 ===
2026-01-12 15:25:53,289 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:53,289 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:53,289 - INFO - integration_test -   Planner output success: False
2026-01-12 15:25:53,289 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:53,290 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:53,291 - INFO - integration_test - Step 54 completed in 0.760s
2026-01-12 15:25:53,301 - INFO - integration_test - Step 55 (contouring until path end)
2026-01-12 15:25:53,302 - DEBUG - integration_test - Syncing planner state at step 55: vehicle_state=[12.50496593  4.06183501  0.80917471  3.00000003 14.52172139]
2026-01-12 15:25:53,302 - DEBUG - integration_test - Step 55: Using propagated spline 14.5217 (close to path, dist=0.608m, drift=1.194m)
2026-01-12 15:25:53,302 - DEBUG - integration_test -   Set spline state to 14.5217
2026-01-12 15:25:53,305 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:53,322 - DEBUG - integration_test - Step 55: Checking path alignment: vehicle=(12.505, 4.062), path_start=(0.000, 0.000), dist=13.148m
2026-01-12 15:25:53,322 - WARNING - integration_test - Step 55: Vehicle is far from path start (dist=13.148m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:25:53,323 - INFO - integration_test - === Calling planner.solve_mpc() at step 55 ===
2026-01-12 15:25:53,327 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:53,338 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:53,338 - INFO - integration_test - Warmstart k=0: x0=12.504965933198529 , y0=4.061835014934742 , psi0=0.8091747101069741 , v0=3.000000030167782 , spline0=13.66313553576703 , a0=0.0 , w0=0.0
2026-01-12 15:25:53,338 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:53,339 - INFO - integration_test - Dyn residual k=0: pred=[12.711994718768004, 4.278950384624903, 0.8091747101069741, 3.000000030167782, 13.963135538783808], ws=[12.711994716686137, 4.278950382441606, 0.8091747101069742, 3.0, 13.81394938190354], res=[2.0818671231381813e-09, 2.183296210489516e-09, -1.1102230246251565e-16, 3.016778205022774e-08, 0.14918615688026726], res_norm=1.492e-01
2026-01-12 15:25:53,340 - INFO - integration_test - Dyn residual k=1: pred=[12.919023500173745, 4.496065749948471, 0.8091747101069742, 3.0, 14.113949381903542], ws=[12.583727453001124, 4.614936105971283, 0.8091747101069742, 3.0, 13.686488096851537], res=[0.33529604717262096, -0.11887035602281149, 0.0, 0.0, 0.4274612850520043], res_norm=5.561e-01
2026-01-12 15:25:53,341 - INFO - integration_test - Dyn residual k=2: pred=[12.790756236488733, 4.832051473478147, 0.8091747101069742, 3.0, 13.986488096851538], ws=[12.507184061754948, 4.984941562176251, 0.8091747101069742, 3.0, 13.383224849971622], res=[0.28357217473378427, -0.15289008869810417, 0.0, 0.0, 0.6032632468799157], res_norm=6.839e-01
2026-01-12 15:25:53,355 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:53,375 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:53,389 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:53,400 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:53,414 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:53,425 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:53,439 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:53,450 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:53,464 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:53,475 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:53,489 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:53,500 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:53,513 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:53,525 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:53,538 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:53,549 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:53,563 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:53,574 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:53,588 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:53,599 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:53,612 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:53,622 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:54,045 - WARNING - integration_test - Step 55: MPC solve failed
2026-01-12 15:25:54,045 - WARNING - integration_test -   Consecutive MPC failures: 12/50
2026-01-12 15:25:54,055 - INFO - integration_test - Step 55: Computed 6 numeric contouring constraints for visualization (s=14.522)
2026-01-12 15:25:54,055 - DEBUG - integration_test - Step 55: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:54,055 - INFO - integration_test - === Applying control at step 55 ===
2026-01-12 15:25:54,056 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:54,056 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:54,056 - INFO - integration_test -   Planner output success: False
2026-01-12 15:25:54,056 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:54,057 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:54,057 - INFO - integration_test - Step 55 completed in 0.755s
2026-01-12 15:25:54,067 - INFO - integration_test - Step 56 (contouring until path end)
2026-01-12 15:25:54,068 - DEBUG - integration_test - Syncing planner state at step 56: vehicle_state=[12.71199472  4.27895038  0.80917471  3.00000003 14.8217214 ]
2026-01-12 15:25:54,069 - DEBUG - integration_test - Step 56: Using propagated spline 14.8217 (close to path, dist=0.395m, drift=0.888m)
2026-01-12 15:25:54,069 - DEBUG - integration_test -   Set spline state to 14.8217
2026-01-12 15:25:54,071 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:54,089 - DEBUG - integration_test - Step 56: Checking path alignment: vehicle=(12.712, 4.279), path_start=(0.000, 0.000), dist=13.413m
2026-01-12 15:25:54,089 - WARNING - integration_test - Step 56: Vehicle is far from path start (dist=13.413m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:25:54,089 - INFO - integration_test - === Calling planner.solve_mpc() at step 56 ===
2026-01-12 15:25:54,094 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:54,106 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:54,106 - INFO - integration_test - Warmstart k=0: x0=12.711994718768004 , y0=4.278950384624903 , psi0=0.8091747101069741 , v0=3.000000030167782 , spline0=14.06414563979391 , a0=0.0 , w0=0.0
2026-01-12 15:25:54,106 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:54,107 - INFO - integration_test - Dyn residual k=0: pred=[12.91902350433748, 4.4960657543150635, 0.8091747101069741, 3.000000030167782, 14.364145642810689], ws=[12.705282935641979, 4.5654463688124745, 0.8091747101069742, 3.0, 13.790568598967358], res=[0.21374056869550095, -0.06938061449741095, -1.1102230246251565e-16, 3.016778205022774e-08, 0.573577043843331], res_norm=6.160e-01
2026-01-12 15:25:54,107 - INFO - integration_test - Dyn residual k=1: pred=[12.912311719129587, 4.782561736319339, 0.8091747101069742, 3.0, 14.090568598967359], ws=[12.602470796898565, 4.927405334592432, 0.8091747101069742, 3.0, 13.437324328770414], res=[0.30984092223102166, -0.14484359827309312, 0.0, 0.0, 0.6532442701969448], res_norm=7.374e-01
2026-01-12 15:25:54,108 - INFO - integration_test - Dyn residual k=2: pred=[12.809499580386174, 5.144520702099297, 0.8091747101069742, 3.0, 13.737324328770415], ws=[12.565970816536312, 5.31752986600406, 0.8091747101069742, 3.0, 13.408569653507643], res=[0.2435287638498611, -0.17300916390476306, 0.0, 0.0, 0.3287546752627719], res_norm=4.442e-01
2026-01-12 15:25:54,121 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:54,142 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:54,156 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:54,166 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:54,180 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:54,191 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:54,205 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:54,216 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:54,230 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:54,241 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:54,255 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:54,267 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:54,281 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:54,292 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:54,305 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:54,316 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:54,330 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:54,341 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:54,355 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:54,366 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:54,380 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:54,390 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:54,833 - WARNING - integration_test - Step 56: MPC solve failed
2026-01-12 15:25:54,833 - WARNING - integration_test -   Consecutive MPC failures: 13/50
2026-01-12 15:25:54,843 - INFO - integration_test - Step 56: Computed 6 numeric contouring constraints for visualization (s=14.822)
2026-01-12 15:25:54,844 - DEBUG - integration_test - Step 56: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:54,844 - INFO - integration_test - === Applying control at step 56 ===
2026-01-12 15:25:54,844 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:54,844 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:54,844 - INFO - integration_test -   Planner output success: False
2026-01-12 15:25:54,844 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:54,845 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:54,845 - INFO - integration_test - Step 56 completed in 0.777s
2026-01-12 15:25:54,860 - INFO - integration_test - Step 57 (contouring until path end)
2026-01-12 15:25:54,861 - DEBUG - integration_test - Syncing planner state at step 57: vehicle_state=[12.9190235   4.49606575  0.80917471  3.00000003 15.1217214 ]
2026-01-12 15:25:54,861 - DEBUG - integration_test - Step 57: Using propagated spline 15.1217 (close to path, dist=0.095m, drift=1.188m)
2026-01-12 15:25:54,861 - DEBUG - integration_test -   Set spline state to 15.1217
2026-01-12 15:25:54,863 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:54,881 - DEBUG - integration_test - Step 57: Checking path alignment: vehicle=(12.919, 4.496), path_start=(0.000, 0.000), dist=13.679m
2026-01-12 15:25:54,881 - WARNING - integration_test - Step 57: Vehicle is far from path start (dist=13.679m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:25:54,882 - INFO - integration_test - === Calling planner.solve_mpc() at step 57 ===
2026-01-12 15:25:54,887 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:54,899 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:54,899 - INFO - integration_test - Warmstart k=0: x0=12.82492188187556 , y0=4.524159071618287 , psi0=0.8091747101069741 , v0=3.000000030167782 , spline0=13.859095137760185 , a0=0.0 , w0=0.0
2026-01-12 15:25:54,899 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:54,900 - INFO - integration_test - Dyn residual k=0: pred=[13.031950667445036, 4.741274441308448, 0.8091747101069741, 3.000000030167782, 14.159095140776964], ws=[12.698939261327883, 4.877094777270569, 0.8091747101069742, 3.0, 13.76721093443177], res=[0.3330114061171532, -0.13582033596212106, -1.1102230246251565e-16, 3.016778205022774e-08, 0.3918842063451944], res_norm=5.319e-01
2026-01-12 15:25:54,901 - INFO - integration_test - Dyn residual k=1: pred=[12.905968044815491, 5.094210144777434, 0.8091747101069742, 3.0, 14.06721093443177], ws=[12.63820312137993, 5.264193308801315, 0.8091747101069742, 3.0, 13.680615887821025], res=[0.2677649234355606, -0.16998316402388092, 0.0, 0.0, 0.3865950466107453], res_norm=5.000e-01
2026-01-12 15:25:54,901 - INFO - integration_test - Dyn residual k=2: pred=[12.84523190486754, 5.4813086763081795, 0.8091747101069742, 3.0, 13.980615887821026], ws=[12.652431166079577, 5.672264661813202, 0.8091747101069742, 3.0, 13.434871738945425], res=[0.19280073878796244, -0.19095598550502224, 0.0, 0.0, 0.5457441488756007], res_norm=6.095e-01
2026-01-12 15:25:54,915 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:54,936 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:54,953 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:54,965 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:54,979 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:54,990 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:55,004 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:55,015 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:55,029 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:55,040 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:55,054 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:55,065 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:55,079 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:55,091 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:55,104 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:55,116 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:55,130 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:55,141 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:55,155 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:55,166 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:55,180 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:55,191 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:55,672 - WARNING - integration_test - Step 57: MPC solve failed
2026-01-12 15:25:55,672 - WARNING - integration_test -   Consecutive MPC failures: 14/50
2026-01-12 15:25:55,682 - INFO - integration_test - Step 57: Computed 6 numeric contouring constraints for visualization (s=15.122)
2026-01-12 15:25:55,682 - DEBUG - integration_test - Step 57: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:55,682 - INFO - integration_test - === Applying control at step 57 ===
2026-01-12 15:25:55,682 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:55,682 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:55,682 - INFO - integration_test -   Planner output success: False
2026-01-12 15:25:55,682 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:55,683 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:55,683 - INFO - integration_test - Step 57 completed in 0.823s
2026-01-12 15:25:55,697 - INFO - integration_test - Step 58 (contouring until path end)
2026-01-12 15:25:55,698 - DEBUG - integration_test - Syncing planner state at step 58: vehicle_state=[13.12605229  4.71318112  0.80917471  3.00000003 15.4217214 ]
2026-01-12 15:25:55,698 - DEBUG - integration_test - Step 58: Using propagated spline 15.4217 (close to path, dist=0.206m, drift=1.488m)
2026-01-12 15:25:55,698 - DEBUG - integration_test -   Set spline state to 15.4217
2026-01-12 15:25:55,700 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:55,718 - DEBUG - integration_test - Step 58: Checking path alignment: vehicle=(13.126, 4.713), path_start=(0.000, 0.000), dist=13.947m
2026-01-12 15:25:55,718 - WARNING - integration_test - Step 58: Vehicle is far from path start (dist=13.947m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:25:55,718 - INFO - integration_test - === Calling planner.solve_mpc() at step 58 ===
2026-01-12 15:25:55,723 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:55,739 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:55,739 - INFO - integration_test - Warmstart k=0: x0=12.796095356103166 , y0=4.833133340541266 , psi0=0.8091747101069741 , v0=3.000000030167782 , spline0=14.058085039766862 , a0=0.0 , w0=0.0
2026-01-12 15:25:55,739 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:55,740 - INFO - integration_test - Dyn residual k=0: pred=[13.003124141672641, 5.050248710231427, 0.8091747101069741, 3.000000030167782, 14.35808504278364], ws=[12.7141042808706, 5.216488193517943, 0.8091747101069742, 3.0, 13.75361855257638], res=[0.2890198608020409, -0.16623948328651572, -1.1102230246251565e-16, 3.016778205022774e-08, 0.6044664902072601], res_norm=6.903e-01
2026-01-12 15:25:55,741 - INFO - integration_test - Dyn residual k=1: pred=[12.921133064358209, 5.433603561024808, 0.8091747101069742, 3.0, 14.053618552576381], ws=[12.708319313807776, 5.626570790984185, 0.8091747101069742, 3.0, 13.6819382102525], res=[0.21281375055043306, -0.1929672299593772, 0.0, 0.0, 0.3716803423238808], res_norm=4.698e-01
2026-01-12 15:25:55,741 - INFO - integration_test - Dyn residual k=2: pred=[12.915348097295384, 5.8436861584910496, 0.8091747101069742, 3.0, 13.981938210252501], ws=[12.784749009225521, 6.046142302574509, 0.8091747101069742, 3.0, 13.740972551146106], res=[0.13059908806986265, -0.20245614408345958, 0.0, 0.0, 0.24096565910639534], res_norm=3.407e-01
2026-01-12 15:25:55,755 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:55,775 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:55,789 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:55,799 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:55,813 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:55,824 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:55,838 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:55,849 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:55,863 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:55,874 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:55,887 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:55,898 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:55,912 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:55,923 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:55,936 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:55,947 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:55,961 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:55,972 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:55,985 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:55,996 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:56,009 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:56,019 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:56,425 - WARNING - integration_test - Step 58: MPC solve failed
2026-01-12 15:25:56,425 - WARNING - integration_test -   Consecutive MPC failures: 15/50
2026-01-12 15:25:56,435 - INFO - integration_test - Step 58: Computed 6 numeric contouring constraints for visualization (s=15.422)
2026-01-12 15:25:56,435 - DEBUG - integration_test - Step 58: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:56,435 - INFO - integration_test - === Applying control at step 58 ===
2026-01-12 15:25:56,435 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:56,435 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:56,435 - INFO - integration_test -   Planner output success: False
2026-01-12 15:25:56,435 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:56,436 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:56,437 - INFO - integration_test - Step 58 completed in 0.739s
2026-01-12 15:25:56,450 - INFO - integration_test - Step 59 (contouring until path end)
2026-01-12 15:25:56,451 - DEBUG - integration_test - Syncing planner state at step 59: vehicle_state=[13.33308108  4.93029649  0.80917471  3.00000003 15.72172141]
2026-01-12 15:25:56,451 - DEBUG - integration_test - Step 59: Using propagated spline 15.7217 (close to path, dist=0.505m, drift=1.788m)
2026-01-12 15:25:56,451 - DEBUG - integration_test -   Set spline state to 15.7217
2026-01-12 15:25:56,453 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:56,472 - DEBUG - integration_test - Step 59: Checking path alignment: vehicle=(13.333, 4.930), path_start=(0.000, 0.000), dist=14.215m
2026-01-12 15:25:56,472 - WARNING - integration_test - Step 59: Vehicle is far from path start (dist=14.215m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:25:56,472 - INFO - integration_test - === Calling planner.solve_mpc() at step 59 ===
2026-01-12 15:25:56,477 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:56,489 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:56,489 - INFO - integration_test - Warmstart k=0: x0=12.793684199656697 , y0=5.173655379518387 , psi0=0.8091747101069741 , v0=3.000000030167782 , spline0=14.055054739753338 , a0=0.0 , w0=0.0
2026-01-12 15:25:56,489 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:56,490 - INFO - integration_test - Dyn residual k=0: pred=[13.000712985226173, 5.3907707492085475, 0.8091747101069741, 3.000000030167782, 14.355054742770117], ws=[12.770938177201243, 5.5852513054530055, 0.8091747101069742, 3.0, 13.729598575355277], res=[0.22977480802492956, -0.19448055624445804, -1.1102230246251565e-16, 3.016778205022774e-08, 0.6254561674148391], res_norm=6.941e-01
2026-01-12 15:25:56,491 - INFO - integration_test - Dyn residual k=1: pred=[12.977966960688851, 5.80236667295987, 0.8091747101069742, 3.0, 14.029598575355278], ws=[12.834027155517141, 6.01053288102599, 0.8091747101069742, 3.0, 13.73362626456863], res=[0.14393980517171023, -0.20816620806612018, 0.0, 0.0, 0.29597231078664876], res_norm=3.894e-01
2026-01-12 15:25:56,492 - INFO - integration_test - Dyn residual k=2: pred=[13.04105593900475, 6.227648248532855, 0.8091747101069742, 3.0, 14.03362626456863], ws=[12.981894715334425, 6.4290270640401985, 0.8091747101069742, 3.0, 14.06495165564148], res=[0.0591612236703245, -0.2013788155073435, 0.0, 0.0, -0.031325391072849484], res_norm=2.122e-01
2026-01-12 15:25:56,505 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:56,526 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:56,540 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:56,551 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:56,565 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:56,576 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:56,590 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:56,601 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:56,614 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:56,625 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:56,639 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:56,650 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:56,664 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:56,675 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:56,689 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:56,699 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:56,713 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:56,724 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:56,738 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:56,749 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:56,762 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:56,772 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:57,170 - WARNING - integration_test - Step 59: MPC solve failed
2026-01-12 15:25:57,170 - WARNING - integration_test -   Consecutive MPC failures: 16/50
2026-01-12 15:25:57,179 - INFO - integration_test - Step 59: Computed 6 numeric contouring constraints for visualization (s=15.722)
2026-01-12 15:25:57,180 - DEBUG - integration_test - Step 59: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:57,180 - INFO - integration_test - === Applying control at step 59 ===
2026-01-12 15:25:57,180 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:57,180 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:57,180 - INFO - integration_test -   Planner output success: False
2026-01-12 15:25:57,180 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:57,181 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:57,181 - INFO - integration_test - Step 59 completed in 0.731s
2026-01-12 15:25:57,194 - INFO - integration_test - Step 60 (contouring until path end)
2026-01-12 15:25:57,195 - DEBUG - integration_test - Syncing planner state at step 60: vehicle_state=[13.54010986  5.14741186  0.80917471  3.00000003 16.02172141]
2026-01-12 15:25:57,196 - DEBUG - integration_test - Step 60: Using propagated spline 16.0217 (close to path, dist=0.668m, drift=1.483m)
2026-01-12 15:25:57,196 - DEBUG - integration_test -   Set spline state to 16.0217
2026-01-12 15:25:57,197 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:57,215 - DEBUG - integration_test - Step 60: Checking path alignment: vehicle=(13.540, 5.147), path_start=(0.000, 0.000), dist=14.486m
2026-01-12 15:25:57,215 - WARNING - integration_test - Step 60: Vehicle is far from path start (dist=14.486m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:25:57,215 - INFO - integration_test - === Calling planner.solve_mpc() at step 60 ===
2026-01-12 15:25:57,221 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:57,233 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:57,233 - INFO - integration_test - Warmstart k=0: x0=12.840790118814438 , y0=5.5474719253680576 , psi0=0.8091747101069741 , v0=3.000000030167782 , spline0=14.052024439739814 , a0=0.0 , w0=0.0
2026-01-12 15:25:57,233 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:57,234 - INFO - integration_test - Dyn residual k=0: pred=[13.047818904383913, 5.764587295058218, 0.8091747101069741, 3.000000030167782, 14.352024442756592], ws=[12.893806668285258, 5.977745724245757, 0.8091747101069742, 3.0, 14.016389895158524], res=[0.1540122360986551, -0.2131584291875388, -1.1102230246251565e-16, 3.016778205022774e-08, 0.3356345475980689], res_norm=4.264e-01
2026-01-12 15:25:57,235 - INFO - integration_test - Dyn residual k=1: pred=[13.100835451772866, 6.194861091752622, 0.8091747101069742, 3.0, 14.316389895158524], ws=[13.036501359567087, 6.402309043907017, 0.8091747101069742, 3.0, 13.81485447504974], res=[0.06433409220577957, -0.2074479521543955, 0.0, 0.0, 0.5015354201087838], res_norm=5.465e-01
2026-01-12 15:25:57,235 - INFO - integration_test - Dyn residual k=2: pred=[13.243530143054695, 6.619424411413882, 0.8091747101069742, 3.0, 14.114854475049741], ws=[13.257497911921273, 6.800742805540374, 0.8091747101069742, 3.0, 14.16900734468092], res=[-0.013967768866578467, -0.18131839412649153, 0.0, 0.0, -0.05415286963117971], res_norm=1.897e-01
2026-01-12 15:25:57,249 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:57,269 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:57,284 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:57,295 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:57,309 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:57,320 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:57,334 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:57,346 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:57,359 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:57,371 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:57,384 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:57,396 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:57,409 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:57,421 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:57,435 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:57,446 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:57,460 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:57,471 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:57,485 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:57,496 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:57,508 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:57,518 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:57,960 - WARNING - integration_test - Step 60: MPC solve failed
2026-01-12 15:25:57,960 - WARNING - integration_test -   Consecutive MPC failures: 17/50
2026-01-12 15:25:57,969 - INFO - integration_test - Step 60: Computed 6 numeric contouring constraints for visualization (s=16.022)
2026-01-12 15:25:57,970 - DEBUG - integration_test - Step 60: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:57,970 - INFO - integration_test - === Applying control at step 60 ===
2026-01-12 15:25:57,970 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:57,970 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:57,970 - INFO - integration_test -   Planner output success: False
2026-01-12 15:25:57,970 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:57,971 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:57,972 - INFO - integration_test - Step 60 completed in 0.777s
2026-01-12 15:25:57,982 - INFO - integration_test - Step 61 (contouring until path end)
2026-01-12 15:25:57,983 - DEBUG - integration_test - Syncing planner state at step 61: vehicle_state=[13.74713865  5.36452723  0.80917471  3.00000003 16.32172141]
2026-01-12 15:25:57,984 - DEBUG - integration_test - Step 61: Using propagated spline 16.3217 (close to path, dist=0.889m, drift=1.783m)
2026-01-12 15:25:57,984 - DEBUG - integration_test -   Set spline state to 16.3217
2026-01-12 15:25:57,986 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:58,004 - DEBUG - integration_test - Step 61: Checking path alignment: vehicle=(13.747, 5.365), path_start=(0.000, 0.000), dist=14.757m
2026-01-12 15:25:58,004 - WARNING - integration_test - Step 61: Vehicle is far from path start (dist=14.757m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:25:58,004 - INFO - integration_test - === Calling planner.solve_mpc() at step 61 ===
2026-01-12 15:25:58,010 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:58,022 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:58,023 - INFO - integration_test - Warmstart k=0: x0=12.964851605260606 , y0=5.946359354029571 , psi0=0.8091747101069741 , v0=3.000000030167782 , spline0=13.846973937706085 , a0=0.0 , w0=0.0
2026-01-12 15:25:58,023 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:58,024 - INFO - integration_test - Dyn residual k=0: pred=[13.171880390830081, 6.163474723719732, 0.8091747101069741, 3.000000030167782, 14.146973940722864], ws=[13.10548648663308, 6.3751447636336644, 0.8091747101069742, 3.0, 13.889771577061682], res=[0.06639390419700142, -0.2116700399139324, -1.1102230246251565e-16, 3.016778205022774e-08, 0.25720236366118243], res_norm=3.397e-01
2026-01-12 15:25:58,024 - INFO - integration_test - Dyn residual k=1: pred=[13.312515270120688, 6.592260131140529, 0.8091747101069742, 3.0, 14.189771577061682], ws=[13.328015223128265, 6.775146888137883, 0.8091747101069742, 3.0, 13.9634668819783], res=[-0.015499953007577005, -0.18288675699735357, 0.0, 0.0, 0.2263046950833818], res_norm=2.914e-01
2026-01-12 15:25:58,025 - INFO - integration_test - Dyn residual k=2: pred=[13.535044006615873, 6.992262255644747, 0.8091747101069742, 3.0, 14.263466881978301], ws=[13.61063008003206, 7.131836557343993, 0.8091747101069742, 3.0, 14.569234205144236], res=[-0.0755860734161864, -0.13957430169924567, 0.0, 0.0, -0.30576732316593436], res_norm=3.445e-01
2026-01-12 15:25:58,038 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:58,058 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:58,073 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:58,084 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:58,098 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:58,109 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:58,123 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:58,134 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:58,147 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:58,158 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:58,172 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:58,183 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:58,197 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:58,208 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:58,222 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:58,233 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:58,246 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:58,258 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:58,271 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:58,282 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:58,295 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:58,305 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:58,733 - WARNING - integration_test - Step 61: MPC solve failed
2026-01-12 15:25:58,733 - WARNING - integration_test -   Consecutive MPC failures: 18/50
2026-01-12 15:25:58,743 - INFO - integration_test - Step 61: Computed 6 numeric contouring constraints for visualization (s=16.322)
2026-01-12 15:25:58,743 - DEBUG - integration_test - Step 61: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:58,743 - INFO - integration_test - === Applying control at step 61 ===
2026-01-12 15:25:58,743 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:58,743 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:58,743 - INFO - integration_test -   Planner output success: False
2026-01-12 15:25:58,743 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:58,744 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:58,745 - INFO - integration_test - Step 61 completed in 0.761s
2026-01-12 15:25:58,758 - INFO - integration_test - Step 62 (contouring until path end)
2026-01-12 15:25:58,759 - DEBUG - integration_test - Syncing planner state at step 62: vehicle_state=[13.95416743  5.5816426   0.80917471  3.00000003 16.62172142]
2026-01-12 15:25:58,759 - DEBUG - integration_test - Step 62: Using propagated spline 16.6217 (close to path, dist=1.132m, drift=1.477m)
2026-01-12 15:25:58,759 - DEBUG - integration_test -   Set spline state to 16.6217
2026-01-12 15:25:58,761 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:58,778 - DEBUG - integration_test - Step 62: Checking path alignment: vehicle=(13.954, 5.582), path_start=(0.000, 0.000), dist=15.029m
2026-01-12 15:25:58,778 - WARNING - integration_test - Step 62: Vehicle is far from path start (dist=15.029m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:25:58,779 - INFO - integration_test - === Calling planner.solve_mpc() at step 62 ===
2026-01-12 15:25:58,784 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:58,796 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:58,797 - INFO - integration_test - Warmstart k=0: x0=13.189052134009058 , y0=6.344694475462607 , psi0=0.8091747101069741 , v0=3.000000030167782 , spline0=13.94495373870266 , a0=0.0 , w0=0.0
2026-01-12 15:25:58,797 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:58,797 - INFO - integration_test - Dyn residual k=0: pred=[13.396080919578534, 6.5618098451527676, 0.8091747101069741, 3.000000030167782, 14.244953741719439], ws=[13.414730444473925, 6.74258555871933, 0.8091747101069742, 3.0, 14.272350395224668], res=[-0.018649524895391068, -0.18077571356656286, -1.1102230246251565e-16, 3.016778205022774e-08, -0.027396653505229907], res_norm=1.838e-01
2026-01-12 15:25:58,798 - INFO - integration_test - Dyn residual k=1: pred=[13.621759227961533, 6.959700926226195, 0.8091747101069742, 3.0, 14.57235039522467], ws=[13.700147692076008, 7.092606949461136, 0.8091747101069742, 3.0, 14.655724920464973], res=[-0.0783884641144752, -0.13290602323494127, 0.0, 0.0, -0.08337452524030375], res_norm=1.754e-01
2026-01-12 15:25:58,799 - INFO - integration_test - Dyn residual k=2: pred=[13.907176475563617, 7.309722316968001, 0.8091747101069742, 3.0, 14.955724920464974], ws=[14.018857222661836, 7.391237368714034, 0.8091747101069742, 3.0, 14.558236506453811], res=[-0.11168074709821951, -0.0815150517460328, 0.0, 0.0, 0.3974884140111623], res_norm=4.208e-01
2026-01-12 15:25:58,812 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:58,833 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:58,847 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:58,858 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:58,873 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:58,884 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:58,898 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:58,909 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:58,923 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:58,934 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:58,948 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:58,959 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:58,973 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:58,984 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:58,998 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:59,009 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:59,022 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:59,033 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:59,047 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:59,057 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:59,070 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:59,081 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:59,561 - WARNING - integration_test - Step 62: MPC solve failed
2026-01-12 15:25:59,561 - WARNING - integration_test -   Consecutive MPC failures: 19/50
2026-01-12 15:25:59,570 - INFO - integration_test - Step 62: Computed 6 numeric contouring constraints for visualization (s=16.622)
2026-01-12 15:25:59,571 - DEBUG - integration_test - Step 62: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:25:59,571 - INFO - integration_test - === Applying control at step 62 ===
2026-01-12 15:25:59,571 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:59,571 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:25:59,571 - INFO - integration_test -   Planner output success: False
2026-01-12 15:25:59,571 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:25:59,572 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:25:59,572 - INFO - integration_test - Step 62 completed in 0.814s
2026-01-12 15:25:59,584 - INFO - integration_test - Step 63 (contouring until path end)
2026-01-12 15:25:59,585 - DEBUG - integration_test - Syncing planner state at step 63: vehicle_state=[14.16119622  5.79875797  0.80917471  3.00000003 16.92172142]
2026-01-12 15:25:59,585 - DEBUG - integration_test - Step 63: Using propagated spline 16.9217 (close to path, dist=1.384m, drift=1.777m)
2026-01-12 15:25:59,585 - DEBUG - integration_test -   Set spline state to 16.9217
2026-01-12 15:25:59,588 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:59,606 - DEBUG - integration_test - Step 63: Checking path alignment: vehicle=(14.161, 5.799), path_start=(0.000, 0.000), dist=15.302m
2026-01-12 15:25:59,606 - WARNING - integration_test - Step 63: Vehicle is far from path start (dist=15.302m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:25:59,606 - INFO - integration_test - === Calling planner.solve_mpc() at step 63 ===
2026-01-12 15:25:59,612 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:25:59,624 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:25:59,624 - INFO - integration_test - Warmstart k=0: x0=13.515698599714854 , y0=6.698363444916916 , psi0=0.8091747101069741 , v0=3.000000030167782 , spline0=14.345963842729537 , a0=0.0 , w0=0.0
2026-01-12 15:25:59,624 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:25:59,625 - INFO - integration_test - Dyn residual k=0: pred=[13.72272738528433, 6.915478814607077, 0.8091747101069741, 3.000000030167782, 14.645963845746316], ws=[13.802523087526925, 7.037026524940024, 0.8091747101069742, 3.0, 14.446263777960011], res=[-0.07979570224259547, -0.12154771033294676, -1.1102230246251565e-16, 3.016778205022774e-08, 0.19970006778630456], res_norm=2.470e-01
2026-01-12 15:25:59,626 - INFO - integration_test - Dyn residual k=1: pred=[14.009551871014533, 7.254141892446889, 0.8091747101069742, 3.0, 14.746263777960012], ws=[14.118554024808981, 7.321424747350367, 0.8091747101069742, 3.0, 14.87930040449168], res=[-0.10900215379444766, -0.0672828549034783, 0.0, 0.0, -0.13303662653166803], res_norm=1.847e-01
2026-01-12 15:25:59,627 - INFO - integration_test - Dyn residual k=2: pred=[14.32558280829659, 7.5385401148572315, 0.8091747101069742, 3.0, 15.17930040449168], ws=[17.565677841104463, 7.642025292653807, 0.8091747101069742, 3.0, 18.870967533928685], res=[-3.240095032807874, -0.10348517779657573, 0.0, 0.0, -3.691667129437004], res_norm=4.913e+00
2026-01-12 15:25:59,640 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:59,660 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:59,674 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:59,685 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:59,698 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:59,709 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:59,724 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:59,734 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:59,748 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:59,760 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:59,773 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:59,784 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:59,797 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:59,808 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:59,822 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:59,833 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:59,846 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:59,857 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:25:59,872 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:59,883 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:25:59,896 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:25:59,906 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:00,396 - WARNING - integration_test - Step 63: MPC solve failed
2026-01-12 15:26:00,396 - WARNING - integration_test -   Consecutive MPC failures: 20/50
2026-01-12 15:26:00,406 - INFO - integration_test - Step 63: Computed 6 numeric contouring constraints for visualization (s=16.922)
2026-01-12 15:26:00,406 - DEBUG - integration_test - Step 63: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:00,406 - INFO - integration_test - === Applying control at step 63 ===
2026-01-12 15:26:00,406 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:26:00,406 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:00,406 - INFO - integration_test -   Planner output success: False
2026-01-12 15:26:00,406 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:26:00,407 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:00,407 - INFO - integration_test - Step 63 completed in 0.823s
2026-01-12 15:26:00,418 - INFO - integration_test - Step 64 (contouring until path end)
2026-01-12 15:26:00,420 - DEBUG - integration_test - Syncing planner state at step 64: vehicle_state=[14.368225    6.01587334  0.80917471  3.00000003 17.22172142]
2026-01-12 15:26:00,420 - DEBUG - integration_test - Step 64: Using propagated spline 17.2217 (close to path, dist=1.642m, drift=1.471m)
2026-01-12 15:26:00,420 - DEBUG - integration_test -   Set spline state to 17.2217
2026-01-12 15:26:00,423 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:00,440 - DEBUG - integration_test - Step 64: Checking path alignment: vehicle=(14.368, 6.016), path_start=(0.000, 0.000), dist=15.577m
2026-01-12 15:26:00,440 - WARNING - integration_test - Step 64: Vehicle is far from path start (dist=15.577m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:00,440 - INFO - integration_test - === Calling planner.solve_mpc() at step 64 ===
2026-01-12 15:26:00,446 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:00,459 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:00,459 - INFO - integration_test - Warmstart k=0: x0=13.912481774704476 , y0=6.959717687634686 , psi0=0.8091747101069741 , v0=3.000000030167782 , spline0=14.746973946756416 , a0=0.0 , w0=0.0
2026-01-12 15:26:00,459 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:00,460 - INFO - integration_test - Dyn residual k=0: pred=[14.119510560273952, 7.176833057324846, 0.8091747101069741, 3.000000030167782, 15.046973949773195], ws=[14.22180495728882, 7.226456765624482, 0.8091747101069742, 3.0, 14.92209598473992], res=[-0.10229439701486776, -0.04962370829963536, -1.1102230246251565e-16, 3.016778205022774e-08, 0.12487796503327431], res_norm=1.689e-01
2026-01-12 15:26:00,460 - INFO - integration_test - Dyn residual k=1: pred=[14.428833740776428, 7.4435721331313465, 0.8091747101069742, 3.0, 15.222095984739921], ws=[14.533794396302262, 7.446660059278843, 0.8091747101069742, 3.0, 15.354354033115087], res=[-0.10496065552583467, -0.0030879261474963116, 0.0, 0.0, -0.13225804837516542], res_norm=1.689e-01
2026-01-12 15:26:00,461 - INFO - integration_test - Dyn residual k=2: pred=[14.74082317978987, 7.6637754267857074, 0.8091747101069742, 3.0, 15.654354033115087], ws=[18.026609287317278, 7.697292120379267, 0.8091747101069742, 3.0, 19.744412220955326], res=[-3.2857861075274073, -0.03351669359355913, 0.0, 0.0, -4.0900581878402384], res_norm=5.247e+00
2026-01-12 15:26:00,474 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:00,495 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:00,509 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:00,520 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:00,534 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:00,545 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:00,559 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:00,570 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:00,584 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:00,596 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:00,610 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:00,621 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:00,635 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:00,646 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:00,660 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:00,671 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:00,685 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:00,696 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:00,710 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:00,720 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:00,733 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:00,743 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:01,196 - WARNING - integration_test - Step 64: MPC solve failed
2026-01-12 15:26:01,196 - WARNING - integration_test -   Consecutive MPC failures: 21/50
2026-01-12 15:26:01,206 - INFO - integration_test - Step 64: Computed 6 numeric contouring constraints for visualization (s=17.222)
2026-01-12 15:26:01,206 - DEBUG - integration_test - Step 64: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:01,206 - INFO - integration_test - === Applying control at step 64 ===
2026-01-12 15:26:01,206 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:26:01,206 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:01,206 - INFO - integration_test -   Planner output success: False
2026-01-12 15:26:01,206 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:26:01,207 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:01,208 - INFO - integration_test - Step 64 completed in 0.788s
2026-01-12 15:26:01,218 - INFO - integration_test - Step 65 (contouring until path end)
2026-01-12 15:26:01,219 - DEBUG - integration_test - Syncing planner state at step 65: vehicle_state=[14.57525379  6.23298871  0.80917471  3.00000003 17.52172142]
2026-01-12 15:26:01,220 - DEBUG - integration_test - Step 65: Using propagated spline 17.5217 (close to path, dist=1.860m, drift=1.771m)
2026-01-12 15:26:01,220 - DEBUG - integration_test -   Set spline state to 17.5217
2026-01-12 15:26:01,223 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:01,240 - DEBUG - integration_test - Step 65: Checking path alignment: vehicle=(14.575, 6.233), path_start=(0.000, 0.000), dist=15.852m
2026-01-12 15:26:01,240 - WARNING - integration_test - Step 65: Vehicle is far from path start (dist=15.852m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:01,240 - INFO - integration_test - === Calling planner.solve_mpc() at step 65 ===
2026-01-12 15:26:01,245 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:01,255 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:01,255 - INFO - integration_test - Warmstart k=0: x0=14.30439326038749 , y0=6.952966877705558 , psi0=0.8091747101069741 , v0=3.000000030167782 , spline0=15.248994151793394 , a0=0.0 , w0=0.0
2026-01-12 15:26:01,255 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:01,256 - INFO - integration_test - Dyn residual k=0: pred=[14.511422045956966, 7.170082247395719, 0.8091747101069741, 3.000000030167782, 15.548994154810172], ws=[14.583888960707613, 7.177756382160267, 0.8091747101069742, 3.0, 15.395696133204485], res=[-0.07246691475064715, -0.007674134764547702, -1.1102230246251565e-16, 3.016778205022774e-08, 0.1532980216056874], res_norm=1.697e-01
2026-01-12 15:26:01,257 - INFO - integration_test - Dyn residual k=1: pred=[14.790917744195221, 7.394871749667131, 0.8091747101069742, 3.0, 15.695696133204486], ws=[14.860261730918253, 7.368364587600761, 0.8091747101069742, 3.0, 15.766812894520815], res=[-0.0693439867230321, 0.026507162066370604, 0.0, 0.0, -0.07111676131632905], res_norm=1.028e-01
2026-01-12 15:26:01,257 - INFO - integration_test - Dyn residual k=2: pred=[15.067290514405862, 7.585479955107625, 0.8091747101069742, 3.0, 16.066812894520815], ws=[18.047553288548233, 7.700583817277746, 0.8091747101069742, 3.0, 19.514592525386934], res=[-2.9802627741423713, -0.11510386217012059, 0.0, 0.0, -3.447779630866119], res_norm=4.559e+00
2026-01-12 15:26:01,271 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:01,291 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:01,305 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:01,316 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:01,330 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:01,342 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:01,355 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:01,366 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:01,380 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:01,391 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:01,405 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:01,416 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:01,430 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:01,441 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:01,455 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:01,466 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:01,480 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:01,491 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:01,505 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:01,515 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:01,528 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:01,538 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:02,008 - WARNING - integration_test - Step 65: MPC solve failed
2026-01-12 15:26:02,008 - WARNING - integration_test -   Consecutive MPC failures: 22/50
2026-01-12 15:26:02,017 - INFO - integration_test - Step 65: Computed 6 numeric contouring constraints for visualization (s=17.522)
2026-01-12 15:26:02,017 - DEBUG - integration_test - Step 65: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:02,018 - INFO - integration_test - === Applying control at step 65 ===
2026-01-12 15:26:02,018 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:26:02,018 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:02,018 - INFO - integration_test -   Planner output success: False
2026-01-12 15:26:02,018 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:26:02,018 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:02,019 - INFO - integration_test - Step 65 completed in 0.800s
2026-01-12 15:26:02,031 - INFO - integration_test - Step 66 (contouring until path end)
2026-01-12 15:26:02,032 - DEBUG - integration_test - Syncing planner state at step 66: vehicle_state=[14.78228257  6.45010408  0.80917471  3.00000003 17.82172143]
2026-01-12 15:26:02,032 - INFO - integration_test - Step 66: Safety reset spline from 17.8217 to 15.7507 (vehicle at (14.78, 6.45), closest path point at (14.46, 4.38), distance=2.098m, drift=2.071m)
2026-01-12 15:26:02,032 - DEBUG - integration_test -   Set spline state to 15.7507
2026-01-12 15:26:02,034 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:02,052 - DEBUG - integration_test - Step 66: Checking path alignment: vehicle=(14.782, 6.450), path_start=(0.000, 0.000), dist=16.128m
2026-01-12 15:26:02,052 - WARNING - integration_test - Step 66: Vehicle is far from path start (dist=16.128m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:02,052 - INFO - integration_test - === Calling planner.solve_mpc() at step 66 ===
2026-01-12 15:26:02,057 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:02,066 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:02,066 - INFO - integration_test - Warmstart k=0: x0=14.65107653755524 , y0=6.903510195514387 , psi0=0.8091747101069741 , v0=3.000000030167782 , spline0=15.700197605807219 , a0=0.0 , w0=0.0
2026-01-12 15:26:02,066 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:02,067 - INFO - integration_test - Dyn residual k=0: pred=[14.858105323124715, 7.120625565204548, 0.8091747101069741, 3.000000030167782, 16.000197608823996], ws=[14.901800547043962, 7.097958412354947, 0.8091747101069742, 3.0, 15.5784821117611], res=[-0.043695223919247184, 0.022667152849600747, -1.1102230246251565e-16, 3.016778205022774e-08, 0.42171549706289646], res_norm=4.246e-01
2026-01-12 15:26:02,068 - INFO - integration_test - Dyn residual k=1: pred=[15.10882933053157, 7.3150737798618115, 0.8091747101069742, 3.0, 15.8784821117611], ws=[15.147219219309818, 7.2676886649327574, 0.8091747101069742, 3.0, 15.923170345442587], res=[-0.038389888778247894, 0.04738511492905406, 0.0, 0.0, -0.04468823368148733], res_norm=7.561e-02
2026-01-12 15:26:02,069 - INFO - integration_test - Dyn residual k=2: pred=[15.354248002797426, 7.484804032439622, 0.8091747101069742, 3.0, 16.223170345442586], ws=[15.383561542533071, 7.419663233978373, 0.8091747101069742, 3.0, 16.352153559637472], res=[-0.029313539735644767, 0.06514079846124954, 0.0, 0.0, -0.12898321419488568], res_norm=1.474e-01
2026-01-12 15:26:02,082 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:02,104 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:02,118 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:02,129 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:02,143 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:02,155 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:02,168 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:02,179 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:02,193 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:02,204 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:02,218 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:02,229 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:02,243 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:02,254 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:02,268 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:02,279 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:02,292 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:02,303 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:02,318 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:02,328 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:02,341 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:02,351 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:02,790 - WARNING - integration_test - Step 66: MPC solve failed
2026-01-12 15:26:02,790 - WARNING - integration_test -   Consecutive MPC failures: 23/50
2026-01-12 15:26:02,799 - INFO - integration_test - Step 66: Computed 6 numeric contouring constraints for visualization (s=15.751)
2026-01-12 15:26:02,799 - DEBUG - integration_test - Step 66: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:02,799 - INFO - integration_test - === Applying control at step 66 ===
2026-01-12 15:26:02,800 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:26:02,800 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:02,800 - INFO - integration_test -   Planner output success: False
2026-01-12 15:26:02,800 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:26:02,801 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:02,801 - INFO - integration_test - Step 66 completed in 0.770s
2026-01-12 15:26:02,814 - INFO - integration_test - Step 67 (contouring until path end)
2026-01-12 15:26:02,815 - DEBUG - integration_test - Syncing planner state at step 67: vehicle_state=[14.98931136  6.66721945  0.80917471  3.00000003 16.05070266]
2026-01-12 15:26:02,816 - INFO - integration_test - Step 67: Safety reset spline from 16.0507 to 15.7507 (vehicle at (14.99, 6.67), closest path point at (14.46, 4.38), distance=2.351m, drift=0.300m)
2026-01-12 15:26:02,816 - DEBUG - integration_test -   Set spline state to 15.7507
2026-01-12 15:26:02,817 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:02,835 - DEBUG - integration_test - Step 67: Checking path alignment: vehicle=(14.989, 6.667), path_start=(0.000, 0.000), dist=16.405m
2026-01-12 15:26:02,835 - WARNING - integration_test - Step 67: Vehicle is far from path start (dist=16.405m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:02,835 - INFO - integration_test - === Calling planner.solve_mpc() at step 67 ===
2026-01-12 15:26:02,839 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:02,849 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:02,849 - INFO - integration_test - Warmstart k=0: x0=14.95568457661508 , y0=6.8223536000332246 , psi0=0.8091747101069741 , v0=3.000000030167782 , spline0=15.599187504797118 , a0=0.0 , w0=0.0
2026-01-12 15:26:02,849 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:02,850 - INFO - integration_test - Dyn residual k=0: pred=[15.162713362184556, 7.039468969723385, 0.8091747101069741, 3.000000030167782, 15.899187507813897], ws=[15.180427945995747, 6.99504473873594, 0.8091747101069742, 3.0, 16.240660427266626], res=[-0.017714583811191176, 0.04442423098744541, -1.1102230246251565e-16, 3.016778205022774e-08, -0.3414729194527286], res_norm=3.448e-01
2026-01-12 15:26:02,850 - INFO - integration_test - Dyn residual k=1: pred=[15.387456729483356, 7.212160106242805, 0.8091747101069742, 3.0, 16.540660427266626], ws=[15.399518069594421, 7.150024643463265, 0.8091747101069742, 3.0, 16.129937144371446], res=[-0.012061340111065633, 0.06213546277953963, 0.0, 0.0, 0.4107232828951801], res_norm=4.156e-01
2026-01-12 15:26:02,851 - INFO - integration_test - Dyn residual k=2: pred=[15.60654685308203, 7.36714001097013, 0.8091747101069742, 3.0, 16.429937144371447], ws=[15.610397710495059, 7.318565553737266, 0.8091747101069742, 3.0, 16.50081897637383], res=[-0.003850857413029374, 0.048574457232863466, 0.0, 0.0, -0.07088183200238163], res_norm=8.601e-02
2026-01-12 15:26:02,865 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:02,885 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:02,900 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:02,911 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:02,925 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:02,936 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:02,950 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:02,961 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:02,975 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:02,985 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:03,000 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:03,011 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:03,025 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:03,036 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:03,050 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:03,061 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:03,074 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:03,085 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:03,099 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:03,110 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:03,123 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:03,133 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:03,634 - WARNING - integration_test - Step 67: MPC solve failed
2026-01-12 15:26:03,634 - WARNING - integration_test -   Consecutive MPC failures: 24/50
2026-01-12 15:26:03,644 - INFO - integration_test - Step 67: Computed 6 numeric contouring constraints for visualization (s=15.751)
2026-01-12 15:26:03,644 - DEBUG - integration_test - Step 67: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:03,644 - INFO - integration_test - === Applying control at step 67 ===
2026-01-12 15:26:03,644 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:26:03,644 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:03,644 - INFO - integration_test -   Planner output success: False
2026-01-12 15:26:03,644 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:26:03,645 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:03,645 - INFO - integration_test - Step 67 completed in 0.831s
2026-01-12 15:26:03,659 - INFO - integration_test - Step 68 (contouring until path end)
2026-01-12 15:26:03,661 - DEBUG - integration_test - Syncing planner state at step 68: vehicle_state=[15.19634015  6.88433482  0.80917471  3.00000003 16.05070266]
2026-01-12 15:26:03,661 - INFO - integration_test - Step 68: Safety reset spline from 16.0507 to 16.3565 (vehicle at (15.20, 6.88), closest path point at (15.10, 4.31), distance=2.581m, drift=0.306m)
2026-01-12 15:26:03,661 - DEBUG - integration_test -   Set spline state to 16.3565
2026-01-12 15:26:03,663 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:03,680 - DEBUG - integration_test - Step 68: Checking path alignment: vehicle=(15.196, 6.884), path_start=(0.000, 0.000), dist=16.683m
2026-01-12 15:26:03,680 - WARNING - integration_test - Step 68: Vehicle is far from path start (dist=16.683m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:03,680 - INFO - integration_test - === Calling planner.solve_mpc() at step 68 ===
2026-01-12 15:26:03,684 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:03,694 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:03,694 - INFO - integration_test - Warmstart k=0: x0=15.19634014560171 , y0=6.884334820906833 , psi0=0.8091747101069741 , v0=3.000000030167782 , spline0=16.002963558788927 , a0=0.0 , w0=0.0
2026-01-12 15:26:03,694 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:03,695 - INFO - integration_test - Dyn residual k=0: pred=[15.403368931171185, 7.101450190596994, 0.8091747101069741, 3.000000030167782, 16.302963561805704], ws=[15.403368929089318, 7.101450188413698, 0.8091747101069742, 3.0, 16.14226784263228], res=[2.0818671231381813e-09, 2.183296210489516e-09, -1.1102230246251565e-16, 3.016778205022774e-08, 0.1606957191734253], res_norm=1.607e-01
2026-01-12 15:26:03,695 - INFO - integration_test - Dyn residual k=1: pred=[15.610397712576926, 7.3185655559205625, 0.8091747101069742, 3.0, 16.44226784263228], ws=[15.610397712576926, 7.3185655559205625, 0.8091747101069742, 3.0, 16.444736953753083], res=[0.0, 0.0, 0.0, 0.0, -0.002469111120802836], res_norm=2.469e-03
2026-01-12 15:26:03,696 - INFO - integration_test - Dyn residual k=2: pred=[15.817426496064535, 7.535680923427427, 0.8091747101069742, 3.0, 16.744736953753083], ws=[15.817426496064535, 7.535680923427427, 0.8091747101069742, 3.0, 16.834605058543936], res=[0.0, 0.0, 0.0, 0.0, -0.0898681047908525], res_norm=8.987e-02
2026-01-12 15:26:03,709 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:03,730 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:03,743 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:03,755 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:03,769 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:03,780 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:03,793 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:03,805 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:03,818 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:03,829 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:03,843 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:03,854 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:03,868 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:03,879 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:03,893 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:03,904 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:03,918 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:03,929 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:03,943 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:03,953 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:03,966 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:03,976 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:04,462 - WARNING - integration_test - Step 68: MPC solve failed
2026-01-12 15:26:04,462 - WARNING - integration_test -   Consecutive MPC failures: 25/50
2026-01-12 15:26:04,472 - INFO - integration_test - Step 68: Computed 6 numeric contouring constraints for visualization (s=16.356)
2026-01-12 15:26:04,472 - DEBUG - integration_test - Step 68: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:04,472 - INFO - integration_test - === Applying control at step 68 ===
2026-01-12 15:26:04,472 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:26:04,472 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:04,472 - INFO - integration_test -   Planner output success: False
2026-01-12 15:26:04,472 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:26:04,473 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:04,474 - INFO - integration_test - Step 68 completed in 0.813s
2026-01-12 15:26:04,484 - INFO - integration_test - Step 69 (contouring until path end)
2026-01-12 15:26:04,485 - DEBUG - integration_test - Syncing planner state at step 69: vehicle_state=[15.40336893  7.10145019  0.80917471  3.00000003 16.65649892]
2026-01-12 15:26:04,485 - INFO - integration_test - Step 69: Safety reset spline from 16.6565 to 16.3565 (vehicle at (15.40, 7.10), closest path point at (15.10, 4.31), distance=2.812m, drift=0.300m)
2026-01-12 15:26:04,486 - DEBUG - integration_test -   Set spline state to 16.3565
2026-01-12 15:26:04,488 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:04,506 - DEBUG - integration_test - Step 69: Checking path alignment: vehicle=(15.403, 7.101), path_start=(0.000, 0.000), dist=16.962m
2026-01-12 15:26:04,506 - WARNING - integration_test - Step 69: Vehicle is far from path start (dist=16.962m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:04,506 - INFO - integration_test - === Calling planner.solve_mpc() at step 69 ===
2026-01-12 15:26:04,510 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:04,519 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:04,520 - INFO - integration_test - Warmstart k=0: x0=15.403368931171185 , y0=7.101450190596994 , psi0=0.8091747101069741 , v0=3.000000030167782 , spline0=16.103973659799028 , a0=0.0 , w0=0.0
2026-01-12 15:26:04,520 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:04,521 - INFO - integration_test - Dyn residual k=0: pred=[15.61039771674066, 7.318565560287155, 0.8091747101069741, 3.000000030167782, 16.403973662815805], ws=[15.610397714658793, 7.318565558103859, 0.8091747101069742, 3.0, 16.50020994347276], res=[2.0818671231381813e-09, 2.183296210489516e-09, -1.1102230246251565e-16, 3.016778205022774e-08, -0.09623628065695655], res_norm=9.624e-02
2026-01-12 15:26:04,522 - INFO - integration_test - Dyn residual k=1: pred=[15.817426498146402, 7.535680925610723, 0.8091747101069742, 3.0, 16.800209943472762], ws=[15.817426498146402, 7.535680925610723, 0.8091747101069742, 3.0, 16.851485676756248], res=[0.0, 0.0, 0.0, 0.0, -0.05127573328348589], res_norm=5.128e-02
2026-01-12 15:26:04,522 - INFO - integration_test - Dyn residual k=2: pred=[16.024455281634012, 7.752796293117588, 0.8091747101069742, 3.0, 17.15148567675625], ws=[16.015160295535942, 7.639793917174641, 0.8091747101069742, 3.0, 16.981350947023646], res=[0.009294986098069558, 0.11300237594294682, 0.0, 0.0, 0.17013472973260235], res_norm=2.045e-01
2026-01-12 15:26:04,536 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:04,556 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:04,570 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:04,581 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:04,595 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:04,606 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:04,621 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:04,632 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:04,646 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:04,657 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:04,671 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:04,682 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:04,695 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:04,706 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:04,720 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:04,731 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:04,745 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:04,756 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:04,770 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:04,780 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:04,793 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:04,803 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:05,236 - WARNING - integration_test - Step 69: MPC solve failed
2026-01-12 15:26:05,236 - WARNING - integration_test -   Consecutive MPC failures: 26/50
2026-01-12 15:26:05,246 - INFO - integration_test - Step 69: Computed 6 numeric contouring constraints for visualization (s=16.356)
2026-01-12 15:26:05,246 - DEBUG - integration_test - Step 69: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:05,246 - INFO - integration_test - === Applying control at step 69 ===
2026-01-12 15:26:05,246 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:26:05,247 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:05,247 - INFO - integration_test -   Planner output success: False
2026-01-12 15:26:05,247 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:26:05,248 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:05,248 - INFO - integration_test - Step 69 completed in 0.763s
2026-01-12 15:26:05,262 - INFO - integration_test - Step 70 (contouring until path end)
2026-01-12 15:26:05,263 - DEBUG - integration_test - Syncing planner state at step 70: vehicle_state=[15.61039772  7.31856556  0.80917471  3.00000003 16.65649892]
2026-01-12 15:26:05,263 - INFO - integration_test - Step 70: Safety reset spline from 16.6565 to 16.3565 (vehicle at (15.61, 7.32), closest path point at (15.10, 4.31), distance=3.055m, drift=0.300m)
2026-01-12 15:26:05,263 - DEBUG - integration_test -   Set spline state to 16.3565
2026-01-12 15:26:05,265 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:05,283 - DEBUG - integration_test - Step 70: Checking path alignment: vehicle=(15.610, 7.319), path_start=(0.000, 0.000), dist=17.241m
2026-01-12 15:26:05,283 - WARNING - integration_test - Step 70: Vehicle is far from path start (dist=17.241m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:05,283 - INFO - integration_test - === Calling planner.solve_mpc() at step 70 ===
2026-01-12 15:26:05,287 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:05,296 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:05,296 - INFO - integration_test - Warmstart k=0: x0=15.61039771674066 , y0=7.318565560287155 , psi0=0.8091747101069741 , v0=3.000000030167782 , spline0=16.508014063839433 , a0=0.0 , w0=0.0
2026-01-12 15:26:05,296 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:05,297 - INFO - integration_test - Dyn residual k=0: pred=[15.817426502310136, 7.535680929977316, 0.8091747101069741, 3.000000030167782, 16.80801406685621], ws=[15.817426500228269, 7.5356809277940195, 0.8091747101069742, 3.0, 16.85815204431324], res=[2.0818671231381813e-09, 2.183296210489516e-09, -1.1102230246251565e-16, 3.016778205022774e-08, -0.0501379774570303], res_norm=5.014e-02
2026-01-12 15:26:05,298 - INFO - integration_test - Dyn residual k=1: pred=[16.024455283715877, 7.752796295300884, 0.8091747101069742, 3.0, 17.15815204431324], ws=[16.042491712199375, 7.637976213602705, 0.8091747101069742, 3.0, 16.753481791368042], res=[-0.018036428483497957, 0.11482008169817881, 0.0, 0.0, 0.4046702529451984], res_norm=4.210e-01
2026-01-12 15:26:05,299 - INFO - integration_test - Dyn residual k=2: pred=[16.249520495686983, 7.85509158110957, 0.8091747101069742, 3.0, 17.053481791368043], ws=[16.229541219716356, 7.626871090559239, 0.8091747101069742, 3.0, 17.128833540536625], res=[0.019979275970626986, 0.22822049055033133, 0.0, 0.0, -0.07535174916858267], res_norm=2.412e-01
2026-01-12 15:26:05,312 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:05,332 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:05,347 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:05,358 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:05,372 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:05,383 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:05,397 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:05,409 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:05,423 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:05,433 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:05,447 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:05,458 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:05,472 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:05,483 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:05,497 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:05,509 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:05,522 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:05,533 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:05,547 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:05,557 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:05,570 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:05,580 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:05,720 - INFO - integration_test - Step 70: MPC solve successful
2026-01-12 15:26:05,733 - INFO - integration_test - Step 70: Computed 6 numeric contouring constraints for visualization (s=16.356)
2026-01-12 15:26:05,733 - DEBUG - integration_test - Step 70: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:05,733 - INFO - integration_test - === Applying control at step 70 ===
2026-01-12 15:26:05,733 - INFO - integration_test -   Control dict from planner: {'a': -1.3357768762602303e-09, 'w': -0.800000009854946}
2026-01-12 15:26:05,733 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:05,733 - INFO - integration_test -   Planner output success: True
2026-01-12 15:26:05,734 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:05,734 - INFO - integration_test - Step 70 completed in 0.472s
2026-01-12 15:26:05,748 - INFO - integration_test - Step 71 (contouring until path end)
2026-01-12 15:26:05,749 - DEBUG - integration_test - Syncing planner state at step 71: vehicle_state=[15.82588573  7.52717268  0.72917471  3.00000003 16.65649892]
2026-01-12 15:26:05,750 - INFO - integration_test - Step 71: Safety reset spline from 16.6565 to 16.9623 (vehicle at (15.83, 7.53), closest path point at (15.75, 4.25), distance=3.278m, drift=0.306m)
2026-01-12 15:26:05,750 - DEBUG - integration_test -   Set spline state to 16.9623
2026-01-12 15:26:05,752 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:05,771 - DEBUG - integration_test - Step 71: Checking path alignment: vehicle=(15.826, 7.527), path_start=(0.000, 0.000), dist=17.525m
2026-01-12 15:26:05,771 - WARNING - integration_test - Step 71: Vehicle is far from path start (dist=17.525m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:05,771 - INFO - integration_test - === Calling planner.solve_mpc() at step 71 ===
2026-01-12 15:26:05,775 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:05,784 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:05,784 - INFO - integration_test - Warmstart k=0: x0=15.82588572940346 , y0=7.527172681451567 , psi0=0.7291747091214794 , v0=3.0000000300342045 , spline0=16.608759814800937 , a0=0.0 , w0=0.0
2026-01-12 15:26:05,784 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:05,785 - INFO - integration_test - Dyn residual k=0: pred=[16.04960308462468, 7.727049010152278, 0.7291747091214794, 3.0000000300342045, 16.90875981780436], ws=[16.03001454397475, 7.638803393788942, 0.7291747091214793, 3.0, 16.744949690193764], res=[0.019588540649930763, 0.08824561636333605, 1.1102230246251565e-16, 3.003420445679694e-08, 0.16381012761059566], res_norm=1.871e-01
2026-01-12 15:26:05,786 - INFO - integration_test - Dyn residual k=1: pred=[16.253731896956246, 7.83867972048861, 0.7291747091214793, 3.0, 17.044949690193764], ws=[16.23150768623857, 7.626768170817982, 0.7291747091214793, 3.0, 17.130203186486057], res=[0.02222421071767755, 0.21191154967062786, 0.0, 0.0, -0.0852534962922924], res_norm=2.295e-01
2026-01-12 15:26:05,787 - INFO - integration_test - Dyn residual k=2: pred=[16.455225039220064, 7.82664449751765, 0.7291747091214793, 3.0, 17.430203186486057], ws=[16.45735373743769, 7.6170038996129685, 0.7291747091214793, 3.0, 17.289652486154065], res=[-0.002128698217624958, 0.2096405979046816, 0.0, 0.0, 0.14055070033199257], res_norm=2.524e-01
2026-01-12 15:26:05,800 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:05,820 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:05,835 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:05,846 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:05,967 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:05,979 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:05,993 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:06,005 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:06,018 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:06,030 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:06,043 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:06,055 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:06,069 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:06,080 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:06,094 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:06,105 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:06,119 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:06,131 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:06,145 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:06,155 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:06,168 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:06,178 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:06,301 - INFO - integration_test - Step 71: MPC solve successful
2026-01-12 15:26:06,314 - INFO - integration_test - Step 71: Computed 6 numeric contouring constraints for visualization (s=16.962)
2026-01-12 15:26:06,314 - DEBUG - integration_test - Step 71: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:06,314 - INFO - integration_test - === Applying control at step 71 ===
2026-01-12 15:26:06,314 - INFO - integration_test -   Control dict from planner: {'a': -3.973333949418606e-09, 'w': -0.8000000096294206}
2026-01-12 15:26:06,314 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:06,314 - INFO - integration_test -   Planner output success: True
2026-01-12 15:26:06,315 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:06,315 - INFO - integration_test - Step 71 completed in 0.566s
2026-01-12 15:26:06,329 - INFO - integration_test - Step 72 (contouring until path end)
2026-01-12 15:26:06,330 - DEBUG - integration_test - Syncing planner state at step 72: vehicle_state=[16.05735532  7.71789196  0.64917471  3.00000003 17.26229517]
2026-01-12 15:26:06,330 - INFO - integration_test - Step 72: Safety reset spline from 17.2623 to 16.9623 (vehicle at (16.06, 7.72), closest path point at (15.75, 4.25), distance=3.481m, drift=0.300m)
2026-01-12 15:26:06,331 - DEBUG - integration_test -   Set spline state to 16.9623
2026-01-12 15:26:06,332 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:06,350 - DEBUG - integration_test - Step 72: Checking path alignment: vehicle=(16.057, 7.718), path_start=(0.000, 0.000), dist=17.816m
2026-01-12 15:26:06,350 - WARNING - integration_test - Step 72: Vehicle is far from path start (dist=17.816m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:06,350 - INFO - integration_test - === Calling planner.solve_mpc() at step 72 ===
2026-01-12 15:26:06,355 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:06,364 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:06,364 - INFO - integration_test - Warmstart k=0: x0=16.06131210155504 , y0=7.636736245063011 , psi0=0.6491747081585374 , v0=3.000000029636871 , spline0=17.012800218841342 , a0=0.0 , w0=0.0
2026-01-12 15:26:06,365 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:06,366 - INFO - integration_test - Dyn residual k=0: pred=[16.300286998751847, 7.818095006329147, 0.6491747081585374, 3.000000029636871, 17.31280022180503], ws=[16.26058919573766, 7.6252804549054245, 0.6491747081585375, 3.0, 17.397608207643533], res=[0.03969780301418879, 0.19281455142372206, -1.1102230246251565e-16, 2.9636871179405944e-08, -0.08480798583850202], res_norm=2.143e-01
2026-01-12 15:26:06,366 - INFO - integration_test - Dyn residual k=1: pred=[16.499564090573642, 7.806639214379925, 0.6491747081585375, 3.0, 17.697608207643533], ws=[16.493699585273287, 7.615832606157975, 0.6491747081585375, 3.0, 17.315723742876987], res=[0.005864505300355205, 0.1908066082219504, 0.0, 0.0, 0.38188446476654647], res_norm=4.269e-01
2026-01-12 15:26:06,367 - INFO - integration_test - Dyn residual k=2: pred=[16.73267448010927, 7.797191365632475, 0.6491747081585375, 3.0, 17.615723742876988], ws=[16.769511317196706, 7.610796050613941, 0.6491747081585375, 3.0, 18.00994749585229], res=[-0.036836837087435015, 0.186395315018534, 0.0, 0.0, -0.39422375297530365], res_norm=4.376e-01
2026-01-12 15:26:06,381 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:06,401 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:06,415 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:06,426 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:06,441 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:06,451 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:06,465 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:06,477 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:06,491 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:06,502 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:06,516 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:06,527 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:06,541 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:06,552 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:06,566 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:06,577 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:06,590 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:06,601 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:06,615 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:06,626 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:06,639 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:06,649 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:06,779 - INFO - integration_test - Step 72: MPC solve successful
2026-01-12 15:26:06,792 - INFO - integration_test - Step 72: Computed 6 numeric contouring constraints for visualization (s=16.962)
2026-01-12 15:26:06,792 - DEBUG - integration_test - Step 72: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:06,792 - INFO - integration_test - === Applying control at step 72 ===
2026-01-12 15:26:06,792 - INFO - integration_test -   Control dict from planner: {'a': -2.000000013229951, 'w': -0.8000000099961752}
2026-01-12 15:26:06,792 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:06,792 - INFO - integration_test -   Planner output success: True
2026-01-12 15:26:06,793 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:06,794 - INFO - integration_test - Step 72 completed in 0.464s
2026-01-12 15:26:06,806 - INFO - integration_test - Step 73 (contouring until path end)
2026-01-12 15:26:06,807 - DEBUG - integration_test - Syncing planner state at step 73: vehicle_state=[16.29505059  7.88389237  0.56917471  2.80000003 17.24229517]
2026-01-12 15:26:06,808 - INFO - integration_test - Step 73: Safety reset spline from 17.2423 to 17.5681 (vehicle at (16.30, 7.88), closest path point at (16.40, 4.22), distance=3.668m, drift=0.326m)
2026-01-12 15:26:06,808 - DEBUG - integration_test -   Set spline state to 17.5681
2026-01-12 15:26:06,810 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:06,827 - DEBUG - integration_test - Step 73: Checking path alignment: vehicle=(16.295, 7.884), path_start=(0.000, 0.000), dist=18.102m
2026-01-12 15:26:06,827 - WARNING - integration_test - Step 73: Vehicle is far from path start (dist=18.102m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:06,827 - INFO - integration_test - === Calling planner.solve_mpc() at step 73 ===
2026-01-12 15:26:06,831 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:06,840 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:06,840 - INFO - integration_test - Warmstart k=0: x0=16.287758757684003 , y0=7.623949893834 , psi0=0.5691747071589199 , v0=2.800000028313876 , spline0=17.416576272833147 , a0=0.0 , w0=0.0
2026-01-12 15:26:06,840 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:06,841 - INFO - integration_test - Dyn residual k=0: pred=[16.523615652071353, 7.774852269413484, 0.5691747071589199, 2.800000028313876, 17.696576275664533], ws=[16.474163655558097, 7.616431105860633, 0.5691747071589202, 2.800000028313876, 17.548261791310665], res=[0.04945199651325538, 0.15842116355285096, -2.220446049250313e-16, 0.0, 0.14831448435386818], res_norm=2.226e-01
2026-01-12 15:26:06,842 - INFO - integration_test - Dyn residual k=1: pred=[16.710020549945447, 7.767333481440116, 0.5691747071589202, 2.800000028313876, 17.82826179414205], ws=[16.74808137010064, 7.610929508623458, 0.5691747071589202, 2.800000028313876, 17.747019471948008], res=[-0.03806082015519152, 0.1564039728166584, 0.0, 0.0, 0.08124232219404348], res_norm=1.803e-01
2026-01-12 15:26:06,843 - INFO - integration_test - Dyn residual k=2: pred=[16.98393826448799, 7.761831884202941, 0.5691747071589202, 2.800000028313876, 18.027019474779394], ws=[16.9938541473, 7.612256187334153, 0.5691747071589202, 2.800000028313876, 18.17745189073214], res=[-0.009915882812009613, 0.14957569686878802, 0.0, 0.0, -0.15043241595274637], res_norm=2.124e-01
2026-01-12 15:26:06,856 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:06,876 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:06,891 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:06,901 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:06,916 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:06,927 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:06,941 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:06,952 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:06,966 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:06,977 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:06,991 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:07,001 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:07,015 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:07,026 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:07,040 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:07,051 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:07,065 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:07,076 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:07,090 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:07,100 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:07,113 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:07,124 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:07,248 - INFO - integration_test - Step 73: MPC solve successful
2026-01-12 15:26:07,261 - INFO - integration_test - Step 73: Computed 6 numeric contouring constraints for visualization (s=17.568)
2026-01-12 15:26:07,261 - DEBUG - integration_test - Step 73: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:07,261 - INFO - integration_test - === Applying control at step 73 ===
2026-01-12 15:26:07,262 - INFO - integration_test -   Control dict from planner: {'a': 1.9999994759406567, 'w': -0.8000000059365674}
2026-01-12 15:26:07,262 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:07,262 - INFO - integration_test -   Planner output success: True
2026-01-12 15:26:07,262 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:07,263 - INFO - integration_test - Step 73 completed in 0.456s
2026-01-12 15:26:07,276 - INFO - integration_test - Step 74 (contouring until path end)
2026-01-12 15:26:07,277 - DEBUG - integration_test - Syncing planner state at step 74: vehicle_state=[16.54538609  8.03013639  0.48917471  2.99999998 17.86809142]
2026-01-12 15:26:07,277 - INFO - integration_test - Step 74: Safety reset spline from 17.8681 to 17.5681 (vehicle at (16.55, 8.03), closest path point at (16.40, 4.22), distance=3.816m, drift=0.300m)
2026-01-12 15:26:07,277 - DEBUG - integration_test -   Set spline state to 17.5681
2026-01-12 15:26:07,279 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:07,296 - DEBUG - integration_test - Step 74: Checking path alignment: vehicle=(16.545, 8.030), path_start=(0.000, 0.000), dist=18.391m
2026-01-12 15:26:07,296 - WARNING - integration_test - Step 74: Vehicle is far from path start (dist=18.391m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:07,296 - INFO - integration_test - === Calling planner.solve_mpc() at step 74 ===
2026-01-12 15:26:07,300 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:07,310 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:07,310 - INFO - integration_test - Warmstart k=0: x0=16.572123017753754 , y0=7.613668490822334 , psi0=0.4891747065652632 , v0=2.9999999759079414 , spline0=17.618596474853348 , a0=0.0 , w0=0.0
2026-01-12 15:26:07,310 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:07,311 - INFO - integration_test - Dyn residual k=0: pred=[16.836939304388867, 7.754637753029617, 0.4891747065652632, 2.9999999759079414, 17.918596472444143], ws=[16.832775374908373, 7.6106922680929845, 0.4891747065652634, 2.9999999759079414, 17.80983639172989], res=[0.004163929480494488, 0.14394548493663262, -2.220446049250313e-16, 0.0, 0.10876008071425503], res_norm=1.805e-01
2026-01-12 15:26:07,312 - INFO - integration_test - Dyn residual k=1: pred=[17.097591661543486, 7.751661530300267, 0.4891747065652634, 2.9999999759079414, 18.109836389320684], ws=[17.060259428653147, 7.613723139365737, 0.4891747065652634, 2.9999999759079414, 18.227880467377325], res=[0.037332232890339156, 0.1379383909345302, 0.0, 0.0, -0.11804407805664141], res_norm=1.854e-01
2026-01-12 15:26:07,312 - INFO - integration_test - Dyn residual k=2: pred=[17.32507571528826, 7.75469240157302, 0.4891747065652634, 2.9999999759079414, 18.52788046496812], ws=[17.359872612244853, 7.62668012159968, 0.4891747065652634, 2.9999999759079414, 18.707211539836443], res=[-0.034796896956592605, 0.12801227997333964, 0.0, 0.0, -0.17933107486832256], res_norm=2.231e-01
2026-01-12 15:26:07,326 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:07,346 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:07,360 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:07,372 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:07,386 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:07,397 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:07,411 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:07,422 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:07,436 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:07,447 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:07,462 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:07,474 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:07,487 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:07,499 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:07,514 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:07,525 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:07,539 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:07,550 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:07,564 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:07,575 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:07,588 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:07,598 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:07,745 - INFO - integration_test - Step 74: MPC solve successful
2026-01-12 15:26:07,758 - INFO - integration_test - Step 74: Computed 6 numeric contouring constraints for visualization (s=17.568)
2026-01-12 15:26:07,758 - DEBUG - integration_test - Step 74: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:07,758 - INFO - integration_test - === Applying control at step 74 ===
2026-01-12 15:26:07,758 - INFO - integration_test -   Control dict from planner: {'a': 5.053198811236275e-07, 'w': -0.8000000099722501}
2026-01-12 15:26:07,758 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:07,758 - INFO - integration_test -   Planner output success: True
2026-01-12 15:26:07,759 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:07,760 - INFO - integration_test - Step 74 completed in 0.483s
2026-01-12 15:26:07,772 - INFO - integration_test - Step 75 (contouring until path end)
2026-01-12 15:26:07,774 - DEBUG - integration_test - Syncing planner state at step 75: vehicle_state=[16.81555577  8.16036833  0.40917471  3.00000003 17.86809143]
2026-01-12 15:26:07,775 - INFO - integration_test - Step 75: Safety reset spline from 17.8681 to 18.1739 (vehicle at (16.82, 8.16), closest path point at (17.05, 4.21), distance=3.955m, drift=0.306m)
2026-01-12 15:26:07,775 - DEBUG - integration_test -   Set spline state to 18.1739
2026-01-12 15:26:07,776 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:07,793 - DEBUG - integration_test - Step 75: Checking path alignment: vehicle=(16.816, 8.160), path_start=(0.000, 0.000), dist=18.691m
2026-01-12 15:26:07,793 - WARNING - integration_test - Step 75: Vehicle is far from path start (dist=18.691m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:07,793 - INFO - integration_test - === Calling planner.solve_mpc() at step 75 ===
2026-01-12 15:26:07,797 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:07,807 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:07,807 - INFO - integration_test - Warmstart k=0: x0=16.786349445487897 , y0=7.610725718402301 , psi0=0.40917470556803814 , v0=3.0000000264399294 , spline0=18.02237252884516 , a0=0.0 , w0=0.0
2026-01-12 15:26:07,807 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:07,808 - INFO - integration_test - Dyn residual k=0: pred=[17.061584292065938, 7.730081408738199, 0.40917470556803814, 3.0000000264399294, 18.322372531489155], ws=[17.105277529500086, 7.614999844219105, 0.4091747055680379, 3.0, 18.262299077065585], res=[-0.0436932374341481, 0.11508156451909368, 2.220446049250313e-16, 2.6439929357024994e-08, 0.06007345442356993], res_norm=1.370e-01
2026-01-12 15:26:07,808 - INFO - integration_test - Dyn residual k=1: pred=[17.380512373652394, 7.734355533503085, 0.4091747055680379, 3.0, 18.562299077065585], ws=[17.43223588766175, 7.631449758367653, 0.4091747055680379, 3.0, 18.764351126083163], res=[-0.05172351400935682, 0.10290577513543209, 0.0, 0.0, -0.20205204901757767], res_norm=2.326e-01
2026-01-12 15:26:07,809 - INFO - integration_test - Dyn residual k=2: pred=[17.70747073181406, 7.750805447651633, 0.4091747055680379, 3.0, 19.064351126083164], ws=[17.70421784423667, 7.6555557149384885, 0.4091747055680379, 3.0, 18.98346713509426], res=[0.003252887577389174, 0.0952497327131443, 0.0, 0.0, 0.0808839909889052], res_norm=1.250e-01
2026-01-12 15:26:07,823 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:07,842 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:07,857 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:07,868 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:07,882 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:07,894 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:07,908 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:07,920 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:07,934 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:07,945 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:07,960 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:07,972 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:07,985 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:07,997 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:08,011 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:08,023 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:08,037 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:08,048 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:08,062 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:08,073 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:08,085 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:08,096 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:08,231 - INFO - integration_test - Step 75: MPC solve successful
2026-01-12 15:26:08,245 - INFO - integration_test - Step 75: Computed 6 numeric contouring constraints for visualization (s=18.174)
2026-01-12 15:26:08,245 - DEBUG - integration_test - Step 75: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:08,245 - INFO - integration_test - === Applying control at step 75 ===
2026-01-12 15:26:08,245 - INFO - integration_test -   Control dict from planner: {'a': 3.1688967262065045e-08, 'w': -0.8000000099949}
2026-01-12 15:26:08,245 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:08,245 - INFO - integration_test -   Planner output success: True
2026-01-12 15:26:08,246 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:08,247 - INFO - integration_test - Step 75 completed in 0.473s
2026-01-12 15:26:08,261 - INFO - integration_test - Step 76 (contouring until path end)
2026-01-12 15:26:08,262 - DEBUG - integration_test - Syncing planner state at step 76: vehicle_state=[17.09526881  8.26859323  0.3291747   3.00000003 18.47388768]
2026-01-12 15:26:08,262 - INFO - integration_test - Step 76: Safety reset spline from 18.4739 to 18.1739 (vehicle at (17.10, 8.27), closest path point at (17.05, 4.21), distance=4.056m, drift=0.300m)
2026-01-12 15:26:08,262 - DEBUG - integration_test -   Set spline state to 18.1739
2026-01-12 15:26:08,264 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:08,281 - DEBUG - integration_test - Step 76: Checking path alignment: vehicle=(17.095, 8.269), path_start=(0.000, 0.000), dist=18.990m
2026-01-12 15:26:08,281 - WARNING - integration_test - Step 76: Vehicle is far from path start (dist=18.990m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:08,281 - INFO - integration_test - === Calling planner.solve_mpc() at step 76 ===
2026-01-12 15:26:08,285 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:08,295 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:08,295 - INFO - integration_test - Warmstart k=0: x0=17.128417422059353 , y0=7.615744045045839 , psi0=0.32917470456854814 , v0=3.000000029608826 , spline0=18.527423033895666 , a0=0.0 , w0=0.0
2026-01-12 15:26:08,295 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:08,296 - INFO - integration_test - Dyn residual k=0: pred=[17.41231026062576, 7.712722692114344, 0.32917470456854814, 3.000000029608826, 18.827423036856548], ws=[17.417407759870116, 7.630418117054344, 0.329174704568548, 3.0, 18.999978625307598], res=[-0.0050974992443570954, 0.08230457506000022, 1.1102230246251565e-16, 2.9608826057625492e-08, -0.17255558845105057], res_norm=1.912e-01
2026-01-12 15:26:08,297 - INFO - integration_test - Dyn residual k=1: pred=[17.701300595634613, 7.727396763165707, 0.329174704568548, 3.0, 19.2999786253076], ws=[17.697403875256676, 7.654769318069949, 0.329174704568548, 3.0, 19.22489916737932], res=[0.003896720377937868, 0.07262744509575825, 0.0, 0.0, 0.07507945792827897], res_norm=1.045e-01
2026-01-12 15:26:08,297 - INFO - integration_test - Dyn residual k=2: pred=[17.981296711021173, 7.7517479641813125, 0.329174704568548, 3.0, 19.52489916737932], ws=[18.054757226811905, 7.701659645670988, 0.329174704568548, 3.0, 19.76801149603341], res=[-0.07346051579073176, 0.05008831851032447, 0.0, 0.0, -0.24311232865408883], res_norm=2.589e-01
2026-01-12 15:26:08,311 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:08,332 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:08,346 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:08,357 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:08,371 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:08,382 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:08,396 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:08,408 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:08,422 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:08,432 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:08,447 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:08,458 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:08,472 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:08,484 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:08,498 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:08,509 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:08,523 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:08,534 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:08,548 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:08,558 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:08,571 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:08,581 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:08,730 - INFO - integration_test - Step 76: MPC solve successful
2026-01-12 15:26:08,742 - INFO - integration_test - Step 76: Computed 6 numeric contouring constraints for visualization (s=18.174)
2026-01-12 15:26:08,743 - DEBUG - integration_test - Step 76: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:08,743 - INFO - integration_test - === Applying control at step 76 ===
2026-01-12 15:26:08,743 - INFO - integration_test -   Control dict from planner: {'a': 3.4778283413731684e-09, 'w': -0.8000000099871899}
2026-01-12 15:26:08,743 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:08,743 - INFO - integration_test -   Planner output success: True
2026-01-12 15:26:08,744 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:08,744 - INFO - integration_test - Step 76 completed in 0.482s
2026-01-12 15:26:08,756 - INFO - integration_test - Step 77 (contouring until path end)
2026-01-12 15:26:08,758 - DEBUG - integration_test - Syncing planner state at step 77: vehicle_state=[17.38273601  8.35411881  0.2491747   3.00000003 18.47388768]
2026-01-12 15:26:08,758 - INFO - integration_test - Step 77: Safety reset spline from 18.4739 to 18.7797 (vehicle at (17.38, 8.35), closest path point at (17.70, 4.24), distance=4.124m, drift=0.306m)
2026-01-12 15:26:08,758 - DEBUG - integration_test -   Set spline state to 18.7797
2026-01-12 15:26:08,760 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:08,777 - DEBUG - integration_test - Step 77: Checking path alignment: vehicle=(17.383, 8.354), path_start=(0.000, 0.000), dist=19.286m
2026-01-12 15:26:08,777 - WARNING - integration_test - Step 77: Vehicle is far from path start (dist=19.286m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:08,777 - INFO - integration_test - === Calling planner.solve_mpc() at step 77 ===
2026-01-12 15:26:08,781 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:08,791 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:08,791 - INFO - integration_test - Warmstart k=0: x0=17.457943119943103 , y0=7.633305063159521 , psi0=0.24917470356982915 , v0=3.0000000299566087 , spline0=19.032209188897575 , a0=0.0 , w0=0.0
2026-01-12 15:26:08,791 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:08,792 - INFO - integration_test - Dyn residual k=0: pred=[17.748678004842805, 7.707286334436466, 0.24917470356982915, 3.0000000299566087, 19.332209191893234], ws=[17.710093867608496, 7.656123054407615, 0.24917470356982907, 3.0, 19.235226040088733], res=[0.038584137234309424, 0.05116328002885062, 8.326672684688674e-17, 2.995660874915984e-08, 0.09698315180450123], res_norm=1.162e-01
2026-01-12 15:26:08,793 - INFO - integration_test - Dyn residual k=1: pred=[18.000828749605056, 7.730104324945818, 0.24917470356982907, 3.0, 19.535226040088734], ws=[18.087126327302773, 7.706828336578397, 0.24917470356982907, 3.0, 19.7952057385108], res=[-0.08629757769771729, 0.02327598836742073, 0.0, 0.0, -0.2599796984220646], res_norm=2.749e-01
2026-01-12 15:26:08,793 - INFO - integration_test - Dyn residual k=2: pred=[18.377861209299333, 7.780809607116599, 0.24917470356982907, 3.0, 20.0952057385108], ws=[18.40413904293075, 7.765943857679488, 0.24917470356982907, 3.0, 20.064968613961288], res=[-0.026277833631418446, 0.014865749437110942, 0.0, 0.0, 0.030237124549511663], res_norm=4.273e-02
2026-01-12 15:26:08,807 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:08,827 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:08,841 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:08,852 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:08,867 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:08,878 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:08,892 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:08,903 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:08,917 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:08,929 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:08,943 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:08,955 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:08,968 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:08,980 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:08,994 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:09,006 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:09,021 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:09,033 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:09,047 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:09,057 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:09,070 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:09,080 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:09,224 - INFO - integration_test - Step 77: MPC solve successful
2026-01-12 15:26:09,235 - INFO - integration_test - Step 77: Computed 6 numeric contouring constraints for visualization (s=18.780)
2026-01-12 15:26:09,236 - DEBUG - integration_test - Step 77: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:09,236 - INFO - integration_test - === Applying control at step 77 ===
2026-01-12 15:26:09,236 - INFO - integration_test -   Control dict from planner: {'a': -1.040243518697218e-09, 'w': -0.8000000095545258}
2026-01-12 15:26:09,236 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:09,236 - INFO - integration_test -   Planner output success: True
2026-01-12 15:26:09,237 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:09,238 - INFO - integration_test - Step 77 completed in 0.480s
2026-01-12 15:26:09,248 - INFO - integration_test - Step 78 (contouring until path end)
2026-01-12 15:26:09,250 - DEBUG - integration_test - Syncing planner state at step 78: vehicle_state=[17.67611855  8.416398    0.1691747   3.00000003 19.07968394]
2026-01-12 15:26:09,250 - INFO - integration_test - Step 78: Safety reset spline from 19.0797 to 19.3855 (vehicle at (17.68, 8.42), closest path point at (18.34, 4.31), distance=4.162m, drift=0.306m)
2026-01-12 15:26:09,250 - DEBUG - integration_test -   Set spline state to 19.3855
2026-01-12 15:26:09,252 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:09,270 - DEBUG - integration_test - Step 78: Checking path alignment: vehicle=(17.676, 8.416), path_start=(0.000, 0.000), dist=19.578m
2026-01-12 15:26:09,270 - WARNING - integration_test - Step 78: Vehicle is far from path start (dist=19.578m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:09,270 - INFO - integration_test - === Calling planner.solve_mpc() at step 78 ===
2026-01-12 15:26:09,274 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:09,284 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:09,284 - INFO - integration_test - Warmstart k=0: x0=17.70854511238158 , y0=7.655956642922739 , psi0=0.1691747026143766 , v0=3.0000000298525844 , spline0=19.23396504086918 , a0=0.0 , w0=0.0
2026-01-12 15:26:09,284 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:09,285 - INFO - integration_test - Dyn residual k=0: pred=[18.00426233242285, 7.706467310728817, 0.1691747026143766, 3.0000000298525844, 19.533965043854437], ws=[18.05151276580929, 7.701150209158045, 0.1691747026143764, 3.0, 19.76528904563584], res=[-0.04725043338643786, 0.0053171015707720315, 1.942890293094024e-16, 2.985258440446614e-08, -0.23132400178140244], res_norm=2.362e-01
2026-01-12 15:26:09,285 - INFO - integration_test - Dyn residual k=1: pred=[18.347229982907923, 7.751660876461498, 0.1691747026143764, 3.0, 20.06528904563584], ws=[18.44695228120016, 7.7750633469222885, 0.1691747026143764, 3.0, 20.349483076140324], res=[-0.09972229829223878, -0.023402470460790248, 0.0, 0.0, -0.28419403050448366], res_norm=3.021e-01
2026-01-12 15:26:09,286 - INFO - integration_test - Dyn residual k=2: pred=[18.742669498298795, 7.825574014225742, 0.1691747026143764, 3.0, 20.649483076140324], ws=[18.732579307791582, 7.843661903142771, 0.1691747026143764, 3.0, 20.844908779700283], res=[0.010090190507213492, -0.018087888917029282, 0.0, 0.0, -0.19542570355995892], res_norm=1.965e-01
2026-01-12 15:26:09,300 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:09,319 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:09,334 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:09,346 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:09,360 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:09,371 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:09,385 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:09,397 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:09,410 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:09,422 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:09,436 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:09,447 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:09,461 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:09,472 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:09,486 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:09,497 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:09,511 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:09,522 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:09,536 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:09,546 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:09,559 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:09,569 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:09,691 - INFO - integration_test - Step 78: MPC solve successful
2026-01-12 15:26:09,703 - INFO - integration_test - Step 78: Computed 6 numeric contouring constraints for visualization (s=19.385)
2026-01-12 15:26:09,703 - DEBUG - integration_test - Step 78: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:09,703 - INFO - integration_test - === Applying control at step 78 ===
2026-01-12 15:26:09,703 - INFO - integration_test -   Control dict from planner: {'a': -1.641940412812045e-09, 'w': -0.8000000094651588}
2026-01-12 15:26:09,703 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:09,703 - INFO - integration_test -   Planner output success: True
2026-01-12 15:26:09,705 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:09,705 - INFO - integration_test - Step 78 completed in 0.456s
2026-01-12 15:26:09,716 - INFO - integration_test - Step 79 (contouring until path end)
2026-01-12 15:26:09,717 - DEBUG - integration_test - Syncing planner state at step 79: vehicle_state=[17.9735398   8.45503242  0.0891747   3.00000003 19.6854802 ]
2026-01-12 15:26:09,717 - INFO - integration_test - Step 79: Safety reset spline from 19.6855 to 19.3855 (vehicle at (17.97, 8.46), closest path point at (18.34, 4.31), distance=4.163m, drift=0.300m)
2026-01-12 15:26:09,717 - DEBUG - integration_test -   Set spline state to 19.3855
2026-01-12 15:26:09,719 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:09,737 - DEBUG - integration_test - Step 79: Checking path alignment: vehicle=(17.974, 8.455), path_start=(0.000, 0.000), dist=19.863m
2026-01-12 15:26:09,737 - WARNING - integration_test - Step 79: Vehicle is far from path start (dist=19.863m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:09,737 - INFO - integration_test - === Calling planner.solve_mpc() at step 79 ===
2026-01-12 15:26:09,741 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:09,751 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:09,751 - INFO - integration_test - Warmstart k=0: x0=18.074113240107174 , y0=7.704802773237969 , psi0=0.0891747016678607 , v0=3.0000000296883904 , spline0=19.536995343899484 , a0=0.0 , w0=0.0
2026-01-12 15:26:09,751 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:09,752 - INFO - integration_test - Dyn residual k=0: pred=[18.372921214196218, 7.731519741668251, 0.0891747016678607, 3.0000000296883904, 19.836995346868324], ws=[18.43819570730117, 7.773238708920616, 0.08917470166786057, 3.0, 20.0943499458601], res=[-0.06527449310495115, -0.04171896725236479, 1.3877787807814457e-16, 2.968839041272986e-08, -0.2573545989917747], res_norm=2.688e-01
2026-01-12 15:26:09,752 - INFO - integration_test - Dyn residual k=1: pred=[18.73700367843317, 7.799955677086503, 0.08917470166786057, 3.0, 20.3943499458601], ws=[18.738488666931584, 7.845250370506575, 0.08917470166786057, 3.0, 20.60239181351831], res=[-0.001484988498415163, -0.04529469342007175, 0.0, 0.0, -0.20804186765820987], res_norm=2.129e-01
2026-01-12 15:26:09,753 - INFO - integration_test - Dyn residual k=2: pred=[19.037296638063584, 7.871967338672462, 0.08917470166786057, 3.0, 20.90239181351831], ws=[19.046039961293435, 7.933920191032957, 0.08917470166786057, 3.0, 21.120354540756985], res=[-0.00874332322985083, -0.06195285236049486, 0.0, 0.0, -0.2179627272386746], res_norm=2.268e-01
2026-01-12 15:26:09,767 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:09,787 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:09,801 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:09,812 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:09,826 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:09,838 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:09,852 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:09,863 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:09,878 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:09,889 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:09,903 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:09,914 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:09,928 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:09,939 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:09,952 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:09,964 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:09,978 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:09,989 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:10,003 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:10,013 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:10,026 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:10,036 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:10,155 - INFO - integration_test - Step 79: MPC solve successful
2026-01-12 15:26:10,168 - INFO - integration_test - Step 79: Computed 6 numeric contouring constraints for visualization (s=19.385)
2026-01-12 15:26:10,168 - DEBUG - integration_test - Step 79: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:10,168 - INFO - integration_test - === Applying control at step 79 ===
2026-01-12 15:26:10,168 - INFO - integration_test -   Control dict from planner: {'a': -3.708276975577584e-08, 'w': -0.8000000031597122}
2026-01-12 15:26:10,168 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:10,168 - INFO - integration_test -   Planner output success: True
2026-01-12 15:26:10,169 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:10,169 - INFO - integration_test - Step 79 completed in 0.453s
2026-01-12 15:26:10,181 - INFO - integration_test - Step 80 (contouring until path end)
2026-01-12 15:26:10,182 - DEBUG - integration_test - Syncing planner state at step 80: vehicle_state=[1.82730973e+01 8.46977496e+00 9.17470135e-03 3.00000003e+00
 1.96854802e+01]
2026-01-12 15:26:10,183 - INFO - integration_test - Step 80: Safety reset spline from 19.6855 to 19.9913 (vehicle at (18.27, 8.47), closest path point at (18.98, 4.41), distance=4.118m, drift=0.306m)
2026-01-12 15:26:10,183 - DEBUG - integration_test -   Set spline state to 19.9913
2026-01-12 15:26:10,185 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:10,203 - DEBUG - integration_test - Step 80: Checking path alignment: vehicle=(18.273, 8.470), path_start=(0.000, 0.000), dist=20.141m
2026-01-12 15:26:10,203 - WARNING - integration_test - Step 80: Vehicle is far from path start (dist=20.141m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:10,203 - INFO - integration_test - === Calling planner.solve_mpc() at step 80 ===
2026-01-12 15:26:10,207 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:10,217 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:10,217 - INFO - integration_test - Warmstart k=0: x0=18.441532125636535 , y0=7.773886553528126 , psi0=0.009174701351889497 , v0=3.0000000259801136 , spline0=20.344811801931694 , a0=0.0 , w0=0.0
2026-01-12 15:26:10,217 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:10,218 - INFO - integration_test - Dyn residual k=0: pred=[18.74151950205127, 7.7766389253436, 0.009174701351889497, 3.0000000259801136, 20.644811804529706], ws=[18.75968246943404, 7.850888071922886, 0.009174701351889691, 3.0, 20.620916432278445], res=[-0.018162967382771456, -0.07424914657928561, -1.942890293094024e-16, 2.598011361598651e-08, 0.023895372251260483], res_norm=8.009e-02
2026-01-12 15:26:10,219 - INFO - integration_test - Dyn residual k=1: pred=[19.059669843250873, 7.853640443714524, 0.009174701351889691, 3.0, 20.920916432278446], ws=[19.031108322862565, 7.929255347966837, 0.009174701351889691, 3.0, 21.354039021854277], res=[0.02856152038830828, -0.07561490425231288, 0.0, 0.0, -0.43312258957583083], res_norm=4.406e-01
2026-01-12 15:26:10,219 - INFO - integration_test - Dyn residual k=2: pred=[19.331095696679398, 7.9320077197584755, 0.009174701351889691, 3.0, 21.654039021854278], ws=[19.301868935528386, 8.019142229815833, 0.009174701351889691, 3.0, 21.594750811891807], res=[0.02922676115101197, -0.08713451005735706, 0.0, 0.0, 0.05928820996247097], res_norm=1.094e-01
2026-01-12 15:26:10,233 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:10,253 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:10,267 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:10,278 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:10,292 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:10,303 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:10,317 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:10,328 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:10,342 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:10,354 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:10,368 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:10,379 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:10,393 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:10,404 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:10,418 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:10,430 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:10,444 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:10,456 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:10,469 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:10,480 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:10,493 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:10,504 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:10,622 - INFO - integration_test - Step 80: MPC solve successful
2026-01-12 15:26:10,634 - INFO - integration_test - Step 80: Computed 6 numeric contouring constraints for visualization (s=19.991)
2026-01-12 15:26:10,634 - DEBUG - integration_test - Step 80: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:10,634 - INFO - integration_test - === Applying control at step 80 ===
2026-01-12 15:26:10,634 - INFO - integration_test -   Control dict from planner: {'a': -2.8515397788271554e-07, 'w': -0.7999999372015975}
2026-01-12 15:26:10,634 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:10,634 - INFO - integration_test -   Planner output success: True
2026-01-12 15:26:10,635 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:10,636 - INFO - integration_test - Step 80 completed in 0.453s
2026-01-12 15:26:10,648 - INFO - integration_test - Step 81 (contouring until path end)
2026-01-12 15:26:10,649 - DEBUG - integration_test - Syncing planner state at step 81: vehicle_state=[18.57287479  8.4605313  -0.07082529  3.         20.29127645]
2026-01-12 15:26:10,650 - INFO - integration_test - Step 81: Safety reset spline from 20.2913 to 20.5971 (vehicle at (18.57, 8.46), closest path point at (19.60, 4.56), distance=4.037m, drift=0.306m)
2026-01-12 15:26:10,650 - DEBUG - integration_test -   Set spline state to 20.5971
2026-01-12 15:26:10,651 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:10,669 - DEBUG - integration_test - Step 81: Checking path alignment: vehicle=(18.573, 8.461), path_start=(0.000, 0.000), dist=20.409m
2026-01-12 15:26:10,669 - WARNING - integration_test - Step 81: Vehicle is far from path start (dist=20.409m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:10,669 - INFO - integration_test - === Calling planner.solve_mpc() at step 81 ===
2026-01-12 15:26:10,673 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:10,683 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:10,683 - INFO - integration_test - Warmstart k=0: x0=18.73792664300966 , y0=7.845069858336483 , psi0=-0.07082529236827025 , v0=2.999999997464716 , spline0=20.849597956933604 , a0=0.0 , w0=0.0
2026-01-12 15:26:10,683 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:10,684 - INFO - integration_test - Dyn residual k=0: pred=[19.03717452392937, 7.82384002995875, -0.07082529236827025, 2.999999997464716, 21.149597956680076], ws=[19.027606283958455, 7.928168769855784, -0.07082529236827018, 2.999999997464716, 21.35092027863589], res=[0.00956823997091405, -0.10432873989703406, -6.938893903907228e-17, 0.0, -0.20132232195581423], res_norm=2.270e-01
2026-01-12 15:26:10,684 - INFO - integration_test - Dyn residual k=1: pred=[19.326854164878164, 7.90693894147805, -0.07082529236827018, 2.999999997464716, 21.65092027838236], ws=[19.31324110674437, 8.023170464666801, -0.07082529236827018, 2.999999997464716, 21.604847319105577], res=[0.013613058133792322, -0.11623152318875096, 0.0, 0.0, 0.046072959276784786], res_norm=1.258e-01
2026-01-12 15:26:10,685 - INFO - integration_test - Dyn residual k=2: pred=[19.61248898766408, 8.001940636289069, -0.07082529236827018, 2.999999997464716, 21.90484731885205], ws=[19.567922515783934, 8.118632922331557, -0.07082529236827018, 2.999999997464716, 22.078592597036394], res=[0.044566471880145286, -0.11669228604248794, 0.0, 0.0, -0.17374527818434515], res_norm=2.140e-01
2026-01-12 15:26:10,699 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:10,719 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:10,733 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:10,744 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:10,758 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:10,769 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:10,783 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:10,794 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:10,807 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:10,818 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:10,832 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:10,843 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:10,856 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:10,867 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:10,881 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:10,892 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:10,905 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:10,916 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:10,930 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:10,940 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:10,953 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:10,963 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:11,088 - INFO - integration_test - Step 81: MPC solve successful
2026-01-12 15:26:11,101 - INFO - integration_test - Step 81: Computed 6 numeric contouring constraints for visualization (s=20.597)
2026-01-12 15:26:11,101 - DEBUG - integration_test - Step 81: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:11,101 - INFO - integration_test - === Applying control at step 81 ===
2026-01-12 15:26:11,101 - INFO - integration_test -   Control dict from planner: {'a': 2.3290384105345925e-07, 'w': -0.800000009706974}
2026-01-12 15:26:11,101 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:11,101 - INFO - integration_test -   Planner output success: True
2026-01-12 15:26:11,102 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:11,102 - INFO - integration_test - Step 81 completed in 0.453s
2026-01-12 15:26:11,114 - INFO - integration_test - Step 82 (contouring until path end)
2026-01-12 15:26:11,116 - DEBUG - integration_test - Syncing planner state at step 82: vehicle_state=[18.87095484  8.42736058 -0.15082529  3.00000002 20.89707271]
2026-01-12 15:26:11,116 - INFO - integration_test - Step 82: Safety reset spline from 20.8971 to 21.2029 (vehicle at (18.87, 8.43), closest path point at (20.20, 4.73), distance=3.926m, drift=0.306m)
2026-01-12 15:26:11,116 - DEBUG - integration_test -   Set spline state to 21.2029
2026-01-12 15:26:11,118 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:11,136 - DEBUG - integration_test - Step 82: Checking path alignment: vehicle=(18.871, 8.427), path_start=(0.000, 0.000), dist=20.667m
2026-01-12 15:26:11,136 - WARNING - integration_test - Step 82: Vehicle is far from path start (dist=20.667m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:11,136 - INFO - integration_test - === Calling planner.solve_mpc() at step 82 ===
2026-01-12 15:26:11,140 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:11,150 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:11,150 - INFO - integration_test - Warmstart k=0: x0=19.031495836308288 , y0=7.929375701647544 , psi0=-0.15082529333896766 , v0=3.0000000207551003 , spline0=21.354384111935516 , a0=0.0 , w0=0.0
2026-01-12 15:26:11,150 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:11,151 - INFO - integration_test - Dyn residual k=0: pred=[19.328090061637514, 7.8842994690336345, -0.15082529333896766, 3.0000000207551003, 21.654384114011027], ws=[19.286435549451767, 8.013707939438719, -0.15082529333896755, 3.0, 21.581047405834738], res=[0.04165451218574745, -0.1294084704050844, -1.1102230246251565e-16, 2.0755100305080987e-08, 0.07333670817628857], res_norm=1.545e-01
2026-01-12 15:26:11,151 - INFO - integration_test - Dyn residual k=1: pred=[19.583029772729045, 7.968631707136664, -0.15082529333896755, 3.0, 21.88104740583474], ws=[19.557982092405183, 8.114720188236017, -0.15082529333896755, 3.0, 22.069678744775718], res=[0.025047680323861954, -0.14608848109935302, 0.0, 0.0, -0.18863133894097928], res_norm=2.399e-01
2026-01-12 15:26:11,152 - INFO - integration_test - Dyn residual k=2: pred=[19.85457631568246, 8.069643955933962, -0.15082529333896755, 3.0, 22.36967874477572], ws=[19.78936708906095, 8.209659426768022, -0.15082529333896755, 3.0, 22.521029541676658], res=[0.06520922662151207, -0.14001547083405974, 0.0, 0.0, -0.1513507969009389], res_norm=2.162e-01
2026-01-12 15:26:11,166 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:11,186 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:11,200 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:11,211 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:11,225 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:11,237 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:11,251 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:11,262 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:11,276 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:11,287 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:11,300 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:11,311 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:11,325 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:11,336 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:11,350 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:11,361 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:11,375 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:11,386 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:11,401 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:11,411 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:11,424 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:11,434 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:12,588 - WARNING - integration_test - Step 82: MPC solve failed
2026-01-12 15:26:12,588 - WARNING - integration_test -   Consecutive MPC failures: 1/50
2026-01-12 15:26:12,597 - INFO - integration_test - Step 82: Computed 6 numeric contouring constraints for visualization (s=21.203)
2026-01-12 15:26:12,597 - DEBUG - integration_test - Step 82: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:12,598 - INFO - integration_test - === Applying control at step 82 ===
2026-01-12 15:26:12,598 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:26:12,598 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:12,598 - INFO - integration_test -   Planner output success: False
2026-01-12 15:26:12,598 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:26:12,599 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:12,599 - INFO - integration_test - Step 82 completed in 1.483s
2026-01-12 15:26:12,612 - INFO - integration_test - Step 83 (contouring until path end)
2026-01-12 15:26:12,613 - DEBUG - integration_test - Syncing planner state at step 83: vehicle_state=[19.16754906  8.38228434 -0.15082529  3.00000002 21.50286896]
2026-01-12 15:26:12,614 - INFO - integration_test - Step 83: Safety reset spline from 21.5029 to 21.2029 (vehicle at (19.17, 8.38), closest path point at (20.20, 4.73), distance=3.792m, drift=0.300m)
2026-01-12 15:26:12,614 - DEBUG - integration_test -   Set spline state to 21.2029
2026-01-12 15:26:12,616 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:12,634 - DEBUG - integration_test - Step 83: Checking path alignment: vehicle=(19.168, 8.382), path_start=(0.000, 0.000), dist=20.920m
2026-01-12 15:26:12,634 - WARNING - integration_test - Step 83: Vehicle is far from path start (dist=20.920m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:12,634 - INFO - integration_test - === Calling planner.solve_mpc() at step 83 ===
2026-01-12 15:26:12,638 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:12,648 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:12,648 - INFO - integration_test - Warmstart k=0: x0=19.324329049604458 , y0=8.027117217641667 , psi0=-0.15082529333896766 , v0=3.0000000207551003 , spline0=21.85943461698602 , a0=0.0 , w0=0.0
2026-01-12 15:26:12,648 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:12,649 - INFO - integration_test - Dyn residual k=0: pred=[19.620923274933684, 7.982040985027758, -0.15082529333896766, 3.0000000207551003, 22.159434619061532], ws=[19.50169842504231, 8.092850001117728, -0.15082529333896755, 3.0, 22.019163125916656], res=[0.11922484989137416, -0.11080901608997085, -1.1102230246251565e-16, 2.0755100305080987e-08, 0.1402714931448763], res_norm=2.149e-01
2026-01-12 15:26:12,650 - INFO - integration_test - Dyn residual k=1: pred=[19.79829264831959, 8.047773768815674, -0.15082529333896755, 3.0, 22.319163125916656], ws=[19.810518089044344, 8.218735760570636, -0.15082529333896755, 3.0, 22.540237780965025], res=[-0.012225440724755288, -0.17096199175496274, 0.0, 0.0, -0.2210746550483691], res_norm=2.797e-01
2026-01-12 15:26:12,650 - INFO - integration_test - Dyn residual k=2: pred=[20.10711231232162, 8.173659528268582, -0.15082529333896755, 3.0, 22.840237780965026], ws=[20.05733173324885, 8.247055645869377, -0.15082529333896755, 3.0, 22.779953135595164], res=[0.04978057907277034, -0.07339611760079556, 0.0, 0.0, 0.06028464536986178], res_norm=1.072e-01
2026-01-12 15:26:12,664 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:12,684 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:12,698 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:12,709 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:12,724 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:12,735 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:12,749 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:12,760 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:12,774 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:12,785 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:12,799 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:12,811 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:12,825 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:12,836 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:12,850 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:12,861 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:12,875 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:12,886 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:12,900 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:12,911 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:12,924 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:12,934 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:14,882 - WARNING - integration_test - Step 83: MPC solve failed
2026-01-12 15:26:14,883 - WARNING - integration_test -   Consecutive MPC failures: 2/50
2026-01-12 15:26:14,893 - INFO - integration_test - Step 83: Computed 6 numeric contouring constraints for visualization (s=21.203)
2026-01-12 15:26:14,893 - DEBUG - integration_test - Step 83: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:14,893 - INFO - integration_test - === Applying control at step 83 ===
2026-01-12 15:26:14,893 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:26:14,893 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:14,893 - INFO - integration_test -   Planner output success: False
2026-01-12 15:26:14,893 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:26:14,894 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:14,894 - INFO - integration_test - Step 83 completed in 2.281s
2026-01-12 15:26:14,908 - INFO - integration_test - Step 84 (contouring until path end)
2026-01-12 15:26:14,909 - DEBUG - integration_test - Syncing planner state at step 84: vehicle_state=[19.46414329  8.33720811 -0.15082529  3.00000002 21.50286896]
2026-01-12 15:26:14,910 - INFO - integration_test - Step 84: Safety reset spline from 21.5029 to 21.8087 (vehicle at (19.46, 8.34), closest path point at (20.78, 4.94), distance=3.641m, drift=0.306m)
2026-01-12 15:26:14,910 - DEBUG - integration_test -   Set spline state to 21.8087
2026-01-12 15:26:14,912 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:14,929 - DEBUG - integration_test - Step 84: Checking path alignment: vehicle=(19.464, 8.337), path_start=(0.000, 0.000), dist=21.175m
2026-01-12 15:26:14,929 - WARNING - integration_test - Step 84: Vehicle is far from path start (dist=21.175m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:14,929 - INFO - integration_test - === Calling planner.solve_mpc() at step 84 ===
2026-01-12 15:26:14,932 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:14,942 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:14,942 - INFO - integration_test - Warmstart k=0: x0=19.548518662201907 , y0=8.111009179738232 , psi0=-0.15082529333896766 , v0=3.0000000207551003 , spline0=22.061190468957626 , a0=0.0 , w0=0.0
2026-01-12 15:26:14,942 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:14,943 - INFO - integration_test - Dyn residual k=0: pred=[19.845112887531133, 8.065932947124324, -0.15082529333896766, 3.0000000207551003, 22.361190471033137], ws=[19.768199144085365, 8.200643902180802, -0.15082529333896755, 3.0, 22.257730635267176], res=[0.07691374344576829, -0.13471095505647845, -1.1102230246251565e-16, 2.0755100305080987e-08, 0.1034598357659604], res_norm=1.865e-01
2026-01-12 15:26:14,944 - INFO - integration_test - Dyn residual k=1: pred=[20.064793367362643, 8.155567669878748, -0.15082529333896755, 3.0, 22.557730635267177], ws=[20.0573317353008, 8.247055645557523, -0.15082529333896755, 3.0, 22.71770484182023], res=[0.007461632061843915, -0.09148797567877587, 0.0, 0.0, -0.15997420655305206], res_norm=1.844e-01
2026-01-12 15:26:14,945 - INFO - integration_test - Dyn residual k=2: pred=[20.353925958578078, 8.201979413255469, -0.15082529333896755, 3.0, 23.01770484182023], ws=[20.353925958578078, 8.201979413255469, -0.15082529333896755, 3.0, 23.205362324308425], res=[0.0, 0.0, 0.0, 0.0, -0.18765748248819492], res_norm=1.877e-01
2026-01-12 15:26:14,958 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:14,978 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:14,993 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:15,004 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:15,018 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:15,029 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:15,043 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:15,055 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:15,069 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:15,080 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:15,094 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:15,106 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:15,121 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:15,133 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:15,147 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:15,158 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:15,172 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:15,183 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:15,197 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:15,207 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:15,221 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:15,231 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:16,738 - WARNING - integration_test - Step 84: MPC solve failed
2026-01-12 15:26:16,738 - WARNING - integration_test -   Consecutive MPC failures: 3/50
2026-01-12 15:26:16,747 - INFO - integration_test - Step 84: Computed 6 numeric contouring constraints for visualization (s=21.809)
2026-01-12 15:26:16,748 - DEBUG - integration_test - Step 84: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:16,748 - INFO - integration_test - === Applying control at step 84 ===
2026-01-12 15:26:16,748 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:26:16,748 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:16,748 - INFO - integration_test -   Planner output success: False
2026-01-12 15:26:16,748 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:26:16,749 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:16,749 - INFO - integration_test - Step 84 completed in 1.840s
2026-01-12 15:26:16,763 - INFO - integration_test - Step 85 (contouring until path end)
2026-01-12 15:26:16,764 - DEBUG - integration_test - Syncing planner state at step 85: vehicle_state=[19.76073751  8.29213188 -0.15082529  3.00000002 22.10866522]
2026-01-12 15:26:16,765 - INFO - integration_test - Step 85: Safety reset spline from 22.1087 to 22.4145 (vehicle at (19.76, 8.29), closest path point at (20.96, 5.01), distance=3.491m, drift=0.306m)
2026-01-12 15:26:16,765 - DEBUG - integration_test -   Set spline state to 22.4145
2026-01-12 15:26:16,767 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:16,784 - DEBUG - integration_test - Step 85: Checking path alignment: vehicle=(19.761, 8.292), path_start=(0.000, 0.000), dist=21.430m
2026-01-12 15:26:16,784 - WARNING - integration_test - Step 85: Vehicle is far from path start (dist=21.430m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:16,784 - INFO - integration_test - === Calling planner.solve_mpc() at step 85 ===
2026-01-12 15:26:16,789 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:16,798 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:16,798 - INFO - integration_test - Warmstart k=0: x0=19.774043628350327 , y0=8.203127406830848 , psi0=-0.15082529333896766 , v0=3.0000000207551003 , spline0=22.26294632092923 , a0=0.0 , w0=0.0
2026-01-12 15:26:16,798 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:16,799 - INFO - integration_test - Dyn residual k=0: pred=[20.070637853679553, 8.15805117421694, -0.15082529333896766, 3.0000000207551003, 22.56294632300474], ws=[20.057331737352747, 8.24705564524567, -0.15082529333896755, 3.0, 22.732042626092216], res=[0.013306116326806006, -0.08900447102872988, -1.1102230246251565e-16, 2.0755100305080987e-08, -0.1690963030874748], res_norm=1.916e-01
2026-01-12 15:26:16,800 - INFO - integration_test - Dyn residual k=1: pred=[20.353925960630026, 8.201979412943615, -0.15082529333896755, 3.0, 23.032042626092217], ws=[20.353925960630026, 8.201979412943615, -0.15082529333896755, 3.0, 22.917865409512935], res=[0.0, 0.0, 0.0, 0.0, 0.11417721657928226], res_norm=1.142e-01
2026-01-12 15:26:16,801 - INFO - integration_test - Dyn residual k=2: pred=[20.650520183907304, 8.15690318064156, -0.15082529333896755, 3.0, 23.217865409512935], ws=[20.650520183907304, 8.15690318064156, -0.15082529333896755, 3.0, 23.338259509267317], res=[0.0, 0.0, 0.0, 0.0, -0.12039409975438176], res_norm=1.204e-01
2026-01-12 15:26:16,814 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:16,834 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:16,848 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:16,860 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:16,874 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:16,885 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:16,899 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:16,910 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:16,924 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:16,935 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:16,949 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:16,961 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:16,975 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:16,986 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:17,000 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:17,011 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:17,025 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:17,036 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:17,050 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:17,061 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:17,074 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:17,084 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:17,722 - WARNING - integration_test - Step 85: MPC solve failed
2026-01-12 15:26:17,723 - WARNING - integration_test -   Consecutive MPC failures: 4/50
2026-01-12 15:26:17,732 - INFO - integration_test - Step 85: Computed 6 numeric contouring constraints for visualization (s=22.414)
2026-01-12 15:26:17,732 - DEBUG - integration_test - Step 85: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:17,732 - INFO - integration_test - === Applying control at step 85 ===
2026-01-12 15:26:17,732 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:26:17,732 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:17,732 - INFO - integration_test -   Planner output success: False
2026-01-12 15:26:17,732 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:26:17,733 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:17,734 - INFO - integration_test - Step 85 completed in 0.970s
2026-01-12 15:26:17,748 - INFO - integration_test - Step 86 (contouring until path end)
2026-01-12 15:26:17,749 - DEBUG - integration_test - Syncing planner state at step 86: vehicle_state=[20.05733174  8.24705564 -0.15082529  3.00000002 22.71446147]
2026-01-12 15:26:17,750 - INFO - integration_test - Step 86: Safety reset spline from 22.7145 to 23.0203 (vehicle at (20.06, 8.25), closest path point at (21.52, 5.26), distance=3.326m, drift=0.306m)
2026-01-12 15:26:17,750 - DEBUG - integration_test -   Set spline state to 23.0203
2026-01-12 15:26:17,751 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:17,769 - DEBUG - integration_test - Step 86: Checking path alignment: vehicle=(20.057, 8.247), path_start=(0.000, 0.000), dist=21.687m
2026-01-12 15:26:17,769 - WARNING - integration_test - Step 86: Vehicle is far from path start (dist=21.687m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:17,769 - INFO - integration_test - === Calling planner.solve_mpc() at step 86 ===
2026-01-12 15:26:17,773 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:17,783 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:17,783 - INFO - integration_test - Warmstart k=0: x0=20.057331739404695 , y0=8.247055644933816 , psi0=-0.15082529333896766 , v0=3.0000000207551003 , spline0=22.76773247593114 , a0=0.0 , w0=0.0
2026-01-12 15:26:17,783 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:17,784 - INFO - integration_test - Dyn residual k=0: pred=[20.35392596473392, 8.201979412319908, -0.15082529333896766, 3.0000000207551003, 23.06773247800665], ws=[20.353925962681974, 8.201979412631761, -0.15082529333896755, 3.0, 23.18262995407912], res=[2.051947944892163e-09, -3.1185365401142917e-10, -1.1102230246251565e-16, 2.0755100305080987e-08, -0.1148974760724677], res_norm=1.149e-01
2026-01-12 15:26:17,785 - INFO - integration_test - Dyn residual k=1: pred=[20.65052018595925, 8.156903180329707, -0.15082529333896755, 3.0, 23.48262995407912], ws=[20.65052018595925, 8.156903180329707, -0.15082529333896755, 3.0, 23.62332347974192], res=[0.0, 0.0, 0.0, 0.0, -0.14069352566280102], res_norm=1.407e-01
2026-01-12 15:26:17,786 - INFO - integration_test - Dyn residual k=2: pred=[20.94711440923653, 8.111826948027652, -0.15082529333896755, 3.0, 23.92332347974192], ws=[20.94711440923653, 8.111826948027652, -0.15082529333896755, 3.0, 23.53313101360495], res=[0.0, 0.0, 0.0, 0.0, 0.3901924661369698], res_norm=3.902e-01
2026-01-12 15:26:17,799 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:17,819 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:17,834 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:17,845 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:17,859 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:17,871 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:17,885 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:17,896 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:17,909 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:17,921 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:17,934 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:17,946 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:17,959 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:17,971 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:17,985 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:17,996 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:18,010 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:18,021 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:18,035 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:18,045 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:18,058 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:18,069 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:26,998 - WARNING - integration_test - Step 86: MPC solve failed
2026-01-12 15:26:26,998 - WARNING - integration_test -   Consecutive MPC failures: 5/50
2026-01-12 15:26:27,010 - INFO - integration_test - Step 86: Computed 6 numeric contouring constraints for visualization (s=23.020)
2026-01-12 15:26:27,010 - DEBUG - integration_test - Step 86: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:27,010 - INFO - integration_test - === Applying control at step 86 ===
2026-01-12 15:26:27,010 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:26:27,010 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:27,010 - INFO - integration_test -   Planner output success: False
2026-01-12 15:26:27,010 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:26:27,011 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:27,011 - INFO - integration_test - Step 86 completed in 9.263s
2026-01-12 15:26:27,024 - INFO - integration_test - Step 87 (contouring until path end)
2026-01-12 15:26:27,026 - DEBUG - integration_test - Syncing planner state at step 87: vehicle_state=[20.35392596  8.20197941 -0.15082529  3.00000002 23.32025773]
2026-01-12 15:26:27,026 - INFO - integration_test - Step 87: Safety reset spline from 23.3203 to 23.0203 (vehicle at (20.35, 8.20), closest path point at (21.52, 5.26), distance=3.165m, drift=0.300m)
2026-01-12 15:26:27,026 - DEBUG - integration_test -   Set spline state to 23.0203
2026-01-12 15:26:27,028 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:27,046 - DEBUG - integration_test - Step 87: Checking path alignment: vehicle=(20.354, 8.202), path_start=(0.000, 0.000), dist=21.944m
2026-01-12 15:26:27,046 - WARNING - integration_test - Step 87: Vehicle is far from path start (dist=21.944m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:27,046 - INFO - integration_test - === Calling planner.solve_mpc() at step 87 ===
2026-01-12 15:26:27,049 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:27,059 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:27,059 - INFO - integration_test - Warmstart k=0: x0=20.35392596473392 , y0=8.201979412319908 , psi0=-0.15082529333896766 , v0=3.0000000207551003 , spline0=23.171772879971545 , a0=0.0 , w0=0.0
2026-01-12 15:26:27,059 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:27,060 - INFO - integration_test - Dyn residual k=0: pred=[20.650520190063148, 8.156903179706, -0.15082529333896766, 3.0000000207551003, 23.471772882047055], ws=[20.6505201880112, 8.156903180017853, -0.15082529333896755, 3.0, 23.625326913129804], res=[2.051947944892163e-09, -3.1185365401142917e-10, -1.1102230246251565e-16, 2.0755100305080987e-08, -0.15355403108274857], res_norm=1.536e-01
2026-01-12 15:26:27,061 - INFO - integration_test - Dyn residual k=1: pred=[20.947114411288478, 8.111826947715798, -0.15082529333896755, 3.0, 23.925326913129805], ws=[20.947114411288478, 8.111826947715798, -0.15082529333896755, 3.0, 23.79938944648314], res=[0.0, 0.0, 0.0, 0.0, 0.12593746664666483], res_norm=1.259e-01
2026-01-12 15:26:27,062 - INFO - integration_test - Dyn residual k=2: pred=[21.243708634565756, 8.066750715413743, -0.15082529333896755, 3.0, 24.09938944648314], ws=[21.243708634565756, 8.066750715413743, -0.15082529333896755, 3.0, 24.008442492643727], res=[0.0, 0.0, 0.0, 0.0, 0.09094695383941342], res_norm=9.095e-02
2026-01-12 15:26:27,076 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:27,095 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:27,110 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:27,121 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:27,135 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:27,147 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:27,161 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:27,172 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:27,186 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:27,197 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:27,211 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:27,223 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:27,237 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:27,248 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:27,262 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:27,273 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:27,287 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:27,298 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:27,312 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:27,322 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:27,335 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:27,346 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:27,530 - INFO - integration_test - Step 87: MPC solve successful
2026-01-12 15:26:27,543 - INFO - integration_test - Step 87: Computed 6 numeric contouring constraints for visualization (s=23.020)
2026-01-12 15:26:27,543 - DEBUG - integration_test - Step 87: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:27,543 - INFO - integration_test - === Applying control at step 87 ===
2026-01-12 15:26:27,543 - INFO - integration_test -   Control dict from planner: {'a': 9.24421184564407e-08, 'w': -0.8000000099932643}
2026-01-12 15:26:27,543 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:27,544 - INFO - integration_test -   Planner output success: True
2026-01-12 15:26:27,544 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:27,545 - INFO - integration_test - Step 87 completed in 0.519s
2026-01-12 15:26:27,558 - INFO - integration_test - Step 88 (contouring until path end)
2026-01-12 15:26:27,559 - DEBUG - integration_test - Syncing planner state at step 88: vehicle_state=[20.64840184  8.1450938  -0.23082529  3.00000003 23.32025773]
2026-01-12 15:26:27,560 - INFO - integration_test - Step 88: Safety reset spline from 23.3203 to 23.6261 (vehicle at (20.65, 8.15), closest path point at (22.06, 5.53), distance=2.973m, drift=0.306m)
2026-01-12 15:26:27,560 - DEBUG - integration_test -   Set spline state to 23.6261
2026-01-12 15:26:27,562 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:27,579 - DEBUG - integration_test - Step 88: Checking path alignment: vehicle=(20.648, 8.145), path_start=(0.000, 0.000), dist=22.197m
2026-01-12 15:26:27,579 - WARNING - integration_test - Step 88: Vehicle is far from path start (dist=22.197m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:27,579 - INFO - integration_test - === Calling planner.solve_mpc() at step 88 ===
2026-01-12 15:26:27,583 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:27,592 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:27,592 - INFO - integration_test - Warmstart k=0: x0=20.648401840839192 , y0=8.14509380156809 , psi0=-0.23082529433829407 , v0=3.0000000299993124 , spline0=23.373528731943154 , a0=0.0 , w0=0.0
2026-01-12 15:26:27,592 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:27,593 - INFO - integration_test - Dyn residual k=0: pred=[20.94044521822356, 8.076459498731305, -0.23082529433829407, 3.0000000299993124, 23.673528734943083], ws=[20.940445215303193, 8.076459499417632, -0.23082529433829402, 3.0, 23.782911151894588], res=[2.9203661711107998e-09, -6.86327439325396e-10, -5.551115123125783e-17, 2.999931236757902e-08, -0.10938241695150452], res_norm=1.094e-01
2026-01-12 15:26:27,594 - INFO - integration_test - Dyn residual k=1: pred=[21.232488589767193, 8.007825197267175, -0.23082529433829402, 3.0, 24.08291115189459], ws=[21.232488589767193, 8.007825197267175, -0.23082529433829402, 3.0, 23.922528558407222], res=[0.0, 0.0, 0.0, 0.0, 0.16038259348736617], res_norm=1.604e-01
2026-01-12 15:26:27,595 - INFO - integration_test - Dyn residual k=2: pred=[21.524531964231194, 7.9391908951167185, -0.23082529433829402, 3.0, 24.222528558407223], ws=[21.524531964231194, 7.9391908951167185, -0.23082529433829402, 3.0, 24.345267474534936], res=[0.0, 0.0, 0.0, 0.0, -0.12273891612771237], res_norm=1.227e-01
2026-01-12 15:26:27,608 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:27,628 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:27,643 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:27,654 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:27,668 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:27,680 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:27,694 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:27,705 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:27,719 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:27,730 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:27,744 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:27,755 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:27,769 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:27,780 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:27,794 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:27,805 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:27,819 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:27,830 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:27,844 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:27,854 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:27,867 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:27,877 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:28,071 - INFO - integration_test - Step 88: MPC solve successful
2026-01-12 15:26:28,083 - INFO - integration_test - Step 88: Computed 6 numeric contouring constraints for visualization (s=23.626)
2026-01-12 15:26:28,084 - DEBUG - integration_test - Step 88: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:28,084 - INFO - integration_test - === Applying control at step 88 ===
2026-01-12 15:26:28,084 - INFO - integration_test -   Control dict from planner: {'a': -8.649582432176085e-12, 'w': 0.8000000096856961}
2026-01-12 15:26:28,084 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:28,084 - INFO - integration_test -   Planner output success: True
2026-01-12 15:26:28,085 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:28,085 - INFO - integration_test - Step 88 completed in 0.526s
2026-01-12 15:26:28,098 - INFO - integration_test - Step 89 (contouring until path end)
2026-01-12 15:26:28,099 - DEBUG - integration_test - Syncing planner state at step 89: vehicle_state=[20.94287772  8.08820819 -0.15082529  3.00000003 23.92605399]
2026-01-12 15:26:28,099 - INFO - integration_test - Step 89: Safety reset spline from 23.9261 to 23.6261 (vehicle at (20.94, 8.09), closest path point at (22.06, 5.53), distance=2.793m, drift=0.300m)
2026-01-12 15:26:28,099 - DEBUG - integration_test -   Set spline state to 23.6261
2026-01-12 15:26:28,101 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:28,119 - DEBUG - integration_test - Step 89: Checking path alignment: vehicle=(20.943, 8.088), path_start=(0.000, 0.000), dist=22.450m
2026-01-12 15:26:28,119 - WARNING - integration_test - Step 89: Vehicle is far from path start (dist=22.450m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:28,119 - INFO - integration_test - === Calling planner.solve_mpc() at step 89 ===
2026-01-12 15:26:28,123 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:28,132 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:28,132 - INFO - integration_test - Warmstart k=0: x0=20.942877717398474 , y0=8.088208190730144 , psi0=-0.15082529336972444 , v0=3.0000000299984473 , spline0=23.77756913598356 , a0=0.0 , w0=0.0
2026-01-12 15:26:28,132 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:28,133 - INFO - integration_test - Dyn residual k=0: pred=[21.239471943640154, 8.043131957968228, -0.15082529336972444, 3.0000000299984473, 24.077569138983403], ws=[21.239471940674363, 8.043131958418966, -0.15082529336972428, 3.0, 23.92629688078948], res=[2.965791168207943e-09, -4.5073811349993775e-10, -1.6653345369377348e-16, 2.9998447281798235e-08, 0.15127225819392365], res_norm=1.513e-01
2026-01-12 15:26:28,134 - INFO - integration_test - Dyn residual k=1: pred=[21.536066163950252, 7.998055726107789, -0.15082529336972428, 3.0, 24.22629688078948], ws=[21.536066163950252, 7.998055726107789, -0.15082529336972428, 3.0, 24.10251070223695], res=[0.0, 0.0, 0.0, 0.0, 0.12378617855253182], res_norm=1.238e-01
2026-01-12 15:26:28,135 - INFO - integration_test - Dyn residual k=2: pred=[21.83266038722614, 7.952979493796612, -0.15082529336972428, 3.0, 24.40251070223695], ws=[21.83266038722614, 7.952979493796612, -0.15082529336972428, 3.0, 24.5182752897366], res=[0.0, 0.0, 0.0, 0.0, -0.11576458749965113], res_norm=1.158e-01
2026-01-12 15:26:28,148 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:28,168 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:28,182 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:28,194 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:28,208 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:28,219 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:28,233 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:28,244 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:28,258 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:28,269 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:28,283 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:28,294 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:28,308 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:28,319 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:28,333 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:28,344 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:28,359 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:28,370 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:28,384 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:28,395 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:28,408 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:28,418 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:36,656 - WARNING - integration_test - Step 89: MPC solve failed
2026-01-12 15:26:36,656 - WARNING - integration_test -   Consecutive MPC failures: 1/50
2026-01-12 15:26:36,665 - INFO - integration_test - Step 89: Computed 6 numeric contouring constraints for visualization (s=23.626)
2026-01-12 15:26:36,665 - DEBUG - integration_test - Step 89: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:36,665 - INFO - integration_test - === Applying control at step 89 ===
2026-01-12 15:26:36,666 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:26:36,666 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:36,666 - INFO - integration_test -   Planner output success: False
2026-01-12 15:26:36,666 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:26:36,667 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:36,667 - INFO - integration_test - Step 89 completed in 8.568s
2026-01-12 15:26:36,680 - INFO - integration_test - Step 90 (contouring until path end)
2026-01-12 15:26:36,682 - DEBUG - integration_test - Syncing planner state at step 90: vehicle_state=[21.23947194  8.04313196 -0.15082529  3.00000003 23.92605399]
2026-01-12 15:26:36,682 - INFO - integration_test - Step 90: Safety reset spline from 23.9261 to 24.2319 (vehicle at (21.24, 8.04), closest path point at (22.90, 6.00), distance=2.631m, drift=0.306m)
2026-01-12 15:26:36,682 - DEBUG - integration_test -   Set spline state to 24.2319
2026-01-12 15:26:36,684 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:36,701 - DEBUG - integration_test - Step 90: Checking path alignment: vehicle=(21.239, 8.043), path_start=(0.000, 0.000), dist=22.711m
2026-01-12 15:26:36,701 - WARNING - integration_test - Step 90: Vehicle is far from path start (dist=22.711m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:36,701 - INFO - integration_test - === Calling planner.solve_mpc() at step 90 ===
2026-01-12 15:26:36,706 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:36,715 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:36,715 - INFO - integration_test - Warmstart k=0: x0=21.239471943640154 , y0=8.043131957968228 , psi0=-0.15082529336972444 , v0=3.0000000299984473 , spline0=23.979324987955163 , a0=0.0 , w0=0.0
2026-01-12 15:26:36,715 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:36,716 - INFO - integration_test - Dyn residual k=0: pred=[21.536066169881835, 7.998055725206312, -0.15082529336972444, 3.0000000299984473, 24.279324990955008], ws=[21.536066166916044, 7.998055725657051, -0.15082529336972428, 3.0, 24.370604203312844], res=[2.965791168207943e-09, -4.5073900167835745e-10, -1.6653345369377348e-16, 2.9998447281798235e-08, -0.09127921235783631], res_norm=9.128e-02
2026-01-12 15:26:36,717 - INFO - integration_test - Dyn residual k=1: pred=[21.832660390191933, 7.9529794933458735, -0.15082529336972428, 3.0, 24.670604203312845], ws=[21.832660390191933, 7.9529794933458735, -0.15082529336972428, 3.0, 24.495020510579277], res=[0.0, 0.0, 0.0, 0.0, 0.1755836927335679], res_norm=1.756e-01
2026-01-12 15:26:36,718 - INFO - integration_test - Dyn residual k=2: pred=[22.129254613467822, 7.907903261034696, -0.15082529336972428, 3.0, 24.795020510579278], ws=[22.129254613467822, 7.907903261034696, -0.15082529336972428, 3.0, 24.682161688024124], res=[0.0, 0.0, 0.0, 0.0, 0.11285882255515389], res_norm=1.129e-01
2026-01-12 15:26:36,732 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:36,751 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:36,766 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:36,777 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:36,791 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:36,802 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:36,821 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:36,832 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:36,846 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:36,857 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:36,871 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:36,882 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:36,896 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:36,907 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:36,921 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:36,932 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:36,945 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:36,956 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:36,970 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:36,981 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:36,994 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:37,004 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:37,158 - INFO - integration_test - Step 90: MPC solve successful
2026-01-12 15:26:37,171 - INFO - integration_test - Step 90: Computed 6 numeric contouring constraints for visualization (s=24.232)
2026-01-12 15:26:37,171 - DEBUG - integration_test - Step 90: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:37,171 - INFO - integration_test - === Applying control at step 90 ===
2026-01-12 15:26:37,172 - INFO - integration_test -   Control dict from planner: {'a': 6.32848437858094e-12, 'w': 0.8000000099965182}
2026-01-12 15:26:37,172 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:37,172 - INFO - integration_test -   Planner output success: True
2026-01-12 15:26:37,172 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:37,173 - INFO - integration_test - Step 90 completed in 0.491s
2026-01-12 15:26:37,184 - INFO - integration_test - Step 91 (contouring until path end)
2026-01-12 15:26:37,185 - DEBUG - integration_test - Syncing planner state at step 91: vehicle_state=[21.537552    8.00996123 -0.07082529  3.00000003 24.53185024]
2026-01-12 15:26:37,186 - INFO - integration_test - Step 91: Safety reset spline from 24.5319 to 24.2319 (vehicle at (21.54, 8.01), closest path point at (22.90, 6.00), distance=2.427m, drift=0.300m)
2026-01-12 15:26:37,186 - DEBUG - integration_test -   Set spline state to 24.2319
2026-01-12 15:26:37,188 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:37,205 - DEBUG - integration_test - Step 91: Checking path alignment: vehicle=(21.538, 8.010), path_start=(0.000, 0.000), dist=22.979m
2026-01-12 15:26:37,205 - WARNING - integration_test - Step 91: Vehicle is far from path start (dist=22.979m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:37,205 - INFO - integration_test - === Calling planner.solve_mpc() at step 91 ===
2026-01-12 15:26:37,209 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:37,218 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:37,218 - INFO - integration_test - Warmstart k=0: x0=21.53755199607334 , y0=8.00996123387079 , psi0=-0.07082529237007262 , v0=3.00000002999908 , spline0=24.383365391995568 , a0=0.0 , w0=0.0
2026-01-12 15:26:37,218 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:37,220 - INFO - integration_test - Dyn residual k=0: pred=[21.83679988023829, 7.988731405262284, -0.07082529237007262, 3.00000002999908, 24.683365394995477], ws=[21.8367998772459, 7.988731405474576, -0.07082529237007273, 3.0, 24.51306275826323], res=[2.9923867828074435e-09, -2.1229240587672393e-10, 1.1102230246251565e-16, 2.999908010892227e-08, 0.1703026367322451], res_norm=1.703e-01
2026-01-12 15:26:37,220 - INFO - integration_test - Dyn residual k=1: pred=[22.136047758418464, 7.967501577078362, -0.07082529237007273, 3.0, 24.813062758263232], ws=[22.136047758418464, 7.967501577078362, -0.07082529237007273, 3.0, 24.7250840467461], res=[0.0, 0.0, 0.0, 0.0, 0.0879787115171311], res_norm=8.798e-02
2026-01-12 15:26:37,221 - INFO - integration_test - Dyn residual k=2: pred=[22.435295639591025, 7.946271748682149, -0.07082529237007273, 3.0, 25.0250840467461], ws=[22.435295639591025, 7.946271748682149, -0.07082529237007273, 3.0, 25.184303988129592], res=[0.0, 0.0, 0.0, 0.0, -0.1592199413834905], res_norm=1.592e-01
2026-01-12 15:26:37,235 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:37,255 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:37,269 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:37,280 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:37,294 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:37,305 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:37,319 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:37,330 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:37,344 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:37,355 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:37,369 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:37,380 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:37,394 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:37,406 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:37,420 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:37,431 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:37,445 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:37,456 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:37,470 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:37,480 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:37,493 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:37,503 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:40,789 - INFO - integration_test - Step 91: MPC solve successful
2026-01-12 15:26:40,801 - INFO - integration_test - Step 91: Computed 6 numeric contouring constraints for visualization (s=24.232)
2026-01-12 15:26:40,801 - DEBUG - integration_test - Step 91: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:40,801 - INFO - integration_test - === Applying control at step 91 ===
2026-01-12 15:26:40,801 - INFO - integration_test -   Control dict from planner: {'a': -9.127225722558252e-10, 'w': 0.07665855998495616}
2026-01-12 15:26:40,801 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:40,801 - INFO - integration_test -   Planner output success: True
2026-01-12 15:26:40,802 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:40,803 - INFO - integration_test - Step 91 completed in 3.618s
2026-01-12 15:26:40,815 - INFO - integration_test - Step 92 (contouring until path end)
2026-01-12 15:26:40,816 - DEBUG - integration_test - Syncing planner state at step 92: vehicle_state=[21.83687832  7.9898786  -0.06315944  3.00000003 24.53185024]
2026-01-12 15:26:40,816 - INFO - integration_test - Step 92: Safety reset spline from 24.5319 to 24.2319 (vehicle at (21.84, 7.99), closest path point at (22.90, 6.00), distance=2.255m, drift=0.300m)
2026-01-12 15:26:40,816 - DEBUG - integration_test -   Set spline state to 24.2319
2026-01-12 15:26:40,818 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:40,836 - DEBUG - integration_test - Step 92: Checking path alignment: vehicle=(21.837, 7.990), path_start=(0.000, 0.000), dist=23.253m
2026-01-12 15:26:40,836 - WARNING - integration_test - Step 92: Vehicle is far from path start (dist=23.253m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:40,836 - INFO - integration_test - === Calling planner.solve_mpc() at step 92 ===
2026-01-12 15:26:40,840 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:40,849 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:40,849 - INFO - integration_test - Warmstart k=0: x0=21.83687832134769 , y0=7.989878603168637 , psi0=-0.063159436371577 , v0=3.000000029907808 , spline0=24.58538559401577 , a0=0.0 , w0=0.0
2026-01-12 15:26:40,849 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:40,850 - INFO - integration_test - Dyn residual k=0: pred=[22.136280156058564, 7.970943367066852, -0.063159436371577, 3.000000029907808, 24.88538559700655], ws=[22.13628015307375, 7.970943367255622, -0.06315943637157684, 3.0, 24.9565968117912], res=[2.9848159499579197e-09, -1.8876988860938582e-10, -1.6653345369377348e-16, 2.990780778588942e-08, -0.07121121478465042], res_norm=7.121e-02
2026-01-12 15:26:40,851 - INFO - integration_test - Dyn residual k=1: pred=[22.435681984799807, 7.952008131342606, -0.06315943637157684, 3.0, 25.2565968117912], ws=[22.435681984799807, 7.952008131342606, -0.06315943637157684, 3.0, 25.162926379651623], res=[0.0, 0.0, 0.0, 0.0, 0.09367043213957871], res_norm=9.367e-02
2026-01-12 15:26:40,852 - INFO - integration_test - Dyn residual k=2: pred=[22.735083816525865, 7.933072895429591, -0.06315943637157684, 3.0, 25.462926379651623], ws=[22.735083816525865, 7.933072895429591, -0.06315943637157684, 3.0, 25.284850547151795], res=[0.0, 0.0, 0.0, 0.0, 0.17807583249982883], res_norm=1.781e-01
2026-01-12 15:26:40,865 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:40,885 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:40,900 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:40,911 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:40,925 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:40,937 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:40,951 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:40,962 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:40,976 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:40,987 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:41,001 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:41,012 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:41,026 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:41,038 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:41,052 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:41,063 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:41,077 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:41,088 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:41,102 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:41,113 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:41,125 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:41,136 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:50,657 - WARNING - integration_test - Step 92: MPC solve failed
2026-01-12 15:26:50,657 - WARNING - integration_test -   Consecutive MPC failures: 1/50
2026-01-12 15:26:50,667 - INFO - integration_test - Step 92: Computed 6 numeric contouring constraints for visualization (s=24.232)
2026-01-12 15:26:50,667 - DEBUG - integration_test - Step 92: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:50,667 - INFO - integration_test - === Applying control at step 92 ===
2026-01-12 15:26:50,667 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:26:50,667 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:50,667 - INFO - integration_test -   Planner output success: False
2026-01-12 15:26:50,667 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:26:50,668 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:50,668 - INFO - integration_test - Step 92 completed in 9.853s
2026-01-12 15:26:50,681 - INFO - integration_test - Step 93 (contouring until path end)
2026-01-12 15:26:50,683 - DEBUG - integration_test - Syncing planner state at step 93: vehicle_state=[22.13628016  7.97094337 -0.06315944  3.00000003 24.53185024]
2026-01-12 15:26:50,683 - INFO - integration_test - Step 93: Safety reset spline from 24.5319 to 24.8376 (vehicle at (22.14, 7.97), closest path point at (23.38, 6.30), distance=2.082m, drift=0.306m)
2026-01-12 15:26:50,683 - DEBUG - integration_test -   Set spline state to 24.8376
2026-01-12 15:26:50,685 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:50,703 - DEBUG - integration_test - Step 93: Checking path alignment: vehicle=(22.136, 7.971), path_start=(0.000, 0.000), dist=23.528m
2026-01-12 15:26:50,703 - WARNING - integration_test - Step 93: Vehicle is far from path start (dist=23.528m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:50,703 - INFO - integration_test - === Calling planner.solve_mpc() at step 93 ===
2026-01-12 15:26:50,707 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:50,716 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:50,716 - INFO - integration_test - Warmstart k=0: x0=22.136280156058564 , y0=7.970943367066852 , psi0=-0.063159436371577 , v0=3.000000029907808 , spline0=24.711102378883417 , a0=0.0 , w0=0.0
2026-01-12 15:26:50,716 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:50,717 - INFO - integration_test - Dyn residual k=0: pred=[22.43568199076944, 7.9520081309650665, -0.063159436371577, 3.000000029907808, 25.0111023818742], ws=[22.435681987784623, 7.952008131153836, -0.06315943637157684, 3.0, 24.88085235433588], res=[2.9848159499579197e-09, -1.8876988860938582e-10, -1.6653345369377348e-16, 2.990780778588942e-08, 0.13025002753832027], res_norm=1.303e-01
2026-01-12 15:26:50,718 - INFO - integration_test - Dyn residual k=1: pred=[22.73508381951068, 7.933072895240821, -0.06315943637157684, 3.0, 25.18085235433588], ws=[22.73508381951068, 7.933072895240821, -0.06315943637157684, 3.0, 25.315756549209468], res=[0.0, 0.0, 0.0, 0.0, -0.13490419487358807], res_norm=1.349e-01
2026-01-12 15:26:50,719 - INFO - integration_test - Dyn residual k=2: pred=[23.03448565123674, 7.914137659327806, -0.06315943637157684, 3.0, 25.61575654920947], ws=[23.03448565123674, 7.914137659327806, -0.06315943637157684, 3.0, 25.48151608094743], res=[0.0, 0.0, 0.0, 0.0, 0.13424046826203906], res_norm=1.342e-01
2026-01-12 15:26:50,733 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:50,752 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:50,767 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:50,778 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:50,792 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:50,804 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:50,817 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:50,828 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:50,842 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:50,854 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:50,867 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:50,878 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:50,892 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:50,903 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:50,917 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:50,929 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:50,942 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:50,954 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:50,968 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:50,978 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:50,991 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:51,001 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:51,165 - INFO - integration_test - Step 93: MPC solve successful
2026-01-12 15:26:51,178 - INFO - integration_test - Step 93: Computed 6 numeric contouring constraints for visualization (s=24.838)
2026-01-12 15:26:51,179 - DEBUG - integration_test - Step 93: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:51,179 - INFO - integration_test - === Applying control at step 93 ===
2026-01-12 15:26:51,179 - INFO - integration_test -   Control dict from planner: {'a': 6.13525092367162e-10, 'w': 0.8000000099975985}
2026-01-12 15:26:51,179 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:51,179 - INFO - integration_test -   Planner output success: True
2026-01-12 15:26:51,180 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:51,180 - INFO - integration_test - Step 93 completed in 0.498s
2026-01-12 15:26:51,195 - INFO - integration_test - Step 94 (contouring until path end)
2026-01-12 15:26:51,196 - DEBUG - integration_test - Syncing planner state at step 94: vehicle_state=[2.24361197e+01 7.96399801e+00 1.68405646e-02 3.00000003e+00
 2.51376465e+01]
2026-01-12 15:26:51,197 - DEBUG - integration_test - Step 94: Using propagated spline 25.1376 (close to path, dist=1.912m, drift=0.300m)
2026-01-12 15:26:51,197 - DEBUG - integration_test -   Set spline state to 25.1376
2026-01-12 15:26:51,199 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:51,217 - DEBUG - integration_test - Step 94: Checking path alignment: vehicle=(22.436, 7.964), path_start=(0.000, 0.000), dist=23.808m
2026-01-12 15:26:51,217 - WARNING - integration_test - Step 94: Vehicle is far from path start (dist=23.808m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:51,217 - INFO - integration_test - === Calling planner.solve_mpc() at step 94 ===
2026-01-12 15:26:51,221 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:51,230 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:51,230 - INFO - integration_test - Warmstart k=0: x0=22.43611974084094 , y0=7.963998009650852 , psi0=0.01684056462818284 , v0=3.0000000299691605 , spline0=25.151901472672744 , a0=0.0 , w0=0.0
2026-01-12 15:26:51,230 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:51,231 - INFO - integration_test - Dyn residual k=0: pred=[22.736077204150266, 7.969049940290066, 0.01684056462818284, 3.0000000299691605, 25.45190147566966], ws=[22.736077201153776, 7.969049940239599, 0.01684056462818262, 3.0, 25.573195934131565], res=[2.996490167106458e-09, 5.0467185985780816e-11, 2.220446049250313e-16, 2.996916048658704e-08, -0.12129445846190379], res_norm=1.213e-01
2026-01-12 15:26:51,232 - INFO - integration_test - Dyn residual k=1: pred=[23.036034661466612, 7.974101870828346, 0.01684056462818262, 3.0, 25.873195934131566], ws=[23.036034661466612, 7.974101870828346, 0.01684056462818262, 3.0, 25.72003156615382], res=[0.0, 0.0, 0.0, 0.0, 0.15316436797774458], res_norm=1.532e-01
2026-01-12 15:26:51,233 - INFO - integration_test - Dyn residual k=2: pred=[23.335992121779448, 7.979153801417094, 0.01684056462818262, 3.0, 26.020031566153822], ws=[23.335992121779448, 7.979153801417094, 0.01684056462818262, 3.0, 25.942260922667955], res=[0.0, 0.0, 0.0, 0.0, 0.07777064348586649], res_norm=7.777e-02
2026-01-12 15:26:51,246 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:51,265 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:51,280 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:51,291 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:51,305 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:51,316 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:51,330 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:51,341 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:51,355 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:51,366 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:51,379 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:51,391 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:51,404 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:51,415 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:51,429 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:51,440 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:51,453 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:51,464 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:51,478 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:51,489 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:51,501 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:51,512 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:51,655 - INFO - integration_test - Step 94: MPC solve successful
2026-01-12 15:26:51,668 - INFO - integration_test - Step 94: Computed 6 numeric contouring constraints for visualization (s=25.138)
2026-01-12 15:26:51,668 - DEBUG - integration_test - Step 94: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:51,668 - INFO - integration_test - === Applying control at step 94 ===
2026-01-12 15:26:51,668 - INFO - integration_test -   Control dict from planner: {'a': 2.1097364494215358e-10, 'w': 0.8000000099897189}
2026-01-12 15:26:51,668 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:51,668 - INFO - integration_test -   Planner output success: True
2026-01-12 15:26:51,670 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:51,670 - INFO - integration_test - Step 94 completed in 0.474s
2026-01-12 15:26:51,681 - INFO - integration_test - Step 95 (contouring until path end)
2026-01-12 15:26:51,682 - DEBUG - integration_test - Syncing planner state at step 95: vehicle_state=[22.73555539  7.98103645  0.09684057  3.00000003 25.4376465 ]
2026-01-12 15:26:51,683 - DEBUG - integration_test - Step 95: Using propagated spline 25.4376 (close to path, dist=1.766m, drift=0.006m)
2026-01-12 15:26:51,683 - DEBUG - integration_test -   Set spline state to 25.4376
2026-01-12 15:26:51,685 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:51,703 - DEBUG - integration_test - Step 95: Checking path alignment: vehicle=(22.736, 7.981), path_start=(0.000, 0.000), dist=24.096m
2026-01-12 15:26:51,703 - WARNING - integration_test - Step 95: Vehicle is far from path start (dist=24.096m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:51,703 - INFO - integration_test - === Calling planner.solve_mpc() at step 95 ===
2026-01-12 15:26:51,707 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:51,716 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:51,716 - INFO - integration_test - Warmstart k=0: x0=22.73555538666858 , y0=7.981036454484882 , psi0=0.09684056562715473 , v0=3.000000029990258 , spline0=25.574518748099557 , a0=0.0 , w0=0.0
2026-01-12 15:26:51,716 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:51,717 - INFO - integration_test - Dyn residual k=0: pred=[23.034149774395658, 8.0100432367488, 0.09684056562715473, 3.000000029990258, 25.874518751098584], ws=[23.034149771410686, 8.010043236458825, 0.0968405656271547, 3.0, 25.724497774334665], res=[2.984972269359787e-09, 2.899742668205363e-10, 2.7755575615628914e-17, 2.999025783267939e-08, 0.15002097676391912], res_norm=1.500e-01
2026-01-12 15:26:51,718 - INFO - integration_test - Dyn residual k=1: pred=[23.332744156152792, 8.03905001843277, 0.0968405656271547, 3.0, 26.024497774334666], ws=[23.332744156152792, 8.03905001843277, 0.0968405656271547, 3.0, 25.94822527248906], res=[0.0, 0.0, 0.0, 0.0, 0.07627250184560452], res_norm=7.627e-02
2026-01-12 15:26:51,719 - INFO - integration_test - Dyn residual k=2: pred=[23.631338540894898, 8.068056800406714, 0.0968405656271547, 3.0, 26.248225272489062], ws=[23.631338540894898, 8.068056800406714, 0.0968405656271547, 3.0, 26.347455772264116], res=[0.0, 0.0, 0.0, 0.0, -0.09923049977505372], res_norm=9.923e-02
2026-01-12 15:26:51,732 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:51,752 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:51,767 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:51,778 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:51,792 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:51,803 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:51,817 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:51,828 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:51,841 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:51,852 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:51,866 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:51,877 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:51,891 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:51,901 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:51,915 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:51,926 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:51,940 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:51,951 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:51,965 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:51,975 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:51,988 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:51,997 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:52,145 - INFO - integration_test - Step 95: MPC solve successful
2026-01-12 15:26:52,157 - INFO - integration_test - Step 95: Computed 6 numeric contouring constraints for visualization (s=25.438)
2026-01-12 15:26:52,158 - DEBUG - integration_test - Step 95: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:52,158 - INFO - integration_test - === Applying control at step 95 ===
2026-01-12 15:26:52,158 - INFO - integration_test -   Control dict from planner: {'a': 6.422610088300996e-11, 'w': 0.8000000099975397}
2026-01-12 15:26:52,158 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:52,158 - INFO - integration_test -   Planner output success: True
2026-01-12 15:26:52,159 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:52,159 - INFO - integration_test - Step 95 completed in 0.477s
2026-01-12 15:26:52,172 - INFO - integration_test - Step 96 (contouring until path end)
2026-01-12 15:26:52,174 - DEBUG - integration_test - Syncing planner state at step 96: vehicle_state=[23.03267173  8.02194971  0.17684057  3.00000003 25.73764651]
2026-01-12 15:26:52,174 - DEBUG - integration_test - Step 96: Using propagated spline 25.7376 (close to path, dist=1.630m, drift=0.294m)
2026-01-12 15:26:52,175 - DEBUG - integration_test -   Set spline state to 25.7376
2026-01-12 15:26:52,176 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:52,193 - DEBUG - integration_test - Step 96: Checking path alignment: vehicle=(23.033, 8.022), path_start=(0.000, 0.000), dist=24.390m
2026-01-12 15:26:52,194 - WARNING - integration_test - Step 96: Vehicle is far from path start (dist=24.390m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:52,194 - INFO - integration_test - === Calling planner.solve_mpc() at step 96 ===
2026-01-12 15:26:52,197 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:52,207 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:52,207 - INFO - integration_test - Warmstart k=0: x0=23.03267172721325 , y0=8.02194971366507 , psi0=0.17684056662690872 , v0=3.0000000299966803 , spline0=25.52711733450142 , a0=0.0 , w0=0.0
2026-01-12 15:26:52,207 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:52,208 - INFO - integration_test - Dyn residual k=0: pred=[23.327993054212204, 8.074725803131575, 0.17684056662690872, 3.0000000299966803, 25.827117337501086], ws=[23.32799305125932, 8.074725802603872, 0.17684056662690883, 3.0, 25.926523432811464], res=[2.9528841594128608e-09, 5.277023262806324e-10, -1.1102230246251565e-16, 2.999668025083224e-08, -0.09940609531037836], res_norm=9.941e-02
2026-01-12 15:26:52,209 - INFO - integration_test - Dyn residual k=1: pred=[23.62331437530539, 8.127501891542675, 0.17684056662690883, 3.0, 26.226523432811465], ws=[23.62331437530539, 8.127501891542675, 0.17684056662690883, 3.0, 26.15181331834232], res=[0.0, 0.0, 0.0, 0.0, 0.07471011446914488], res_norm=7.471e-02
2026-01-12 15:26:52,209 - INFO - integration_test - Dyn residual k=2: pred=[23.918635699351462, 8.180277980481478, 0.17684056662690883, 3.0, 26.45181331834232], ws=[23.918635699351462, 8.180277980481478, 0.17684056662690883, 3.0, 26.520600187519708], res=[0.0, 0.0, 0.0, 0.0, -0.06878686917738719], res_norm=6.879e-02
2026-01-12 15:26:52,223 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:52,243 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:52,257 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:52,268 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:52,282 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:52,293 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:52,307 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:52,318 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:52,332 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:52,343 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:52,357 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:52,368 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:52,382 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:52,394 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:52,408 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:52,419 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:52,433 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:52,444 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:52,457 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:52,467 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:52,480 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:52,491 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:52,665 - INFO - integration_test - Step 96: MPC solve successful
2026-01-12 15:26:52,678 - INFO - integration_test - Step 96: Computed 6 numeric contouring constraints for visualization (s=25.738)
2026-01-12 15:26:52,678 - DEBUG - integration_test - Step 96: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:52,679 - INFO - integration_test - === Applying control at step 96 ===
2026-01-12 15:26:52,679 - INFO - integration_test -   Control dict from planner: {'a': 2.1873119995369885e-11, 'w': 0.8000000099972041}
2026-01-12 15:26:52,679 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:52,679 - INFO - integration_test -   Planner output success: True
2026-01-12 15:26:52,679 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:52,680 - INFO - integration_test - Step 96 completed in 0.506s
2026-01-12 15:26:52,694 - INFO - integration_test - Step 97 (contouring until path end)
2026-01-12 15:26:52,695 - DEBUG - integration_test - Syncing planner state at step 97: vehicle_state=[23.32556823  8.08647608  0.25684057  3.00000003 26.03764651]
2026-01-12 15:26:52,696 - DEBUG - integration_test - Step 97: Using propagated spline 26.0376 (close to path, dist=1.519m, drift=0.012m)
2026-01-12 15:26:52,696 - DEBUG - integration_test -   Set spline state to 26.0376
2026-01-12 15:26:52,697 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:52,715 - DEBUG - integration_test - Step 97: Checking path alignment: vehicle=(23.326, 8.086), path_start=(0.000, 0.000), dist=24.688m
2026-01-12 15:26:52,715 - WARNING - integration_test - Step 97: Vehicle is far from path start (dist=24.688m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:52,715 - INFO - integration_test - === Calling planner.solve_mpc() at step 97 ===
2026-01-12 15:26:52,719 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:52,728 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:52,728 - INFO - integration_test - Warmstart k=0: x0=23.325568231787813 , y0=8.086476081947058 , psi0=0.2568405676266291 , v0=3.0000000299988674 , spline0=25.928522488504417 , a0=0.0 , w0=0.0
2026-01-12 15:26:52,729 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:52,729 - INFO - integration_test - Dyn residual k=0: pred=[23.615727449333345, 8.162683891739075, 0.2568405676266291, 3.0000000299988674, 26.228522491504304], ws=[23.615727446431862, 8.162683890977025, 0.2568405676266292, 3.0, 26.15660471219703], res=[2.901483497907975e-09, 7.620499786753498e-10, -1.1102230246251565e-16, 2.999886739019075e-08, 0.07191777930727383], res_norm=7.192e-02
2026-01-12 15:26:52,730 - INFO - integration_test - Dyn residual k=1: pred=[23.90588666107591, 8.238891700006992, 0.2568405676266292, 3.0, 26.45660471219703], ws=[23.90588666107591, 8.238891700006992, 0.2568405676266292, 3.0, 26.60766973169938], res=[0.0, 0.0, 0.0, 0.0, -0.15106501950235085], res_norm=1.511e-01
2026-01-12 15:26:52,731 - INFO - integration_test - Dyn residual k=2: pred=[24.19604587571996, 8.315099509036958, 0.2568405676266292, 3.0, 26.907669731699382], ws=[24.19604587571996, 8.315099509036958, 0.2568405676266292, 3.0, 26.967252269392546], res=[0.0, 0.0, 0.0, 0.0, -0.05958253769316357], res_norm=5.958e-02
2026-01-12 15:26:52,745 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:52,764 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:52,778 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:52,790 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:52,804 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:52,815 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:52,834 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:52,846 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:52,860 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:52,871 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:52,884 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:52,895 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:52,909 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:52,921 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:52,934 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:52,945 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:52,959 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:52,970 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:52,984 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:52,995 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:53,008 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:53,018 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:53,218 - INFO - integration_test - Step 97: MPC solve successful
2026-01-12 15:26:53,230 - INFO - integration_test - Step 97: Computed 6 numeric contouring constraints for visualization (s=26.038)
2026-01-12 15:26:53,230 - DEBUG - integration_test - Step 97: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:53,230 - INFO - integration_test - === Applying control at step 97 ===
2026-01-12 15:26:53,230 - INFO - integration_test -   Control dict from planner: {'a': 6.770996559773288e-12, 'w': 0.8000000099944915}
2026-01-12 15:26:53,231 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:53,231 - INFO - integration_test -   Planner output success: True
2026-01-12 15:26:53,231 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:53,232 - INFO - integration_test - Step 97 completed in 0.537s
2026-01-12 15:26:53,246 - INFO - integration_test - Step 98 (contouring until path end)
2026-01-12 15:26:53,248 - DEBUG - integration_test - Syncing planner state at step 98: vehicle_state=[23.61237136  8.17420281  0.33684057  3.00000003 26.33764651]
2026-01-12 15:26:53,248 - DEBUG - integration_test - Step 98: Using propagated spline 26.3376 (close to path, dist=1.424m, drift=0.288m)
2026-01-12 15:26:53,248 - DEBUG - integration_test -   Set spline state to 26.3376
2026-01-12 15:26:53,250 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:53,268 - DEBUG - integration_test - Step 98: Checking path alignment: vehicle=(23.612, 8.174), path_start=(0.000, 0.000), dist=24.987m
2026-01-12 15:26:53,268 - WARNING - integration_test - Step 98: Vehicle is far from path start (dist=24.987m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:53,268 - INFO - integration_test - === Calling planner.solve_mpc() at step 98 ===
2026-01-12 15:26:53,272 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:53,281 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:53,281 - INFO - integration_test - Warmstart k=0: x0=23.61237136225606 , y0=8.174202810766497 , psi0=0.33684056862607825 , v0=3.0000000299995446 , spline0=26.143132288121574 , a0=0.0 , w0=0.0
2026-01-12 15:26:53,281 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:53,282 - INFO - integration_test - Dyn residual k=0: pred=[23.895512441508256, 8.273354870956258, 0.33684056862607825, 3.0000000299995446, 26.44313229112153], ws=[23.89551243867689, 8.273354869964752, 0.33684056862607825, 3.0, 26.590816826833407], res=[2.8313671407431684e-09, 9.91505544334359e-10, 0.0, 2.9999544626235775e-08, -0.14768453571187834], res_norm=1.477e-01
2026-01-12 15:26:53,283 - INFO - integration_test - Dyn residual k=1: pred=[24.178653515097718, 8.372506929163007, 0.33684056862607825, 3.0, 26.890816826833408], ws=[24.178653515097718, 8.372506929163007, 0.33684056862607825, 3.0, 26.789496396823267], res=[0.0, 0.0, 0.0, 0.0, 0.10132043001014068], res_norm=1.013e-01
2026-01-12 15:26:53,284 - INFO - integration_test - Dyn residual k=2: pred=[24.461794591518547, 8.471658988361263, 0.33684056862607825, 3.0, 27.089496396823268], ws=[24.461794591518547, 8.471658988361263, 0.33684056862607825, 3.0, 27.196292443846843], res=[0.0, 0.0, 0.0, 0.0, -0.10679604702357537], res_norm=1.068e-01
2026-01-12 15:26:53,297 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:53,317 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:53,331 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:53,342 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:53,356 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:53,367 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:53,381 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:53,392 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:53,406 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:53,417 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:53,431 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:53,443 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:53,457 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:53,468 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:53,481 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:53,492 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:53,506 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:53,517 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:53,531 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:53,542 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:53,555 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:53,565 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:53,968 - INFO - integration_test - Step 98: MPC solve successful
2026-01-12 15:26:53,980 - INFO - integration_test - Step 98: Computed 6 numeric contouring constraints for visualization (s=26.338)
2026-01-12 15:26:53,980 - DEBUG - integration_test - Step 98: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:53,980 - INFO - integration_test - === Applying control at step 98 ===
2026-01-12 15:26:53,980 - INFO - integration_test -   Control dict from planner: {'a': -1.2395497488628056e-11, 'w': 0.8000000096377533}
2026-01-12 15:26:53,980 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:53,980 - INFO - integration_test -   Planner output success: True
2026-01-12 15:26:53,981 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:53,982 - INFO - integration_test - Step 98 completed in 0.734s
2026-01-12 15:26:53,996 - INFO - integration_test - Step 99 (contouring until path end)
2026-01-12 15:26:53,997 - DEBUG - integration_test - Syncing planner state at step 99: vehicle_state=[23.89124656  8.28456875  0.41684057  3.00000003 26.63764651]
2026-01-12 15:26:53,998 - DEBUG - integration_test - Step 99: Using propagated spline 26.6376 (close to path, dist=1.347m, drift=0.017m)
2026-01-12 15:26:53,998 - DEBUG - integration_test -   Set spline state to 26.6376
2026-01-12 15:26:53,999 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:54,017 - DEBUG - integration_test - Step 99: Checking path alignment: vehicle=(23.891, 8.285), path_start=(0.000, 0.000), dist=25.287m
2026-01-12 15:26:54,017 - WARNING - integration_test - Step 99: Vehicle is far from path start (dist=25.287m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:54,017 - INFO - integration_test - === Calling planner.solve_mpc() at step 99 ===
2026-01-12 15:26:54,021 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:54,031 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:54,031 - INFO - integration_test - Warmstart k=0: x0=23.891246557284923 , y0=8.284568748416593 , psi0=0.4168405695898536 , v0=3.000000029998305 , spline0=26.59551087646901 , a0=0.0 , w0=0.0
2026-01-12 15:26:54,031 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:54,032 - INFO - integration_test - Dyn residual k=0: pred=[24.165558361544225, 8.406030824160032, 0.4168405695898536, 3.000000029998305, 26.89551087946884], ws=[24.16555835880126, 8.40603082294548, 0.4168405695898536, 3.0, 26.796673115929416], res=[2.7429649662735756e-09, 1.214552014516812e-09, 0.0, 2.999830517325108e-08, 0.09883776353942508], res_norm=9.884e-02
2026-01-12 15:26:54,032 - INFO - integration_test - Dyn residual k=1: pred=[24.439870160317597, 8.527492897474367, 0.4168405695898536, 3.0, 27.096673115929416], ws=[24.439870160317597, 8.527492897474367, 0.4168405695898536, 3.0, 27.20450454863479], res=[0.0, 0.0, 0.0, 0.0, -0.10783143270537465], res_norm=1.078e-01
2026-01-12 15:26:54,033 - INFO - integration_test - Dyn residual k=2: pred=[24.714181961833933, 8.648954972003255, 0.4168405695898536, 3.0, 27.50450454863479], ws=[24.714181961833933, 8.648954972003255, 0.4168405695898536, 3.0, 27.452779480092786], res=[0.0, 0.0, 0.0, 0.0, 0.051725068542005204], res_norm=5.173e-02
2026-01-12 15:26:54,048 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:54,069 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:54,083 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:54,094 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:54,108 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:54,120 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:54,134 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:54,145 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:54,159 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:54,170 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:54,184 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:54,195 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:54,209 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:54,221 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:54,234 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:54,246 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:54,259 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:54,271 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:54,285 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:54,295 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:54,308 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:54,319 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:54,713 - INFO - integration_test - Step 99: MPC solve successful
2026-01-12 15:26:54,726 - INFO - integration_test - Step 99: Computed 6 numeric contouring constraints for visualization (s=26.638)
2026-01-12 15:26:54,726 - DEBUG - integration_test - Step 99: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:54,726 - INFO - integration_test - === Applying control at step 99 ===
2026-01-12 15:26:54,726 - INFO - integration_test -   Control dict from planner: {'a': -2.4996579283900965e-09, 'w': 0.24434748549678534}
2026-01-12 15:26:54,726 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:54,726 - INFO - integration_test -   Planner output success: True
2026-01-12 15:26:54,727 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:54,727 - INFO - integration_test - Step 99 completed in 0.730s
2026-01-12 15:26:54,742 - INFO - integration_test - Step 100 (contouring until path end)
2026-01-12 15:26:54,743 - DEBUG - integration_test - Syncing planner state at step 100: vehicle_state=[24.16404719  8.40936994  0.44127532  3.00000003 26.93764652]
2026-01-12 15:26:54,744 - DEBUG - integration_test - Step 100: Using propagated spline 26.9376 (close to path, dist=1.294m, drift=0.283m)
2026-01-12 15:26:54,744 - DEBUG - integration_test -   Set spline state to 26.9376
2026-01-12 15:26:54,745 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:54,763 - DEBUG - integration_test - Step 100: Checking path alignment: vehicle=(24.164, 8.409), path_start=(0.000, 0.000), dist=25.586m
2026-01-12 15:26:54,763 - WARNING - integration_test - Step 100: Vehicle is far from path start (dist=25.586m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:54,763 - INFO - integration_test - === Calling planner.solve_mpc() at step 100 ===
2026-01-12 15:26:54,766 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:54,776 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:54,776 - INFO - integration_test - Warmstart k=0: x0=24.164047191946338 , y0=8.409369941139309 , psi0=0.44127531813953214 , v0=3.0000000297483393 , spline0=26.788908554652544 , a0=0.0 , w0=0.0
2026-01-12 15:26:54,776 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:54,777 - INFO - integration_test - Dyn residual k=0: pred=[24.435309510420407, 8.537497831783668, 0.44127531813953214, 3.0000000297483393, 27.088908557627377], ws=[24.43530950773054, 8.537497830513137, 0.44127531813953214, 3.0, 27.194011276936372], res=[2.6898661076302233e-09, 1.2705303475968321e-09, 0.0, 2.974833934743515e-08, -0.10510271930899506], res_norm=1.051e-01
2026-01-12 15:26:54,778 - INFO - integration_test - Dyn residual k=1: pred=[24.706571823514743, 8.665625719886966, 0.44127531813953214, 3.0, 27.494011276936373], ws=[24.706571823514743, 8.665625719886966, 0.44127531813953214, 3.0, 27.438851853961765], res=[0.0, 0.0, 0.0, 0.0, 0.05515942297460796], res_norm=5.516e-02
2026-01-12 15:26:54,778 - INFO - integration_test - Dyn residual k=2: pred=[24.977834139298945, 8.793753609260795, 0.44127531813953214, 3.0, 27.738851853961766], ws=[24.977834139298945, 8.793753609260795, 0.44127531813953214, 3.0, 27.81776668899384], res=[0.0, 0.0, 0.0, 0.0, -0.07891483503207297], res_norm=7.891e-02
2026-01-12 15:26:54,792 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:54,811 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:54,825 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:54,837 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:54,851 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:54,862 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:54,876 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:54,887 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:54,901 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:54,912 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:54,925 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:54,937 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:54,951 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:54,962 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:54,976 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:54,987 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:55,001 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:55,012 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:55,027 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:55,037 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:55,050 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:55,060 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:55,401 - INFO - integration_test - Step 100: MPC solve successful
2026-01-12 15:26:55,413 - INFO - integration_test - Step 100: Computed 6 numeric contouring constraints for visualization (s=26.938)
2026-01-12 15:26:55,414 - DEBUG - integration_test - Step 100: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:55,414 - INFO - integration_test - === Applying control at step 100 ===
2026-01-12 15:26:55,414 - INFO - integration_test -   Control dict from planner: {'a': 1.6766978045611253e-09, 'w': -0.044140285107694986}
2026-01-12 15:26:55,414 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:55,414 - INFO - integration_test -   Planner output success: True
2026-01-12 15:26:55,415 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:55,415 - INFO - integration_test - Step 100 completed in 0.672s
2026-01-12 15:26:55,430 - INFO - integration_test - Step 101 (contouring until path end)
2026-01-12 15:26:55,431 - DEBUG - integration_test - Syncing planner state at step 101: vehicle_state=[24.43559141  8.53689874  0.43686129  3.00000003 27.23764652]
2026-01-12 15:26:55,432 - DEBUG - integration_test - Step 101: Using propagated spline 27.2376 (close to path, dist=1.221m, drift=0.023m)
2026-01-12 15:26:55,432 - DEBUG - integration_test -   Set spline state to 27.2376
2026-01-12 15:26:55,433 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:55,451 - DEBUG - integration_test - Step 101: Checking path alignment: vehicle=(24.436, 8.537), path_start=(0.000, 0.000), dist=25.884m
2026-01-12 15:26:55,451 - WARNING - integration_test - Step 101: Vehicle is far from path start (dist=25.884m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:55,451 - INFO - integration_test - === Calling planner.solve_mpc() at step 101 ===
2026-01-12 15:26:55,455 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:55,465 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:55,465 - INFO - integration_test - Warmstart k=0: x0=24.435591409187683 , y0=8.53689873688942 , psi0=0.43686128962876264 , v0=3.0000000299160092 , spline0=27.20189320321039 , a0=0.0 , w0=0.0
2026-01-12 15:26:55,465 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:55,466 - INFO - integration_test - Dyn residual k=0: pred=[24.707416643417314, 8.663828023624069, 0.43686128962876264, 3.0000000299160092, 27.50189320620199], ws=[24.707416640706672, 8.66382802235833, 0.4368612896287627, 3.0, 27.44887560224888], res=[2.7106423772238486e-09, 1.2657377368441303e-09, -5.551115123125783e-17, 2.991600922541693e-08, 0.05301760395311206], res_norm=5.302e-02
2026-01-12 15:26:55,467 - INFO - integration_test - Dyn residual k=1: pred=[24.97924187222566, 8.790757307827242, 0.4368612896287627, 3.0, 27.74887560224888], ws=[24.97924187222566, 8.790757307827242, 0.4368612896287627, 3.0, 27.828749569957424], res=[0.0, 0.0, 0.0, 0.0, -0.0798739677085436], res_norm=7.987e-02
2026-01-12 15:26:55,467 - INFO - integration_test - Dyn residual k=2: pred=[25.25106710374465, 8.917686593296153, 0.4368612896287627, 3.0, 28.128749569957424], ws=[25.25106710374465, 8.917686593296153, 0.4368612896287627, 3.0, 28.04293874885316], res=[0.0, 0.0, 0.0, 0.0, 0.08581082110426408], res_norm=8.581e-02
2026-01-12 15:26:55,481 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:55,501 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:55,515 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:55,526 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:55,540 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:55,551 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:55,566 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:55,577 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:55,590 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:55,601 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:55,616 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:55,627 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:55,640 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:55,651 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:55,665 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:55,676 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:55,690 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:55,701 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:55,716 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:55,726 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:55,739 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:55,749 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:55,927 - INFO - integration_test - Step 101: MPC solve successful
2026-01-12 15:26:55,940 - INFO - integration_test - Step 101: Computed 6 numeric contouring constraints for visualization (s=27.238)
2026-01-12 15:26:55,940 - DEBUG - integration_test - Step 101: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:26:55,940 - INFO - integration_test - === Applying control at step 101 ===
2026-01-12 15:26:55,940 - INFO - integration_test -   Control dict from planner: {'a': 5.587146427725779e-10, 'w': 0.05443280562179616}
2026-01-12 15:26:55,940 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:26:55,941 - INFO - integration_test -   Planner output success: True
2026-01-12 15:26:55,941 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:26:55,942 - INFO - integration_test - Step 101 completed in 0.511s
2026-01-12 15:26:55,955 - INFO - integration_test - Step 102 (contouring until path end)
2026-01-12 15:26:55,957 - DEBUG - integration_test - Syncing planner state at step 102: vehicle_state=[24.70706985  8.66456721  0.44230457  3.00000003 27.53764652]
2026-01-12 15:26:55,958 - DEBUG - integration_test - Step 102: Using propagated spline 27.5376 (close to path, dist=1.179m, drift=0.277m)
2026-01-12 15:26:55,958 - DEBUG - integration_test -   Set spline state to 27.5376
2026-01-12 15:26:55,959 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:55,976 - DEBUG - integration_test - Step 102: Checking path alignment: vehicle=(24.707, 8.665), path_start=(0.000, 0.000), dist=26.182m
2026-01-12 15:26:55,977 - WARNING - integration_test - Step 102: Vehicle is far from path start (dist=26.182m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:26:55,977 - INFO - integration_test - === Calling planner.solve_mpc() at step 102 ===
2026-01-12 15:26:55,980 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:26:55,990 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:26:55,990 - INFO - integration_test - Warmstart k=0: x0=24.7070698460832 , y0=8.664567205502065 , psi0=0.44230457019094227 , v0=3.0000000299718805 , spline0=27.446264315747577 , a0=0.0 , w0=0.0
2026-01-12 15:26:55,990 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:26:55,991 - INFO - integration_test - Dyn residual k=0: pred=[24.978200145024285, 8.792974225537696, 0.44230457019094227, 3.0000000299718805, 27.746264318744764], ws=[24.978200142315522, 8.792974224254829, 0.4423045701909425, 3.0, 27.828068023330694], res=[2.708762991687763e-09, 1.2828671458464669e-09, -2.220446049250313e-16, 2.9971880532997375e-08, -0.08180370458592989], res_norm=8.180e-02
2026-01-12 15:26:55,991 - INFO - integration_test - Dyn residual k=1: pred=[25.249330438547844, 8.921381243007593, 0.4423045701909425, 3.0, 28.128068023330695], ws=[25.249330438547844, 8.921381243007593, 0.4423045701909425, 3.0, 28.043739576058183], res=[0.0, 0.0, 0.0, 0.0, 0.08432844727251165], res_norm=8.433e-02
2026-01-12 15:26:55,992 - INFO - integration_test - Dyn residual k=2: pred=[25.520460734780166, 9.049788261760357, 0.4423045701909425, 3.0, 28.343739576058184], ws=[25.520460734780166, 9.049788261760357, 0.4423045701909425, 3.0, 28.253354944221375], res=[0.0, 0.0, 0.0, 0.0, 0.09038463183680889], res_norm=9.038e-02
2026-01-12 15:26:56,006 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:56,025 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:56,041 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:56,052 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:56,067 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:56,078 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:56,092 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:56,103 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:56,116 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:56,128 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:56,142 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:56,154 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:56,168 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:56,179 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:56,192 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:56,204 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:56,218 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:56,230 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:26:56,244 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:56,254 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:26:56,267 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:26:56,277 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:27:05,193 - WARNING - integration_test - Step 102: MPC solve failed
2026-01-12 15:27:05,193 - WARNING - integration_test -   Consecutive MPC failures: 1/50
2026-01-12 15:27:05,203 - INFO - integration_test - Step 102: Computed 6 numeric contouring constraints for visualization (s=27.538)
2026-01-12 15:27:05,203 - DEBUG - integration_test - Step 102: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:27:05,204 - INFO - integration_test - === Applying control at step 102 ===
2026-01-12 15:27:05,204 - INFO - integration_test -   Control dict from planner: {'a': 0.0, 'w': 0.0}
2026-01-12 15:27:05,204 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:27:05,204 - INFO - integration_test -   Planner output success: False
2026-01-12 15:27:05,204 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': 0.0, 'w': 0.0}
2026-01-12 15:27:05,205 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:27:05,205 - INFO - integration_test - Step 102 completed in 9.248s
2026-01-12 15:27:05,216 - INFO - integration_test - Step 103 (contouring until path end)
2026-01-12 15:27:05,218 - DEBUG - integration_test - Syncing planner state at step 103: vehicle_state=[24.97820015  8.79297423  0.44230457  3.00000003 27.83764653]
2026-01-12 15:27:05,218 - DEBUG - integration_test - Step 103: Using propagated spline 27.8376 (close to path, dist=1.093m, drift=0.029m)
2026-01-12 15:27:05,218 - DEBUG - integration_test -   Set spline state to 27.8376
2026-01-12 15:27:05,220 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:27:05,238 - DEBUG - integration_test - Step 103: Checking path alignment: vehicle=(24.978, 8.793), path_start=(0.000, 0.000), dist=26.481m
2026-01-12 15:27:05,238 - WARNING - integration_test - Step 103: Vehicle is far from path start (dist=26.481m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:27:05,238 - INFO - integration_test - === Calling planner.solve_mpc() at step 103 ===
2026-01-12 15:27:05,242 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:27:05,252 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:27:05,252 - INFO - integration_test - Warmstart k=0: x0=24.978200145024285 , y0=8.792974225537696 , psi0=0.44230457019094227 , v0=3.0000000299718805 , spline0=27.816824721459422 , a0=0.0 , w0=0.0
2026-01-12 15:27:05,252 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:27:05,254 - INFO - integration_test - Dyn residual k=0: pred=[25.24933044396537, 8.921381245573327, 0.44230457019094227, 3.0000000299718805, 28.11682472445661], ws=[25.249330441256607, 8.92138124429046, 0.4423045701909425, 3.0, 28.03027103743682], res=[2.708762991687763e-09, 1.2828671458464669e-09, -2.220446049250313e-16, 2.9971880532997375e-08, 0.08655368701979071], res_norm=8.655e-02
2026-01-12 15:27:05,254 - INFO - integration_test - Dyn residual k=1: pred=[25.52046073748893, 9.049788263043224, 0.4423045701909425, 3.0, 28.33027103743682], ws=[25.52046073748893, 9.049788263043224, 0.4423045701909425, 3.0, 28.489263914618242], res=[0.0, 0.0, 0.0, 0.0, -0.1589928771814222], res_norm=1.590e-01
2026-01-12 15:27:05,255 - INFO - integration_test - Dyn residual k=2: pred=[25.79159103372125, 9.178195281795988, 0.4423045701909425, 3.0, 28.789263914618243], ws=[25.79159103372125, 9.178195281795988, 0.4423045701909425, 3.0, 28.665220820638464], res=[0.0, 0.0, 0.0, 0.0, 0.12404309397977897], res_norm=1.240e-01
2026-01-12 15:27:05,270 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:05,290 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:05,304 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:05,315 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:05,328 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:05,340 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:05,353 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:05,364 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:05,378 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:05,389 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:05,403 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:05,413 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:05,427 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:05,438 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:05,451 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:05,462 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:05,476 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:05,487 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:05,501 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:05,511 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:27:05,524 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:05,534 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:27:05,696 - INFO - integration_test - Step 103: MPC solve successful
2026-01-12 15:27:05,708 - INFO - integration_test - Step 103: Computed 6 numeric contouring constraints for visualization (s=27.838)
2026-01-12 15:27:05,708 - DEBUG - integration_test - Step 103: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:27:05,708 - INFO - integration_test - === Applying control at step 103 ===
2026-01-12 15:27:05,708 - INFO - integration_test -   Control dict from planner: {'a': 1.8476960800044324e-10, 'w': 0.1714896119958375}
2026-01-12 15:27:05,708 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:27:05,708 - INFO - integration_test -   Planner output success: True
2026-01-12 15:27:05,709 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:27:05,710 - INFO - integration_test - Step 103 completed in 0.492s
2026-01-12 15:27:05,723 - INFO - integration_test - Step 104 (contouring until path end)
2026-01-12 15:27:05,725 - DEBUG - integration_test - Syncing planner state at step 104: vehicle_state=[25.24821616  8.9236997   0.45945353  3.00000003 28.13764653]
2026-01-12 15:27:05,725 - DEBUG - integration_test - Step 104: Using propagated spline 28.1376 (close to path, dist=1.063m, drift=0.271m)
2026-01-12 15:27:05,725 - DEBUG - integration_test -   Set spline state to 28.1376
2026-01-12 15:27:05,727 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:27:05,744 - DEBUG - integration_test - Step 104: Checking path alignment: vehicle=(25.248, 8.924), path_start=(0.000, 0.000), dist=26.779m
2026-01-12 15:27:05,744 - WARNING - integration_test - Step 104: Vehicle is far from path start (dist=26.779m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:27:05,744 - INFO - integration_test - === Calling planner.solve_mpc() at step 104 ===
2026-01-12 15:27:05,748 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:27:05,757 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:27:05,757 - INFO - integration_test - Warmstart k=0: x0=25.248216158340153 , y0=8.923699696381476 , psi0=0.459453531390526 , v0=3.0000000299903573 , spline0=28.030892803391296 , a0=0.0 , w0=0.0
2026-01-12 15:27:05,757 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:27:05,758 - INFO - integration_test - Dyn residual k=0: pred=[25.51710465125567, 9.056737210553393, 0.459453531390526, 3.0000000299903573, 28.33089280639033], ws=[25.51710464856765, 9.056737209223446, 0.45945353139052614, 3.0, 28.491006652326295], res=[2.688022249230926e-09, 1.3299477075179311e-09, -1.1102230246251565e-16, 2.9990357308662396e-08, -0.1601138459359639], res_norm=1.601e-01
2026-01-12 15:27:05,759 - INFO - integration_test - Dyn residual k=1: pred=[25.785993138795146, 9.189774722065415, 0.45945353139052614, 3.0, 28.791006652326296], ws=[25.785993138795146, 9.189774722065415, 0.45945353139052614, 3.0, 28.66788970854906], res=[0.0, 0.0, 0.0, 0.0, 0.12311694377723725], res_norm=1.231e-01
2026-01-12 15:27:05,760 - INFO - integration_test - Dyn residual k=2: pred=[26.054881629022642, 9.322812234907385, 0.45945353139052614, 3.0, 28.96788970854906], ws=[26.054881629022642, 9.322812234907385, 0.45945353139052614, 3.0, 28.89320031044533], res=[0.0, 0.0, 0.0, 0.0, 0.07468939810372888], res_norm=7.469e-02
2026-01-12 15:27:05,773 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:05,792 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:05,806 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:05,817 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:05,831 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:05,842 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:05,856 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:05,867 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:05,881 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:05,892 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:05,906 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:05,917 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:05,931 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:05,942 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:05,955 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:05,966 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:05,980 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:05,991 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:06,005 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:06,015 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:27:06,028 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:06,038 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:27:06,182 - INFO - integration_test - Step 104: MPC solve successful
2026-01-12 15:27:06,195 - INFO - integration_test - Step 104: Computed 6 numeric contouring constraints for visualization (s=28.138)
2026-01-12 15:27:06,195 - DEBUG - integration_test - Step 104: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:27:06,195 - INFO - integration_test - === Applying control at step 104 ===
2026-01-12 15:27:06,195 - INFO - integration_test -   Control dict from planner: {'a': -1.1984927457883713e-06, 'w': 0.4432948729155362}
2026-01-12 15:27:06,195 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:27:06,195 - INFO - integration_test -   Planner output success: True
2026-01-12 15:27:06,196 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:27:06,196 - INFO - integration_test - Step 104 completed in 0.472s
2026-01-12 15:27:06,211 - INFO - integration_test - Step 105 (contouring until path end)
2026-01-12 15:27:06,212 - DEBUG - integration_test - Syncing planner state at step 105: vehicle_state=[25.51406833  9.06265251  0.50378302  2.99999991 28.43764652]
2026-01-12 15:27:06,212 - DEBUG - integration_test - Step 105: Using propagated spline 28.4376 (close to path, dist=0.974m, drift=0.035m)
2026-01-12 15:27:06,213 - DEBUG - integration_test -   Set spline state to 28.4376
2026-01-12 15:27:06,214 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:27:06,232 - DEBUG - integration_test - Step 105: Checking path alignment: vehicle=(25.514, 9.063), path_start=(0.000, 0.000), dist=27.076m
2026-01-12 15:27:06,232 - WARNING - integration_test - Step 105: Vehicle is far from path start (dist=27.076m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:27:06,232 - INFO - integration_test - === Calling planner.solve_mpc() at step 105 ===
2026-01-12 15:27:06,236 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:27:06,245 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:27:06,245 - INFO - integration_test - Warmstart k=0: x0=25.514068329811035 , y0=9.062652508729148 , psi0=0.5037830186820796 , v0=2.999999910141083 , spline0=28.485218257129823 , a0=0.0 , w0=0.0
2026-01-12 15:27:06,245 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:27:06,246 - INFO - integration_test - Dyn residual k=0: pred=[25.77679710518499, 9.207475107790781, 0.5037830186820796, 2.999999910141083, 28.78521824814393], ws=[25.77679710518499, 9.207475107790781, 0.5037830186820798, 2.999999910141083, 28.66077841718394], res=[0.0, 0.0, -1.1102230246251565e-16, 0.0, 0.12443983095998945], res_norm=1.244e-01
2026-01-12 15:27:06,247 - INFO - integration_test - Dyn residual k=1: pred=[26.039525880558944, 9.352297706852415, 0.5037830186820798, 2.999999910141083, 28.96077840819805], ws=[26.039525880558944, 9.352297706852415, 0.5037830186820798, 2.999999910141083, 28.885471963832646], res=[0.0, 0.0, 0.0, 0.0, 0.07530644436540257], res_norm=7.531e-02
2026-01-12 15:27:06,248 - INFO - integration_test - Dyn residual k=2: pred=[26.3022546559329, 9.497120305914049, 0.5037830186820798, 2.999999910141083, 29.185471954846754], ws=[26.3022546559329, 9.497120305914049, 0.5037830186820798, 2.999999910141083, 29.304532430396925], res=[0.0, 0.0, 0.0, 0.0, -0.11906047555017096], res_norm=1.191e-01
2026-01-12 15:27:06,261 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:06,281 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:06,295 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:06,306 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:06,320 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:06,331 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:06,344 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:06,355 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:06,369 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:06,380 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:06,394 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:06,405 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:06,418 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:06,429 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:06,443 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:06,454 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:06,468 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:06,479 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:06,493 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:06,503 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:27:06,516 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:06,526 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:27:06,650 - INFO - integration_test - Step 105: MPC solve successful
2026-01-12 15:27:06,663 - INFO - integration_test - Step 105: Computed 6 numeric contouring constraints for visualization (s=28.438)
2026-01-12 15:27:06,663 - DEBUG - integration_test - Step 105: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:27:06,663 - INFO - integration_test - === Applying control at step 105 ===
2026-01-12 15:27:06,663 - INFO - integration_test -   Control dict from planner: {'a': -1.9999996397240072, 'w': 0.10891050108362951}
2026-01-12 15:27:06,663 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:27:06,663 - INFO - integration_test -   Planner output success: True
2026-01-12 15:27:06,664 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:27:06,665 - INFO - integration_test - Step 105 completed in 0.453s
2026-01-12 15:27:06,678 - INFO - integration_test - Step 106 (contouring until path end)
2026-01-12 15:27:06,679 - DEBUG - integration_test - Syncing planner state at step 106: vehicle_state=[25.76728097  9.20401206  0.51467407  2.79999995 28.71764652]
2026-01-12 15:27:06,689 - DEBUG - integration_test - Step 106: Using propagated spline 28.7176 (close to path, dist=0.967m, drift=0.361m)
2026-01-12 15:27:06,689 - DEBUG - integration_test -   Set spline state to 28.7176
2026-01-12 15:27:06,691 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:27:06,708 - DEBUG - integration_test - Step 106: Checking path alignment: vehicle=(25.767, 9.204), path_start=(0.000, 0.000), dist=27.362m
2026-01-12 15:27:06,708 - WARNING - integration_test - Step 106: Vehicle is far from path start (dist=27.362m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:27:06,708 - INFO - integration_test - === Calling planner.solve_mpc() at step 106 ===
2026-01-12 15:27:06,712 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:27:06,723 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:27:06,723 - INFO - integration_test - Warmstart k=0: x0=25.767280969167096 , y0=9.204012064980885 , psi0=0.5146740687904426 , v0=2.799999946168682 , spline0=28.65948835770296 , a0=0.0 , w0=0.0
2026-01-12 15:27:06,723 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:27:06,724 - INFO - integration_test - Dyn residual k=0: pred=[26.011007862874834, 9.341842389180691, 0.5146740687904426, 2.799999946168682, 28.939488352319827], ws=[26.011007862874834, 9.341842389180691, 0.5146740687904425, 2.799999946168682, 28.881969645623435], res=[0.0, 0.0, 1.1102230246251565e-16, 0.0, 0.05751870669639203], res_norm=5.752e-02
2026-01-12 15:27:06,725 - INFO - integration_test - Dyn residual k=1: pred=[26.25473475658257, 9.479672713380497, 0.5146740687904425, 2.799999946168682, 29.161969640240304], ws=[26.25473475658257, 9.479672713380497, 0.5146740687904425, 2.799999946168682, 29.301426035964578], res=[0.0, 0.0, 0.0, 0.0, -0.13945639572427382], res_norm=1.395e-01
2026-01-12 15:27:06,725 - INFO - integration_test - Dyn residual k=2: pred=[26.49846165029031, 9.617503037580303, 0.5146740687904425, 2.799999946168682, 29.581426030581447], ws=[26.49846165029031, 9.617503037580303, 0.5146740687904425, 2.799999946168682, 29.68401654458851], res=[0.0, 0.0, 0.0, 0.0, -0.10259051400706198], res_norm=1.026e-01
2026-01-12 15:27:06,739 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:06,760 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:06,774 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:06,785 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:06,800 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:06,811 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:06,824 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:06,835 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:06,849 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:06,860 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:06,874 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:06,884 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:06,898 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:06,909 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:06,923 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:06,934 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:06,948 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:06,959 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:06,972 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:06,982 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:27:06,995 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:07,005 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:27:07,144 - INFO - integration_test - Step 106: MPC solve successful
2026-01-12 15:27:07,157 - INFO - integration_test - Step 106: Computed 6 numeric contouring constraints for visualization (s=28.718)
2026-01-12 15:27:07,157 - DEBUG - integration_test - Step 106: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:27:07,157 - INFO - integration_test - === Applying control at step 106 ===
2026-01-12 15:27:07,157 - INFO - integration_test -   Control dict from planner: {'a': -2.0000000199739687, 'w': -0.7240603329584567}
2026-01-12 15:27:07,157 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:27:07,157 - INFO - integration_test -   Planner output success: True
2026-01-12 15:27:07,158 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:27:07,159 - INFO - integration_test - Step 106 completed in 0.479s
2026-01-12 15:27:07,171 - INFO - integration_test - Step 107 (contouring until path end)
2026-01-12 15:27:07,173 - DEBUG - integration_test - Syncing planner state at step 107: vehicle_state=[26.00685204  9.32840608  0.44226804  2.59999994 28.97764651]
2026-01-12 15:27:07,173 - DEBUG - integration_test - Step 107: Using propagated spline 28.9776 (close to path, dist=0.876m, drift=0.101m)
2026-01-12 15:27:07,173 - DEBUG - integration_test -   Set spline state to 28.9776
2026-01-12 15:27:07,175 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:27:07,192 - DEBUG - integration_test - Step 107: Checking path alignment: vehicle=(26.007, 9.328), path_start=(0.000, 0.000), dist=27.629m
2026-01-12 15:27:07,192 - WARNING - integration_test - Step 107: Vehicle is far from path start (dist=27.629m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-12 15:27:07,192 - INFO - integration_test - === Calling planner.solve_mpc() at step 107 ===
2026-01-12 15:27:07,195 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-12 15:27:07,205 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['contouring_constraints', 'gaussian_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-12 15:27:07,205 - INFO - integration_test - Warmstart k=0: x0=26.006852042617002 , y0=9.32840607737639 , psi0=0.442268035494597 , v0=2.5999999441712855 , spline0=28.87705512548447 , a0=0.0 , w0=0.0
2026-01-12 15:27:07,205 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-12 15:27:07,206 - INFO - integration_test - Dyn residual k=0: pred=[26.241835693285733, 9.439683572923798, 0.442268035494597, 2.5999999441712855, 29.1370551199016], ws=[26.241835693285733, 9.439683572923798, 0.4422680354945969, 2.5999999441712855, 29.247188896459786], res=[0.0, 0.0, 5.551115123125783e-17, 0.0, -0.11013377655818601], res_norm=1.101e-01
2026-01-12 15:27:07,207 - INFO - integration_test - Dyn residual k=1: pred=[26.476819343954464, 9.550961068471205, 0.4422680354945969, 2.5999999441712855, 29.507188890876915], ws=[26.476819343954464, 9.550961068471205, 0.4422680354945969, 2.5999999441712855, 29.4245123966475], res=[0.0, 0.0, 0.0, 0.0, 0.08267649422941403], res_norm=8.268e-02
2026-01-12 15:27:07,207 - INFO - integration_test - Dyn residual k=2: pred=[26.711802994623195, 9.662238564018612, 0.4422680354945969, 2.5999999441712855, 29.68451239106463], ws=[26.711802994623195, 9.662238564018612, 0.4422680354945969, 2.5999999441712855, 29.633511494083457], res=[0.0, 0.0, 0.0, 0.0, 0.05100089698117216], res_norm=5.100e-02
2026-01-12 15:27:07,220 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:07,240 - INFO - integration_test - Stage 0: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:07,253 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:07,264 - INFO - integration_test - Stage 1: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:07,278 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:07,289 - INFO - integration_test - Stage 2: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:07,303 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:07,314 - INFO - integration_test - Stage 3: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:07,327 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:07,338 - INFO - integration_test - Stage 4: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:07,351 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:07,362 - INFO - integration_test - Stage 5: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:07,376 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:07,387 - INFO - integration_test - Stage 6: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:07,400 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:07,412 - INFO - integration_test - Stage 7: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:07,425 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:07,436 - INFO - integration_test - Stage 8: constraints count=2 (linearized=0, contouring=0, other=2)
2026-01-12 15:27:07,450 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:07,461 - INFO - integration_test - Stage 9: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:27:07,473 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-12 15:27:07,484 - INFO - integration_test - Stage 10: constraints count=0 (linearized=0, contouring=0, other=0)
2026-01-12 15:27:07,652 - INFO - integration_test - Step 107: MPC solve successful
2026-01-12 15:27:07,665 - INFO - integration_test - Step 107: Computed 6 numeric contouring constraints for visualization (s=28.978)
2026-01-12 15:27:07,665 - DEBUG - integration_test - Step 107: Captured 6 contouring constraint halfspaces for visualization
2026-01-12 15:27:07,665 - INFO - integration_test - === Applying control at step 107 ===
2026-01-12 15:27:07,665 - INFO - integration_test -   Control dict from planner: {'a': -2.0000000199991623, 'w': -0.8000000099537369}
2026-01-12 15:27:07,665 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-12 15:27:07,665 - INFO - integration_test -   Planner output success: True
2026-01-12 15:27:07,666 - WARNING - integration_test -   Error using dynamics model discrete_dynamics: .../casadi/core/matrix_impl.hpp:1386: Dimension mismatch for (x+y), x is 5x1, while y is 4x1, attempting symbolic_dynamics fallback
2026-01-12 15:27:07,667 - INFO - integration_test - Goal reached at step 107!
2026-01-12 15:27:07,667 - INFO - integration_test - Step 107 completed in 0.494s
2026-01-12 15:27:07,681 - INFO - integration_test - Goal reached at step 107, added 3 extra frames for visualization
2026-01-12 15:27:07,681 - INFO - integration_test - Saving test results...
2026-01-12 15:27:07,682 - INFO - integration_test - Saved 112 vehicle states to test_outputs/20260112_152518_contouring_contouring_gaussian_contouring_unicycle/vehicle_states.csv
2026-01-12 15:27:07,682 - INFO - integration_test - Saved obstacle summary to test_outputs/20260112_152518_contouring_contouring_gaussian_contouring_unicycle/obstacle_summary.csv
2026-01-12 15:27:07,682 - INFO - integration_test - Saved 119 states for obstacle 0 to test_outputs/20260112_152518_contouring_contouring_gaussian_contouring_unicycle/obstacle_0_detailed_states.csv
2026-01-12 15:27:07,683 - INFO - integration_test - Saved 119 states for obstacle 1 to test_outputs/20260112_152518_contouring_contouring_gaussian_contouring_unicycle/obstacle_1_detailed_states.csv
2026-01-12 15:27:07,683 - INFO - integration_test - Saved state history: 112 vehicle states, 2 obstacles
2026-01-12 15:27:07,683 - INFO - integration_test - Creating animation...
2026-01-12 15:27:07,725 - DEBUG - integration_test - Frame 0: Drawing 6 contouring constraint halfspaces
2026-01-12 15:27:07,729 - INFO - integration_test - Frame 0: Found Gaussian module 'gaussian_constraints', calling visualizer
2026-01-12 15:27:07,729 - INFO - integration_test - Frame 0: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:07,730 - INFO - integration_test - Frame 0: Obstacle 0 has Gaussian prediction with major_radius=0.55, minor_radius=0.44999999999999996, position=[7.63224169 6.0385516 ]
2026-01-12 15:27:07,730 - INFO - integration_test - Frame 0: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:07,730 - INFO - integration_test - Frame 0: Obstacle 1 has Gaussian prediction with major_radius=0.55, minor_radius=0.44999999999999996, position=[16.8414233   2.71069981]
2026-01-12 15:27:07,730 - INFO - integration_test - Frame 0: Found 2/2 obstacles with Gaussian predictions, calling visualizer
2026-01-12 15:27:07,730 - INFO - integration_test - Frame 0: About to call Gaussian visualizer.visualize()
2026-01-12 15:27:07,730 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:07,730 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:07,731 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.63, 6.04), size=(2.20, 1.95), color=red
2026-01-12 15:27:07,732 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:07,734 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.84, 2.71), size=(2.20, 1.95), color=orange
2026-01-12 15:27:07,735 - INFO - integration_test - Frame 0: Gaussian visualizer.visualize() completed
2026-01-12 15:27:07,735 - INFO - integration_test - Frame 0: Visualizer added 4 ellipses, 2 markers, and 2 text annotations for Gaussian constraints
2026-01-12 15:27:07,735 - DEBUG - integration_test - Frame 0: Drawing 6 contouring constraint halfspaces
2026-01-12 15:27:07,740 - INFO - integration_test - Frame 0: Found Gaussian module 'gaussian_constraints', calling visualizer
2026-01-12 15:27:07,740 - INFO - integration_test - Frame 0: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:07,740 - INFO - integration_test - Frame 0: Obstacle 0 has Gaussian prediction with major_radius=0.55, minor_radius=0.44999999999999996, position=[7.63224169 6.0385516 ]
2026-01-12 15:27:07,740 - INFO - integration_test - Frame 0: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:07,740 - INFO - integration_test - Frame 0: Obstacle 1 has Gaussian prediction with major_radius=0.55, minor_radius=0.44999999999999996, position=[16.8414233   2.71069981]
2026-01-12 15:27:07,740 - INFO - integration_test - Frame 0: Found 2/2 obstacles with Gaussian predictions, calling visualizer
2026-01-12 15:27:07,740 - INFO - integration_test - Frame 0: About to call Gaussian visualizer.visualize()
2026-01-12 15:27:07,740 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:07,740 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:07,742 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.63, 6.04), size=(2.20, 1.95), color=red
2026-01-12 15:27:07,743 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:07,744 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.84, 2.71), size=(2.20, 1.95), color=orange
2026-01-12 15:27:07,745 - INFO - integration_test - Frame 0: Gaussian visualizer.visualize() completed
2026-01-12 15:27:07,746 - INFO - integration_test - Frame 0: Visualizer added 4 ellipses, 2 markers, and 2 text annotations for Gaussian constraints
2026-01-12 15:27:07,867 - DEBUG - integration_test - Frame 1: Drawing 6 contouring constraint halfspaces
2026-01-12 15:27:07,874 - INFO - integration_test - Frame 1: Found Gaussian module 'gaussian_constraints', calling visualizer
2026-01-12 15:27:07,874 - INFO - integration_test - Frame 1: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:07,874 - INFO - integration_test - Frame 1: Obstacle 0 has Gaussian prediction with major_radius=0.55, minor_radius=0.44999999999999996, position=[7.65346773 5.93571943]
2026-01-12 15:27:07,874 - INFO - integration_test - Frame 1: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:07,874 - INFO - integration_test - Frame 1: Obstacle 1 has Gaussian prediction with major_radius=0.55, minor_radius=0.44999999999999996, position=[16.84125447  2.81569967]
2026-01-12 15:27:07,874 - INFO - integration_test - Frame 1: Found 2/2 obstacles with Gaussian predictions, calling visualizer
2026-01-12 15:27:07,874 - INFO - integration_test - Frame 1: About to call Gaussian visualizer.visualize()
2026-01-12 15:27:07,874 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:07,874 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:07,876 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.65, 5.94), size=(2.20, 1.95), color=red
2026-01-12 15:27:07,877 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:07,878 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.84, 2.82), size=(2.20, 1.95), color=orange
2026-01-12 15:27:07,880 - INFO - integration_test - Frame 1: Gaussian visualizer.visualize() completed
2026-01-12 15:27:07,880 - INFO - integration_test - Frame 1: Visualizer added 4 ellipses, 2 markers, and 2 text annotations for Gaussian constraints
2026-01-12 15:27:07,912 - DEBUG - integration_test - Frame 2: Drawing 6 contouring constraint halfspaces
2026-01-12 15:27:07,917 - INFO - integration_test - Frame 2: Found Gaussian module 'gaussian_constraints', calling visualizer
2026-01-12 15:27:07,917 - INFO - integration_test - Frame 2: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:07,917 - INFO - integration_test - Frame 2: Obstacle 0 has Gaussian prediction with major_radius=0.55, minor_radius=0.44999999999999996, position=[7.6746028  5.83286853]
2026-01-12 15:27:07,917 - INFO - integration_test - Frame 2: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:07,917 - INFO - integration_test - Frame 2: Obstacle 1 has Gaussian prediction with major_radius=0.55, minor_radius=0.44999999999999996, position=[16.84023124  2.92069469]
2026-01-12 15:27:07,917 - INFO - integration_test - Frame 2: Found 2/2 obstacles with Gaussian predictions, calling visualizer
2026-01-12 15:27:07,917 - INFO - integration_test - Frame 2: About to call Gaussian visualizer.visualize()
2026-01-12 15:27:07,917 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:07,917 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:07,919 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.67, 5.83), size=(2.20, 1.95), color=red
2026-01-12 15:27:07,921 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:07,922 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.84, 2.92), size=(2.20, 1.95), color=orange
2026-01-12 15:27:07,924 - INFO - integration_test - Frame 2: Gaussian visualizer.visualize() completed
2026-01-12 15:27:07,924 - INFO - integration_test - Frame 2: Visualizer added 4 ellipses, 2 markers, and 2 text annotations for Gaussian constraints
2026-01-12 15:27:07,960 - INFO - integration_test - Frame 3: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:07,960 - INFO - integration_test - Frame 3: Obstacle 0 has Gaussian prediction with major_radius=0.55, minor_radius=0.44999999999999996, position=[7.69227882 5.72936704]
2026-01-12 15:27:07,960 - INFO - integration_test - Frame 3: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:07,960 - INFO - integration_test - Frame 3: Obstacle 1 has Gaussian prediction with major_radius=0.55, minor_radius=0.44999999999999996, position=[16.83787429  3.02566823]
2026-01-12 15:27:07,960 - INFO - integration_test - Frame 3: Found 2/2 obstacles with Gaussian predictions, calling visualizer
2026-01-12 15:27:07,960 - INFO - integration_test - Frame 3: About to call Gaussian visualizer.visualize()
2026-01-12 15:27:07,960 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:07,960 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:07,961 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.69, 5.73), size=(2.20, 1.95), color=red
2026-01-12 15:27:07,963 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:07,964 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.84, 3.03), size=(2.20, 1.95), color=orange
2026-01-12 15:27:07,966 - INFO - integration_test - Frame 3: Gaussian visualizer.visualize() completed
2026-01-12 15:27:07,966 - INFO - integration_test - Frame 3: Visualizer added 4 ellipses, 2 markers, and 2 text annotations for Gaussian constraints
2026-01-12 15:27:08,002 - INFO - integration_test - Frame 4: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,002 - INFO - integration_test - Frame 4: Obstacle 0 has Gaussian prediction with major_radius=0.55, minor_radius=0.44999999999999996, position=[7.71441426 5.62672678]
2026-01-12 15:27:08,002 - INFO - integration_test - Frame 4: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,002 - INFO - integration_test - Frame 4: Obstacle 1 has Gaussian prediction with major_radius=0.55, minor_radius=0.44999999999999996, position=[16.83385253  3.13059118]
2026-01-12 15:27:08,002 - INFO - integration_test - Frame 4: Found 2/2 obstacles with Gaussian predictions, calling visualizer
2026-01-12 15:27:08,002 - INFO - integration_test - Frame 4: About to call Gaussian visualizer.visualize()
2026-01-12 15:27:08,002 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:08,002 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,005 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.71, 5.63), size=(2.20, 1.95), color=red
2026-01-12 15:27:08,006 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,008 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.83, 3.13), size=(2.20, 1.95), color=orange
2026-01-12 15:27:08,009 - INFO - integration_test - Frame 4: Gaussian visualizer.visualize() completed
2026-01-12 15:27:08,009 - INFO - integration_test - Frame 4: Visualizer added 4 ellipses, 2 markers, and 2 text annotations for Gaussian constraints
2026-01-12 15:27:08,046 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:08,046 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,048 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.74, 5.52), size=(2.20, 1.95), color=red
2026-01-12 15:27:08,049 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,050 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.83, 3.24), size=(2.20, 1.95), color=orange
2026-01-12 15:27:08,088 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:08,088 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,090 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.76, 5.42), size=(2.20, 1.95), color=red
2026-01-12 15:27:08,091 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,092 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.84, 3.34), size=(2.20, 1.95), color=orange
2026-01-12 15:27:08,130 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:08,130 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,131 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.78, 5.32), size=(2.20, 1.95), color=red
2026-01-12 15:27:08,133 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,134 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.85, 3.45), size=(2.20, 1.95), color=orange
2026-01-12 15:27:08,173 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:08,173 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,174 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.81, 5.22), size=(2.20, 1.95), color=red
2026-01-12 15:27:08,176 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,177 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.86, 3.55), size=(2.20, 1.95), color=orange
2026-01-12 15:27:08,215 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:08,215 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,216 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.83, 5.12), size=(2.20, 1.95), color=red
2026-01-12 15:27:08,218 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,219 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.87, 3.65), size=(2.20, 1.95), color=orange
2026-01-12 15:27:08,258 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:08,258 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,260 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.85, 5.01), size=(2.20, 1.95), color=red
2026-01-12 15:27:08,261 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,262 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.89, 3.76), size=(2.20, 1.95), color=orange
2026-01-12 15:27:08,300 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:08,300 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,302 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.87, 4.91), size=(2.20, 1.95), color=red
2026-01-12 15:27:08,304 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,305 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.90, 3.86), size=(2.20, 1.95), color=orange
2026-01-12 15:27:08,345 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:08,345 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,346 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.87, 4.80), size=(2.20, 1.95), color=red
2026-01-12 15:27:08,348 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,349 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.93, 3.97), size=(2.20, 1.95), color=orange
2026-01-12 15:27:08,389 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:08,389 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,391 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.86, 4.69), size=(2.20, 1.95), color=red
2026-01-12 15:27:08,392 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,394 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.98, 4.07), size=(2.20, 1.95), color=orange
2026-01-12 15:27:08,433 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:08,433 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,435 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.83, 4.58), size=(2.20, 1.95), color=red
2026-01-12 15:27:08,437 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,438 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (17.04, 4.17), size=(2.20, 1.95), color=orange
2026-01-12 15:27:08,477 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:08,477 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,479 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.78, 4.47), size=(2.20, 1.95), color=red
2026-01-12 15:27:08,480 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,481 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (17.12, 4.26), size=(2.20, 1.95), color=orange
2026-01-12 15:27:08,521 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:08,521 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,523 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.71, 4.36), size=(2.20, 1.95), color=red
2026-01-12 15:27:08,524 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,525 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (17.22, 4.33), size=(2.20, 1.95), color=orange
2026-01-12 15:27:08,564 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:08,564 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,566 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.62, 4.26), size=(2.20, 1.95), color=red
2026-01-12 15:27:08,567 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,568 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (17.33, 4.40), size=(2.20, 1.95), color=orange
2026-01-12 15:27:08,606 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:08,607 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,608 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.52, 4.18), size=(2.20, 1.95), color=red
2026-01-12 15:27:08,609 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,611 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (17.46, 4.45), size=(2.20, 1.95), color=orange
2026-01-12 15:27:08,792 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:08,792 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,794 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.59, 4.30), size=(2.20, 1.95), color=red
2026-01-12 15:27:08,795 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,796 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (17.59, 4.48), size=(2.20, 1.95), color=orange
2026-01-12 15:27:08,834 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:08,835 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,837 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.65, 4.43), size=(2.20, 1.95), color=red
2026-01-12 15:27:08,839 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,840 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (17.73, 4.49), size=(2.20, 1.95), color=orange
2026-01-12 15:27:08,879 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:08,880 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,881 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.69, 4.56), size=(2.20, 1.95), color=red
2026-01-12 15:27:08,882 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,883 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (17.87, 4.48), size=(2.20, 1.95), color=orange
2026-01-12 15:27:08,923 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:08,923 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,925 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.73, 4.71), size=(2.20, 1.95), color=red
2026-01-12 15:27:08,926 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,927 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (18.02, 4.45), size=(2.20, 1.95), color=orange
2026-01-12 15:27:08,965 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:08,965 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,967 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.75, 4.86), size=(2.20, 1.95), color=red
2026-01-12 15:27:08,968 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:08,970 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (18.16, 4.40), size=(2.20, 1.95), color=orange
2026-01-12 15:27:09,008 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:09,008 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,010 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.76, 5.01), size=(2.20, 1.95), color=red
2026-01-12 15:27:09,011 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,012 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (18.29, 4.32), size=(2.20, 1.95), color=orange
2026-01-12 15:27:09,051 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:09,051 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,053 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.76, 5.16), size=(2.20, 1.95), color=red
2026-01-12 15:27:09,055 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,056 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (18.41, 4.23), size=(2.20, 1.95), color=orange
2026-01-12 15:27:09,093 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:09,093 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,095 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.76, 5.31), size=(2.20, 1.95), color=red
2026-01-12 15:27:09,096 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,097 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (18.41, 4.08), size=(2.20, 1.95), color=orange
2026-01-12 15:27:09,136 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:09,136 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,138 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.75, 5.46), size=(2.20, 1.95), color=red
2026-01-12 15:27:09,139 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,141 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (18.41, 3.93), size=(2.20, 1.95), color=orange
2026-01-12 15:27:09,179 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:09,180 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,181 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.73, 5.61), size=(2.20, 1.95), color=red
2026-01-12 15:27:09,182 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,184 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (18.42, 3.78), size=(2.20, 1.95), color=orange
2026-01-12 15:27:09,222 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:09,222 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,223 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.71, 5.75), size=(2.20, 1.95), color=red
2026-01-12 15:27:09,225 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,226 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (18.42, 3.63), size=(2.20, 1.95), color=orange
2026-01-12 15:27:09,264 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:09,264 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,265 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.68, 5.90), size=(2.20, 1.95), color=red
2026-01-12 15:27:09,267 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,268 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (18.43, 3.48), size=(2.20, 1.95), color=orange
2026-01-12 15:27:09,309 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:09,309 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,311 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.64, 6.05), size=(2.20, 1.95), color=red
2026-01-12 15:27:09,312 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,313 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (18.45, 3.33), size=(2.20, 1.95), color=orange
2026-01-12 15:27:09,352 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:09,352 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,354 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.59, 6.19), size=(2.20, 1.95), color=red
2026-01-12 15:27:09,356 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,357 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (18.46, 3.18), size=(2.20, 1.95), color=orange
2026-01-12 15:27:09,396 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:09,396 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,398 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.54, 6.33), size=(2.20, 1.95), color=red
2026-01-12 15:27:09,399 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,400 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (18.48, 3.03), size=(2.20, 1.95), color=orange
2026-01-12 15:27:09,439 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:09,439 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,440 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.48, 6.46), size=(2.20, 1.95), color=red
2026-01-12 15:27:09,442 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,443 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (18.50, 2.89), size=(2.20, 1.95), color=orange
2026-01-12 15:27:09,481 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:09,481 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,482 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.41, 6.60), size=(2.20, 1.95), color=red
2026-01-12 15:27:09,484 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,485 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (18.52, 2.74), size=(2.20, 1.95), color=orange
2026-01-12 15:27:09,526 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:09,526 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,527 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.37, 6.71), size=(2.20, 1.95), color=red
2026-01-12 15:27:09,528 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,530 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (18.40, 2.83), size=(2.20, 1.95), color=orange
2026-01-12 15:27:09,568 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:09,568 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,570 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.48, 6.76), size=(2.20, 1.95), color=red
2026-01-12 15:27:09,572 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,573 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (18.27, 2.89), size=(2.20, 1.95), color=orange
2026-01-12 15:27:09,612 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:09,612 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,613 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.60, 6.79), size=(2.20, 1.95), color=red
2026-01-12 15:27:09,615 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,616 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (18.13, 2.94), size=(2.20, 1.95), color=orange
2026-01-12 15:27:09,654 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:09,654 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,656 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.72, 6.81), size=(2.20, 1.95), color=red
2026-01-12 15:27:09,657 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,658 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (17.99, 3.01), size=(2.20, 1.95), color=orange
2026-01-12 15:27:09,696 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:09,697 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,698 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.85, 6.81), size=(2.20, 1.95), color=red
2026-01-12 15:27:09,700 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,701 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (17.85, 3.06), size=(2.20, 1.95), color=orange
2026-01-12 15:27:09,741 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:09,741 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,742 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.99, 6.79), size=(2.20, 1.95), color=red
2026-01-12 15:27:09,744 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,745 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (17.70, 3.09), size=(2.20, 1.95), color=orange
2026-01-12 15:27:09,783 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:09,783 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,784 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.12, 6.75), size=(2.20, 1.95), color=red
2026-01-12 15:27:09,787 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,788 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (17.55, 3.09), size=(2.20, 1.95), color=orange
2026-01-12 15:27:09,826 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:09,826 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,828 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.25, 6.68), size=(2.20, 1.95), color=red
2026-01-12 15:27:09,829 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,831 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (17.41, 3.07), size=(2.20, 1.95), color=orange
2026-01-12 15:27:09,869 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:09,869 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,871 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.37, 6.60), size=(2.20, 1.95), color=red
2026-01-12 15:27:09,873 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,874 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (17.26, 3.03), size=(2.20, 1.95), color=orange
2026-01-12 15:27:09,912 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:09,912 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,914 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.48, 6.50), size=(2.20, 1.95), color=red
2026-01-12 15:27:09,916 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,917 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (17.12, 2.98), size=(2.20, 1.95), color=orange
2026-01-12 15:27:09,955 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:09,955 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,957 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.57, 6.38), size=(2.20, 1.95), color=red
2026-01-12 15:27:09,958 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,959 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.99, 2.91), size=(2.20, 1.95), color=orange
2026-01-12 15:27:09,998 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:09,998 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:09,999 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.65, 6.25), size=(2.20, 1.95), color=red
2026-01-12 15:27:10,001 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,002 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.86, 2.83), size=(2.20, 1.95), color=orange
2026-01-12 15:27:10,041 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:10,041 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,043 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.72, 6.12), size=(2.20, 1.95), color=red
2026-01-12 15:27:10,044 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,045 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.76, 2.72), size=(2.20, 1.95), color=orange
2026-01-12 15:27:10,084 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:10,084 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,085 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.77, 5.98), size=(2.20, 1.95), color=red
2026-01-12 15:27:10,087 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,089 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.66, 2.60), size=(2.20, 1.95), color=orange
2026-01-12 15:27:10,126 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:10,127 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,128 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.83, 6.12), size=(2.20, 1.95), color=red
2026-01-12 15:27:10,130 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,131 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.59, 2.47), size=(2.20, 1.95), color=orange
2026-01-12 15:27:10,169 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:10,169 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,172 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.91, 6.25), size=(2.20, 1.95), color=red
2026-01-12 15:27:10,173 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,174 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.63, 2.62), size=(2.20, 1.95), color=orange
2026-01-12 15:27:10,212 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:10,213 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,214 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (9.01, 6.36), size=(2.20, 1.95), color=red
2026-01-12 15:27:10,216 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,217 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.65, 2.77), size=(2.20, 1.95), color=orange
2026-01-12 15:27:10,256 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:10,256 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,257 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (9.12, 6.46), size=(2.20, 1.95), color=red
2026-01-12 15:27:10,259 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,260 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.64, 2.92), size=(2.20, 1.95), color=orange
2026-01-12 15:27:10,298 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:10,298 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,299 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (9.24, 6.54), size=(2.20, 1.95), color=red
2026-01-12 15:27:10,301 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,302 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.61, 3.06), size=(2.20, 1.95), color=orange
2026-01-12 15:27:10,341 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:10,341 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,342 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (9.38, 6.61), size=(2.20, 1.95), color=red
2026-01-12 15:27:10,344 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,345 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.56, 3.21), size=(2.20, 1.95), color=orange
2026-01-12 15:27:10,383 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:10,383 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,384 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (9.52, 6.65), size=(2.20, 1.95), color=red
2026-01-12 15:27:10,386 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,388 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.49, 3.34), size=(2.20, 1.95), color=orange
2026-01-12 15:27:10,426 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:10,426 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,428 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (9.67, 6.67), size=(2.20, 1.95), color=red
2026-01-12 15:27:10,429 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,430 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.40, 3.46), size=(2.20, 1.95), color=orange
2026-01-12 15:27:10,468 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:10,469 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,471 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (9.82, 6.66), size=(2.20, 1.95), color=red
2026-01-12 15:27:10,472 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,473 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.29, 3.56), size=(2.20, 1.95), color=orange
2026-01-12 15:27:10,513 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:10,513 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,514 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (9.97, 6.64), size=(2.20, 1.95), color=red
2026-01-12 15:27:10,516 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,517 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.17, 3.65), size=(2.20, 1.95), color=orange
2026-01-12 15:27:10,557 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:10,557 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,559 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.11, 6.59), size=(2.20, 1.95), color=red
2026-01-12 15:27:10,560 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,561 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (16.04, 3.72), size=(2.20, 1.95), color=orange
2026-01-12 15:27:10,599 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:10,599 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,601 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.25, 6.52), size=(2.20, 1.95), color=red
2026-01-12 15:27:10,602 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,604 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (15.89, 3.77), size=(2.20, 1.95), color=orange
2026-01-12 15:27:10,642 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:10,642 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,644 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.37, 6.43), size=(2.20, 1.95), color=red
2026-01-12 15:27:10,645 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,647 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (15.75, 3.79), size=(2.20, 1.95), color=orange
2026-01-12 15:27:10,685 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:10,685 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,687 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.48, 6.33), size=(2.20, 1.95), color=red
2026-01-12 15:27:10,689 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,690 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (15.60, 3.80), size=(2.20, 1.95), color=orange
2026-01-12 15:27:10,729 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:10,730 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,731 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.57, 6.21), size=(2.20, 1.95), color=red
2026-01-12 15:27:10,733 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,734 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (15.45, 3.78), size=(2.20, 1.95), color=orange
2026-01-12 15:27:10,773 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:10,773 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,775 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.64, 6.08), size=(2.20, 1.95), color=red
2026-01-12 15:27:10,776 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,777 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (15.54, 3.66), size=(2.20, 1.95), color=orange
2026-01-12 15:27:10,817 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:10,817 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,818 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.59, 5.94), size=(2.20, 1.95), color=red
2026-01-12 15:27:10,820 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,822 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (15.63, 3.54), size=(2.20, 1.95), color=orange
2026-01-12 15:27:10,860 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:10,860 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,862 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.55, 5.79), size=(2.20, 1.95), color=red
2026-01-12 15:27:10,864 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,865 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (15.70, 3.41), size=(2.20, 1.95), color=orange
2026-01-12 15:27:10,903 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:10,904 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,905 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.52, 5.65), size=(2.20, 1.95), color=red
2026-01-12 15:27:10,907 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,908 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (15.76, 3.27), size=(2.20, 1.95), color=orange
2026-01-12 15:27:10,946 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:10,946 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,947 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.49, 5.50), size=(2.20, 1.95), color=red
2026-01-12 15:27:10,949 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,950 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (15.80, 3.12), size=(2.20, 1.95), color=orange
2026-01-12 15:27:10,989 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:10,990 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,991 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.46, 5.35), size=(2.20, 1.95), color=red
2026-01-12 15:27:10,992 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:10,994 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (15.83, 2.98), size=(2.20, 1.95), color=orange
2026-01-12 15:27:11,032 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:11,032 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,033 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.44, 5.20), size=(2.20, 1.95), color=red
2026-01-12 15:27:11,035 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,036 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (15.84, 2.83), size=(2.20, 1.95), color=orange
2026-01-12 15:27:11,075 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:11,075 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,077 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.42, 5.06), size=(2.20, 1.95), color=red
2026-01-12 15:27:11,078 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,079 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (15.83, 2.68), size=(2.20, 1.95), color=orange
2026-01-12 15:27:11,119 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:11,120 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,122 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.40, 4.91), size=(2.20, 1.95), color=red
2026-01-12 15:27:11,123 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,124 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (15.81, 2.53), size=(2.20, 1.95), color=orange
2026-01-12 15:27:11,162 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:11,162 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,164 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.39, 4.76), size=(2.20, 1.95), color=red
2026-01-12 15:27:11,165 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,166 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (15.77, 2.38), size=(2.20, 1.95), color=orange
2026-01-12 15:27:11,206 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:11,206 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,208 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.38, 4.61), size=(2.20, 1.95), color=red
2026-01-12 15:27:11,209 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,211 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (15.71, 2.25), size=(2.20, 1.95), color=orange
2026-01-12 15:27:11,248 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:11,248 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,249 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.37, 4.46), size=(2.20, 1.95), color=red
2026-01-12 15:27:11,251 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,253 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (15.63, 2.12), size=(2.20, 1.95), color=orange
2026-01-12 15:27:11,292 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:11,292 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,294 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.36, 4.31), size=(2.20, 1.95), color=red
2026-01-12 15:27:11,295 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,296 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (15.54, 2.00), size=(2.20, 1.95), color=orange
2026-01-12 15:27:11,335 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:11,335 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,337 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.36, 4.16), size=(2.20, 1.95), color=red
2026-01-12 15:27:11,339 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,340 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (15.42, 1.91), size=(2.20, 1.95), color=orange
2026-01-12 15:27:11,379 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:11,379 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,381 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.26, 4.27), size=(2.20, 1.95), color=red
2026-01-12 15:27:11,382 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,384 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (15.30, 1.83), size=(2.20, 1.95), color=orange
2026-01-12 15:27:11,424 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:11,424 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,425 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.14, 4.37), size=(2.20, 1.95), color=red
2026-01-12 15:27:11,427 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,428 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (15.16, 1.77), size=(2.20, 1.95), color=orange
2026-01-12 15:27:11,466 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:11,466 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,467 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.02, 4.45), size=(2.20, 1.95), color=red
2026-01-12 15:27:11,469 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,472 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (15.05, 1.66), size=(2.20, 1.95), color=orange
2026-01-12 15:27:11,510 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:11,511 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,512 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (9.88, 4.51), size=(2.20, 1.95), color=red
2026-01-12 15:27:11,513 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,514 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (14.93, 1.57), size=(2.20, 1.95), color=orange
2026-01-12 15:27:11,553 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:11,554 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,555 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (9.73, 4.54), size=(2.20, 1.95), color=red
2026-01-12 15:27:11,557 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,558 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (14.80, 1.50), size=(2.20, 1.95), color=orange
2026-01-12 15:27:11,596 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:11,596 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,598 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (9.58, 4.56), size=(2.20, 1.95), color=red
2026-01-12 15:27:11,599 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,600 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (14.66, 1.46), size=(2.20, 1.95), color=orange
2026-01-12 15:27:11,640 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:11,640 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,642 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (9.43, 4.55), size=(2.20, 1.95), color=red
2026-01-12 15:27:11,643 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,644 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (14.56, 1.44), size=(2.20, 1.95), color=orange
2026-01-12 15:27:11,681 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:11,681 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,683 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (9.29, 4.52), size=(2.20, 1.95), color=red
2026-01-12 15:27:11,692 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,693 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (14.47, 1.44), size=(2.20, 1.95), color=orange
2026-01-12 15:27:11,731 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:11,732 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,733 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (9.15, 4.47), size=(2.20, 1.95), color=red
2026-01-12 15:27:11,735 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,736 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (14.37, 1.45), size=(2.20, 1.95), color=orange
2026-01-12 15:27:11,775 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:11,776 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,777 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (9.01, 4.40), size=(2.20, 1.95), color=red
2026-01-12 15:27:11,779 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,780 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (14.27, 1.48), size=(2.20, 1.95), color=orange
2026-01-12 15:27:11,818 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:11,818 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,819 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (9.13, 4.49), size=(2.20, 1.95), color=red
2026-01-12 15:27:11,821 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,822 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (14.17, 1.52), size=(2.20, 1.95), color=orange
2026-01-12 15:27:11,861 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:11,861 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,863 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (9.26, 4.56), size=(2.20, 1.95), color=red
2026-01-12 15:27:11,864 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,866 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (14.08, 1.58), size=(2.20, 1.95), color=orange
2026-01-12 15:27:11,904 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:11,904 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,906 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (9.41, 4.62), size=(2.20, 1.95), color=red
2026-01-12 15:27:11,908 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,909 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.99, 1.66), size=(2.20, 1.95), color=orange
2026-01-12 15:27:11,948 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:11,949 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,950 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (9.55, 4.64), size=(2.20, 1.95), color=red
2026-01-12 15:27:11,951 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,953 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.91, 1.75), size=(2.20, 1.95), color=orange
2026-01-12 15:27:11,991 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:11,992 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,993 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (9.70, 4.65), size=(2.20, 1.95), color=red
2026-01-12 15:27:11,994 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:11,995 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.85, 1.86), size=(2.20, 1.95), color=orange
2026-01-12 15:27:12,033 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:12,034 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,035 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (9.85, 4.64), size=(2.20, 1.95), color=red
2026-01-12 15:27:12,038 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,039 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.80, 1.98), size=(2.20, 1.95), color=orange
2026-01-12 15:27:12,077 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:12,077 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,079 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.00, 4.60), size=(2.20, 1.95), color=red
2026-01-12 15:27:12,080 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,081 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.76, 2.10), size=(2.20, 1.95), color=orange
2026-01-12 15:27:12,120 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:12,121 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,122 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.14, 4.54), size=(2.20, 1.95), color=red
2026-01-12 15:27:12,124 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,125 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.73, 2.24), size=(2.20, 1.95), color=orange
2026-01-12 15:27:12,163 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:12,163 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,164 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.26, 4.46), size=(2.20, 1.95), color=red
2026-01-12 15:27:12,166 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,167 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.71, 2.38), size=(2.20, 1.95), color=orange
2026-01-12 15:27:12,206 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:12,206 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,207 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.38, 4.37), size=(2.20, 1.95), color=red
2026-01-12 15:27:12,209 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,210 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.69, 2.52), size=(2.20, 1.95), color=orange
2026-01-12 15:27:12,248 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:12,248 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,250 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.48, 4.25), size=(2.20, 1.95), color=red
2026-01-12 15:27:12,251 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,252 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.58, 2.61), size=(2.20, 1.95), color=orange
2026-01-12 15:27:12,291 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:12,291 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,292 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.56, 4.13), size=(2.20, 1.95), color=red
2026-01-12 15:27:12,294 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,295 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.48, 2.73), size=(2.20, 1.95), color=orange
2026-01-12 15:27:12,333 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:12,333 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,334 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.62, 3.99), size=(2.20, 1.95), color=red
2026-01-12 15:27:12,336 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,338 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.40, 2.85), size=(2.20, 1.95), color=orange
2026-01-12 15:27:12,377 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:12,377 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,378 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.66, 4.14), size=(2.20, 1.95), color=red
2026-01-12 15:27:12,380 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,381 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.34, 2.99), size=(2.20, 1.95), color=orange
2026-01-12 15:27:12,420 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:12,420 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,422 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.67, 4.29), size=(2.20, 1.95), color=red
2026-01-12 15:27:12,423 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,424 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.29, 3.13), size=(2.20, 1.95), color=orange
2026-01-12 15:27:12,462 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:12,463 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,464 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.66, 4.44), size=(2.20, 1.95), color=red
2026-01-12 15:27:12,466 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,467 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.25, 3.28), size=(2.20, 1.95), color=orange
2026-01-12 15:27:12,506 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:12,506 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,508 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.62, 4.58), size=(2.20, 1.95), color=red
2026-01-12 15:27:12,509 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,510 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.23, 3.42), size=(2.20, 1.95), color=orange
2026-01-12 15:27:12,547 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:12,547 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,549 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.57, 4.72), size=(2.20, 1.95), color=red
2026-01-12 15:27:12,550 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,552 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.22, 3.57), size=(2.20, 1.95), color=orange
2026-01-12 15:27:12,590 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:12,590 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,592 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.49, 4.85), size=(2.20, 1.95), color=red
2026-01-12 15:27:12,593 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,595 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.22, 3.72), size=(2.20, 1.95), color=orange
2026-01-12 15:27:12,628 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:12,628 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,630 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.49, 4.85), size=(2.20, 1.95), color=red
2026-01-12 15:27:12,631 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,632 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.22, 3.72), size=(2.20, 1.95), color=orange
2026-01-12 15:27:12,665 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:12,665 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,667 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.49, 4.85), size=(2.20, 1.95), color=red
2026-01-12 15:27:12,669 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,670 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.22, 3.72), size=(2.20, 1.95), color=orange
2026-01-12 15:27:12,703 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:12,704 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,705 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.49, 4.85), size=(2.20, 1.95), color=red
2026-01-12 15:27:12,707 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,708 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.22, 3.72), size=(2.20, 1.95), color=orange
2026-01-12 15:27:12,742 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-12 15:27:12,742 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,743 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (10.49, 4.85), size=(2.20, 1.95), color=red
2026-01-12 15:27:12,745 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-12 15:27:12,746 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.22, 3.72), size=(2.20, 1.95), color=orange
2026-01-12 15:27:19,081 - INFO - integration_test - Saved animation with 112 frames at 10.00 fps to test_outputs/20260112_152518_contouring_contouring_gaussian_contouring_unicycle/animation.gif (duration: 11.20s, size: 2464399 bytes)
2026-01-12 15:27:19,114 - INFO - integration_test - Animation created successfully
2026-01-12 15:27:19,115 - INFO - integration_test - Test completed successfully
