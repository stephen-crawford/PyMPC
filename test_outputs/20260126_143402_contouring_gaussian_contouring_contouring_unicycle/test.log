2026-01-26 14:34:02,914 - INFO - integration_test - Contouring objective detected: automatically switching to contouring-aware dynamics model
2026-01-26 14:34:02,914 - WARNING - integration_test -   Vehicle dynamics 'contouring_unicycle' is not automatically converted. Ensure it supports contouring (has 'spline' state variable)
2026-01-26 14:34:02,914 - INFO - integration_test - Created vehicle dynamics model: ContouringSecondOrderUnicycleModel
2026-01-26 14:34:02,914 - INFO - integration_test - ✓ Validation passed: Contouring objective with dynamics model that has 'spline' state
2026-01-26 14:34:02,914 - INFO - integration_test - Creating objective module: contouring
2026-01-26 14:34:02,921 - INFO - integration_test - Objective module 'contouring' created: contouring_objective
2026-01-26 14:34:02,921 - INFO - integration_test - Creating 2 constraint module(s): ['gaussian', 'contouring']
2026-01-26 14:34:02,921 - DEBUG - integration_test - Creating constraint module: gaussian
2026-01-26 14:34:02,926 - INFO - integration_test - Constraint module 'gaussian' created: gaussian_constraints
2026-01-26 14:34:02,926 - DEBUG - integration_test - Creating constraint module: contouring
2026-01-26 14:34:02,933 - INFO - integration_test - Constraint module 'contouring' created: contouring_constraints
2026-01-26 14:34:02,933 - INFO - integration_test - Created 2 constraint module(s)
2026-01-26 14:34:02,952 - INFO - integration_test - Setting solver on all modules...
2026-01-26 14:34:02,952 - DEBUG - integration_test -   Set solver on module: gaussian_constraints
2026-01-26 14:34:02,952 - DEBUG - integration_test -   Set solver on module: contouring_constraints
2026-01-26 14:34:02,952 - DEBUG - integration_test -   Set solver on module: control_effort_objective
2026-01-26 14:34:02,952 - DEBUG - integration_test -   Set solver on module: control_jerk_objective
2026-01-26 14:34:02,952 - DEBUG - integration_test -   Set solver on module: path_reference_velocity_objective
2026-01-26 14:34:02,952 - DEBUG - integration_test -   Set solver on module: contouring_objective
2026-01-26 14:34:02,953 - INFO - integration_test - Placing obstacles within reference path boundaries
2026-01-26 14:34:02,953 - INFO - integration_test - Obstacle 0: s=9.03, pos=(7.05, 6.13), lateral_offset=0.00m, vel=(0.48, 0.36)
2026-01-26 14:34:02,954 - WARNING - integration_test - Error shaping obstacles: name 'get_dummy_obstacle' is not defined
2026-01-26 14:34:02,954 - WARNING - integration_test - Error in on_data_received: 'Planner' object has no attribute 'on_data_received'
2026-01-26 14:34:02,954 - INFO - integration_test - Initial vehicle state (before spline): [0. 0. 0. 1.]
2026-01-26 14:34:02,954 - INFO - integration_test - Vehicle starting position: (0.00, 0.00)
2026-01-26 14:34:02,954 - INFO - integration_test - Reference path start: (0.00, 0.00)
2026-01-26 14:34:02,954 - INFO - integration_test - Reference path starts at vehicle position (requirement satisfied)
2026-01-26 14:34:02,954 - INFO - integration_test - Contouring-aware dynamics detected: initializing spline variable
2026-01-26 14:34:02,954 - INFO - integration_test - Initialized spline to closest path point: s=0.0000 (vehicle at (0.00, 0.00), closest path point at (0.00, 0.00), distance=0.000m)
2026-01-26 14:34:02,954 - INFO - integration_test - Added spline variable: 0.0000
2026-01-26 14:34:02,955 - INFO - integration_test - Final initial state: [0. 0. 0. 1. 0.] (variables: ['x', 'y', 'psi', 'v', 'spline'])
2026-01-26 14:34:02,955 - INFO - integration_test - Step 0 (contouring until path end)
2026-01-26 14:34:02,955 - DEBUG - integration_test - Syncing planner state at step 0: vehicle_state=[0. 0. 0. 1. 0.]
2026-01-26 14:34:02,955 - DEBUG - integration_test - Step 0: Using propagated spline 0.0000 (close to path, dist=0.000m, drift=0.000m)
2026-01-26 14:34:02,955 - DEBUG - integration_test -   Set spline state to 0.0000
2026-01-26 14:34:02,956 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:02,970 - DEBUG - integration_test - Step 0: Checking path alignment: vehicle=(0.000, 0.000), path_start=(0.000, 0.000), dist=0.000m
2026-01-26 14:34:02,970 - INFO - integration_test - === Calling planner.solve_mpc() at step 0 ===
2026-01-26 14:34:02,973 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:03,000 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:34:03,000 - INFO - integration_test - Warmstart k=0: x0=0.0 , y0=0.0 , psi0=0.0 , v0=1.0 , spline0=0.0 , a0=0.0 , w0=0.0
2026-01-26 14:34:03,000 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:34:03,001 - INFO - integration_test - Dyn residual k=0: pred=[0.1, 0.0, 0.0, 1.0, 0.1], ws=[0.1, 0.0, 0.0, 1.0, 0.051515151515151514], res=[0.0, 0.0, 0.0, 0.0, 0.04848484848484849], res_norm=4.848e-02
2026-01-26 14:34:03,002 - INFO - integration_test - Dyn residual k=1: pred=[0.2, 0.0, 0.0, 1.0, 0.15151515151515152], ws=[0.2, 0.0, 0.0, 1.0, 0.05252525252525253], res=[0.0, 0.0, 0.0, 0.0, 0.09898989898989899], res_norm=9.899e-02
2026-01-26 14:34:03,003 - INFO - integration_test - Dyn residual k=2: pred=[0.30000000000000004, 0.0, 0.0, 1.0, 0.15252525252525254], ws=[0.30000000000000004, 0.0, 0.0, 1.0, 0.05353535353535353], res=[0.0, 0.0, 0.0, 0.0, 0.098989898989899], res_norm=9.899e-02
2026-01-26 14:34:03,018 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:03,072 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:03,092 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:03,136 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:03,156 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:03,199 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:03,219 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:03,261 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:03,279 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:03,321 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:03,341 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:03,384 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:03,403 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:03,446 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:03,465 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:03,508 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:03,528 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:03,573 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:03,593 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:03,636 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:03,654 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:03,697 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:04,631 - INFO - integration_test - Step 0: MPC solve successful
2026-01-26 14:34:04,807 - INFO - integration_test - Step 0: Computed 6 numeric contouring constraints for visualization (s=0.000)
2026-01-26 14:34:04,807 - DEBUG - integration_test - Step 0: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:34:04,807 - DEBUG - integration_test - Linearized constraints module not found at step 0
2026-01-26 14:34:04,807 - INFO - integration_test - === Applying control at step 0 ===
2026-01-26 14:34:04,807 - INFO - integration_test -   Control dict from planner: {'a': 2.000000019044618, 'w': 0.7999999940659888}
2026-01-26 14:34:04,807 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:34:04,807 - INFO - integration_test -   Planner output success: True
2026-01-26 14:34:04,809 - INFO - integration_test - Step 0 completed in 1.854s
2026-01-26 14:34:04,856 - INFO - integration_test - Step 1 (contouring until path end)
2026-01-26 14:34:04,857 - DEBUG - integration_test - Syncing planner state at step 1: vehicle_state=[0.10987738 0.00453085 0.08       1.2        0.12      ]
2026-01-26 14:34:04,857 - DEBUG - integration_test - Step 1: Using propagated spline 0.1200 (close to path, dist=0.110m, drift=0.120m)
2026-01-26 14:34:04,857 - DEBUG - integration_test -   Set spline state to 0.1200
2026-01-26 14:34:04,858 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:04,872 - DEBUG - integration_test - Step 1: Checking path alignment: vehicle=(0.110, 0.005), path_start=(0.000, 0.000), dist=0.110m
2026-01-26 14:34:04,873 - INFO - integration_test - === Calling planner.solve_mpc() at step 1 ===
2026-01-26 14:34:04,876 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:04,944 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:34:04,944 - INFO - integration_test - Warmstart k=0: x0=0.10987737537808007 , y0=0.004530845024574437 , psi0=0.07999999940659888 , v0=1.2000000019044619 , spline0=0.1200000001904462 , a0=0.0 , w0=0.0
2026-01-26 14:34:04,944 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:34:04,945 - INFO - integration_test - Dyn residual k=0: pred=[0.22949358032992204, 0.014120608245114219, 0.07999999940659888, 1.2000000019044619, 0.2400000003808924], ws=[0.22949358032992206, 0.014120608245114219, 0.07999999940659874, 1.2000000019044619, 0.052929292933140325], res=[-2.7755575615628914e-17, 0.0, 1.3877787807814457e-16, 0.0, 0.18707070744775206], res_norm=1.871e-01
2026-01-26 14:34:04,946 - INFO - integration_test - Dyn residual k=1: pred=[0.34910978528176406, 0.02371037146565398, 0.07999999940659874, 1.2000000019044619, 0.1729292931235865], ws=[0.34910978528176406, 0.023710371465653985, 0.07999999940659874, 1.2000000019044619, 0.10828282829437048], res=[0.0, -3.469446951953614e-18, 0.0, 0.0, 0.06464646482921603], res_norm=6.465e-02
2026-01-26 14:34:04,947 - INFO - integration_test - Dyn residual k=2: pred=[0.46872599023360606, 0.03330013468619375, 0.07999999940659874, 1.2000000019044619, 0.22828282848481668], ws=[0.46872599023360606, 0.03330013468619375, 0.07999999940659874, 1.2000000019044619, 0.1107070707224603], res=[0.0, 0.0, 0.0, 0.0, 0.11757575776235638], res_norm=1.176e-01
2026-01-26 14:34:04,961 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:05,011 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:05,031 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:05,073 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:05,092 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:05,133 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:05,153 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:05,197 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:05,215 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:05,257 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:05,275 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:05,316 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:05,334 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:05,376 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:05,395 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:05,436 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:05,454 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:05,496 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:05,515 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:05,557 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:05,575 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:05,616 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:06,105 - INFO - integration_test - Step 1: MPC solve successful
2026-01-26 14:34:06,113 - INFO - integration_test - Step 1: Computed 6 numeric contouring constraints for visualization (s=0.120)
2026-01-26 14:34:06,114 - DEBUG - integration_test - Step 1: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:34:06,114 - INFO - integration_test - === Applying control at step 1 ===
2026-01-26 14:34:06,114 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000105271067, 'w': 0.7999999399945286}
2026-01-26 14:34:06,114 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:34:06,114 - INFO - integration_test -   Planner output success: True
2026-01-26 14:34:06,115 - INFO - integration_test - Step 1 completed in 1.258s
2026-01-26 14:34:06,169 - INFO - integration_test - Step 2 (contouring until path end)
2026-01-26 14:34:06,171 - DEBUG - integration_test - Syncing planner state at step 2: vehicle_state=[0.23889213 0.02022162 0.15999999 1.4        0.26      ]
2026-01-26 14:34:06,172 - DEBUG - integration_test - Step 2: Using propagated spline 0.2600 (close to path, dist=0.240m, drift=0.260m)
2026-01-26 14:34:06,172 - DEBUG - integration_test -   Set spline state to 0.2600
2026-01-26 14:34:06,173 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:06,187 - DEBUG - integration_test - Step 2: Checking path alignment: vehicle=(0.239, 0.020), path_start=(0.000, 0.000), dist=0.240m
2026-01-26 14:34:06,187 - INFO - integration_test - === Calling planner.solve_mpc() at step 2 ===
2026-01-26 14:34:06,190 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:06,214 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:34:06,214 - INFO - integration_test - Warmstart k=0: x0=0.23889212819416297 , y0=0.0202216212468496 , psi0=0.15999999340605175 , v0=1.4000000029571726 , spline0=0.26000000048616345 , a0=0.0 , w0=0.0
2026-01-26 14:34:06,214 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:34:06,215 - INFO - integration_test - Dyn residual k=0: pred=[0.3771039483057659, 0.04252616930859559, 0.15999999340605175, 1.4000000029571726, 0.4000000007818807], ws=[0.37710394830576593, 0.042526169308595596, 0.15999999340605164, 1.4000000029571726, 0.10909090910670466], res=[-5.551115123125783e-17, -6.938893903907228e-18, 1.1102230246251565e-16, 0.0, 0.29090909167517603], res_norm=2.909e-01
2026-01-26 14:34:06,216 - INFO - integration_test - Dyn residual k=1: pred=[0.5153157684173688, 0.06483071737034157, 0.15999999340605164, 1.4000000029571726, 0.24909090940242193], ws=[0.5153157684173689, 0.06483071737034157, 0.15999999340605164, 1.4000000029571726, 0.3917171717933655], res=[-1.1102230246251565e-16, 0.0, 0.0, 0.0, -0.1426262623909436], res_norm=1.426e-01
2026-01-26 14:34:06,217 - INFO - integration_test - Dyn residual k=2: pred=[0.6535275885289719, 0.08713526543208755, 0.15999999340605164, 1.4000000029571726, 0.5317171720890828], ws=[0.6535275885289719, 0.08713526543208755, 0.15999999340605164, 1.4000000029571726, 0.17212121216282772], res=[0.0, 0.0, 0.0, 0.0, 0.35959595992625504], res_norm=3.596e-01
2026-01-26 14:34:06,231 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:06,281 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:06,300 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:06,342 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:06,362 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:06,404 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:06,423 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:06,464 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:06,483 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:06,525 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:06,543 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:06,584 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:06,603 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:06,643 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:06,661 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:06,705 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:06,724 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:06,766 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:06,785 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:06,826 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:06,844 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:06,885 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:07,377 - INFO - integration_test - Step 2: MPC solve successful
2026-01-26 14:34:07,385 - INFO - integration_test - Step 2: Computed 6 numeric contouring constraints for visualization (s=0.260)
2026-01-26 14:34:07,385 - DEBUG - integration_test - Step 2: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:34:07,385 - INFO - integration_test - === Applying control at step 2 ===
2026-01-26 14:34:07,385 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000152840167, 'w': 0.7999999735997555}
2026-01-26 14:34:07,385 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:34:07,385 - INFO - integration_test -   Planner output success: True
2026-01-26 14:34:07,387 - INFO - integration_test - Step 2 completed in 1.216s
2026-01-26 14:34:07,438 - INFO - integration_test - Step 3 (contouring until path end)
2026-01-26 14:34:07,439 - DEBUG - integration_test - Syncing planner state at step 3: vehicle_state=[0.38583644 0.05014471 0.23999999 1.6        0.42      ]
2026-01-26 14:34:07,439 - DEBUG - integration_test - Step 3: Using propagated spline 0.4200 (close to path, dist=0.247m, drift=0.051m)
2026-01-26 14:34:07,439 - DEBUG - integration_test -   Set spline state to 0.4200
2026-01-26 14:34:07,440 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:07,453 - DEBUG - integration_test - Step 3: Checking path alignment: vehicle=(0.386, 0.050), path_start=(0.000, 0.000), dist=0.389m
2026-01-26 14:34:07,453 - INFO - integration_test - === Calling planner.solve_mpc() at step 3 ===
2026-01-26 14:34:07,456 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:07,477 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:34:07,477 - INFO - integration_test - Warmstart k=0: x0=0.38583643585779603 , y0=0.050144714760293335 , psi0=0.2399999907660273 , v0=1.6000000044855742 , spline0=0.4200000009347209 , a0=0.0 , w0=0.0
2026-01-26 14:34:07,478 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:34:07,478 - INFO - integration_test - Dyn residual k=0: pred=[0.541250512621012, 0.0881771336601688, 0.2399999907660273, 1.6000000044855742, 0.5800000013832783], ws=[0.541250512621012, 0.0881771336601688, 0.23999999076602752, 1.6000000044855742, 0.39454545464326213], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, 0.1854545467400162], res_norm=1.855e-01
2026-01-26 14:34:07,479 - INFO - integration_test - Dyn residual k=1: pred=[0.6966645893842279, 0.1262095525600443, 0.23999999076602752, 1.6000000044855742, 0.5545454550918196], ws=[0.6966645893842279, 0.1262095525600443, 0.23999999076602752, 1.6000000044855742, 0.23191919199320551], res=[0.0, 0.0, 0.0, 0.0, 0.3226262630986141], res_norm=3.226e-01
2026-01-26 14:34:07,480 - INFO - integration_test - Dyn residual k=2: pred=[0.8520786661474439, 0.1642419714599198, 0.23999999076602752, 1.6000000044855742, 0.391919192441763], ws=[0.8520786661474439, 0.1642419714599198, 0.23999999076602752, 1.6000000044855742, 0.47676767695195094], res=[0.0, 0.0, 0.0, 0.0, -0.08484848451018795], res_norm=8.485e-02
2026-01-26 14:34:07,495 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:07,548 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:07,568 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:07,610 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:07,629 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:07,669 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:07,686 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:07,725 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:07,744 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:07,786 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:07,807 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:07,848 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:07,867 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:07,908 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:07,926 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:07,968 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:07,987 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:08,027 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:08,046 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:08,086 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:08,103 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:08,144 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:08,660 - INFO - integration_test - Step 3: MPC solve successful
2026-01-26 14:34:08,667 - INFO - integration_test - Step 3: Computed 6 numeric contouring constraints for visualization (s=0.420)
2026-01-26 14:34:08,668 - DEBUG - integration_test - Step 3: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:34:08,668 - INFO - integration_test - === Applying control at step 3 ===
2026-01-26 14:34:08,668 - INFO - integration_test -   Control dict from planner: {'a': 2.000000019699335, 'w': 0.8000000079123646}
2026-01-26 14:34:08,668 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:34:08,668 - INFO - integration_test -   Planner output success: True
2026-01-26 14:34:08,669 - INFO - integration_test - Step 3 completed in 1.231s
2026-01-26 14:34:08,719 - INFO - integration_test - Step 4 (contouring until path end)
2026-01-26 14:34:08,719 - DEBUG - integration_test - Syncing planner state at step 4: vehicle_state=[0.54913546 0.09724075 0.31999999 1.80000001 0.6       ]
2026-01-26 14:34:08,720 - DEBUG - integration_test - Step 4: Using propagated spline 0.6000 (close to path, dist=0.333m, drift=0.231m)
2026-01-26 14:34:08,720 - DEBUG - integration_test -   Set spline state to 0.6000
2026-01-26 14:34:08,720 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:08,734 - DEBUG - integration_test - Step 4: Checking path alignment: vehicle=(0.549, 0.097), path_start=(0.000, 0.000), dist=0.558m
2026-01-26 14:34:08,734 - INFO - integration_test - === Calling planner.solve_mpc() at step 4 ===
2026-01-26 14:34:08,737 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:08,761 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:34:08,762 - INFO - integration_test - Warmstart k=0: x0=0.5491354616784828 , y0=0.0972407538308936 , psi0=0.3199999915572638 , v0=1.8000000064555077 , spline0=0.6000000015802717 , a0=0.0 , w0=0.0
2026-01-26 14:34:08,762 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:34:08,763 - INFO - integration_test - Dyn residual k=0: pred=[0.7199978380241463, 0.15386273350231752, 0.3199999915572638, 1.8000000064555077, 0.7800000022258224], ws=[0.7199978380241463, 0.15386273350231752, 0.319999991557264, 1.8000000064555077, 0.23353535362528577], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, 0.5464646486005367], res_norm=5.465e-01
2026-01-26 14:34:08,764 - INFO - integration_test - Dyn residual k=1: pred=[0.8908602143698098, 0.21048471317374148, 0.319999991557264, 1.8000000064555077, 0.41353535427083654], ws=[0.8908602143698098, 0.21048471317374148, 0.319999991557264, 1.8000000064555077, 0.30101010115511984], res=[0.0, 0.0, 0.0, 0.0, 0.1125252531157167], res_norm=1.125e-01
2026-01-26 14:34:08,764 - INFO - integration_test - Dyn residual k=2: pred=[1.0617225907154733, 0.2671066928451654, 0.319999991557264, 1.8000000064555077, 0.4810101018006706], ws=[1.0617225907154733, 0.2671066928451654, 0.319999991557264, 1.8000000064555077, 0.8062626267244446], res=[0.0, 0.0, 0.0, 0.0, -0.325252524923774], res_norm=3.253e-01
2026-01-26 14:34:08,780 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:08,830 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:08,849 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:08,891 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:08,909 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:08,951 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:08,969 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:09,010 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:09,028 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:09,069 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:09,087 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:09,129 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:09,158 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:09,211 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:09,229 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:09,271 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:09,289 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:09,331 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:09,351 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:09,393 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:09,412 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:09,452 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:09,970 - INFO - integration_test - Step 4: MPC solve successful
2026-01-26 14:34:09,977 - INFO - integration_test - Step 4: Computed 6 numeric contouring constraints for visualization (s=0.600)
2026-01-26 14:34:09,978 - DEBUG - integration_test - Step 4: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:34:09,978 - INFO - integration_test - === Applying control at step 4 ===
2026-01-26 14:34:09,978 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000168051684, 'w': 0.7999999906377825}
2026-01-26 14:34:09,978 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:34:09,978 - INFO - integration_test -   Planner output success: True
2026-01-26 14:34:09,979 - INFO - integration_test - Step 4 completed in 1.260s
2026-01-26 14:34:10,028 - INFO - integration_test - Step 5 (contouring until path end)
2026-01-26 14:34:10,028 - DEBUG - integration_test - Syncing planner state at step 5: vehicle_state=[0.72686149 0.16427976 0.39999999 2.00000001 0.8       ]
2026-01-26 14:34:10,029 - DEBUG - integration_test - Step 5: Using propagated spline 0.8000 (close to path, dist=0.414m, drift=0.063m)
2026-01-26 14:34:10,029 - DEBUG - integration_test -   Set spline state to 0.8000
2026-01-26 14:34:10,030 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:10,043 - DEBUG - integration_test - Step 5: Checking path alignment: vehicle=(0.727, 0.164), path_start=(0.000, 0.000), dist=0.745m
2026-01-26 14:34:10,043 - INFO - integration_test - === Calling planner.solve_mpc() at step 5 ===
2026-01-26 14:34:10,046 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:10,069 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:34:10,069 - INFO - integration_test - Warmstart k=0: x0=0.7268614896348556 , y0=0.1642797636144367 , psi0=0.399999990621042 , v0=2.0000000081360247 , spline0=0.8000000023938741 , a0=0.0 , w0=0.0
2026-01-26 14:34:10,069 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:34:10,070 - INFO - integration_test - Dyn residual k=0: pred=[0.9110736899152778, 0.24216343066528004, 0.399999990621042, 2.0000000081360247, 1.0000000032074765], ws=[0.9110736899152778, 0.24216343066528004, 0.39999999062104186, 2.0000000081360247, 0.30303030319229685], res=[0.0, 0.0, 1.6653345369377348e-16, 0.0, 0.6969697000151797], res_norm=6.970e-01
2026-01-26 14:34:10,071 - INFO - integration_test - Dyn residual k=1: pred=[1.0952858901957, 0.3200470977161234, 0.39999999062104186, 2.0000000081360247, 0.5030303040058993], ws=[1.0952858901957, 0.3200470977161234, 0.39999999062104186, 2.0000000081360247, 0.8141414146694346], res=[0.0, 0.0, 0.0, 0.0, -0.31111111066353525], res_norm=3.111e-01
2026-01-26 14:34:10,072 - INFO - integration_test - Dyn residual k=2: pred=[1.2794980904761224, 0.3979307647669667, 0.39999999062104186, 2.0000000081360247, 1.014141415483037], ws=[1.2794980904761224, 0.3979307647669667, 0.39999999062104186, 2.0000000081360247, 0.9050505057341974], res=[0.0, 0.0, 0.0, 0.0, 0.10909090974883962], res_norm=1.091e-01
2026-01-26 14:34:10,087 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:10,138 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:10,157 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:10,201 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:10,219 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:10,261 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:10,279 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:10,321 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:10,340 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:10,381 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:10,399 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:10,439 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:10,458 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:10,499 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:10,518 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:10,560 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:10,579 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:10,620 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:10,639 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:10,679 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:10,697 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:10,737 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:11,288 - INFO - integration_test - Step 5: MPC solve successful
2026-01-26 14:34:11,295 - INFO - integration_test - Step 5: Computed 6 numeric contouring constraints for visualization (s=0.800)
2026-01-26 14:34:11,296 - DEBUG - integration_test - Step 5: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:34:11,296 - INFO - integration_test - === Applying control at step 5 ===
2026-01-26 14:34:11,296 - INFO - integration_test -   Control dict from planner: {'a': 2.00000001872065, 'w': 0.7999999987238772}
2026-01-26 14:34:11,296 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:34:11,296 - INFO - integration_test -   Planner output success: True
2026-01-26 14:34:11,297 - INFO - integration_test - Step 5 completed in 1.269s
2026-01-26 14:34:11,348 - INFO - integration_test - Step 6 (contouring until path end)
2026-01-26 14:34:11,349 - DEBUG - integration_test - Syncing planner state at step 6: vehicle_state=[0.9167519  0.2538238  0.47999999 2.20000001 1.02      ]
2026-01-26 14:34:11,349 - DEBUG - integration_test - Step 6: Using propagated spline 1.0200 (close to path, dist=0.478m, drift=0.283m)
2026-01-26 14:34:11,349 - DEBUG - integration_test -   Set spline state to 1.0200
2026-01-26 14:34:11,350 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:11,364 - DEBUG - integration_test - Step 6: Checking path alignment: vehicle=(0.917, 0.254), path_start=(0.000, 0.000), dist=0.951m
2026-01-26 14:34:11,364 - INFO - integration_test - === Calling planner.solve_mpc() at step 6 ===
2026-01-26 14:34:11,366 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:11,389 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:34:11,389 - INFO - integration_test - Warmstart k=0: x0=0.9167519044534947 , y0=0.25382380183138664 , psi0=0.47999999049342973 , v0=2.2000000100080896 , spline0=1.0200000033946832 , a0=0.0 , w0=0.0
2026-01-26 14:34:11,389 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:34:11,390 - INFO - integration_test - Dyn residual k=0: pred=[1.1118907893184358, 0.3554152190575641, 0.47999999049342973, 2.2000000100080896, 1.2400000043954922], ws=[1.1118907893184358, 0.3554152190575641, 0.4799999904934298, 2.2000000100080896, 0.6303030307470193], res=[0.0, 0.0, -5.551115123125783e-17, 0.0, 0.6096969736484729], res_norm=6.097e-01
2026-01-26 14:34:11,391 - INFO - integration_test - Dyn residual k=1: pred=[1.3070296741833767, 0.4570066362837416, 0.4799999904934298, 2.2000000100080896, 0.8503030317478283], ws=[1.3070296741833767, 0.4570066362837416, 0.4799999904934298, 2.2000000100080896, 0.9135353542984669], res=[0.0, 0.0, 0.0, 0.0, -0.0632323225506386], res_norm=6.323e-02
2026-01-26 14:34:11,391 - INFO - integration_test - Dyn residual k=2: pred=[1.5021685590483176, 0.5585980535099191, 0.4799999904934298, 2.2000000100080896, 1.133535355299276], ws=[1.5021685590483176, 0.5585980535099191, 0.4799999904934298, 2.2000000100080896, 1.0121212130904713], res=[0.0, 0.0, 0.0, 0.0, 0.12141414220880464], res_norm=1.214e-01
2026-01-26 14:34:11,406 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:11,456 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:11,474 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:11,515 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:11,533 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:11,575 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:11,594 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:11,636 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:11,655 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:11,696 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:11,715 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:11,757 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:11,775 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:11,819 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:11,837 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:11,879 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:11,897 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:11,939 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:11,959 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:12,000 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:12,018 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:12,059 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:12,662 - INFO - integration_test - Step 6: MPC solve successful
2026-01-26 14:34:12,670 - INFO - integration_test - Step 6: Computed 6 numeric contouring constraints for visualization (s=1.020)
2026-01-26 14:34:12,670 - DEBUG - integration_test - Step 6: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:34:12,670 - INFO - integration_test - === Applying control at step 6 ===
2026-01-26 14:34:12,670 - INFO - integration_test -   Control dict from planner: {'a': 2.000000019998952, 'w': 0.8000000099863925}
2026-01-26 14:34:12,670 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:34:12,670 - INFO - integration_test -   Planner output success: True
2026-01-26 14:34:12,671 - INFO - integration_test - Step 6 completed in 1.323s
2026-01-26 14:34:12,723 - INFO - integration_test - Step 7 (contouring until path end)
2026-01-26 14:34:12,724 - DEBUG - integration_test - Syncing planner state at step 7: vehicle_state=[1.11623087 0.36819144 0.55999999 2.40000001 1.26      ]
2026-01-26 14:34:12,725 - DEBUG - integration_test - Step 7: Using propagated spline 1.2600 (close to path, dist=0.531m, drift=0.154m)
2026-01-26 14:34:12,725 - DEBUG - integration_test -   Set spline state to 1.2600
2026-01-26 14:34:12,726 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:12,740 - DEBUG - integration_test - Step 7: Checking path alignment: vehicle=(1.116, 0.368), path_start=(0.000, 0.000), dist=1.175m
2026-01-26 14:34:12,740 - INFO - integration_test - === Calling planner.solve_mpc() at step 7 ===
2026-01-26 14:34:12,743 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:12,768 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:34:12,768 - INFO - integration_test - Warmstart k=0: x0=1.1162308655955429 , y0=0.36819143940602 , psi0=0.559999991492069 , v0=2.4000000120079847 , spline0=1.2600000045954818 , a0=0.0 , w0=0.0
2026-01-26 14:34:12,768 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:34:12,769 - INFO - integration_test - Dyn residual k=0: pred=[1.3195720943407763, 0.4956761258148665, 0.559999991492069, 2.4000000120079847, 1.5000000057962803], ws=[1.3195720943407763, 0.4956761258148665, 0.5599999914920692, 2.4000000120079847, 1.181818182872051], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, 0.31818182292422925], res_norm=3.182e-01
2026-01-26 14:34:12,769 - INFO - integration_test - Dyn residual k=1: pred=[1.5229133230860097, 0.623160812223713, 0.5599999914920692, 2.4000000120079847, 1.4218181840728497], ws=[1.5229133230860097, 0.623160812223713, 0.5599999914920692, 2.4000000120079847, 1.4977777793326843], res=[0.0, 0.0, 0.0, 0.0, -0.07595959525983464], res_norm=7.596e-02
2026-01-26 14:34:12,770 - INFO - integration_test - Dyn residual k=2: pred=[1.726254551831243, 0.7506454986325595, 0.5599999914920692, 2.4000000120079847, 1.7377777805334829], ws=[1.726254551831243, 0.7506454986325595, 0.5599999914920692, 2.4000000120079847, 1.3395959611692896], res=[0.0, 0.0, 0.0, 0.0, 0.3981818193641933], res_norm=3.982e-01
2026-01-26 14:34:12,784 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:12,834 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:12,852 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:12,893 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:12,912 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:12,953 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:12,972 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:13,014 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:13,032 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:13,075 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:13,093 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:13,133 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:13,153 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:13,196 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:13,216 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:13,257 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:13,275 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:13,315 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:13,334 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:13,376 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:13,396 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:13,439 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:14,017 - INFO - integration_test - Step 7: MPC solve successful
2026-01-26 14:34:14,025 - INFO - integration_test - Step 7: Computed 6 numeric contouring constraints for visualization (s=1.260)
2026-01-26 14:34:14,026 - DEBUG - integration_test - Step 7: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:34:14,026 - INFO - integration_test - === Applying control at step 7 ===
2026-01-26 14:34:14,026 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000199807206, 'w': 0.8000000096437855}
2026-01-26 14:34:14,026 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:34:14,026 - INFO - integration_test -   Planner output success: True
2026-01-26 14:34:14,027 - INFO - integration_test - Step 7 completed in 1.303s
2026-01-26 14:34:14,076 - INFO - integration_test - Step 8 (contouring until path end)
2026-01-26 14:34:14,076 - DEBUG - integration_test - Syncing planner state at step 8: vehicle_state=[1.32243449 0.50942443 0.63999999 2.60000001 1.52000001]
2026-01-26 14:34:14,077 - DEBUG - integration_test - Step 8: Using propagated spline 1.5200 (close to path, dist=0.598m, drift=0.045m)
2026-01-26 14:34:14,077 - DEBUG - integration_test -   Set spline state to 1.5200
2026-01-26 14:34:14,078 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:14,093 - DEBUG - integration_test - Step 8: Checking path alignment: vehicle=(1.322, 0.509), path_start=(0.000, 0.000), dist=1.417m
2026-01-26 14:34:14,093 - INFO - integration_test - === Calling planner.solve_mpc() at step 8 ===
2026-01-26 14:34:14,096 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:14,121 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:34:14,122 - INFO - integration_test - Warmstart k=0: x0=1.322434490899756 , y0=0.5094244344285477 , psi0=0.6399999924564476 , v0=2.600000014006057 , spline0=1.5200000059960874 , a0=0.0 , w0=0.0
2026-01-26 14:34:14,122 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:34:14,123 - INFO - integration_test - Dyn residual k=0: pred=[1.5309793902443856, 0.6646952484460356, 0.6399999924564476, 2.600000014006057, 1.780000007396693], ws=[1.5309793902443856, 0.6646952484460356, 0.6399999924564477, 2.600000014006057, 1.5066666683103764], res=[0.0, 0.0, -1.1102230246251565e-16, 0.0, 0.27333333908631663], res_norm=2.733e-01
2026-01-26 14:34:14,124 - INFO - integration_test - Dyn residual k=1: pred=[1.739524289589015, 0.8199660624635234, 0.6399999924564477, 2.600000014006057, 1.766666669710982], ws=[1.739524289589015, 0.8199660624635234, 0.6399999924564477, 2.600000014006057, 1.8488888911992905], res=[0.0, 0.0, 0.0, 0.0, -0.08222222148830838], res_norm=8.222e-02
2026-01-26 14:34:14,124 - INFO - integration_test - Dyn residual k=2: pred=[1.9480691889336446, 0.9752368764810113, 0.6399999924564477, 2.600000014006057, 2.108888892599896], ws=[1.9480691889336446, 0.9752368764810113, 0.6399999924564477, 2.600000014006057, 1.695959598328806], res=[0.0, 0.0, 0.0, 0.0, 0.41292929427109004], res_norm=4.129e-01
2026-01-26 14:34:14,141 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:14,203 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:14,225 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:14,270 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:14,288 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:14,329 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:14,349 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:14,392 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:14,411 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:14,452 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:14,471 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:14,510 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:14,529 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:14,572 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:14,590 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:14,633 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:14,652 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:14,700 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:14,719 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:14,760 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:14,778 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:14,818 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:15,368 - INFO - integration_test - Step 8: MPC solve successful
2026-01-26 14:34:15,375 - INFO - integration_test - Step 8: Computed 6 numeric contouring constraints for visualization (s=1.520)
2026-01-26 14:34:15,376 - DEBUG - integration_test - Step 8: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:34:15,376 - INFO - integration_test - === Applying control at step 8 ===
2026-01-26 14:34:15,376 - INFO - integration_test -   Control dict from planner: {'a': 2.000000019946845, 'w': 0.8000000090479455}
2026-01-26 14:34:15,376 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:34:15,376 - INFO - integration_test -   Planner output success: True
2026-01-26 14:34:15,377 - INFO - integration_test - Step 8 completed in 1.301s
2026-01-26 14:34:15,428 - INFO - integration_test - Step 9 (contouring until path end)
2026-01-26 14:34:15,429 - DEBUG - integration_test - Syncing planner state at step 9: vehicle_state=[1.53223933 0.67925693 0.71999999 2.80000002 1.80000001]
2026-01-26 14:34:15,430 - DEBUG - integration_test - Step 9: Using propagated spline 1.8000 (close to path, dist=0.603m, drift=0.325m)
2026-01-26 14:34:15,430 - DEBUG - integration_test -   Set spline state to 1.8000
2026-01-26 14:34:15,430 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:15,443 - DEBUG - integration_test - Step 9: Checking path alignment: vehicle=(1.532, 0.679), path_start=(0.000, 0.000), dist=1.676m
2026-01-26 14:34:15,443 - INFO - integration_test - === Calling planner.solve_mpc() at step 9 ===
2026-01-26 14:34:15,446 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:15,469 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:34:15,469 - INFO - integration_test - Warmstart k=0: x0=1.5322393328440558 , y0=0.6792569320261523 , psi0=0.7199999933612421 , v0=2.8000000160007414 , spline0=1.8000000075961615 , a0=0.0 , w0=0.0
2026-01-26 14:34:15,469 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:34:15,470 - INFO - integration_test - Dyn residual k=0: pred=[1.74274493943215, 0.8638846398357334, 0.7199999933612421, 2.8000000160007414, 2.080000009196236], ws=[1.74274493943215, 0.8638846398357334, 0.7199999933612422, 2.8000000160007414, 1.8593939418091123], res=[0.0, 0.0, -1.1102230246251565e-16, 0.0, 0.22060606738712352], res_norm=2.206e-01
2026-01-26 14:34:15,471 - INFO - integration_test - Dyn residual k=1: pred=[1.953250546020244, 1.0485123476453144, 0.7199999933612422, 2.8000000160007414, 2.1393939434091864], ws=[1.953250546020244, 1.0485123476453144, 0.7199999933612422, 2.8000000160007414, 1.7098989924072234], res=[0.0, 0.0, 0.0, 0.0, 0.429494951001963], res_norm=4.295e-01
2026-01-26 14:34:15,471 - INFO - integration_test - Dyn residual k=2: pred=[2.163756152608338, 1.2331400554548955, 0.7199999933612422, 2.8000000160007414, 1.9898989940072975], ws=[2.163756152608338, 1.2331400554548955, 0.7199999933612422, 2.8000000160007414, 2.315151518907995], res=[0.0, 0.0, 0.0, 0.0, -0.32525252490069745], res_norm=3.253e-01
2026-01-26 14:34:15,485 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:15,536 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:15,556 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:15,598 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:15,617 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:15,658 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:15,677 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:15,716 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:15,735 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:15,778 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:15,795 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:15,837 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:15,854 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:15,895 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:15,913 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:15,955 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:15,974 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:16,014 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:16,033 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:16,075 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:16,096 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:16,139 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:16,726 - INFO - integration_test - Step 9: MPC solve successful
2026-01-26 14:34:16,733 - INFO - integration_test - Step 9: Computed 6 numeric contouring constraints for visualization (s=1.800)
2026-01-26 14:34:16,734 - DEBUG - integration_test - Step 9: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:34:16,734 - INFO - integration_test - === Applying control at step 9 ===
2026-01-26 14:34:16,734 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000199988652, 'w': 0.800000009973963}
2026-01-26 14:34:16,734 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:34:16,734 - INFO - integration_test -   Planner output success: True
2026-01-26 14:34:16,735 - INFO - integration_test - Step 9 completed in 1.306s
2026-01-26 14:34:16,787 - INFO - integration_test - Step 10 (contouring until path end)
2026-01-26 14:34:16,788 - DEBUG - integration_test - Syncing planner state at step 10: vehicle_state=[1.7422939  0.8790875  0.79999999 3.00000002 2.10000001]
2026-01-26 14:34:16,788 - DEBUG - integration_test - Step 10: Using propagated spline 2.1000 (close to path, dist=0.597m, drift=0.256m)
2026-01-26 14:34:16,788 - DEBUG - integration_test -   Set spline state to 2.1000
2026-01-26 14:34:16,789 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:16,803 - DEBUG - integration_test - Step 10: Checking path alignment: vehicle=(1.742, 0.879), path_start=(0.000, 0.000), dist=1.952m
2026-01-26 14:34:16,803 - INFO - integration_test - === Calling planner.solve_mpc() at step 10 ===
2026-01-26 14:34:16,806 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:16,829 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:34:16,829 - INFO - integration_test - Warmstart k=0: x0=1.7422939002033515 , y0=0.8790875005331662 , psi0=0.7999999943586384 , v0=3.000000018000628 , spline0=2.1000000093962243 , a0=0.0 , w0=0.0
2026-01-26 14:34:16,829 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:34:16,830 - INFO - integration_test - Dyn residual k=0: pred=[1.9513059154756764, 1.0942943279151967, 0.7999999943586384, 3.000000018000628, 2.400000011196287], ws=[1.9513059142215607, 1.0942943266239107, 0.7999999943586387, 3.0, 1.7191919213748805], res=[1.2541157001777492e-09, 1.2912859670421994e-09, -2.220446049250313e-16, 1.8000628099201776e-08, 0.6808080898214064], res_norm=6.808e-01
2026-01-26 14:34:16,831 - INFO - integration_test - Dyn residual k=1: pred=[2.16031792823977, 1.3095011527146552, 0.7999999943586387, 3.0, 2.0191919213748806], ws=[2.16031792823977, 1.3095011527146552, 0.7999999943586387, 3.0, 2.1000000025626067], res=[0.0, 0.0, 0.0, 0.0, -0.08080808118772609], res_norm=8.081e-02
2026-01-26 14:34:16,832 - INFO - integration_test - Dyn residual k=2: pred=[2.369329942257979, 1.5247079788053997, 0.7999999943586387, 3.0, 2.4000000025626065], ws=[2.369329942257979, 1.5247079788053997, 0.7999999943586387, 3.0, 2.1818181843807882], res=[0.0, 0.0, 0.0, 0.0, 0.21818181818181825], res_norm=2.182e-01
2026-01-26 14:34:16,847 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:16,898 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:16,917 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:16,960 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:16,979 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:17,020 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:17,039 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:17,080 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:17,098 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:17,140 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:17,160 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:17,203 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:17,222 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:17,263 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:17,281 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:17,322 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:17,339 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:17,381 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:17,399 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:17,440 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:17,457 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:17,497 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:18,059 - INFO - integration_test - Step 10: MPC solve successful
2026-01-26 14:34:18,067 - INFO - integration_test - Step 10: Computed 6 numeric contouring constraints for visualization (s=2.100)
2026-01-26 14:34:18,067 - DEBUG - integration_test - Step 10: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:34:18,067 - INFO - integration_test - === Applying control at step 10 ===
2026-01-26 14:34:18,067 - INFO - integration_test -   Control dict from planner: {'a': 1.199925554574848e-07, 'w': 0.8000000098479068}
2026-01-26 14:34:18,067 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:34:18,067 - INFO - integration_test -   Planner output success: True
2026-01-26 14:34:18,069 - INFO - integration_test - Step 10 completed in 1.281s
2026-01-26 14:34:18,120 - INFO - integration_test - Step 11 (contouring until path end)
2026-01-26 14:34:18,121 - DEBUG - integration_test - Syncing planner state at step 11: vehicle_state=[1.94247936 1.10242087 0.88       3.00000003 2.40000001]
2026-01-26 14:34:18,121 - DEBUG - integration_test - Step 11: Using propagated spline 2.4000 (close to path, dist=0.575m, drift=0.188m)
2026-01-26 14:34:18,121 - DEBUG - integration_test -   Set spline state to 2.4000
2026-01-26 14:34:18,122 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:18,136 - DEBUG - integration_test - Step 11: Checking path alignment: vehicle=(1.942, 1.102), path_start=(0.000, 0.000), dist=2.234m
2026-01-26 14:34:18,136 - INFO - integration_test - === Calling planner.solve_mpc() at step 11 ===
2026-01-26 14:34:18,139 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:18,164 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:34:18,164 - INFO - integration_test - Warmstart k=0: x0=1.9424793607930677 , y0=1.1024208737770722 , psi0=0.8799999953434291 , v0=3.0000000299998835 , spline0=2.400000012396213 , a0=0.0 , w0=0.0
2026-01-26 14:34:18,164 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:34:18,165 - INFO - integration_test - Dyn residual k=0: pred=[2.133624707040788, 1.3336425388688888, 0.8799999953434291, 3.0000000299998835, 2.7000000153962014], ws=[2.1336247051293418, 1.333642536556681, 0.8799999953434288, 3.0, 2.1000000033807855], res=[1.9114461125013804e-09, 2.3122077585924217e-09, 3.3306690738754696e-16, 2.999988346630289e-08, 0.6000000120154159], res_norm=6.000e-01
2026-01-26 14:34:18,166 - INFO - integration_test - Dyn residual k=1: pred=[2.324770049465616, 1.56486419933629, 0.8799999953434288, 3.0, 2.400000003380786], ws=[2.324770049465616, 1.56486419933629, 0.8799999953434288, 3.0, 2.181818185198967], res=[0.0, 0.0, 0.0, 0.0, 0.2181818181818187], res_norm=2.182e-01
2026-01-26 14:34:18,167 - INFO - integration_test - Dyn residual k=2: pred=[2.5159153938018903, 1.7960858621158988, 0.8799999953434288, 3.0, 2.481818185198967], ws=[2.5159153938018903, 1.7960858621158988, 0.8799999953434288, 3.0, 2.7666666707987373], res=[0.0, 0.0, 0.0, 0.0, -0.2848484855997704], res_norm=2.848e-01
2026-01-26 14:34:18,183 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:18,236 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:18,254 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:18,295 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:18,313 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:18,354 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:18,373 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:18,414 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:18,432 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:18,474 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:18,493 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:18,535 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:18,556 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:18,597 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:18,615 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:18,656 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:18,674 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:18,715 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:18,732 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:18,774 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:18,792 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:18,831 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:19,516 - INFO - integration_test - Step 11: MPC solve successful
2026-01-26 14:34:19,523 - INFO - integration_test - Step 11: Computed 6 numeric contouring constraints for visualization (s=2.400)
2026-01-26 14:34:19,524 - DEBUG - integration_test - Step 11: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:34:19,524 - INFO - integration_test - === Applying control at step 11 ===
2026-01-26 14:34:19,524 - INFO - integration_test -   Control dict from planner: {'a': -2.277238194682397e-14, 'w': -0.05435144205534197}
2026-01-26 14:34:19,524 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:34:19,524 - INFO - integration_test -   Planner output success: True
2026-01-26 14:34:19,525 - INFO - integration_test - Step 11 completed in 1.404s
2026-01-26 14:34:19,576 - INFO - integration_test - Step 12 (contouring until path end)
2026-01-26 14:34:19,576 - DEBUG - integration_test - Syncing planner state at step 12: vehicle_state=[2.13425213 1.33312195 0.87456485 3.00000003 2.70000002]
2026-01-26 14:34:19,577 - DEBUG - integration_test - Step 12: Using propagated spline 2.7000 (close to path, dist=0.549m, drift=0.119m)
2026-01-26 14:34:19,577 - DEBUG - integration_test -   Set spline state to 2.7000
2026-01-26 14:34:19,578 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:19,591 - DEBUG - integration_test - Step 12: Checking path alignment: vehicle=(2.134, 1.333), path_start=(0.000, 0.000), dist=2.516m
2026-01-26 14:34:19,591 - INFO - integration_test - === Calling planner.solve_mpc() at step 12 ===
2026-01-26 14:34:19,594 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:19,617 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:34:19,617 - INFO - integration_test - Warmstart k=0: x0=2.134252125944485 , y0=1.3331219504769793 , psi0=0.874564851137895 , v0=3.0000000299998812 , spline0=2.700000015396201 , a0=0.0 , w0=0.0
2026-01-26 14:34:19,617 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:34:19,618 - INFO - integration_test - Dyn residual k=0: pred=[2.326651365812441, 1.563301302935504, 0.874564851137895, 3.0000000299998812, 3.000000018396189], ws=[2.326651363888456, 1.5633013006337197, 0.8745648511378947, 3.0, 2.1818181860171455], res=[1.923984971341497e-09, 2.301784318703426e-09, 2.220446049250313e-16, 2.999988124585684e-08, 0.8181818323790435], res_norm=8.182e-01
2026-01-26 14:34:19,619 - INFO - integration_test - Dyn residual k=1: pred=[2.5190506018324266, 1.7934806507904602, 0.8745648511378947, 3.0, 2.4818181860171453], ws=[2.5190506018324266, 1.7934806507904602, 0.8745648511378947, 3.0, 2.766666671798734], res=[0.0, 0.0, 0.0, 0.0, -0.2848484857815885], res_norm=2.848e-01
2026-01-26 14:34:19,619 - INFO - integration_test - Dyn residual k=2: pred=[2.7114498397763973, 2.0236600009472006, 0.8745648511378947, 3.0, 3.0666666717987336], ws=[2.7114498397763973, 2.0236600009472006, 0.8745648511378947, 3.0, 2.866666671798734], res=[0.0, 0.0, 0.0, 0.0, 0.19999999999999973], res_norm=2.000e-01
2026-01-26 14:34:19,635 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:19,684 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:19,704 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:19,744 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:19,763 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:19,805 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:19,823 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:19,864 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:19,882 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:19,921 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:19,940 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:19,983 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:20,004 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:20,046 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:20,065 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:20,105 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:20,124 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:20,166 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:20,187 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:20,230 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:20,248 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:20,299 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:21,305 - INFO - integration_test - Step 12: MPC solve successful
2026-01-26 14:34:21,312 - INFO - integration_test - Step 12: Computed 6 numeric contouring constraints for visualization (s=2.700)
2026-01-26 14:34:21,312 - DEBUG - integration_test - Step 12: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:34:21,312 - INFO - integration_test - === Applying control at step 12 ===
2026-01-26 14:34:21,312 - INFO - integration_test -   Control dict from planner: {'a': -2.1781873686860396e-07, 'w': -0.17908273928932897}
2026-01-26 14:34:21,312 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:34:21,312 - INFO - integration_test -   Planner output success: True
2026-01-26 14:34:21,314 - INFO - integration_test - Step 12 completed in 1.737s
2026-01-26 14:34:21,365 - INFO - integration_test - Step 13 (contouring until path end)
2026-01-26 14:34:21,365 - DEBUG - integration_test - Syncing planner state at step 13: vehicle_state=[2.32870208 1.56156628 0.85665658 3.00000001 3.00000002]
2026-01-26 14:34:21,366 - DEBUG - integration_test - Step 13: Using propagated spline 3.0000 (close to path, dist=0.534m, drift=0.419m)
2026-01-26 14:34:21,366 - DEBUG - integration_test -   Set spline state to 3.0000
2026-01-26 14:34:21,367 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:21,381 - DEBUG - integration_test - Step 13: Checking path alignment: vehicle=(2.329, 1.562), path_start=(0.000, 0.000), dist=2.804m
2026-01-26 14:34:21,381 - INFO - integration_test - === Calling planner.solve_mpc() at step 13 ===
2026-01-26 14:34:21,384 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:21,408 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:34:21,408 - INFO - integration_test - Warmstart k=0: x0=2.328702083701365 , y0=1.561566275882386 , psi0=0.856656577208962 , v0=3.0000000082180076 , spline0=3.0000000162180016 , a0=0.0 , w0=0.0
2026-01-26 14:34:21,408 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:34:21,409 - INFO - integration_test - Dyn residual k=0: pred=[2.525192365714217, 1.788263363573407, 0.856656577208962, 3.0000000082180076, 3.3000000170398023], ws=[2.5251923651759642, 1.7882633629524076, 0.856656577208962, 3.0, 2.7666666720726676], res=[5.382525536390403e-10, 6.209994740657976e-10, 0.0, 8.218007607752043e-09, 0.5333333449671347], res_norm=5.333e-01
2026-01-26 14:34:21,410 - INFO - integration_test - Dyn residual k=1: pred=[2.7216826466505633, 2.0149604500224294, 0.856656577208962, 3.0, 3.0666666720726674], ws=[2.7216826466505633, 2.0149604500224294, 0.856656577208962, 3.0, 2.866666672072667], res=[0.0, 0.0, 0.0, 0.0, 0.20000000000000062], res_norm=2.000e-01
2026-01-26 14:34:21,410 - INFO - integration_test - Dyn residual k=2: pred=[2.9181729281251623, 2.241657537092451, 0.856656577208962, 3.0, 3.166666672072667], ws=[2.9181729281251623, 2.241657537092451, 0.856656577208962, 3.0, 3.6858585925751317], res=[0.0, 0.0, 0.0, 0.0, -0.5191919205024647], res_norm=5.192e-01
2026-01-26 14:34:21,425 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:21,476 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:21,495 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:21,534 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:21,553 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:21,595 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:21,613 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:21,654 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:21,671 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:21,712 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:21,730 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:21,773 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:21,795 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:21,836 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:21,856 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:21,898 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:21,916 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:21,958 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:21,977 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:22,020 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:22,038 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:22,079 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:22,655 - INFO - integration_test - Step 13: MPC solve successful
2026-01-26 14:34:22,663 - INFO - integration_test - Step 13: Computed 6 numeric contouring constraints for visualization (s=3.000)
2026-01-26 14:34:22,663 - DEBUG - integration_test - Step 13: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:34:22,663 - INFO - integration_test - === Applying control at step 13 ===
2026-01-26 14:34:22,663 - INFO - integration_test -   Control dict from planner: {'a': 2.1781400133378577e-07, 'w': -0.1704716066165498}
2026-01-26 14:34:22,663 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:34:22,663 - INFO - integration_test -   Planner output success: True
2026-01-26 14:34:22,664 - INFO - integration_test - Step 13 completed in 1.299s
2026-01-26 14:34:22,711 - INFO - integration_test - Step 14 (contouring until path end)
2026-01-26 14:34:22,711 - DEBUG - integration_test - Syncing planner state at step 14: vehicle_state=[2.52711507 1.78657762 0.83960942 3.00000003 3.30000002]
2026-01-26 14:34:22,712 - DEBUG - integration_test - Step 14: Using propagated spline 3.3000 (close to path, dist=0.484m, drift=0.350m)
2026-01-26 14:34:22,712 - DEBUG - integration_test -   Set spline state to 3.3000
2026-01-26 14:34:22,712 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:22,726 - DEBUG - integration_test - Step 14: Checking path alignment: vehicle=(2.527, 1.787), path_start=(0.000, 0.000), dist=3.095m
2026-01-26 14:34:22,726 - INFO - integration_test - === Calling planner.solve_mpc() at step 14 ===
2026-01-26 14:34:22,729 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:22,753 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:34:22,753 - INFO - integration_test - Warmstart k=0: x0=2.5271150737594477 , y0=1.7865776244993996 , psi0=0.839609416547307 , v0=3.000000029999408 , spline0=3.3000000192179426 , a0=0.0 , w0=0.0
2026-01-26 14:34:22,754 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:34:22,754 - INFO - integration_test - Dyn residual k=0: pred=[2.727441161823328, 2.0098923357053278, 0.839609416547307, 3.000000029999408, 3.600000022217883], ws=[2.7274411598201063, 2.0098923334722247, 0.8396094165473071, 3.0, 2.8666666730726473], res=[2.0032215886089944e-09, 2.2331030358202497e-09, -1.1102230246251565e-16, 2.999940784675914e-08, 0.7333333491452358], res_norm=7.333e-01
2026-01-26 14:34:22,755 - INFO - integration_test - Dyn residual k=1: pred=[2.927767245880765, 2.23320704244505, 0.8396094165473071, 3.0, 3.1666666730726476], ws=[2.927767245880765, 2.23320704244505, 0.8396094165473071, 3.0, 3.6858585938175312], res=[0.0, 0.0, 0.0, 0.0, -0.5191919207448836], res_norm=5.192e-01
2026-01-26 14:34:22,756 - INFO - integration_test - Dyn residual k=2: pred=[3.1280933319414235, 2.456521751417875, 0.8396094165473071, 3.0, 3.9858585938175315], ws=[3.1280933319414235, 2.456521751417875, 0.8396094165473071, 3.0, 3.8101010180599557], res=[0.0, 0.0, 0.0, 0.0, 0.17575757575757578], res_norm=1.758e-01
2026-01-26 14:34:22,771 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:22,823 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:22,841 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:22,882 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:22,900 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:22,940 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:22,959 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:23,009 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:23,029 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:23,070 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:23,089 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:23,128 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:23,148 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:23,192 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:23,212 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:23,255 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:23,275 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:23,316 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:23,334 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:23,375 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:23,394 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:23,436 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:24,290 - INFO - integration_test - Step 14: MPC solve successful
2026-01-26 14:34:24,298 - INFO - integration_test - Step 14: Computed 6 numeric contouring constraints for visualization (s=3.300)
2026-01-26 14:34:24,298 - DEBUG - integration_test - Step 14: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:34:24,298 - INFO - integration_test - === Applying control at step 14 ===
2026-01-26 14:34:24,298 - INFO - integration_test -   Control dict from planner: {'a': -1.2856868040660273e-08, 'w': -0.1409595086078777}
2026-01-26 14:34:24,298 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:34:24,298 - INFO - integration_test -   Planner output success: True
2026-01-26 14:34:24,299 - INFO - integration_test - Step 14 completed in 1.588s
2026-01-26 14:34:24,346 - INFO - integration_test - Step 15 (contouring until path end)
2026-01-26 14:34:24,348 - DEBUG - integration_test - Syncing planner state at step 15: vehicle_state=[2.72900842 2.00847307 0.82551347 3.00000003 3.60000002]
2026-01-26 14:34:24,349 - DEBUG - integration_test - Step 15: Using propagated spline 3.6000 (close to path, dist=0.445m, drift=0.281m)
2026-01-26 14:34:24,349 - DEBUG - integration_test -   Set spline state to 3.6000
2026-01-26 14:34:24,349 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:24,362 - DEBUG - integration_test - Step 15: Checking path alignment: vehicle=(2.729, 2.008), path_start=(0.000, 0.000), dist=3.388m
2026-01-26 14:34:24,362 - INFO - integration_test - === Calling planner.solve_mpc() at step 15 ===
2026-01-26 14:34:24,366 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:24,390 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:34:24,390 - INFO - integration_test - Warmstart k=0: x0=2.7290084183926586 , y0=2.0084730704819336 , psi0=0.8255134656865193 , v0=3.000000028713721 , spline0=3.600000022089315 , a0=0.0 , w0=0.0
2026-01-26 14:34:24,390 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:34:24,391 - INFO - integration_test - Dyn residual k=0: pred=[2.9324623336727744, 2.228941902927735, 0.8255134656865193, 3.000000028713721, 3.900000024960687], ws=[2.932462331725468, 2.2289419008175746, 0.8255134656865195, 3.0, 3.6858585950066862], res=[1.947306316196773e-09, 2.1101604907869387e-09, -2.220446049250313e-16, 2.8713721178519336e-08, 0.21414142995400098], res_norm=2.141e-01
2026-01-26 14:34:24,392 - INFO - integration_test - Dyn residual k=1: pred=[3.1359162450582776, 2.4494107311532156, 0.8255134656865195, 3.0, 3.985858595006686], ws=[3.1359162450582776, 2.4494107311532156, 0.8255134656865195, 3.0, 3.8101010192491103], res=[0.0, 0.0, 0.0, 0.0, 0.17575757575757578], res_norm=1.758e-01
2026-01-26 14:34:24,393 - INFO - integration_test - Dyn residual k=2: pred=[3.3393701583910866, 2.6698795614888566, 0.8255134656865195, 3.0, 4.11010101924911], ws=[3.339370158391087, 2.6698795614888566, 0.8255134656865195, 3.0, 4.126262635856975], res=[-4.440892098500626e-16, 0.0, 0.0, 0.0, -0.016161616607864637], res_norm=1.616e-02
2026-01-26 14:34:24,407 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:24,458 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:24,476 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:24,518 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:24,536 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:24,577 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:24,595 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:24,636 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:24,655 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:24,697 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:24,716 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:24,758 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:24,776 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:24,818 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:24,837 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:24,878 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:24,896 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:24,938 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:24,959 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:25,001 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:25,020 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:25,062 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:25,636 - INFO - integration_test - Step 15: MPC solve successful
2026-01-26 14:34:25,643 - INFO - integration_test - Step 15: Computed 6 numeric contouring constraints for visualization (s=3.600)
2026-01-26 14:34:25,643 - DEBUG - integration_test - Step 15: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:34:25,643 - INFO - integration_test - === Applying control at step 15 ===
2026-01-26 14:34:25,643 - INFO - integration_test -   Control dict from planner: {'a': 1.2786116829962977e-08, 'w': -0.13332560798880252}
2026-01-26 14:34:25,644 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:34:25,644 - INFO - integration_test -   Planner output success: True
2026-01-26 14:34:25,645 - INFO - integration_test - Step 15 completed in 1.297s
2026-01-26 14:34:25,695 - INFO - integration_test - Step 16 (contouring until path end)
2026-01-26 14:34:25,695 - DEBUG - integration_test - Syncing planner state at step 16: vehicle_state=[2.93392599 2.22757911 0.8121809  3.00000003 3.90000003]
2026-01-26 14:34:25,696 - DEBUG - integration_test - Step 16: Using propagated spline 3.9000 (close to path, dist=0.418m, drift=0.213m)
2026-01-26 14:34:25,696 - DEBUG - integration_test -   Set spline state to 3.9000
2026-01-26 14:34:25,697 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:25,710 - DEBUG - integration_test - Step 16: Checking path alignment: vehicle=(2.934, 2.228), path_start=(0.000, 0.000), dist=3.684m
2026-01-26 14:34:25,710 - INFO - integration_test - === Calling planner.solve_mpc() at step 16 ===
2026-01-26 14:34:25,713 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:25,737 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:34:25,737 - INFO - integration_test - Warmstart k=0: x0=2.933925991492381 , y0=2.2275791106248715 , psi0=0.812180904887639 , v0=3.000000029992333 , spline0=3.9000000250885485 , a0=0.0 , w0=0.0
2026-01-26 14:34:25,737 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:34:25,738 - INFO - integration_test - Dyn residual k=0: pred=[3.1403011514614088, 2.4453158671619755, 0.812180904887639, 3.000000029992333, 4.200000028087782], ws=[3.1403011493981845, 2.4453158649851643, 0.8121809048876392, 3.0, 3.8101010204912176], res=[2.0632242581086757e-09, 2.1768111757580755e-09, -1.1102230246251565e-16, 2.999233306155702e-08, 0.3898990075965645], res_norm=3.899e-01
2026-01-26 14:34:25,739 - INFO - integration_test - Dyn residual k=1: pred=[3.346676307303988, 2.663052619345457, 0.8121809048876392, 3.0, 4.110101020491218], ws=[3.346676307303988, 2.663052619345457, 0.8121809048876392, 3.0, 4.126262637159672], res=[0.0, 0.0, 0.0, 0.0, -0.016161616668454393], res_norm=1.616e-02
2026-01-26 14:34:25,739 - INFO - integration_test - Dyn residual k=2: pred=[3.5530514652097915, 2.88078937370575, 0.8121809048876392, 3.0, 4.426262637159672], ws=[3.5530514652097915, 2.88078937370575, 0.8121809048876392, 3.0, 4.256565667462702], res=[0.0, 0.0, 0.0, 0.0, 0.1696969696969699], res_norm=1.697e-01
2026-01-26 14:34:25,754 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:25,805 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:25,824 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:25,866 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:25,884 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:25,925 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:25,943 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:25,985 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:26,004 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:26,044 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:26,063 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:26,107 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:26,127 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:26,168 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:26,188 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:26,231 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:26,250 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:26,292 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:26,311 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:26,352 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:26,373 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:26,417 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:27,120 - INFO - integration_test - Step 16: MPC solve successful
2026-01-26 14:34:27,129 - INFO - integration_test - Step 16: Computed 6 numeric contouring constraints for visualization (s=3.900)
2026-01-26 14:34:27,129 - DEBUG - integration_test - Step 16: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:34:27,129 - INFO - integration_test - === Applying control at step 16 ===
2026-01-26 14:34:27,129 - INFO - integration_test -   Control dict from planner: {'a': -1.9816703222138662e-06, 'w': -0.1426774894339394}
2026-01-26 14:34:27,129 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:34:27,129 - INFO - integration_test -   Planner output success: True
2026-01-26 14:34:27,131 - INFO - integration_test - Step 16 completed in 1.436s
2026-01-26 14:34:27,184 - INFO - integration_test - Step 17 (contouring until path end)
2026-01-26 14:34:27,185 - DEBUG - integration_test - Syncing planner state at step 17: vehicle_state=[3.14184742 2.44383624 0.79791316 2.99999983 4.20000001]
2026-01-26 14:34:27,185 - DEBUG - integration_test - Step 17: Using propagated spline 4.2000 (close to path, dist=0.405m, drift=0.144m)
2026-01-26 14:34:27,186 - DEBUG - integration_test -   Set spline state to 4.2000
2026-01-26 14:34:27,186 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:27,200 - DEBUG - integration_test - Step 17: Checking path alignment: vehicle=(3.142, 2.444), path_start=(0.000, 0.000), dist=3.980m
2026-01-26 14:34:27,200 - INFO - integration_test - === Calling planner.solve_mpc() at step 17 ===
2026-01-26 14:34:27,204 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:27,228 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:34:27,229 - INFO - integration_test - Warmstart k=0: x0=3.1418474230711717 , y0=2.4438362432074205 , psi0=0.7979131559442452 , v0=2.999999831825301 , spline0=4.200000008271078 , a0=0.0 , w0=0.0
2026-01-26 14:34:27,229 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:34:27,230 - INFO - integration_test - Dyn residual k=0: pred=[3.35130807178067, 2.658606414673838, 0.7979131559442452, 2.999999831825301, 4.499999991453608], ws=[3.35130807178067, 2.658606414673838, 0.7979131559442454, 2.999999831825301, 4.126262622550557], res=[0.0, 0.0, -2.220446049250313e-16, 0.0, 0.37373736890305054], res_norm=3.737e-01
2026-01-26 14:34:27,230 - INFO - integration_test - Dyn residual k=1: pred=[3.560768720490168, 2.873376586140256, 0.7979131559442454, 2.999999831825301, 4.426262605733087], ws=[3.560768720490168, 2.873376586140256, 0.7979131559442454, 2.999999831825301, 4.256565645549029], res=[0.0, 0.0, 0.0, 0.0, 0.16969696018405855], res_norm=1.697e-01
2026-01-26 14:34:27,231 - INFO - integration_test - Dyn residual k=2: pred=[3.770229369199666, 3.0881467576066735, 0.7979131559442454, 2.999999831825301, 4.556565628731558], ws=[3.770229369199666, 3.0881467576066735, 0.7979131559442454, 2.999999831825301, 4.34242420024291], res=[0.0, 0.0, 0.0, 0.0, 0.2141414284886487], res_norm=2.141e-01
2026-01-26 14:34:27,246 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:27,296 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:27,315 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:27,355 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:27,374 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:27,416 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:27,433 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:27,474 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:27,492 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:27,532 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:27,550 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:27,592 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:27,611 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:27,651 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:27,669 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:27,710 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:27,727 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:27,768 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:27,787 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:27,829 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:27,846 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:27,886 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:28,499 - INFO - integration_test - Step 17: MPC solve successful
2026-01-26 14:34:28,507 - INFO - integration_test - Step 17: Computed 6 numeric contouring constraints for visualization (s=4.200)
2026-01-26 14:34:28,508 - DEBUG - integration_test - Step 17: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:34:28,508 - INFO - integration_test - === Applying control at step 17 ===
2026-01-26 14:34:28,508 - INFO - integration_test -   Control dict from planner: {'a': 1.9817458342977804e-06, 'w': -0.08079484115001649}
2026-01-26 14:34:28,508 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:34:28,508 - INFO - integration_test -   Planner output success: True
2026-01-26 14:34:28,509 - INFO - integration_test - Step 17 completed in 1.325s
2026-01-26 14:34:28,556 - INFO - integration_test - Step 18 (contouring until path end)
2026-01-26 14:34:28,557 - DEBUG - integration_test - Syncing planner state at step 18: vehicle_state=[3.35217341 2.65775792 0.78983367 3.00000003 4.50000001]
2026-01-26 14:34:28,557 - DEBUG - integration_test - Step 18: Using propagated spline 4.5000 (close to path, dist=0.405m, drift=0.075m)
2026-01-26 14:34:28,557 - DEBUG - integration_test -   Set spline state to 4.5000
2026-01-26 14:34:28,558 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:28,572 - DEBUG - integration_test - Step 18: Checking path alignment: vehicle=(3.352, 2.658), path_start=(0.000, 0.000), dist=4.278m
2026-01-26 14:34:28,572 - INFO - integration_test - === Calling planner.solve_mpc() at step 18 ===
2026-01-26 14:34:28,576 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:28,601 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:34:28,601 - INFO - integration_test - Warmstart k=0: x0=3.352173411255243 , y0=2.6577579227189347 , psi0=0.7898336718292435 , v0=3.0000000299998844 , spline0=4.500000011271067 , a0=0.0 , w0=0.0
2026-01-26 14:34:28,601 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:34:28,602 - INFO - integration_test - Dyn residual k=0: pred=[3.5633624506699615, 2.87082878283613, 0.7898336718292435, 3.0000000299998844, 4.800000014271055], ws=[3.5633624485580793, 2.8708287807054296, 0.7898336718292436, 3.0, 4.25656566146117], res=[2.1118822246535274e-09, 2.1307005049209238e-09, -1.1102230246251565e-16, 2.999988435448131e-08, 0.5434343528098848], res_norm=5.434e-01
2026-01-26 14:34:28,603 - INFO - integration_test - Dyn residual k=1: pred=[3.7745514858609157, 3.0838996386919244, 0.7898336718292436, 3.0, 4.55656566146117], ws=[3.7745514858609157, 3.0838996386919244, 0.7898336718292436, 3.0, 4.342424253695309], res=[0.0, 0.0, 0.0, 0.0, 0.21414140776586166], res_norm=2.141e-01
2026-01-26 14:34:28,604 - INFO - integration_test - Dyn residual k=2: pred=[3.985740523163752, 3.2969704966784192, 0.7898336718292436, 3.0, 4.642424253695308], ws=[3.985740523163752, 3.2969704966784192, 0.7898336718292436, 3.0, 4.945454556725611], res=[0.0, 0.0, 0.0, 0.0, -0.30303030303030276], res_norm=3.030e-01
2026-01-26 14:34:28,620 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:28,671 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:28,689 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:28,730 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:28,748 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:28,789 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:28,808 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:28,848 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:28,866 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:28,906 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:28,924 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:28,964 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:28,985 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:29,026 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:29,045 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:29,085 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:29,104 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:29,145 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:29,164 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:29,209 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:29,228 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:29,269 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:29,819 - INFO - integration_test - Step 18: MPC solve successful
2026-01-26 14:34:29,827 - INFO - integration_test - Step 18: Computed 6 numeric contouring constraints for visualization (s=4.500)
2026-01-26 14:34:29,827 - DEBUG - integration_test - Step 18: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:34:29,827 - INFO - integration_test - === Applying control at step 18 ===
2026-01-26 14:34:29,827 - INFO - integration_test -   Control dict from planner: {'a': -8.072241101220707e-07, 'w': -0.12022799787199942}
2026-01-26 14:34:29,827 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:34:29,828 - INFO - integration_test -   Planner output success: True
2026-01-26 14:34:29,829 - INFO - integration_test - Step 18 completed in 1.272s
2026-01-26 14:34:29,879 - INFO - integration_test - Step 19 (contouring until path end)
2026-01-26 14:34:29,879 - DEBUG - integration_test - Syncing planner state at step 19: vehicle_state=[3.5646382  2.86955412 0.77781087 2.99999995 4.80000001]
2026-01-26 14:34:29,880 - DEBUG - integration_test - Step 19: Using propagated spline 4.8000 (close to path, dist=0.383m, drift=0.375m)
2026-01-26 14:34:29,880 - DEBUG - integration_test -   Set spline state to 4.8000
2026-01-26 14:34:29,881 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:29,896 - DEBUG - integration_test - Step 19: Checking path alignment: vehicle=(3.565, 2.870), path_start=(0.000, 0.000), dist=4.576m
2026-01-26 14:34:29,897 - INFO - integration_test - === Calling planner.solve_mpc() at step 19 ===
2026-01-26 14:34:29,900 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:29,923 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:34:29,923 - INFO - integration_test - Warmstart k=0: x0=3.5646381987458167 , y0=2.8695541204033654 , psi0=0.7778108720420436 , v0=2.9999999492774734 , spline0=4.800000006198814 , a0=0.0 , w0=0.0
2026-01-26 14:34:29,923 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:34:29,924 - INFO - integration_test - Dyn residual k=0: pred=[3.7783736157240773, 3.0800705532198505, 0.7778108720420436, 2.9999999492774734, 5.100000001126561], ws=[3.7783736157240773, 3.0800705532198505, 0.7778108720420436, 2.9999999492774734, 4.342424243550803], res=[0.0, 0.0, 0.0, 0.0, 0.7575757575757578], res_norm=7.576e-01
2026-01-26 14:34:29,925 - INFO - integration_test - Dyn residual k=1: pred=[3.992109032702338, 3.2905869860363355, 0.7778108720420436, 2.9999999492774734, 4.64242423847855], ws=[3.992109032702338, 3.2905869860363355, 0.7778108720420436, 2.9999999492774734, 4.945454541508853], res=[0.0, 0.0, 0.0, 0.0, -0.30303030303030276], res_norm=3.030e-01
2026-01-26 14:34:29,926 - INFO - integration_test - Dyn residual k=2: pred=[4.2058444496805985, 3.5011034188528205, 0.7778108720420436, 2.9999999492774734, 5.2454545364366], ws=[4.2058444496805985, 3.5011034188528205, 0.7778108720420436, 2.9999999492774734, 5.043434334416398], res=[0.0, 0.0, 0.0, 0.0, 0.20202020202020154], res_norm=2.020e-01
2026-01-26 14:34:29,941 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:29,992 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:30,010 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:30,052 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:30,070 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:30,112 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:30,130 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:30,171 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:30,190 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:30,234 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:30,254 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:30,294 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:30,313 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:30,354 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:30,373 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:30,415 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:30,433 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:30,474 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:30,493 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:30,534 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:30,551 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:30,594 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:31,136 - INFO - integration_test - Step 19: MPC solve successful
2026-01-26 14:34:31,145 - INFO - integration_test - Step 19: Computed 6 numeric contouring constraints for visualization (s=4.800)
2026-01-26 14:34:31,145 - DEBUG - integration_test - Step 19: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:34:31,145 - INFO - integration_test - === Applying control at step 19 ===
2026-01-26 14:34:31,145 - INFO - integration_test -   Control dict from planner: {'a': 7.494299865144282e-07, 'w': -0.489888963779266}
2026-01-26 14:34:31,145 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:34:31,145 - INFO - integration_test -   Planner output success: True
2026-01-26 14:34:31,147 - INFO - integration_test - Step 19 completed in 1.268s
2026-01-26 14:34:31,200 - INFO - integration_test - Step 20 (contouring until path end)
2026-01-26 14:34:31,203 - DEBUG - integration_test - Syncing planner state at step 20: vehicle_state=[3.78344359 3.07475208 0.72882198 3.00000002 5.10000001]
2026-01-26 14:34:31,204 - DEBUG - integration_test - Step 20: Using propagated spline 5.1000 (close to path, dist=0.352m, drift=0.307m)
2026-01-26 14:34:31,204 - DEBUG - integration_test -   Set spline state to 5.1000
2026-01-26 14:34:31,204 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:31,219 - DEBUG - integration_test - Step 20: Checking path alignment: vehicle=(3.783, 3.075), path_start=(0.000, 0.000), dist=4.875m
2026-01-26 14:34:31,220 - INFO - integration_test - === Calling planner.solve_mpc() at step 20 ===
2026-01-26 14:34:31,223 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:31,249 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:34:31,249 - INFO - integration_test - Warmstart k=0: x0=3.783443590822786 , y0=3.0747520786367226 , psi0=0.728821975664117 , v0=3.000000024220472 , spline0=5.100000008620861 , a0=0.0 , w0=0.0
2026-01-26 14:34:31,249 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:34:31,250 - INFO - integration_test - Dyn residual k=0: pred=[4.007231434759775, 3.274549481921305, 0.728821975664117, 3.000000024220472, 5.400000011042908], ws=[4.007231432953026, 3.274549480308243, 0.728821975664117, 3.0, 4.945454554075406], res=[1.8067485285655493e-09, 1.6130621283139135e-09, 0.0, 2.4220471850355807e-08, 0.4545454569675025], res_norm=4.545e-01
2026-01-26 14:34:31,251 - INFO - integration_test - Dyn residual k=1: pred=[4.231019275083266, 3.474346881979763, 0.728821975664117, 3.0, 5.245454554075406], ws=[4.231019275083266, 3.474346881979763, 0.728821975664117, 3.0, 5.043434352055204], res=[0.0, 0.0, 0.0, 0.0, 0.20202020202020154], res_norm=2.020e-01
2026-01-26 14:34:31,252 - INFO - integration_test - Dyn residual k=2: pred=[4.454807117213506, 3.6741442836512834, 0.728821975664117, 3.0, 5.343434352055204], ws=[4.454807117213506, 3.6741442836512834, 0.728821975664117, 3.0, 5.1414141500350015], res=[0.0, 0.0, 0.0, 0.0, 0.20202020202020243], res_norm=2.020e-01
2026-01-26 14:34:31,267 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:31,319 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:31,338 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:31,377 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:31,397 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:31,438 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:31,457 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:31,496 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:31,515 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:31,554 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:31,572 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:31,613 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:31,631 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:31,672 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:31,690 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:31,731 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:31,749 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:31,791 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:31,811 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:31,853 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:31,872 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:31,911 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:32,578 - INFO - integration_test - Step 20: MPC solve successful
2026-01-26 14:34:32,586 - INFO - integration_test - Step 20: Computed 6 numeric contouring constraints for visualization (s=5.100)
2026-01-26 14:34:32,587 - DEBUG - integration_test - Step 20: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:34:32,587 - INFO - integration_test - === Applying control at step 20 ===
2026-01-26 14:34:32,587 - INFO - integration_test -   Control dict from planner: {'a': -1.8661608776157458e-08, 'w': -0.8000000068790161}
2026-01-26 14:34:32,587 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:34:32,587 - INFO - integration_test -   Planner output success: True
2026-01-26 14:34:32,588 - INFO - integration_test - Step 20 completed in 1.385s
2026-01-26 14:34:32,636 - INFO - integration_test - Step 21 (contouring until path end)
2026-01-26 14:34:32,636 - DEBUG - integration_test - Syncing planner state at step 21: vehicle_state=[4.01498044 3.26538969 0.64882197 3.00000002 5.40000001]
2026-01-26 14:34:32,637 - DEBUG - integration_test - Step 21: Using propagated spline 5.4000 (close to path, dist=0.350m, drift=0.238m)
2026-01-26 14:34:32,637 - DEBUG - integration_test -   Set spline state to 5.4000
2026-01-26 14:34:32,637 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:32,651 - DEBUG - integration_test - Step 21: Checking path alignment: vehicle=(4.015, 3.265), path_start=(0.000, 0.000), dist=5.175m
2026-01-26 14:34:32,651 - INFO - integration_test - === Calling planner.solve_mpc() at step 21 ===
2026-01-26 14:34:32,654 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:32,678 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:34:32,678 - INFO - integration_test - Warmstart k=0: x0=4.01498044208213 , y0=3.265389694816044 , psi0=0.6488219749762154 , v0=3.000000022354311 , spline0=5.400000010856292 , a0=0.0 , w0=0.0
2026-01-26 14:34:32,678 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:34:32,679 - INFO - integration_test - Dyn residual k=0: pred=[4.254019295083632, 3.4466641499855055, 0.6488219749762154, 3.000000022354311, 5.700000013091723], ws=[4.2540192933024485, 3.4466641486347505, 0.6488219749762152, 3.0, 5.0434343542906355], res=[1.781183200932901e-09, 1.350755063356246e-09, 2.220446049250313e-16, 2.2354310846850467e-08, 0.656565658801088], res_norm=6.566e-01
2026-01-26 14:34:32,679 - INFO - integration_test - Dyn residual k=1: pred=[4.4930581445227675, 3.627938602453457, 0.6488219749762152, 3.0, 5.343434354290635], ws=[4.4930581445227675, 3.627938602453457, 0.6488219749762152, 3.0, 5.141414152270433], res=[0.0, 0.0, 0.0, 0.0, 0.20202020202020243], res_norm=2.020e-01
2026-01-26 14:34:32,680 - INFO - integration_test - Dyn residual k=2: pred=[4.7320969957430865, 3.809213056272163, 0.6488219749762152, 3.0, 5.441414152270433], ws=[4.7320969957430865, 3.809213056272163, 0.6488219749762152, 3.0, 5.744444455300736], res=[0.0, 0.0, 0.0, 0.0, -0.30303030303030365], res_norm=3.030e-01
2026-01-26 14:34:32,694 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:32,744 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:32,763 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:32,805 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:32,825 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:32,866 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:32,884 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:32,926 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:32,944 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:32,986 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:33,005 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:33,047 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:33,065 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:33,105 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:33,123 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:33,164 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:33,183 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:33,226 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:33,246 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:33,287 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:33,305 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:33,345 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:34,016 - INFO - integration_test - Step 21: MPC solve successful
2026-01-26 14:34:34,024 - INFO - integration_test - Step 21: Computed 6 numeric contouring constraints for visualization (s=5.400)
2026-01-26 14:34:34,024 - DEBUG - integration_test - Step 21: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:34:34,024 - INFO - integration_test - === Applying control at step 21 ===
2026-01-26 14:34:34,024 - INFO - integration_test -   Control dict from planner: {'a': -1.411469040747689, 'w': -0.8000000099835364}
2026-01-26 14:34:34,024 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:34:34,025 - INFO - integration_test -   Planner output success: True
2026-01-26 14:34:34,026 - INFO - integration_test - Step 21 completed in 1.390s
2026-01-26 14:34:34,076 - INFO - integration_test - Step 22 (contouring until path end)
2026-01-26 14:34:34,078 - DEBUG - integration_test - Syncing planner state at step 22: vehicle_state=[4.25516996 3.43295654 0.56882197 2.85885312 5.68588532]
2026-01-26 14:34:34,079 - DEBUG - integration_test - Step 22: Using propagated spline 5.6859 (close to path, dist=0.383m, drift=0.155m)
2026-01-26 14:34:34,079 - DEBUG - integration_test -   Set spline state to 5.6859
2026-01-26 14:34:34,079 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:34,094 - DEBUG - integration_test - Step 22: Checking path alignment: vehicle=(4.255, 3.433), path_start=(0.000, 0.000), dist=5.467m
2026-01-26 14:34:34,094 - INFO - integration_test - === Calling planner.solve_mpc() at step 22 ===
2026-01-26 14:34:34,097 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:34,120 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:34:34,120 - INFO - integration_test - Warmstart k=0: x0=4.2551699628592665 , y0=3.4329565389577255 , psi0=0.5688219739778617 , v0=2.858853118279542 , spline0=5.685885322684246 , a0=0.0 , w0=0.0
2026-01-26 14:34:34,120 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:34:34,121 - INFO - integration_test - Dyn residual k=0: pred=[4.496038656086619, 3.5869457728083884, 0.5688219739778617, 2.858853118279542, 5.9717706345122], ws=[4.496038656086619, 3.5869457728083884, 0.5688219739778617, 2.858853118279542, 5.6182352809768465], res=[0.0, 0.0, 0.0, 0.0, 0.3535353535353538], res_norm=3.535e-01
2026-01-26 14:34:34,122 - INFO - integration_test - Dyn residual k=1: pred=[4.736907349313972, 3.7409350066590514, 0.5688219739778617, 2.858853118279542, 5.904120592804801], ws=[4.736907349313972, 3.7409350066590514, 0.5688219739778617, 2.858853118279542, 5.500080188764397], res=[0.0, 0.0, 0.0, 0.0, 0.404040404040404], res_norm=4.040e-01
2026-01-26 14:34:34,122 - INFO - integration_test - Dyn residual k=2: pred=[4.977776042541325, 3.8949242405097144, 0.5688219739778617, 2.858853118279542, 5.785965500592351], ws=[4.959936739969603, 3.875884887374706, 0.5688219739778617, 2.858853118279542, 6.291016005642856], res=[0.017839302571721838, 0.019039353135008596, 0.0, 0.0, -0.5050505050505052], res_norm=5.057e-01
2026-01-26 14:34:34,138 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:34,189 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:34,209 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:34,254 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:34,275 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:34,320 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:34,342 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:34,388 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:34,409 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:34,451 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:34,474 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:34,517 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:34,535 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:34,577 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:34,595 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:34,637 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:34,656 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:34,697 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:34,715 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:34,755 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:34,774 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:34,816 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:36,897 - WARNING - integration_test - Step 22: MPC solve failed
2026-01-26 14:34:36,897 - WARNING - integration_test -   Consecutive MPC failures: 1/20
2026-01-26 14:34:36,905 - INFO - integration_test - Step 22: Computed 6 numeric contouring constraints for visualization (s=5.686)
2026-01-26 14:34:36,905 - DEBUG - integration_test - Step 22: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:34:36,905 - INFO - integration_test - === Applying control at step 22 ===
2026-01-26 14:34:36,905 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': 0.8}
2026-01-26 14:34:36,905 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:34:36,905 - INFO - integration_test -   Planner output success: False
2026-01-26 14:34:36,905 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': 0.8}
2026-01-26 14:34:36,906 - INFO - integration_test - Step 22 completed in 2.828s
2026-01-26 14:34:36,956 - INFO - integration_test - Step 23 (contouring until path end)
2026-01-26 14:34:36,957 - DEBUG - integration_test - Syncing planner state at step 23: vehicle_state=[4.48150073 3.59058435 0.64882197 2.65885312 5.95177063]
2026-01-26 14:34:36,957 - DEBUG - integration_test - Step 23: Using propagated spline 5.9518 (close to path, dist=0.432m, drift=0.052m)
2026-01-26 14:34:36,957 - DEBUG - integration_test -   Set spline state to 5.9518
2026-01-26 14:34:36,958 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:36,972 - DEBUG - integration_test - Step 23: Checking path alignment: vehicle=(4.482, 3.591), path_start=(0.000, 0.000), dist=5.742m
2026-01-26 14:34:36,972 - INFO - integration_test - === Calling planner.solve_mpc() at step 23 ===
2026-01-26 14:34:36,976 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:37,002 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:34:37,002 - INFO - integration_test - Warmstart k=0: x0=4.481500727485817 , y0=3.590584345561243 , psi0=0.6488219739778617 , v0=2.658853118279542 , spline0=5.951770634512201 , a0=0.0 , w0=0.0
2026-01-26 14:34:37,002 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:34:37,003 - INFO - integration_test - Dyn residual k=0: pred=[4.693357125965248, 3.7512450609498313, 0.6488219739778617, 2.658853118279542, 6.217655946340155], ws=[4.693357125965248, 3.7512450609498313, 0.6488219739778618, 2.658853118279542, 5.4600801887643975], res=[0.0, 0.0, -1.1102230246251565e-16, 0.0, 0.7575757575757578], res_norm=7.576e-01
2026-01-26 14:34:37,004 - INFO - integration_test - Dyn residual k=1: pred=[4.905213524444679, 3.9119057763384197, 0.6488219739778618, 2.658853118279542, 5.725965500592352], ws=[4.883716742132695, 3.8891910747490743, 0.6488219739778618, 2.658853118279542, 6.028995803622655], res=[0.021496782311984042, 0.02271470158934541, 0.0, 0.0, -0.30303030303030276], res_norm=3.046e-01
2026-01-26 14:34:37,005 - INFO - integration_test - Dyn residual k=2: pred=[5.095573140612125, 4.049851790137662, 0.6488219739778618, 2.658853118279542, 6.294881115450609], ws=[4.922143533012618, 3.861674480613108, 0.6488219739778618, 2.658853118279542, 5.789830610400105], res=[0.1734296075995072, 0.18817730952455447, 0.0, 0.0, 0.5050505050505043], res_norm=5.662e-01
2026-01-26 14:34:37,019 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:37,069 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:37,088 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:37,129 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:37,149 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:37,191 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:37,211 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:37,255 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:37,273 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:37,315 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:37,333 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:37,374 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:37,392 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:37,433 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:37,451 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:37,491 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:37,509 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:37,549 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:37,567 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:37,608 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:37,628 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:37,668 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:39,739 - WARNING - integration_test - Step 23: MPC solve failed
2026-01-26 14:34:39,739 - WARNING - integration_test -   Consecutive MPC failures: 2/20
2026-01-26 14:34:39,746 - INFO - integration_test - Step 23: Computed 6 numeric contouring constraints for visualization (s=5.952)
2026-01-26 14:34:39,746 - DEBUG - integration_test - Step 23: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:34:39,746 - INFO - integration_test - === Applying control at step 23 ===
2026-01-26 14:34:39,746 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': 0.8}
2026-01-26 14:34:39,746 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:34:39,746 - INFO - integration_test -   Planner output success: False
2026-01-26 14:34:39,746 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': 0.8}
2026-01-26 14:34:39,748 - INFO - integration_test - Step 23 completed in 2.791s
2026-01-26 14:34:39,801 - INFO - integration_test - Step 24 (contouring until path end)
2026-01-26 14:34:39,801 - DEBUG - integration_test - Syncing planner state at step 24: vehicle_state=[4.67907505 3.75308599 0.72882197 2.45885312 6.19765595]
2026-01-26 14:34:39,802 - DEBUG - integration_test - Step 24: Using propagated spline 6.1977 (close to path, dist=0.417m, drift=0.298m)
2026-01-26 14:34:39,802 - DEBUG - integration_test -   Set spline state to 6.1977
2026-01-26 14:34:39,802 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:39,821 - DEBUG - integration_test - Step 24: Checking path alignment: vehicle=(4.679, 3.753), path_start=(0.000, 0.000), dist=5.998m
2026-01-26 14:34:39,821 - INFO - integration_test - === Calling planner.solve_mpc() at step 24 ===
2026-01-26 14:34:39,827 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:39,867 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:34:39,867 - INFO - integration_test - Warmstart k=0: x0=4.679075051947267 , y0=3.7530859916427333 , psi0=0.7288219739778616 , v0=2.4588531182795417 , spline0=6.197655946340155 , a0=0.0 , w0=0.0
2026-01-26 14:34:39,867 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:34:39,869 - INFO - integration_test - Dyn residual k=0: pred=[4.862495530041734, 3.916843479374829, 0.7288219739778616, 2.4588531182795417, 6.443541258168109], ws=[4.8327847568617734, 3.88527474013869, 0.7288219739778619, 2.4588531182795417, 5.786975601602452], res=[0.029710773179960626, 0.03156873923613901, -2.220446049250313e-16, 0.0, 0.6565656565656566], res_norm=6.580e-01
2026-01-26 14:34:39,870 - INFO - integration_test - Dyn residual k=1: pred=[5.0162052349562405, 4.049032227870785, 0.7288219739778619, 2.4588531182795417, 6.032860913430406], ws=[4.851638133561656, 3.8717681010588283, 0.7288219739778619, 2.4588531182795417, 6.032860913430406], res=[0.1645671013945842, 0.17726412681195658, 0.0, 0.0, 0.0], res_norm=2.419e-01
2026-01-26 14:34:39,871 - INFO - integration_test - Dyn residual k=2: pred=[5.035058611656123, 4.035525588790923, 0.7288219739778619, 2.4588531182795417, 6.27874622525836], ws=[4.873241841238652, 3.8564820716337205, 0.7288219739778619, 2.4588531182795417, 5.773695720207855], res=[0.1618167704174711, 0.1790435171572029, 0.0, 0.0, 0.5050505050505052], res_norm=5.597e-01
2026-01-26 14:34:39,895 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:39,952 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:39,970 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:40,012 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:40,030 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:40,070 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:40,089 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:40,129 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:40,148 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:40,188 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:40,208 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:40,251 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:40,270 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:40,311 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:40,329 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:40,369 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:40,389 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:40,430 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:40,448 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:40,488 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:40,506 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:40,546 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:42,761 - WARNING - integration_test - Step 24: MPC solve failed
2026-01-26 14:34:42,761 - WARNING - integration_test -   Consecutive MPC failures: 3/20
2026-01-26 14:34:42,768 - INFO - integration_test - Step 24: Computed 6 numeric contouring constraints for visualization (s=6.198)
2026-01-26 14:34:42,769 - DEBUG - integration_test - Step 24: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:34:42,769 - INFO - integration_test - === Applying control at step 24 ===
2026-01-26 14:34:42,769 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': 0.8}
2026-01-26 14:34:42,769 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:34:42,769 - INFO - integration_test -   Planner output success: False
2026-01-26 14:34:42,769 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': 0.8}
2026-01-26 14:34:42,770 - INFO - integration_test - Step 24 completed in 2.969s
2026-01-26 14:34:42,821 - INFO - integration_test - Step 25 (contouring until path end)
2026-01-26 14:34:42,822 - DEBUG - integration_test - Syncing planner state at step 25: vehicle_state=[4.84866043 3.91695493 0.80882197 2.25885312 6.42354126]
2026-01-26 14:34:42,823 - DEBUG - integration_test - Step 25: Using propagated spline 6.4235 (close to path, dist=0.388m, drift=0.155m)
2026-01-26 14:34:42,823 - DEBUG - integration_test -   Set spline state to 6.4235
2026-01-26 14:34:42,824 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:42,837 - DEBUG - integration_test - Step 25: Checking path alignment: vehicle=(4.849, 3.917), path_start=(0.000, 0.000), dist=6.233m
2026-01-26 14:34:42,837 - INFO - integration_test - === Calling planner.solve_mpc() at step 25 ===
2026-01-26 14:34:42,841 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:42,864 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:34:42,864 - INFO - integration_test - Warmstart k=0: x0=4.848660434358623 , y0=3.9169549283561844 , psi0=0.8088219739778616 , v0=2.2588531182795415 , spline0=6.423541258168109 , a0=0.0 , w0=0.0
2026-01-26 14:34:42,865 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:34:42,865 - INFO - integration_test - Dyn residual k=0: pred=[5.004600626707373, 4.080377174423991, 0.8088219739778616, 2.2588531182795415, 6.649426569996064], ws=[4.803365667453072, 3.862505192197119, 0.8088219739778615, 2.2588531182795415, 5.992860913430407], res=[0.20123495925430124, 0.21787198222687199, 1.1102230246251565e-16, 0.0, 0.6565656565656566], res_norm=7.204e-01
2026-01-26 14:34:42,866 - INFO - integration_test - Dyn residual k=1: pred=[4.959305859801822, 4.025927438264926, 0.8088219739778615, 2.2588531182795415, 6.218746225258362], ws=[4.806846883639681, 3.8600460373668866, 0.8088219739778615, 2.2588531182795415, 6.016726023238159], res=[0.15245897616214155, 0.16588140089803938, 0.0, 0.0, 0.20202020202020243], res_norm=3.026e-01
2026-01-26 14:34:42,867 - INFO - integration_test - Dyn residual k=2: pred=[4.962787075988431, 4.023468283434693, 0.8088219739778615, 2.2588531182795415, 6.242611335066114], ws=[4.81081790148181, 3.857247280868666, 0.8088219739778615, 2.2588531182795415, 5.7375608300156085], res=[0.15196917450662095, 0.16622100256602668, 0.0, 0.0, 0.5050505050505052], res_norm=5.530e-01
2026-01-26 14:34:42,882 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:42,932 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:42,951 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:42,994 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:43,013 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:43,054 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:43,071 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:43,112 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:43,130 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:43,171 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:43,189 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:43,232 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:43,251 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:43,292 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:43,312 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:43,352 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:43,370 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:43,412 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:43,431 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:43,471 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:43,489 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:43,529 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:45,545 - WARNING - integration_test - Step 25: MPC solve failed
2026-01-26 14:34:45,545 - WARNING - integration_test -   Consecutive MPC failures: 4/20
2026-01-26 14:34:45,553 - INFO - integration_test - Step 25: Computed 6 numeric contouring constraints for visualization (s=6.424)
2026-01-26 14:34:45,553 - DEBUG - integration_test - Step 25: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:34:45,553 - INFO - integration_test - === Applying control at step 25 ===
2026-01-26 14:34:45,553 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': 0.8}
2026-01-26 14:34:45,553 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:34:45,553 - INFO - integration_test -   Planner output success: False
2026-01-26 14:34:45,553 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': 0.8}
2026-01-26 14:34:45,554 - INFO - integration_test - Step 25 completed in 2.732s
2026-01-26 14:34:45,610 - INFO - integration_test - Step 26 (contouring until path end)
2026-01-26 14:34:45,610 - DEBUG - integration_test - Syncing planner state at step 26: vehicle_state=[4.99139407 4.07884608 0.88882197 2.05885312 6.62942657]
2026-01-26 14:34:45,611 - DEBUG - integration_test - Step 26: Using propagated spline 6.6294 (close to path, dist=0.397m, drift=0.008m)
2026-01-26 14:34:45,611 - DEBUG - integration_test -   Set spline state to 6.6294
2026-01-26 14:34:45,612 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:45,625 - DEBUG - integration_test - Step 26: Checking path alignment: vehicle=(4.991, 4.079), path_start=(0.000, 0.000), dist=6.446m
2026-01-26 14:34:45,625 - INFO - integration_test - === Calling planner.solve_mpc() at step 26 ===
2026-01-26 14:34:45,629 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:45,651 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:34:45,651 - INFO - integration_test - Warmstart k=0: x0=4.991394066827561 , y0=4.078846082030893 , psi0=0.8888219739778616 , v0=2.0588531182795413 , spline0=6.629426569996063 , a0=0.0 , w0=0.0
2026-01-26 14:34:45,651 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:34:45,652 - INFO - integration_test - Dyn residual k=0: pred=[5.121169137852293, 4.238680973612861, 0.8888219739778616, 2.0588531182795413, 6.835311881824017], ws=[4.762930891931289, 3.846164390195171, 0.888821973977862, 2.0588531182795413, 5.976726023238158], res=[0.3582382459210045, 0.3925165834176898, -4.440892098500626e-16, 0.0, 0.858585858585859], res_norm=1.010e+00
2026-01-26 14:34:45,653 - INFO - integration_test - Dyn residual k=1: pred=[4.892705962956021, 4.0059992817771395, 0.888821973977862, 2.0588531182795413, 6.182611335066112], ws=[4.750870903567392, 3.8546226422111793, 0.888821973977862, 2.0588531182795413, 5.980591133045911], res=[0.14183505938862861, 0.15137663956596015, 0.0, 0.0, 0.20202020202020154], res_norm=2.896e-01
2026-01-26 14:34:45,653 - INFO - integration_test - Dyn residual k=2: pred=[4.880645974592125, 4.014457533793148, 0.888821973977862, 2.0588531182795413, 6.186476444873865], ws=[4.737202850586655, 3.864284551211665, 0.888821973977862, 2.0588531182795413, 5.984456242853662], res=[0.14344312400546944, 0.15017298258148282, 0.0, 0.0, 0.20202020202020243], res_norm=2.897e-01
2026-01-26 14:34:45,670 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:45,721 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:45,740 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:45,781 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:45,800 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:45,842 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:45,860 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:45,902 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:45,921 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:45,960 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:45,979 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:46,021 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:46,040 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:46,084 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:46,105 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:46,148 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:46,165 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:46,208 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:46,227 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:46,270 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:46,289 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:46,330 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:48,333 - WARNING - integration_test - Step 26: MPC solve failed
2026-01-26 14:34:48,334 - WARNING - integration_test -   Consecutive MPC failures: 5/20
2026-01-26 14:34:48,341 - INFO - integration_test - Step 26: Computed 6 numeric contouring constraints for visualization (s=6.629)
2026-01-26 14:34:48,341 - DEBUG - integration_test - Step 26: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:34:48,341 - INFO - integration_test - === Applying control at step 26 ===
2026-01-26 14:34:48,341 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': 0.4190961774713191}
2026-01-26 14:34:48,341 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:34:48,341 - INFO - integration_test -   Planner output success: False
2026-01-26 14:34:48,341 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': 0.4190961774713191}
2026-01-26 14:34:48,343 - INFO - integration_test - Step 26 completed in 2.732s
2026-01-26 14:34:48,395 - INFO - integration_test - Step 27 (contouring until path end)
2026-01-26 14:34:48,397 - DEBUG - integration_test - Syncing planner state at step 27: vehicle_state=[5.11169869 4.23341723 0.93073159 1.85885312 6.81531188]
2026-01-26 14:34:48,398 - DEBUG - integration_test - Step 27: Using propagated spline 6.8153 (close to path, dist=0.309m, drift=0.178m)
2026-01-26 14:34:48,398 - DEBUG - integration_test -   Set spline state to 6.8153
2026-01-26 14:34:48,398 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:48,412 - DEBUG - integration_test - Step 27: Checking path alignment: vehicle=(5.112, 4.233), path_start=(0.000, 0.000), dist=6.637m
2026-01-26 14:34:48,412 - INFO - integration_test - === Calling planner.solve_mpc() at step 27 ===
2026-01-26 14:34:48,416 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:48,440 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:34:48,440 - INFO - integration_test - Warmstart k=0: x0=5.111698694440072 , y0=4.233417233800386 , psi0=0.9307315917249934 , v0=1.8588531182795414 , spline0=6.815311881824018 , a0=0.0 , w0=0.0
2026-01-26 14:34:48,440 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:34:48,441 - INFO - integration_test - Dyn residual k=0: pred=[5.22271820690515, 4.382507867327084, 0.9307315917249934, 1.8588531182795414, 7.001197193651972], ws=[4.722309818106433, 3.8277585688862974, 0.9307315917249932, 1.8588531182795414, 5.738570931025709], res=[0.500408388798717, 0.5547492984407869, 2.220446049250313e-16, 0.0, 1.262626262626263], res_norm=1.467e+00
2026-01-26 14:34:48,442 - INFO - integration_test - Dyn residual k=1: pred=[4.8333293305715115, 3.976849202412995, 0.9307315917249932, 1.8588531182795414, 5.924456242853664], ws=[4.703439541906944, 3.8408663170990343, 0.9307315917249932, 1.8588531182795414, 5.722436040833462], res=[0.1298897886645678, 0.13598288531396063, 0.0, 0.0, 0.20202020202020154], res_norm=2.760e-01
2026-01-26 14:34:48,442 - INFO - integration_test - Dyn residual k=2: pred=[4.814459054372022, 3.9899569506257317, 0.9307315917249932, 1.8588531182795414, 5.9083213526614164], ws=[4.682188859050601, 3.8558098522929494, 0.9307315917249932, 1.8588531182795414, 5.5042809486210125], res=[0.13227019532142048, 0.13414709833278238, 0.0, 0.0, 0.404040404040404], res_norm=4.458e-01
2026-01-26 14:34:48,457 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:48,508 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:48,528 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:48,568 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:48,588 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:48,630 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:48,648 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:48,690 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:48,709 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:48,750 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:48,768 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:48,813 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:48,831 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:48,872 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:48,890 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:48,930 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:48,949 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:48,990 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:49,020 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:49,066 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:49,084 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:49,126 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:51,184 - WARNING - integration_test - Step 27: MPC solve failed
2026-01-26 14:34:51,184 - WARNING - integration_test -   Consecutive MPC failures: 6/20
2026-01-26 14:34:51,192 - INFO - integration_test - Step 27: Computed 6 numeric contouring constraints for visualization (s=6.815)
2026-01-26 14:34:51,192 - DEBUG - integration_test - Step 27: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:34:51,193 - INFO - integration_test - === Applying control at step 27 ===
2026-01-26 14:34:51,193 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': 0.6524628434106692}
2026-01-26 14:34:51,193 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:34:51,193 - INFO - integration_test -   Planner output success: False
2026-01-26 14:34:51,193 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': 0.6524628434106692}
2026-01-26 14:34:51,194 - INFO - integration_test - Step 27 completed in 2.797s
2026-01-26 14:34:51,250 - INFO - integration_test - Step 28 (contouring until path end)
2026-01-26 14:34:51,250 - DEBUG - integration_test - Syncing planner state at step 28: vehicle_state=[5.21215998 4.37775092 0.99597788 1.65885312 6.98119719]
2026-01-26 14:34:51,251 - DEBUG - integration_test - Step 28: Using propagated spline 6.9812 (close to path, dist=0.315m, drift=0.344m)
2026-01-26 14:34:51,251 - DEBUG - integration_test -   Set spline state to 6.9812
2026-01-26 14:34:51,251 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:51,266 - DEBUG - integration_test - Step 28: Checking path alignment: vehicle=(5.212, 4.378), path_start=(0.000, 0.000), dist=6.807m
2026-01-26 14:34:51,266 - INFO - integration_test - === Calling planner.solve_mpc() at step 28 ===
2026-01-26 14:34:51,270 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:51,293 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:34:51,293 - INFO - integration_test - Warmstart k=0: x0=5.21215997612658 , y0=4.3777509199126925 , psi0=0.9959778760660604 , v0=1.6588531182795414 , spline0=6.981197193651972 , a0=0.0 , w0=0.0
2026-01-26 14:34:51,293 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:34:51,294 - INFO - integration_test - Dyn residual k=0: pred=[5.3023489050600725, 4.516976972712041, 0.9959778760660604, 1.6588531182795414, 7.147082505479926], ws=[4.675145825225085, 3.8162230242836848, 0.9959778760660605, 1.6588531182795414, 5.4804158388132596], res=[0.6272030798349872, 0.7007539484283565, -1.1102230246251565e-16, 0.0, 1.666666666666666], res_norm=1.914e+00
2026-01-26 14:34:51,295 - INFO - integration_test - Dyn residual k=1: pred=[4.7653347541585775, 3.9554490770830335, 0.9959778760660605, 1.6588531182795414, 5.6463011506412135], ws=[4.645643812968027, 3.836622871165882, 0.9959778760660605, 1.6588531182795414, 5.949331453671515], res=[0.11969094119055068, 0.11882620591715165, 0.0, 0.0, -0.3030303030303019], res_norm=3.468e-01
2026-01-26 14:34:51,296 - INFO - integration_test - Dyn residual k=2: pred=[4.735832741901519, 3.9758489239652306, 0.9959778760660605, 1.6588531182795414, 6.115216765499469], ws=[4.612726798241529, 3.859822877154467, 0.9959778760660605, 1.6588531182795414, 5.711176361459065], res=[0.12310594365998995, 0.11602604681076345, 0.0, 0.0, 0.404040404040404], res_norm=4.380e-01
2026-01-26 14:34:51,311 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:51,362 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:51,380 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:51,423 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:51,442 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:51,482 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:51,500 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:51,541 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:51,559 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:51,601 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:51,621 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:51,669 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:51,701 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:51,760 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:51,779 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:51,821 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:51,840 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:51,880 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:51,900 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:51,940 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:51,958 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:52,000 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:54,036 - WARNING - integration_test - Step 28: MPC solve failed
2026-01-26 14:34:54,036 - WARNING - integration_test -   Consecutive MPC failures: 7/20
2026-01-26 14:34:54,044 - INFO - integration_test - Step 28: Computed 6 numeric contouring constraints for visualization (s=6.981)
2026-01-26 14:34:54,044 - DEBUG - integration_test - Step 28: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:34:54,044 - INFO - integration_test - === Applying control at step 28 ===
2026-01-26 14:34:54,045 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': 0.02069836383677348}
2026-01-26 14:34:54,045 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:34:54,045 - INFO - integration_test -   Planner output success: False
2026-01-26 14:34:54,045 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': 0.02069836383677348}
2026-01-26 14:34:54,046 - INFO - integration_test - Step 28 completed in 2.796s
2026-01-26 14:34:54,100 - INFO - integration_test - Step 29 (contouring until path end)
2026-01-26 14:34:54,100 - DEBUG - integration_test - Syncing planner state at step 29: vehicle_state=[5.29677952 4.50866981 0.99804771 1.45885312 7.12708251]
2026-01-26 14:34:54,101 - DEBUG - integration_test - Step 29: Using propagated spline 7.1271 (close to path, dist=0.215m, drift=0.121m)
2026-01-26 14:34:54,101 - DEBUG - integration_test -   Set spline state to 7.1271
2026-01-26 14:34:54,102 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:54,115 - DEBUG - integration_test - Step 29: Checking path alignment: vehicle=(5.297, 4.509), path_start=(0.000, 0.000), dist=6.956m
2026-01-26 14:34:54,116 - INFO - integration_test - === Calling planner.solve_mpc() at step 29 ===
2026-01-26 14:34:54,119 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:54,141 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:34:54,141 - INFO - integration_test - Warmstart k=0: x0=5.296779515987343 , y0=4.50866980798359 , psi0=0.9980477124497377 , v0=1.4588531182795414 , spline0=7.127082505479926 , a0=0.0 , w0=0.0
2026-01-26 14:34:54,142 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:34:54,142 - INFO - integration_test - Dyn residual k=0: pred=[5.375841195412483, 4.631273947610341, 0.9980477124497377, 1.4588531182795414, 7.2729678173078804], ws=[4.642215711962601, 3.79798794694182, 0.998047712449738, 1.4588531182795414, 5.707311251651315], res=[0.7336254834498819, 0.8332860006685205, -3.3306690738754696e-16, 0.0, 1.5656565656565657], res_norm=1.919e+00
2026-01-26 14:34:54,143 - INFO - integration_test - Dyn residual k=1: pred=[4.721277391387741, 3.920592086568571, 0.998047712449738, 1.4588531182795414, 5.853196563479269], ws=[4.6157482762634885, 3.8159730605919364, 0.998047712449738, 1.4588531182795414, 5.449156159438865], res=[0.10552911512425212, 0.10461902597663464, 0.0, 0.0, 0.404040404040404], res_norm=4.305e-01
2026-01-26 14:34:54,144 - INFO - integration_test - Dyn residual k=2: pred=[4.694809955688628, 3.9385772002186874, 0.998047712449738, 1.4588531182795414, 5.5950414712668195], ws=[4.586431318621067, 3.836236343860604, 0.998047712449738, 1.4588531182795414, 5.69605157227692], res=[0.10837863706756146, 0.10234085635808343, 0.0, 0.0, -0.10101010101010033], res_norm=1.801e-01
2026-01-26 14:34:54,158 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:54,209 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:54,229 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:54,271 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:54,293 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:54,335 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:54,353 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:54,397 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:54,416 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:54,462 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:54,483 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:54,529 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:54,551 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:54,596 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:54,615 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:54,656 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:54,674 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:54,715 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:54,732 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:54,772 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:54,791 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:54,832 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:56,791 - WARNING - integration_test - Step 29: MPC solve failed
2026-01-26 14:34:56,791 - WARNING - integration_test -   Consecutive MPC failures: 8/20
2026-01-26 14:34:56,799 - INFO - integration_test - Step 29: Computed 6 numeric contouring constraints for visualization (s=7.127)
2026-01-26 14:34:56,800 - DEBUG - integration_test - Step 29: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:34:56,800 - INFO - integration_test - === Applying control at step 29 ===
2026-01-26 14:34:56,800 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': 0.391968691701158}
2026-01-26 14:34:56,800 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:34:56,800 - INFO - integration_test -   Planner output success: False
2026-01-26 14:34:56,800 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': 0.391968691701158}
2026-01-26 14:34:56,801 - INFO - integration_test - Step 29 completed in 2.701s
2026-01-26 14:34:56,852 - INFO - integration_test - Step 30 (contouring until path end)
2026-01-26 14:34:56,853 - DEBUG - integration_test - Syncing planner state at step 30: vehicle_state=[5.36822063 4.62424933 1.03724458 1.25885312 7.25296782]
2026-01-26 14:34:56,853 - DEBUG - integration_test - Step 30: Using propagated spline 7.2530 (close to path, dist=0.187m, drift=0.247m)
2026-01-26 14:34:56,853 - DEBUG - integration_test -   Set spline state to 7.2530
2026-01-26 14:34:56,854 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:56,870 - DEBUG - integration_test - Step 30: Checking path alignment: vehicle=(5.368, 4.624), path_start=(0.000, 0.000), dist=7.085m
2026-01-26 14:34:56,870 - INFO - integration_test - === Calling planner.solve_mpc() at step 30 ===
2026-01-26 14:34:56,874 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:56,898 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:34:56,898 - INFO - integration_test - Warmstart k=0: x0=5.368220626825791 , y0=4.624249330250679 , psi0=1.0372445816198534 , v0=1.2588531182795415 , spline0=7.25296781730788 , a0=0.0 , w0=0.0
2026-01-26 14:34:56,898 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:34:56,899 - INFO - integration_test - Dyn residual k=0: pred=[5.432245218779621, 4.732637352463315, 1.0372445816198534, 1.2588531182795415, 7.378853129135834], ws=[4.608014814524385, 3.8478820983351643, 1.037244581619854, 1.2588531182795415, 5.712186462469168], res=[0.8242304042552364, 0.8847552541281507, -4.440892098500626e-16, 0.0, 1.666666666666666], res_norm=2.059e+00
2026-01-26 14:34:56,900 - INFO - integration_test - Dyn residual k=1: pred=[4.6720394064782145, 3.9562701205478, 1.037244581619854, 1.2588531182795415, 5.838071774297122], ws=[4.574727743001825, 3.8718687372756864, 1.037244581619854, 1.2588531182795415, 5.939081875307222], res=[0.09731166347638975, 0.08440138327211377, 0.0, 0.0, -0.10101010101010033], res_norm=1.637e-01
2026-01-26 14:34:56,900 - INFO - integration_test - Dyn residual k=2: pred=[4.6387523349556545, 3.9802567594883222, 1.037244581619854, 1.2588531182795415, 6.064967187135176], ws=[4.5384201116788025, 3.8985997355824455, 1.037244581619854, 1.2588531182795415, 5.4589065810745705], res=[0.10033222327685198, 0.0816570239058767, 0.0, 0.0, 0.6060606060606055], res_norm=6.197e-01
2026-01-26 14:34:56,916 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:56,968 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:56,993 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:57,035 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:57,055 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:57,094 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:57,113 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:57,157 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:57,176 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:57,219 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:57,237 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:57,281 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:57,301 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:57,342 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:57,362 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:57,404 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:57,424 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:57,466 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:57,485 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:57,525 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:57,543 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:57,584 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:34:59,586 - WARNING - integration_test - Step 30: MPC solve failed
2026-01-26 14:34:59,586 - WARNING - integration_test -   Consecutive MPC failures: 9/20
2026-01-26 14:34:59,594 - INFO - integration_test - Step 30: Computed 6 numeric contouring constraints for visualization (s=7.253)
2026-01-26 14:34:59,594 - DEBUG - integration_test - Step 30: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:34:59,594 - INFO - integration_test - === Applying control at step 30 ===
2026-01-26 14:34:59,594 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.17805338767311607}
2026-01-26 14:34:59,595 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:34:59,595 - INFO - integration_test -   Planner output success: False
2026-01-26 14:34:59,595 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.17805338767311607}
2026-01-26 14:34:59,596 - INFO - integration_test - Step 30 completed in 2.744s
2026-01-26 14:34:59,649 - INFO - integration_test - Step 31 (contouring until path end)
2026-01-26 14:34:59,650 - DEBUG - integration_test - Syncing planner state at step 31: vehicle_state=[5.42801901 4.72351264 1.01943924 1.05885312 7.35885313]
2026-01-26 14:34:59,650 - DEBUG - integration_test - Step 31: Using propagated spline 7.3589 (close to path, dist=0.213m, drift=0.016m)
2026-01-26 14:34:59,650 - DEBUG - integration_test -   Set spline state to 7.3589
2026-01-26 14:34:59,651 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:59,664 - DEBUG - integration_test - Step 31: Checking path alignment: vehicle=(5.428, 4.724), path_start=(0.000, 0.000), dist=7.195m
2026-01-26 14:34:59,665 - INFO - integration_test - === Calling planner.solve_mpc() at step 31 ===
2026-01-26 14:34:59,668 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:34:59,692 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:34:59,692 - INFO - integration_test - Warmstart k=0: x0=5.428019010043352 , y0=4.723512641466502 , psi0=1.0194392428525418 , v0=1.0588531182795415 , spline0=7.358853129135834 , a0=0.0 , w0=0.0
2026-01-26 14:34:59,693 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:34:59,693 - INFO - integration_test - Dyn residual k=0: pred=[5.483486362995655, 4.813707275549509, 1.0194392428525418, 1.0588531182795415, 7.464738440963789], ws=[4.583377676290919, 3.8959134247988074, 1.0194392428525418, 1.0588531182795415, 5.6970616732870205], res=[0.9001086867047361, 0.917793850750702, 0.0, 0.0, 1.7676767676767682], res_norm=2.186e+00
2026-01-26 14:34:59,694 - INFO - integration_test - Dyn residual k=1: pred=[4.638845029243222, 3.986108058881815, 1.0194392428525418, 1.0588531182795415, 5.802946985114975], ws=[4.554315163891615, 3.917934260473453, 1.0194392428525418, 1.0588531182795415, 5.7019368841048745], res=[0.08452986535160711, 0.06817379840836235, 0.0, 0.0, 0.10101010101010033], res_norm=1.483e-01
2026-01-26 14:34:59,695 - INFO - integration_test - Dyn residual k=2: pred=[4.609782516843918, 4.008128894556461, 1.0194392428525418, 1.0588531182795415, 5.807822195932829], ws=[4.523033989668291, 3.9420873262097227, 1.0194392428525418, 1.0588531182795415, 5.706812094922728], res=[0.08674852717562676, 0.06604156834673836, 0.0, 0.0, 0.10101010101010122], res_norm=1.486e-01
2026-01-26 14:34:59,709 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:59,758 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:59,777 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:59,837 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:59,869 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:59,920 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:59,939 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:34:59,979 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:34:59,998 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:00,039 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:00,059 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:00,100 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:00,120 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:00,160 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:00,177 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:00,219 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:00,237 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:00,282 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:00,302 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:00,343 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:00,362 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:00,403 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:02,442 - WARNING - integration_test - Step 31: MPC solve failed
2026-01-26 14:35:02,442 - WARNING - integration_test -   Consecutive MPC failures: 10/20
2026-01-26 14:35:02,450 - INFO - integration_test - Step 31: Computed 6 numeric contouring constraints for visualization (s=7.359)
2026-01-26 14:35:02,450 - DEBUG - integration_test - Step 31: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:35:02,450 - INFO - integration_test - === Applying control at step 31 ===
2026-01-26 14:35:02,450 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.3765341289659965}
2026-01-26 14:35:02,450 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:35:02,450 - INFO - integration_test -   Planner output success: False
2026-01-26 14:35:02,450 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.3765341289659965}
2026-01-26 14:35:02,451 - INFO - integration_test - Step 31 completed in 2.802s
2026-01-26 14:35:02,507 - INFO - integration_test - Step 32 (contouring until path end)
2026-01-26 14:35:02,507 - DEBUG - integration_test - Syncing planner state at step 32: vehicle_state=[5.47972075 4.80425817 0.98178583 0.85885312 7.44473844]
2026-01-26 14:35:02,508 - DEBUG - integration_test - Step 32: Using propagated spline 7.4447 (close to path, dist=0.124m, drift=0.070m)
2026-01-26 14:35:02,508 - DEBUG - integration_test -   Set spline state to 7.4447
2026-01-26 14:35:02,509 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:02,522 - DEBUG - integration_test - Step 32: Checking path alignment: vehicle=(5.480, 4.804), path_start=(0.000, 0.000), dist=7.288m
2026-01-26 14:35:02,522 - INFO - integration_test - === Calling planner.solve_mpc() at step 32 ===
2026-01-26 14:35:02,526 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:02,549 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:35:02,549 - INFO - integration_test - Warmstart k=0: x0=5.4797207509096975 , y0=4.804258172383947 , psi0=0.9817858299559422 , v0=0.8588531182795416 , spline0=7.444738440963788 , a0=0.0 , w0=0.0
2026-01-26 14:35:02,549 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:35:02,550 - INFO - integration_test - Dyn residual k=0: pred=[5.527433350984196, 4.875671018440633, 0.9817858299559422, 0.8588531182795416, 7.530623752791742], ws=[4.566310032857255, 3.9409653555666835, 0.9817858299559425, 0.8588531182795416, 5.964967187135176], res=[0.9611233181269405, 0.9347056628739492, -3.3306690738754696e-16, 0.0, 1.5656565656565657], res_norm=2.061e+00
2026-01-26 14:35:02,550 - INFO - integration_test - Dyn residual k=1: pred=[4.6140226329317535, 4.0123782016233696, 0.9817858299559425, 0.8588531182795416, 6.05085249896313], ws=[4.544291580369916, 3.9584207856347127, 0.9817858299559425, 0.8588531182795416, 5.949842397953029], res=[0.06973105256183754, 0.05395741598865689, 0.0, 0.0, 0.10101010101010122], res_norm=1.341e-01
2026-01-26 14:35:02,551 - INFO - integration_test - Dyn residual k=2: pred=[4.592004180444414, 4.029833631691399, 0.9817858299559425, 0.8588531182795416, 6.035727709780983], ws=[4.5209008457484865, 3.977232897474536, 0.9817858299559425, 0.8588531182795416, 5.934717608770882], res=[0.07110333469592778, 0.05260073421686284, 0.0, 0.0, 0.10101010101010122], res_norm=1.343e-01
2026-01-26 14:35:02,567 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:02,619 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:02,639 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:02,680 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:02,699 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:02,741 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:02,759 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:02,801 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:02,819 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:02,861 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:02,879 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:02,920 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:02,938 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:02,978 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:02,997 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:03,039 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:03,057 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:03,097 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:03,116 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:03,156 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:03,174 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:03,216 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:05,286 - WARNING - integration_test - Step 32: MPC solve failed
2026-01-26 14:35:05,286 - WARNING - integration_test -   Consecutive MPC failures: 11/20
2026-01-26 14:35:05,294 - INFO - integration_test - Step 32: Computed 6 numeric contouring constraints for visualization (s=7.445)
2026-01-26 14:35:05,294 - DEBUG - integration_test - Step 32: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:35:05,294 - INFO - integration_test - === Applying control at step 32 ===
2026-01-26 14:35:05,295 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': 0.04824639503854744}
2026-01-26 14:35:05,295 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:35:05,295 - INFO - integration_test -   Planner output success: False
2026-01-26 14:35:05,295 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': 0.04824639503854744}
2026-01-26 14:35:05,296 - INFO - integration_test - Step 32 completed in 2.789s
2026-01-26 14:35:05,350 - INFO - integration_test - Step 33 (contouring until path end)
2026-01-26 14:35:05,351 - DEBUG - integration_test - Syncing planner state at step 33: vehicle_state=[5.52173229 4.86745311 0.98661047 0.65885312 7.51062375]
2026-01-26 14:35:05,352 - DEBUG - integration_test - Step 33: Using propagated spline 7.5106 (close to path, dist=0.072m, drift=0.136m)
2026-01-26 14:35:05,352 - DEBUG - integration_test -   Set spline state to 7.5106
2026-01-26 14:35:05,352 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:05,367 - DEBUG - integration_test - Step 33: Checking path alignment: vehicle=(5.522, 4.867), path_start=(0.000, 0.000), dist=7.361m
2026-01-26 14:35:05,367 - INFO - integration_test - === Calling planner.solve_mpc() at step 33 ===
2026-01-26 14:35:05,371 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:05,394 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:35:05,394 - INFO - integration_test - Warmstart k=0: x0=5.52173228682717 , y0=4.867453111227761 , psi0=0.9866104694597969 , v0=0.6588531182795416 , spline0=7.5106237527917425 , a0=0.0 , w0=0.0
2026-01-26 14:35:05,394 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:35:05,395 - INFO - integration_test - Dyn residual k=0: pred=[5.558069382918261, 4.922412093772324, 0.9866104694597969, 0.6588531182795416, 7.576509064619697], ws=[4.552036418861309, 3.9885211047414653, 0.986610469459797, 0.6588531182795416, 5.505801993912626], res=[1.0060329640569519, 0.9338909890308584, -1.1102230246251565e-16, 0.0, 2.070707070707071], res_norm=2.484e+00
2026-01-26 14:35:05,396 - INFO - integration_test - Dyn residual k=1: pred=[4.5883735149524005, 4.043480087286028, 0.986610469459797, 0.6588531182795416, 5.57168730574058], ws=[4.533219389458026, 4.004135044292656, 0.986610469459797, 0.6588531182795416, 5.47067720473048], res=[0.05515412549437482, 0.03934504299337149, 0.0, 0.0, 0.10101010101010033], res_norm=1.216e-01
2026-01-26 14:35:05,397 - INFO - integration_test - Dyn residual k=2: pred=[4.569556485549117, 4.0590940268372195, 0.986610469459797, 0.6588531182795416, 5.536562516558434], ws=[4.513529771255229, 4.020677235842937, 0.986610469459797, 0.6588531182795416, 5.940602920598838], res=[0.05602671429388817, 0.0384167909942823, 0.0, 0.0, -0.404040404040404], res_norm=4.097e-01
2026-01-26 14:35:05,413 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:05,464 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:05,483 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:05,523 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:05,541 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:05,582 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:05,601 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:05,643 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:05,661 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:05,702 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:05,721 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:05,761 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:05,780 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:05,822 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:05,841 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:05,882 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:05,900 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:05,939 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:05,957 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:05,997 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:06,017 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:06,058 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:08,163 - WARNING - integration_test - Step 33: MPC solve failed
2026-01-26 14:35:08,163 - WARNING - integration_test -   Consecutive MPC failures: 12/20
2026-01-26 14:35:08,171 - INFO - integration_test - Step 33: Computed 6 numeric contouring constraints for visualization (s=7.511)
2026-01-26 14:35:08,171 - DEBUG - integration_test - Step 33: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:35:08,171 - INFO - integration_test - === Applying control at step 33 ===
2026-01-26 14:35:08,171 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.2639308821287347}
2026-01-26 14:35:08,171 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:35:08,171 - INFO - integration_test -   Planner output success: False
2026-01-26 14:35:08,171 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.2639308821287347}
2026-01-26 14:35:08,172 - INFO - integration_test - Step 33 completed in 2.822s
2026-01-26 14:35:08,227 - INFO - integration_test - Step 34 (contouring until path end)
2026-01-26 14:35:08,229 - DEBUG - integration_test - Syncing planner state at step 34: vehicle_state=[5.55312938 4.91368309 0.96021738 0.45885312 7.55650906]
2026-01-26 14:35:08,230 - DEBUG - integration_test - Step 34: Using propagated spline 7.5565 (close to path, dist=0.071m, drift=0.182m)
2026-01-26 14:35:08,230 - DEBUG - integration_test -   Set spline state to 7.5565
2026-01-26 14:35:08,230 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:08,244 - DEBUG - integration_test - Step 34: Checking path alignment: vehicle=(5.553, 4.914), path_start=(0.000, 0.000), dist=7.415m
2026-01-26 14:35:08,244 - INFO - integration_test - === Calling planner.solve_mpc() at step 34 ===
2026-01-26 14:35:08,248 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:08,272 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:35:08,272 - INFO - integration_test - Warmstart k=0: x0=5.553129383621171 , y0=4.9136830910300375 , psi0=0.9602173812469235 , v0=0.4588531182795416 , spline0=7.556509064619696 , a0=0.0 , w0=0.0
2026-01-26 14:35:08,273 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:35:08,274 - INFO - integration_test - Dyn residual k=0: pred=[5.579437355286576, 4.951277671336258, 0.9602173812469235, 0.4588531182795416, 7.60239437644765], ws=[4.545649266669414, 4.031268980852902, 0.9602173812469239, 0.4639964784945989, 5.7342218437822865], res=[1.033788088617162, 0.920008690483356, -4.440892098500626e-16, -0.005143360215057291, 1.8681725326653638], res_norm=2.325e+00
2026-01-26 14:35:08,274 - INFO - integration_test - Dyn residual k=1: pred=[4.572252128724384, 4.06928496500481, 0.9602173812469239, 0.4639964784945989, 5.780621491631746], ws=[4.53296665236178, 4.042225405233371, 0.9602173812469239, 0.46849691868277404, 5.983091737670767], res=[0.039285476362604044, 0.027059559771439368, 0.0, -0.004500440188175137, -0.20247024603902108], res_norm=2.081e-01
2026-01-26 14:35:08,275 - INFO - integration_test - Dyn residual k=2: pred=[4.55982754350762, 4.080610117750255, 0.9602173812469239, 0.46849691868277404, 6.029941429539044], ws=[4.519747045795005, 4.053743254457364, 0.9602173812469239, 0.4724348038474273, 5.727304915025206], res=[0.04008049771261479, 0.026866863292890564, 0.0, -0.003937885164653265, 0.30263651451383833], res_norm=3.065e-01
2026-01-26 14:35:08,291 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:08,342 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:08,362 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:08,402 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:08,422 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:08,463 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:08,481 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:08,521 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:08,539 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:08,579 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:08,597 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:08,638 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:08,657 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:08,697 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:08,716 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:08,756 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:08,774 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:08,815 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:08,834 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:08,875 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:08,893 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:08,932 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:11,013 - WARNING - integration_test - Step 34: MPC solve failed
2026-01-26 14:35:11,013 - WARNING - integration_test -   Consecutive MPC failures: 13/20
2026-01-26 14:35:11,021 - INFO - integration_test - Step 34: Computed 6 numeric contouring constraints for visualization (s=7.557)
2026-01-26 14:35:11,021 - DEBUG - integration_test - Step 34: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:35:11,021 - INFO - integration_test - === Applying control at step 34 ===
2026-01-26 14:35:11,021 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.3453383163975481}
2026-01-26 14:35:11,021 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:35:11,021 - INFO - integration_test -   Planner output success: False
2026-01-26 14:35:11,021 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.3453383163975481}
2026-01-26 14:35:11,023 - INFO - integration_test - Step 34 completed in 2.794s
2026-01-26 14:35:11,080 - INFO - integration_test - Step 35 (contouring until path end)
2026-01-26 14:35:11,083 - DEBUG - integration_test - Syncing planner state at step 35: vehicle_state=[5.57416089 4.94275725 0.92568355 0.25885312 7.58239438]
2026-01-26 14:35:11,084 - DEBUG - integration_test - Step 35: Using propagated spline 7.5824 (close to path, dist=0.091m, drift=0.208m)
2026-01-26 14:35:11,084 - DEBUG - integration_test -   Set spline state to 7.5824
2026-01-26 14:35:11,084 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:11,099 - DEBUG - integration_test - Step 35: Checking path alignment: vehicle=(5.574, 4.943), path_start=(0.000, 0.000), dist=7.450m
2026-01-26 14:35:11,099 - INFO - integration_test - === Calling planner.solve_mpc() at step 35 ===
2026-01-26 14:35:11,103 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:11,129 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:35:11,130 - INFO - integration_test - Warmstart k=0: x0=5.5741608906930304 , y0=4.942757248870842 , psi0=0.9256835496071687 , v0=0.2588531182795416 , spline0=7.582394376447651 , a0=0.0 , w0=0.0
2026-01-26 14:35:11,130 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:35:11,131 - INFO - integration_test - Dyn residual k=0: pred=[5.5897254324355865, 4.963440440326095, 0.9256835496071687, 0.2588531182795416, 7.608279688275605], ws=[4.545746960118704, 4.0695414883628604, 0.9256835496071689, 0.2889964784945989, 5.7426071556102425], res=[1.0439784723168826, 0.8938989519632345, -2.220446049250313e-16, -0.030143360215057313, 1.8656725326653625], res_norm=2.317e+00
2026-01-26 14:35:11,131 - INFO - integration_test - Dyn residual k=1: pred=[4.563123987611659, 4.092633230638658, 0.9256835496071689, 0.2889964784945989, 5.771506803459703], ws=[4.538563298185375, 4.075980310010176, 0.9256835496071689, 0.31537191868277403, 5.976164549498721], res=[0.0245606894262842, 0.01665292062848156, 0.0, -0.026375440188175114, -0.2046577460390182], res_norm=2.085e-01
2026-01-26 14:35:11,132 - INFO - integration_test - Dyn residual k=2: pred=[4.55752625070993, 4.1011795342539505, 0.9256835496071689, 0.31537191868277403, 6.007701741366998], ws=[4.530561910807396, 4.083188565065102, 0.9256835496071689, 0.33845042884742726, 5.504959087332958], res=[0.026964339902534107, 0.01799096918884846, 0.0, -0.023078510164653232, 0.5027426540340398], res_norm=5.043e-01
2026-01-26 14:35:11,148 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:11,199 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:11,219 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:11,260 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:11,280 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:11,322 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:11,341 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:11,381 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:11,401 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:11,442 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:11,461 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:11,502 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:11,520 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:11,561 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:11,579 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:11,620 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:11,638 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:11,681 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:11,700 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:11,739 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:11,759 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:11,799 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:13,938 - WARNING - integration_test - Step 35: MPC solve failed
2026-01-26 14:35:13,939 - WARNING - integration_test -   Consecutive MPC failures: 14/20
2026-01-26 14:35:13,946 - INFO - integration_test - Step 35: Computed 6 numeric contouring constraints for visualization (s=7.582)
2026-01-26 14:35:13,946 - DEBUG - integration_test - Step 35: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:35:13,946 - INFO - integration_test - === Applying control at step 35 ===
2026-01-26 14:35:13,946 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.3355221527234953}
2026-01-26 14:35:13,946 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:35:13,946 - INFO - integration_test -   Planner output success: False
2026-01-26 14:35:13,946 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.3355221527234953}
2026-01-26 14:35:13,947 - INFO - integration_test - Step 35 completed in 2.865s
2026-01-26 14:35:14,001 - INFO - integration_test - Step 36 (contouring until path end)
2026-01-26 14:35:14,002 - DEBUG - integration_test - Syncing planner state at step 36: vehicle_state=[5.58387956 4.95532188 0.89213133 0.05885312 7.58827969]
2026-01-26 14:35:14,002 - DEBUG - integration_test - Step 36: Using propagated spline 7.5883 (close to path, dist=0.103m, drift=0.214m)
2026-01-26 14:35:14,002 - DEBUG - integration_test -   Set spline state to 7.5883
2026-01-26 14:35:14,003 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:14,018 - DEBUG - integration_test - Step 36: Checking path alignment: vehicle=(5.584, 4.955), path_start=(0.000, 0.000), dist=7.466m
2026-01-26 14:35:14,018 - INFO - integration_test - === Calling planner.solve_mpc() at step 36 ===
2026-01-26 14:35:14,023 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:14,047 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:35:14,047 - INFO - integration_test - Warmstart k=0: x0=5.5838795621298525 , y0=4.95532188226437 , psi0=0.8921313343348192 , v0=0.058853118279541594 , spline0=7.5882796882756045 , a0=0.0 , w0=0.0
2026-01-26 14:35:14,047 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:35:14,048 - INFO - integration_test - Dyn residual k=0: pred=[5.587574092516706, 4.959903076489992, 0.8921313343348192, 0.058853118279541594, 7.594165000103558], ws=[4.550030257308718, 4.103070865138621, 0.8921313343348194, 0.2389964784945989, 5.743492467438195], res=[1.0375438352079884, 0.8568322113513709, -2.220446049250313e-16, -0.1801433602150573, 1.8506725326653637], res_norm=2.295e+00
2026-01-26 14:35:14,049 - INFO - integration_test - Dyn residual k=1: pred=[4.5650333663700815, 4.121674625130113, 0.8921313343348194, 0.2389964784945989, 5.767392115287654], ws=[4.544676798603818, 4.108043114585753, 0.8921313343348194, 0.3966219186827741, 5.985174861326675], res=[0.020356567766263822, 0.013631510544359848, 0.0, -0.15762544018817518, -0.21778274603902048], res_norm=2.700e-01
2026-01-26 14:35:14,050 - INFO - integration_test - Dyn residual k=2: pred=[4.5695749140053765, 4.138916619622381, 0.8921313343348194, 0.3966219186827741, 6.024837053194952], ws=[4.535600878094724, 4.116514353259954, 0.8921313343348194, 0.5345441788474273, 5.735598976181115], res=[0.033974035910652844, 0.022402266362426815, 0.0, -0.13792226016465325, 0.2892380770138372], res_norm=3.230e-01
2026-01-26 14:35:14,064 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:14,115 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:14,134 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:14,174 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:14,193 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:14,235 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:14,254 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:14,296 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:14,317 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:14,359 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:14,378 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:14,421 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:14,441 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:14,480 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:14,499 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:14,539 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:14,557 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:14,599 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:14,620 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:14,674 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:14,696 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:14,742 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:16,797 - WARNING - integration_test - Step 36: MPC solve failed
2026-01-26 14:35:16,797 - WARNING - integration_test -   Consecutive MPC failures: 15/20
2026-01-26 14:35:16,804 - INFO - integration_test - Step 36: Computed 6 numeric contouring constraints for visualization (s=7.588)
2026-01-26 14:35:16,804 - DEBUG - integration_test - Step 36: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:35:16,804 - INFO - integration_test - === Applying control at step 36 ===
2026-01-26 14:35:16,804 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.28480814129199317}
2026-01-26 14:35:16,804 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:35:16,804 - INFO - integration_test -   Planner output success: False
2026-01-26 14:35:16,804 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.28480814129199317}
2026-01-26 14:35:16,805 - INFO - integration_test - Step 36 completed in 2.804s
2026-01-26 14:35:16,860 - INFO - integration_test - Step 37 (contouring until path end)
2026-01-26 14:35:16,863 - DEBUG - integration_test - Syncing planner state at step 37: vehicle_state=[ 5.58121477  4.9521865   0.86365052 -0.14114688  7.574165  ]
2026-01-26 14:35:16,864 - DEBUG - integration_test - Step 37: Using propagated spline 7.5742 (close to path, dist=0.100m, drift=0.200m)
2026-01-26 14:35:16,864 - DEBUG - integration_test -   Set spline state to 7.5742
2026-01-26 14:35:16,865 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:16,879 - DEBUG - integration_test - Step 37: Checking path alignment: vehicle=(5.581, 4.952), path_start=(0.000, 0.000), dist=7.462m
2026-01-26 14:35:16,879 - INFO - integration_test - === Calling planner.solve_mpc() at step 37 ===
2026-01-26 14:35:16,883 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:16,909 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:35:16,909 - INFO - integration_test - Warmstart k=0: x0=5.581214769564941 , y0=4.952186495846836 , psi0=0.8636505202056198 , v0=-0.14114688172045842 , spline0=7.574165000103559 , a0=0.0 , w0=0.0
2026-01-26 14:35:16,909 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:35:16,910 - INFO - integration_test - Dyn residual k=0: pred=[5.572044927985178, 4.94145623827322, 0.8636505202056198, -0.14114688172045842, 7.560050311931513], ws=[4.564212883122527, 4.1377985188523505, 0.8636505202056197, 0.17875, 5.521332929396488], res=[1.007832044862651, 0.8036577194208698, 1.1102230246251565e-16, -0.3198968817204584, 2.038717382535025], res_norm=2.433e+00
2026-01-26 14:35:16,910 - INFO - integration_test - Dyn residual k=1: pred=[4.575825673730462, 4.151387437841595, 0.8636505202056197, 0.17875, 5.539207929396488], ws=[4.560593022230166, 4.141264864604814, 0.8636505202056197, 0.34390624999999997, 5.757743756416691], res=[0.015232651500295624, 0.010122573236780674, 0.0, -0.16515624999999998, -0.2185358270202027], res_norm=2.745e-01
2026-01-26 14:35:16,911 - INFO - integration_test - Dyn residual k=2: pred=[4.582935462901552, 4.1674092795482816, 0.8636505202056197, 0.34390624999999997, 5.792134381416691], ws=[4.553507244274266, 4.148075428992235, 0.8636505202056197, 0.48841796875, 6.008605755311892], res=[0.029428218627285396, 0.019333850556046528, 0.0, -0.14451171875000002, -0.21647137389520132], res_norm=2.626e-01
2026-01-26 14:35:16,925 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:16,977 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:16,995 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:17,038 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:17,057 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:17,098 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:17,117 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:17,160 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:17,179 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:17,219 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:17,239 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:17,280 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:17,300 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:17,342 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:17,362 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:17,403 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:17,424 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:17,465 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:17,484 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:17,524 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:17,542 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:17,583 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:19,479 - WARNING - integration_test - Step 37: MPC solve failed
2026-01-26 14:35:19,479 - WARNING - integration_test -   Consecutive MPC failures: 16/20
2026-01-26 14:35:19,487 - INFO - integration_test - Step 37: Computed 6 numeric contouring constraints for visualization (s=7.574)
2026-01-26 14:35:19,487 - DEBUG - integration_test - Step 37: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:35:19,487 - INFO - integration_test - === Applying control at step 37 ===
2026-01-26 14:35:19,487 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.21082665522808774}
2026-01-26 14:35:19,487 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:35:19,487 - INFO - integration_test -   Planner output success: False
2026-01-26 14:35:19,487 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.21082665522808774}
2026-01-26 14:35:19,488 - INFO - integration_test - Step 37 completed in 2.625s
2026-01-26 14:35:19,543 - INFO - integration_test - Step 38 (contouring until path end)
2026-01-26 14:35:19,544 - DEBUG - integration_test - Syncing planner state at step 38: vehicle_state=[ 5.56532971  4.93404365  0.84256785 -0.34114688  7.54005031]
2026-01-26 14:35:19,545 - DEBUG - integration_test - Step 38: Using propagated spline 7.5401 (close to path, dist=0.081m, drift=0.166m)
2026-01-26 14:35:19,545 - DEBUG - integration_test -   Set spline state to 7.5401
2026-01-26 14:35:19,545 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:19,565 - DEBUG - integration_test - Step 38: Checking path alignment: vehicle=(5.565, 4.934), path_start=(0.000, 0.000), dist=7.438m
2026-01-26 14:35:19,565 - INFO - integration_test - === Calling planner.solve_mpc() at step 38 ===
2026-01-26 14:35:19,572 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:19,611 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:35:19,611 - INFO - integration_test - Warmstart k=0: x0=5.565329711349833 , y0=4.934043651340548 , psi0=0.842567854682811 , v0=-0.34114688172045843 , spline0=7.5400503119315125 , a0=0.0 , w0=0.0
2026-01-26 14:35:19,611 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:35:19,612 - INFO - integration_test - Dyn residual k=0: pred=[5.5426247320806095, 4.9085819965345445, 0.842567854682811, -0.34114688172045843, 7.505935623759466], ws=[4.5825789614173456, 4.169372148599143, 0.842567854682811, 0.17875, 5.7902485442547444], res=[0.9600457706632639, 0.7392098479354017, 0.0, -0.5198968817204584, 1.7156870795047219], res_norm=2.164e+00
2026-01-26 14:35:19,614 - INFO - integration_test - Dyn residual k=1: pred=[4.59447564071251, 4.182713237263417, 0.842567854682811, 0.17875, 5.8081235442547445], ws=[4.579216176954679, 4.172685975260912, 0.842567854682811, 0.34390624999999997, 6.026659371274947], res=[0.015259463757830716, 0.010027262002505033, 0.0, -0.16515624999999998, -0.2185358270202027], res_norm=2.745e-01
2026-01-26 14:35:19,615 - INFO - integration_test - Dyn residual k=2: pred=[4.602104805563645, 4.19835357679069, 0.842567854682811, 0.34390624999999997, 6.061049996274948], ws=[4.57263615763905, 4.179193066100743, 0.842567854682811, 0.48841796875, 5.772470865119644], res=[0.02946864792459447, 0.01916051068994662, 0.0, -0.14451171875000002, 0.28857913115530387], res_norm=3.246e-01
2026-01-26 14:35:19,638 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:19,694 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:19,713 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:19,753 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:19,770 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:19,812 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:19,830 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:19,873 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:19,892 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:19,932 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:19,951 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:19,992 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:20,010 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:20,052 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:20,071 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:20,111 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:20,130 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:20,170 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:20,188 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:20,229 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:20,248 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:20,289 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:22,318 - WARNING - integration_test - Step 38: MPC solve failed
2026-01-26 14:35:22,318 - WARNING - integration_test -   Consecutive MPC failures: 17/20
2026-01-26 14:35:22,326 - INFO - integration_test - Step 38: Computed 6 numeric contouring constraints for visualization (s=7.540)
2026-01-26 14:35:22,326 - DEBUG - integration_test - Step 38: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:35:22,326 - INFO - integration_test - === Applying control at step 38 ===
2026-01-26 14:35:22,326 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.11100025284875503}
2026-01-26 14:35:22,326 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:35:22,326 - INFO - integration_test -   Planner output success: False
2026-01-26 14:35:22,326 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.11100025284875503}
2026-01-26 14:35:22,328 - INFO - integration_test - Step 38 completed in 2.784s
2026-01-26 14:35:22,386 - INFO - integration_test - Step 39 (contouring until path end)
2026-01-26 14:35:22,389 - DEBUG - integration_test - Syncing planner state at step 39: vehicle_state=[ 5.53577338  4.90129446  0.83146783 -0.54114688  7.48593562]
2026-01-26 14:35:22,389 - DEBUG - integration_test - Step 39: Using propagated spline 7.4859 (close to path, dist=0.058m, drift=0.111m)
2026-01-26 14:35:22,389 - DEBUG - integration_test -   Set spline state to 7.4859
2026-01-26 14:35:22,390 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:22,403 - DEBUG - integration_test - Step 39: Checking path alignment: vehicle=(5.536, 4.901), path_start=(0.000, 0.000), dist=7.394m
2026-01-26 14:35:22,403 - INFO - integration_test - === Calling planner.solve_mpc() at step 39 ===
2026-01-26 14:35:22,407 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:22,432 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:35:22,432 - INFO - integration_test - Warmstart k=0: x0=5.535773377697757 , y0=4.901294464874572 , psi0=0.8314678293979355 , v0=-0.5411468817204584 , spline0=7.485935623759467 , a0=0.0 , w0=0.0
2026-01-26 14:35:22,433 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:35:22,434 - INFO - integration_test - Dyn residual k=0: pred=[5.4993113404306975, 4.861307975727694, 0.8314678293979355, -0.5411468817204584, 7.431820935587421], ws=[4.606406196133618, 4.196237858778625, 0.8314678293979356, 0.17875, 6.039164159113002], res=[0.8929051442970799, 0.6650701169490691, -1.1102230246251565e-16, -0.7198968817204584, 1.3926567764744187], res_norm=1.923e+00
2026-01-26 14:35:22,434 - INFO - integration_test - Dyn residual k=1: pred=[4.618450225918592, 4.209446074840557, 0.8314678293979356, 0.17875, 6.057039159113002], ws=[4.603158623301393, 4.1995202189017, 0.8314678293979356, 0.34390624999999997, 5.770524481082699], res=[0.015291602617198308, 0.009925855938856643, 0.0, -0.16515624999999998, 0.2865146780303034], res_norm=3.312e-01
2026-01-26 14:35:22,435 - INFO - integration_test - Dyn residual k=2: pred=[4.626330747039791, 4.2249321800488255, 0.8314678293979356, 0.34390624999999997, 5.804915106082699], ws=[4.596807661886211, 4.205961453594988, 0.8314678293979356, 0.48841796875, 6.0213864799779016], res=[0.029523085153580375, 0.018970726453837905, 0.0, -0.14451171875000002, -0.2164713738952022], res_norm=2.626e-01
2026-01-26 14:35:22,451 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:22,504 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:22,522 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:22,562 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:22,581 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:22,620 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:22,639 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:22,681 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:22,700 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:22,741 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:22,760 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:22,800 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:22,818 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:22,860 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:22,878 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:22,919 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:22,936 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:22,977 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:22,995 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:23,034 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:23,054 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:23,093 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:25,022 - WARNING - integration_test - Step 39: MPC solve failed
2026-01-26 14:35:25,022 - WARNING - integration_test -   Consecutive MPC failures: 18/20
2026-01-26 14:35:25,030 - INFO - integration_test - Step 39: Computed 6 numeric contouring constraints for visualization (s=7.486)
2026-01-26 14:35:25,030 - DEBUG - integration_test - Step 39: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:35:25,030 - INFO - integration_test - === Applying control at step 39 ===
2026-01-26 14:35:25,030 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': 0.053156763697975506}
2026-01-26 14:35:25,030 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:35:25,030 - INFO - integration_test -   Planner output success: False
2026-01-26 14:35:25,030 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': 0.053156763697975506}
2026-01-26 14:35:25,032 - INFO - integration_test - Step 39 completed in 2.643s
2026-01-26 14:35:25,087 - INFO - integration_test - Step 40 (contouring until path end)
2026-01-26 14:35:25,088 - DEBUG - integration_test - Syncing planner state at step 40: vehicle_state=[ 5.4927061   4.85379822  0.83678351 -0.74114688  7.41182094]
2026-01-26 14:35:25,088 - DEBUG - integration_test - Step 40: Using propagated spline 7.4118 (close to path, dist=0.075m, drift=0.037m)
2026-01-26 14:35:25,088 - DEBUG - integration_test -   Set spline state to 7.4118
2026-01-26 14:35:25,089 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:25,103 - DEBUG - integration_test - Step 40: Checking path alignment: vehicle=(5.493, 4.854), path_start=(0.000, 0.000), dist=7.330m
2026-01-26 14:35:25,103 - INFO - integration_test - === Calling planner.solve_mpc() at step 40 ===
2026-01-26 14:35:25,107 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:25,132 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:35:25,132 - INFO - integration_test - Warmstart k=0: x0=5.492706104044024 , y0=4.8537982168282285 , psi0=0.8367835057677331 , v0=-0.7411468817204585 , spline0=7.4118209355874205 , a0=0.0 , w0=0.0
2026-01-26 14:35:25,132 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:35:25,133 - INFO - integration_test - Dyn residual k=0: pred=[5.443060045967755, 4.798768625512944, 0.8367835057677331, -0.7411468817204585, 7.337706247415374], ws=[4.635735778373098, 4.217587890979562, 0.8367835057677331, 0.17875, 6.268079773971259], res=[0.807324267594657, 0.5811807345333815, 0.0, -0.9198968817204585, 1.0696264734441154], res_norm=1.726e+00
2026-01-26 14:35:25,134 - INFO - integration_test - Dyn residual k=1: pred=[4.647709427726561, 4.230859942296533, 0.8367835057677331, 0.17875, 6.285954773971259], ws=[4.632368617476312, 4.221066031813564, 0.8367835057677331, 0.34390624999999997, 5.797419893920754], res=[0.01534081025024836, 0.009793910482969181, 0.0, -0.16515624999999998, 0.48853488005050494], res_norm=5.160e-01
2026-01-26 14:35:25,135 - INFO - integration_test - Dyn residual k=2: pred=[4.655405332709679, 4.2466008088665825, 0.8367835057677331, 0.34390624999999997, 5.831810518920754], ws=[4.625789094814767, 4.227887214695731, 0.8367835057677331, 0.48841796875, 6.0482818928159565], res=[0.029616237894912523, 0.018713594170851167, 0.0, -0.14451171875000002, -0.2164713738952022], res_norm=2.626e-01
2026-01-26 14:35:25,150 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:25,202 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:25,220 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:25,264 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:25,283 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:25,329 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:25,350 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:25,392 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:25,410 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:25,454 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:25,472 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:25,512 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:25,531 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:25,571 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:25,589 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:25,629 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:25,648 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:25,689 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:25,708 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:25,747 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:25,765 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:25,804 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:27,826 - WARNING - integration_test - Step 40: MPC solve failed
2026-01-26 14:35:27,826 - WARNING - integration_test -   Consecutive MPC failures: 19/20
2026-01-26 14:35:27,833 - INFO - integration_test - Step 40: Computed 6 numeric contouring constraints for visualization (s=7.412)
2026-01-26 14:35:27,833 - DEBUG - integration_test - Step 40: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:35:27,833 - INFO - integration_test - === Applying control at step 40 ===
2026-01-26 14:35:27,833 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': 0.5193184901830454}
2026-01-26 14:35:27,833 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:35:27,833 - INFO - integration_test -   Planner output success: False
2026-01-26 14:35:27,834 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': 0.5193184901830454}
2026-01-26 14:35:27,835 - INFO - integration_test - Step 40 completed in 2.747s
2026-01-26 14:35:27,889 - INFO - integration_test - Step 41 (contouring until path end)
2026-01-26 14:35:27,894 - DEBUG - integration_test - Syncing planner state at step 41: vehicle_state=[ 5.43807389  4.78985278  0.88871535 -0.94114688  7.31770625]
2026-01-26 14:35:27,895 - DEBUG - integration_test - Step 41: Using propagated spline 7.3177 (close to path, dist=0.146m, drift=0.057m)
2026-01-26 14:35:27,895 - DEBUG - integration_test -   Set spline state to 7.3177
2026-01-26 14:35:27,896 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:27,909 - DEBUG - integration_test - Step 41: Checking path alignment: vehicle=(5.438, 4.790), path_start=(0.000, 0.000), dist=7.247m
2026-01-26 14:35:27,909 - INFO - integration_test - === Calling planner.solve_mpc() at step 41 ===
2026-01-26 14:35:27,913 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:27,935 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:35:27,935 - INFO - integration_test - Warmstart k=0: x0=5.438073889470181 , y0=4.789852775668738 , psi0=0.8887153547860376 , v0=-0.9411468817204585 , spline0=7.317706247415375 , a0=0.0 , w0=0.0
2026-01-26 14:35:27,935 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:35:27,936 - INFO - integration_test - Dyn residual k=0: pred=[5.378743070693118, 4.716795069210318, 0.8887153547860376, -0.9411468817204585, 7.223591559243329], ws=[4.672551520597129, 4.23068194730617, 0.8887153547860374, 0.17875, 6.274975186809314], res=[0.7061915500959888, 0.4861131219041477, 2.220446049250313e-16, -1.1198968817204584, 0.9486163724340146], res_norm=1.700e+00
2026-01-26 14:35:27,937 - INFO - integration_test - Dyn residual k=1: pred=[4.683820095207941, 4.244557640126371, 0.8887153547860374, 0.17875, 6.292850186809314], ws=[4.668395194113673, 4.235047637749128, 0.8887153547860374, 0.34390624999999997, 5.804315306758809], res=[0.015424901094267973, 0.009510002377242976, 0.0, -0.16515624999999998, 0.48853488005050494], res_norm=5.160e-01
2026-01-26 14:35:27,938 - INFO - integration_test - Dyn residual k=2: pred=[4.690075380056328, 4.261743791505475, 0.8887153547860374, 0.34390624999999997, 5.83870593175881], ws=[4.660284769356337, 4.243605470074616, 0.8887153547860374, 0.48841796875, 6.055177305654011], res=[0.029790610699991227, 0.01813832143085925, 0.0, -0.14451171875000002, -0.21647137389520132], res_norm=2.626e-01
2026-01-26 14:35:27,953 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:28,006 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:28,025 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:28,067 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:28,087 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:28,128 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:28,147 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:28,187 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:28,206 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:28,247 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:28,266 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:28,307 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:28,326 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:28,368 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:28,385 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:28,426 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:28,445 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:28,486 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:28,505 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:28,545 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:28,564 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:28,603 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:30,575 - WARNING - integration_test - Step 41: MPC solve failed
2026-01-26 14:35:30,575 - WARNING - integration_test -   Consecutive MPC failures: 20/20
2026-01-26 14:35:30,575 - WARNING - integration_test - Step 41: Checking if vehicle should continue despite 20 consecutive failures...
2026-01-26 14:35:30,575 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 41.
2026-01-26 14:35:30,583 - INFO - integration_test - Step 200: Computed 6 numeric contouring constraints for visualization (s=7.318)
2026-01-26 14:35:30,583 - DEBUG - integration_test - Step 200: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:35:30,583 - INFO - integration_test - === Applying control at step 200 ===
2026-01-26 14:35:30,583 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.17639642962913626}
2026-01-26 14:35:30,583 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:35:30,583 - INFO - integration_test -   Planner output success: False
2026-01-26 14:35:30,583 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.17639642962913626}
2026-01-26 14:35:30,584 - INFO - integration_test - Step 200 completed in 2.690s
2026-01-26 14:35:30,635 - INFO - integration_test - Step 201 (contouring until path end)
2026-01-26 14:35:30,637 - DEBUG - integration_test - Syncing planner state at step 201: vehicle_state=[ 5.37170692  4.70963424  0.87107571 -1.14114688  7.20359156]
2026-01-26 14:35:30,638 - DEBUG - integration_test - Step 201: Using propagated spline 7.2036 (close to path, dist=0.176m, drift=0.198m)
2026-01-26 14:35:30,638 - DEBUG - integration_test -   Set spline state to 7.2036
2026-01-26 14:35:30,639 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:30,654 - DEBUG - integration_test - Step 201: Checking path alignment: vehicle=(5.372, 4.710), path_start=(0.000, 0.000), dist=7.144m
2026-01-26 14:35:30,654 - INFO - integration_test - === Calling planner.solve_mpc() at step 201 ===
2026-01-26 14:35:30,658 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:30,683 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:35:30,683 - INFO - integration_test - Warmstart k=0: x0=5.371706917318299 , y0=4.709634242315017 , psi0=0.8710757118231239 , v0=-1.1411468817204584 , spline0=7.203591559243328 , a0=0.0 , w0=0.0
2026-01-26 14:35:30,683 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:35:30,684 - INFO - integration_test - Dyn residual k=0: pred=[5.298216604342255, 4.62233397911217, 0.8710757118231239, -1.1411468817204584, 7.089476871071282], ws=[4.71711916086779, 4.236645404880639, 0.8710757118231243, 0.17875, 6.059850397627167], res=[0.5810974434744658, 0.3856885742315317, -3.3306690738754696e-16, -1.3198968817204584, 1.0296264734441154], res_norm=1.813e+00
2026-01-26 14:35:30,685 - INFO - integration_test - Dyn residual k=1: pred=[4.728630731950263, 4.250320175672618, 0.8710757118231243, 0.17875, 6.077725397627167], ws=[4.713352299646937, 4.240644843024701, 0.8710757118231243, 0.34390624999999997, 6.2962612246473695], res=[0.015278432303325928, 0.009675332647916868, 0.0, -0.16515624999999998, -0.2185358270202027], res_norm=2.745e-01
2026-01-26 14:35:30,686 - INFO - integration_test - Dyn residual k=2: pred=[4.735499998906136, 4.266954432634095, 0.8710757118231243, 0.34390624999999997, 6.33065184964737], ws=[4.7060055700211105, 4.248477683322655, 0.8710757118231243, 0.48841796875, 5.840052516471864], res=[0.029494428885025847, 0.018476749311440166, 0.0, -0.14451171875000002, 0.4905993331755054], res_norm=5.126e-01
2026-01-26 14:35:30,701 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:30,751 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:30,770 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:30,810 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:30,828 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:30,871 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:30,890 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:30,929 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:30,950 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:30,991 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:31,011 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:31,051 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:31,071 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:31,118 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:31,138 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:31,179 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:31,198 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:31,239 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:31,260 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:31,299 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:31,318 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:31,361 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:33,394 - WARNING - integration_test - Step 201: MPC solve failed
2026-01-26 14:35:33,394 - WARNING - integration_test -   Consecutive MPC failures: 21/20
2026-01-26 14:35:33,394 - WARNING - integration_test - Step 201: Checking if vehicle should continue despite 21 consecutive failures...
2026-01-26 14:35:33,394 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 201.
2026-01-26 14:35:33,401 - INFO - integration_test - Step 200: Computed 6 numeric contouring constraints for visualization (s=7.204)
2026-01-26 14:35:33,402 - DEBUG - integration_test - Step 200: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:35:33,402 - INFO - integration_test - === Applying control at step 200 ===
2026-01-26 14:35:33,402 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': 0.10572010355277062}
2026-01-26 14:35:33,402 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:35:33,402 - INFO - integration_test -   Planner output success: False
2026-01-26 14:35:33,402 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': 0.10572010355277062}
2026-01-26 14:35:33,403 - INFO - integration_test - Step 200 completed in 2.766s
2026-01-26 14:35:33,461 - INFO - integration_test - Step 201 (contouring until path end)
2026-01-26 14:35:33,462 - DEBUG - integration_test - Syncing planner state at step 201: vehicle_state=[ 5.2922935   4.61425174  0.88164772 -1.34114688  7.06947687]
2026-01-26 14:35:33,463 - DEBUG - integration_test - Step 201: Using propagated spline 7.0695 (close to path, dist=0.128m, drift=0.064m)
2026-01-26 14:35:33,463 - DEBUG - integration_test -   Set spline state to 7.0695
2026-01-26 14:35:33,464 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:33,478 - DEBUG - integration_test - Step 201: Checking path alignment: vehicle=(5.292, 4.614), path_start=(0.000, 0.000), dist=7.021m
2026-01-26 14:35:33,478 - INFO - integration_test - === Calling planner.solve_mpc() at step 201 ===
2026-01-26 14:35:33,482 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:33,505 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:35:33,505 - INFO - integration_test - Warmstart k=0: x0=5.292293497014343 , y0=4.614251742188072 , psi0=0.881647722178401 , v0=-1.3411468817204584 , spline0=7.0694768710712825 , a0=0.0 , w0=0.0
2026-01-26 14:35:33,505 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:35:33,506 - INFO - integration_test - Dyn residual k=0: pred=[5.207012606679036, 4.510743678120087, 0.881647722178401, -1.3411468817204584, 6.935362182899237], ws=[4.765100838466948, 4.236314607400711, 0.8816477221784007, 0.17875, 5.82472560844502], res=[0.4419117682120879, 0.2744290707193757, 3.3306690738754696e-16, -1.5198968817204583, 1.110636574454217], res_norm=1.953e+00
2026-01-26 14:35:33,507 - INFO - integration_test - Dyn residual k=1: pred=[4.776467199120809, 4.2501103121846775, 0.8816477221784007, 0.17875, 5.84260060844502], ws=[4.7613200005400245, 4.240361620025751, 0.8816477221784007, 0.34390624999999997, 6.061136435465222], res=[0.015147198580784504, 0.009748692158926708, 0.0, -0.16515624999999998, -0.2185358270202027], res_norm=2.745e-01
2026-01-26 14:35:33,508 - INFO - integration_test - Dyn residual k=2: pred=[4.783188322042777, 4.266903880715882, 0.8816477221784007, 0.34390624999999997, 6.095527060465223], ws=[4.753952128431035, 4.248281378110115, 0.8816477221784007, 0.48841796875, 6.311998434360424], res=[0.029236193611742678, 0.018622502605766478, 0.0, -0.14451171875000002, -0.21647137389520132], res_norm=2.626e-01
2026-01-26 14:35:33,523 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:33,574 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:33,593 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:33,634 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:33,653 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:33,696 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:33,714 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:33,755 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:33,774 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:33,815 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:33,834 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:33,876 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:33,896 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:33,936 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:33,955 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:33,996 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:34,015 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:34,056 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:34,075 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:34,116 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:34,133 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:34,173 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:36,228 - WARNING - integration_test - Step 201: MPC solve failed
2026-01-26 14:35:36,228 - WARNING - integration_test -   Consecutive MPC failures: 22/20
2026-01-26 14:35:36,228 - WARNING - integration_test - Step 201: Checking if vehicle should continue despite 22 consecutive failures...
2026-01-26 14:35:36,228 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 201.
2026-01-26 14:35:36,236 - INFO - integration_test - Step 200: Computed 6 numeric contouring constraints for visualization (s=7.069)
2026-01-26 14:35:36,236 - DEBUG - integration_test - Step 200: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:35:36,236 - INFO - integration_test - === Applying control at step 200 ===
2026-01-26 14:35:36,236 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': 0.8}
2026-01-26 14:35:36,236 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:35:36,236 - INFO - integration_test -   Planner output success: False
2026-01-26 14:35:36,236 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': 0.8}
2026-01-26 14:35:36,237 - INFO - integration_test - Step 200 completed in 2.775s
2026-01-26 14:35:36,293 - INFO - integration_test - Step 201 (contouring until path end)
2026-01-26 14:35:36,298 - DEBUG - integration_test - Syncing planner state at step 201: vehicle_state=[ 5.20530437  4.49940019  0.96164772 -1.54114688  6.91536218]
2026-01-26 14:35:36,298 - DEBUG - integration_test - Step 201: Using propagated spline 6.9154 (close to path, dist=0.200m, drift=0.090m)
2026-01-26 14:35:36,298 - DEBUG - integration_test -   Set spline state to 6.9154
2026-01-26 14:35:36,299 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:36,313 - DEBUG - integration_test - Step 201: Checking path alignment: vehicle=(5.205, 4.499), path_start=(0.000, 0.000), dist=6.880m
2026-01-26 14:35:36,313 - INFO - integration_test - === Calling planner.solve_mpc() at step 201 ===
2026-01-26 14:35:36,317 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:36,342 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:35:36,343 - INFO - integration_test - Warmstart k=0: x0=5.20530437017661 , y0=4.499400189924023 , psi0=0.961647722178401 , v0=-1.5411468817204583 , spline0=6.915362182899237 , a0=0.0 , w0=0.0
2026-01-26 14:35:36,343 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:35:36,344 - INFO - integration_test - Dyn residual k=0: pred=[5.1171246602783445, 4.373005269643876, 0.961647722178401, -1.5411468817204583, 6.761247494727192], ws=[4.821448835823335, 4.224450818196486, 0.9616477221784008, 0.17875, 6.074651324313378], res=[0.2956758244550093, 0.14855445144739043, 2.220446049250313e-16, -1.7198968817204583, 0.6865961704138135], res_norm=1.881e+00
2026-01-26 14:35:36,344 - INFO - integration_test - Dyn residual k=1: pred=[4.831676363991655, 4.2391107394979874, 0.9616477221784008, 0.17875, 6.092526324313378], ws=[4.816781161140922, 4.229456279151691, 0.9616477221784008, 0.34390624999999997, 6.311062151333581], res=[0.014895202850733646, 0.009654460346296467, 0.0, -0.16515624999999998, -0.2185358270202027], res_norm=2.745e-01
2026-01-26 14:35:36,345 - INFO - integration_test - Dyn residual k=2: pred=[4.836458424688538, 4.257661250117255, 0.9616477221784008, 0.34390624999999997, 6.345452776333581], ws=[4.807699273834345, 4.239246054742617, 0.9616477221784008, 0.48841796875, 5.854853443158076], res=[0.028759150854193116, 0.018415195374637428, 0.0, -0.14451171875000002, 0.4905993331755054], res_norm=5.126e-01
2026-01-26 14:35:36,360 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:36,413 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:36,432 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:36,474 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:36,494 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:36,534 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:36,552 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:36,593 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:36,611 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:36,653 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:36,672 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:36,713 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:36,731 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:36,772 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:36,791 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:36,831 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:36,850 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:36,892 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:36,911 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:36,951 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:36,970 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:37,009 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:38,909 - WARNING - integration_test - Step 201: MPC solve failed
2026-01-26 14:35:38,909 - WARNING - integration_test -   Consecutive MPC failures: 23/20
2026-01-26 14:35:38,909 - WARNING - integration_test - Step 201: Checking if vehicle should continue despite 23 consecutive failures...
2026-01-26 14:35:38,909 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 201.
2026-01-26 14:35:38,917 - INFO - integration_test - Step 200: Computed 6 numeric contouring constraints for visualization (s=6.915)
2026-01-26 14:35:38,917 - DEBUG - integration_test - Step 200: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:35:38,917 - INFO - integration_test - === Applying control at step 200 ===
2026-01-26 14:35:38,917 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': 0.044536622786766955}
2026-01-26 14:35:38,917 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:35:38,917 - INFO - integration_test -   Planner output success: False
2026-01-26 14:35:38,917 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': 0.044536622786766955}
2026-01-26 14:35:38,919 - INFO - integration_test - Step 200 completed in 2.621s
2026-01-26 14:35:38,976 - INFO - integration_test - Step 201 (contouring until path end)
2026-01-26 14:35:38,976 - DEBUG - integration_test - Syncing planner state at step 201: vehicle_state=[ 5.1117091   4.36459102  0.96610138 -1.74114688  6.74124749]
2026-01-26 14:35:38,977 - DEBUG - integration_test - Step 201: Using propagated spline 6.7412 (close to path, dist=0.226m, drift=0.104m)
2026-01-26 14:35:38,977 - DEBUG - integration_test -   Set spline state to 6.7412
2026-01-26 14:35:38,978 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:38,992 - DEBUG - integration_test - Step 201: Checking path alignment: vehicle=(5.112, 4.365), path_start=(0.000, 0.000), dist=6.722m
2026-01-26 14:35:38,992 - INFO - integration_test - === Calling planner.solve_mpc() at step 201 ===
2026-01-26 14:35:38,995 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:39,017 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:35:39,018 - INFO - integration_test - Warmstart k=0: x0=5.111709096417231 , y0=4.364591024287706 , psi0=0.9661013844570777 , v0=-1.7411468817204583 , spline0=6.741247494727191 , a0=0.0 , w0=0.0
2026-01-26 14:35:39,018 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:35:39,019 - INFO - integration_test - Dyn residual k=0: pred=[5.012722956687656, 4.22135112489272, 0.9661013844570777, -1.7411468817204583, 6.567132806555145], ws=[4.885953776095553, 4.2019183372164886, 0.9661013844570778, 0.17875, 6.102556838161535], res=[0.1267691805921034, 0.019432787676231023, -1.1102230246251565e-16, -1.9198968817204582, 0.4645759683936106], res_norm=1.979e+00
2026-01-26 14:35:39,019 - INFO - integration_test - Dyn residual k=1: pred=[4.896115912709311, 4.216623662933498, 0.9661013844570778, 0.17875, 6.120431838161535], ws=[4.881486346517571, 4.206685184010495, 0.9661013844570778, 0.34390624999999997, 6.338967665181737], res=[0.01462956619173994, 0.009938478923002592, 0.0, -0.16515624999999998, -0.2185358270202018], res_norm=2.745e-01
2026-01-26 14:35:39,020 - INFO - integration_test - Dyn residual k=2: pred=[4.901037799915194, 4.234977510848902, 0.9661013844570778, 0.34390624999999997, 6.373358290181737], ws=[4.872799096815902, 4.216000606420579, 0.9661013844570778, 0.48841796875, 5.882758957006232], res=[0.02823870309929255, 0.018976904428322783, 0.0, -0.14451171875000002, 0.4905993331755045], res_norm=5.126e-01
2026-01-26 14:35:39,035 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:39,089 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:39,108 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:39,150 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:39,169 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:39,211 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:39,229 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:39,271 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:39,291 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:39,333 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:39,353 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:39,397 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:39,416 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:39,464 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:39,494 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:39,557 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:39,578 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:39,619 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:39,638 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:39,679 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:39,698 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:39,738 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:41,678 - WARNING - integration_test - Step 201: MPC solve failed
2026-01-26 14:35:41,678 - WARNING - integration_test -   Consecutive MPC failures: 24/20
2026-01-26 14:35:41,678 - WARNING - integration_test - Step 201: Checking if vehicle should continue despite 24 consecutive failures...
2026-01-26 14:35:41,678 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 201.
2026-01-26 14:35:41,687 - INFO - integration_test - Step 200: Computed 6 numeric contouring constraints for visualization (s=6.741)
2026-01-26 14:35:41,687 - DEBUG - integration_test - Step 200: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:35:41,687 - INFO - integration_test - === Applying control at step 200 ===
2026-01-26 14:35:41,687 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': 0.8}
2026-01-26 14:35:41,687 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:35:41,687 - INFO - integration_test -   Planner output success: False
2026-01-26 14:35:41,687 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': 0.8}
2026-01-26 14:35:41,689 - INFO - integration_test - Step 200 completed in 2.712s
2026-01-26 14:35:41,743 - INFO - integration_test - Step 201 (contouring until path end)
2026-01-26 14:35:41,747 - DEBUG - integration_test - Syncing planner state at step 201: vehicle_state=[ 5.0133175   4.20902993  1.04610138 -1.94114688  6.54713281]
2026-01-26 14:35:41,747 - DEBUG - integration_test - Step 201: Using propagated spline 6.5471 (close to path, dist=0.278m, drift=0.090m)
2026-01-26 14:35:41,747 - DEBUG - integration_test -   Set spline state to 6.5471
2026-01-26 14:35:41,748 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:41,761 - DEBUG - integration_test - Step 201: Checking path alignment: vehicle=(5.013, 4.209), path_start=(0.000, 0.000), dist=6.546m
2026-01-26 14:35:41,761 - INFO - integration_test - === Calling planner.solve_mpc() at step 201 ===
2026-01-26 14:35:41,765 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:41,787 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:35:41,787 - INFO - integration_test - Warmstart k=0: x0=5.013317496661195 , y0=4.209029926847084 , psi0=1.0461013844570777 , v0=-1.9411468817204582 , spline0=6.547132806555146 , a0=0.0 , w0=0.0
2026-01-26 14:35:41,787 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:35:41,788 - INFO - integration_test - Dyn residual k=0: pred=[4.916075936249616, 4.041028167651378, 1.0461013844570777, -1.9411468817204582, 6.3530181183831], ws=[4.957744907473339, 4.168148136703936, 1.046101384457078, 0.17875, 6.110462352009691], res=[-0.04166897122372326, -0.12711996905255774, -2.220446049250313e-16, -2.119896881720458, 0.24255576637340948], res_norm=2.138e+00
2026-01-26 14:35:41,789 - INFO - integration_test - Dyn residual k=1: pred=[4.966699370985221, 4.183618534507947, 1.046101384457078, 0.17875, 6.128337352009691], ws=[4.952608077834295, 4.173571033301631, 1.046101384457078, 0.34390624999999997, 6.346873179029894], res=[0.014091293150926276, 0.01004750120631659, 0.0, -0.16515624999999998, -0.2185358270202027], res_norm=2.745e-01
2026-01-26 14:35:41,790 - INFO - integration_test - Dyn residual k=2: pred=[4.969836027300775, 4.203335321384349, 1.046101384457078, 0.34390624999999997, 6.381263804029894], ws=[4.942632499621052, 4.184161634220471, 1.046101384457078, 0.48841796875, 5.8906644708543885], res=[0.027203527679723116, 0.019173687163878128, 0.0, -0.14451171875000002, 0.4905993331755054], res_norm=5.125e-01
2026-01-26 14:35:41,804 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:41,856 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:41,875 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:41,916 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:41,935 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:41,976 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:41,995 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:42,037 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:42,056 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:42,098 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:42,117 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:42,161 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:42,179 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:42,220 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:42,239 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:42,281 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:42,300 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:42,342 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:42,363 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:42,404 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:42,423 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:42,464 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:44,447 - WARNING - integration_test - Step 201: MPC solve failed
2026-01-26 14:35:44,447 - WARNING - integration_test -   Consecutive MPC failures: 25/20
2026-01-26 14:35:44,447 - WARNING - integration_test - Step 201: Checking if vehicle should continue despite 25 consecutive failures...
2026-01-26 14:35:44,447 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 201.
2026-01-26 14:35:44,455 - INFO - integration_test - Step 200: Computed 6 numeric contouring constraints for visualization (s=6.547)
2026-01-26 14:35:44,456 - DEBUG - integration_test - Step 200: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:35:44,456 - INFO - integration_test - === Applying control at step 200 ===
2026-01-26 14:35:44,456 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': 0.2973630827239475}
2026-01-26 14:35:44,456 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:35:44,456 - INFO - integration_test -   Planner output success: False
2026-01-26 14:35:44,456 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': 0.2973630827239475}
2026-01-26 14:35:44,457 - INFO - integration_test - Step 200 completed in 2.711s
2026-01-26 14:35:44,513 - INFO - integration_test - Step 201 (contouring until path end)
2026-01-26 14:35:44,516 - DEBUG - integration_test - Syncing planner state at step 201: vehicle_state=[ 4.91375113  4.03085507  1.07583769 -2.14114688  6.33301812]
2026-01-26 14:35:44,516 - DEBUG - integration_test - Step 201: Using propagated spline 6.3330 (close to path, dist=0.353m, drift=0.065m)
2026-01-26 14:35:44,516 - DEBUG - integration_test -   Set spline state to 6.3330
2026-01-26 14:35:44,517 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:44,531 - DEBUG - integration_test - Step 201: Checking path alignment: vehicle=(4.914, 4.031), path_start=(0.000, 0.000), dist=6.356m
2026-01-26 14:35:44,531 - INFO - integration_test - === Calling planner.solve_mpc() at step 201 ===
2026-01-26 14:35:44,534 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:44,558 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:35:44,558 - INFO - integration_test - Warmstart k=0: x0=4.913751133894586 , y0=4.0308550748589305 , psi0=1.0758376927294724 , v0=-2.1411468817204584 , spline0=6.3330181183831 , a0=0.0 , w0=0.0
2026-01-26 14:35:44,559 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:35:44,559 - INFO - integration_test - Dyn residual k=0: pred=[4.812047674028415, 3.8424366417313234, 1.0758376927294724, -2.1411468817204584, 6.118903430211054], ws=[4.9132761386444495, 4.029975086499719, 1.075837692729472, 0.17875, 6.301772939681904], res=[-0.10122846461603441, -0.18753844476839543, 4.440892098500626e-16, -2.3198968817204584, -0.18286950947085057], res_norm=2.337e+00
2026-01-26 14:35:44,560 - INFO - integration_test - Dyn residual k=1: pred=[4.921766678740639, 4.045704878420625, 1.075837692729472, 0.17875, 6.3196479396819045], ws=[4.921766678740639, 4.045704878420625, 1.075837692729472, 0.34390624999999997, 5.8311130596314], res=[0.0, 0.0, 0.0, -0.16515624999999998, 0.48853488005050494], res_norm=5.157e-01
2026-01-26 14:35:44,561 - INFO - integration_test - Dyn residual k=2: pred=[4.938102062264863, 4.075968228086634, 1.075837692729472, 0.34390624999999997, 5.8655036846314], ws=[4.938102062264863, 4.075968228086634, 1.075837692729472, 0.48841796875, 6.081975058526601], res=[0.0, 0.0, 0.0, -0.14451171875000002, -0.21647137389520132], res_norm=2.603e-01
2026-01-26 14:35:44,576 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:44,627 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:44,646 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:44,689 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:44,709 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:44,751 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:44,770 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:44,810 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:44,828 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:44,873 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:44,891 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:44,932 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:44,950 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:44,992 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:45,010 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:45,051 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:45,071 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:45,113 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:45,133 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:45,174 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:45,193 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:45,234 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:47,136 - WARNING - integration_test - Step 201: MPC solve failed
2026-01-26 14:35:47,137 - WARNING - integration_test -   Consecutive MPC failures: 26/20
2026-01-26 14:35:47,137 - WARNING - integration_test - Step 201: Checking if vehicle should continue despite 26 consecutive failures...
2026-01-26 14:35:47,137 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 201.
2026-01-26 14:35:47,145 - INFO - integration_test - Step 200: Computed 6 numeric contouring constraints for visualization (s=6.333)
2026-01-26 14:35:47,145 - DEBUG - integration_test - Step 200: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:35:47,145 - INFO - integration_test - === Applying control at step 200 ===
2026-01-26 14:35:47,145 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': 0.8}
2026-01-26 14:35:47,145 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:35:47,145 - INFO - integration_test -   Planner output success: False
2026-01-26 14:35:47,145 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': 0.8}
2026-01-26 14:35:47,146 - INFO - integration_test - Step 200 completed in 2.631s
2026-01-26 14:35:47,198 - INFO - integration_test - Step 201 (contouring until path end)
2026-01-26 14:35:47,201 - DEBUG - integration_test - Syncing planner state at step 201: vehicle_state=[ 4.8154155   3.82953261  1.15583769 -2.34114688  6.09890343]
2026-01-26 14:35:47,201 - DEBUG - integration_test - Step 201: Using propagated spline 6.0989 (close to path, dist=0.447m, drift=0.169m)
2026-01-26 14:35:47,202 - DEBUG - integration_test -   Set spline state to 6.0989
2026-01-26 14:35:47,202 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:47,216 - DEBUG - integration_test - Step 201: Checking path alignment: vehicle=(4.815, 3.830), path_start=(0.000, 0.000), dist=6.153m
2026-01-26 14:35:47,216 - INFO - integration_test - === Calling planner.solve_mpc() at step 201 ===
2026-01-26 14:35:47,219 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:47,242 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:35:47,242 - INFO - integration_test - Warmstart k=0: x0=4.815415498969214 , y0=3.829532613802771 , psi0=1.1558376927294725 , v0=-2.3411468817204586 , spline0=6.098903430211054 , a0=0.0 , w0=0.0
2026-01-26 14:35:47,242 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:35:47,243 - INFO - integration_test - Dyn residual k=0: pred=[4.721031676551302, 3.6152865373306957, 1.1558376927294725, -2.3411468817204586, 5.864788742039009], ws=[4.815012346893815, 3.828617480804731, 1.155837692729472, 0.17875, 5.763243076675701], res=[-0.09398067034251323, -0.21333094347403536, 4.440892098500626e-16, -2.5198968817204586, 0.10154566536330822], res_norm=2.533e+00
2026-01-26 14:35:47,243 - INFO - integration_test - Dyn residual k=1: pred=[4.822218690241569, 3.8449754831446956, 1.155837692729472, 0.17875, 5.781118076675701], ws=[4.822218690241569, 3.8449754831446956, 1.155837692729472, 0.34390624999999997, 5.999653903695903], res=[0.0, 0.0, 0.0, -0.16515624999999998, -0.2185358270202027], res_norm=2.739e-01
2026-01-26 14:35:47,244 - INFO - integration_test - Dyn residual k=2: pred=[4.836083342084582, 3.8764474789054137, 1.155837692729472, 0.34390624999999997, 6.034044528695904], ws=[4.836083342084582, 3.8764474789054137, 1.155837692729472, 0.48841796875, 5.7454653975406], res=[0.0, 0.0, 0.0, -0.14451171875000002, 0.28857913115530387], res_norm=3.227e-01
2026-01-26 14:35:47,264 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:47,347 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:47,372 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:47,413 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:47,433 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:47,477 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:47,496 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:47,538 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:47,556 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:47,598 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:47,616 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:47,658 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:47,677 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:47,719 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:47,737 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:47,777 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:47,796 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:47,838 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:47,858 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:47,898 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:47,918 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:47,958 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:49,952 - WARNING - integration_test - Step 201: MPC solve failed
2026-01-26 14:35:49,952 - WARNING - integration_test -   Consecutive MPC failures: 27/20
2026-01-26 14:35:49,952 - WARNING - integration_test - Step 201: Checking if vehicle should continue despite 27 consecutive failures...
2026-01-26 14:35:49,952 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 201.
2026-01-26 14:35:49,959 - INFO - integration_test - Step 200: Computed 6 numeric contouring constraints for visualization (s=6.099)
2026-01-26 14:35:49,959 - DEBUG - integration_test - Step 200: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:35:49,960 - INFO - integration_test - === Applying control at step 200 ===
2026-01-26 14:35:49,960 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': 0.8}
2026-01-26 14:35:49,960 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:35:49,960 - INFO - integration_test -   Planner output success: False
2026-01-26 14:35:49,960 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': 0.8}
2026-01-26 14:35:49,961 - INFO - integration_test - Step 200 completed in 2.760s
2026-01-26 14:35:50,014 - INFO - integration_test - Step 201 (contouring until path end)
2026-01-26 14:35:50,017 - DEBUG - integration_test - Syncing planner state at step 201: vehicle_state=[ 4.72616027  3.60239009  1.23583769 -2.54114688  5.84478874]
2026-01-26 14:35:50,018 - DEBUG - integration_test - Step 201: Using propagated spline 5.8448 (close to path, dist=0.552m, drift=0.055m)
2026-01-26 14:35:50,018 - DEBUG - integration_test -   Set spline state to 5.8448
2026-01-26 14:35:50,019 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:50,032 - DEBUG - integration_test - Step 201: Checking path alignment: vehicle=(4.726, 3.602), path_start=(0.000, 0.000), dist=5.943m
2026-01-26 14:35:50,032 - INFO - integration_test - === Calling planner.solve_mpc() at step 201 ===
2026-01-26 14:35:50,035 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:50,058 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:35:50,058 - INFO - integration_test - Warmstart k=0: x0=4.726160265388351 , y0=3.6023900856136395 , psi0=1.2358376927294725 , v0=-2.5411468817204588 , spline0=5.844788742039008 , a0=0.0 , w0=0.0
2026-01-26 14:35:50,058 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:35:50,059 - INFO - integration_test - Dyn residual k=0: pred=[4.642625117726625, 3.362398098560093, 1.2358376927294725, -2.5411468817204588, 5.590674053866962], ws=[4.725831535285174, 3.601445661704971, 1.235837692729472, 0.17875, 5.913168792544059], res=[-0.08320641755854918, -0.23904756314487763, 4.440892098500626e-16, -2.7198968817204587, -0.3224947386770962], res_norm=2.751e+00
2026-01-26 14:35:50,060 - INFO - integration_test - Dyn residual k=1: pred=[4.731707585879472, 3.618327239072422, 1.235837692729472, 0.17875, 5.931043792544059], ws=[4.731707585879472, 3.618327239072422, 1.235837692729472, 0.34390624999999997, 5.442508912493554], res=[0.0, 0.0, 0.0, -0.16515624999999998, 0.48853488005050494], res_norm=5.157e-01
2026-01-26 14:35:50,061 - INFO - integration_test - Dyn residual k=2: pred=[4.743012819584062, 3.6508065675564785, 1.235837692729472, 0.34390624999999997, 5.476899537493554], ws=[4.743012819584062, 3.6508065675564785, 1.235837692729472, 0.48841796875, 5.693370911388756], res=[0.0, 0.0, 0.0, -0.14451171875000002, -0.2164713738952022], res_norm=2.603e-01
2026-01-26 14:35:50,077 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:50,128 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:50,147 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:50,188 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:50,207 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:50,248 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:50,267 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:50,308 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:50,326 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:50,370 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:50,389 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:50,431 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:50,450 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:50,492 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:50,512 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:50,553 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:50,572 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:50,613 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:50,631 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:50,677 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:50,702 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:50,754 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:52,686 - WARNING - integration_test - Step 201: MPC solve failed
2026-01-26 14:35:52,686 - WARNING - integration_test -   Consecutive MPC failures: 28/20
2026-01-26 14:35:52,686 - WARNING - integration_test - Step 201: Checking if vehicle should continue despite 28 consecutive failures...
2026-01-26 14:35:52,686 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 201.
2026-01-26 14:35:52,694 - INFO - integration_test - Step 200: Computed 6 numeric contouring constraints for visualization (s=5.845)
2026-01-26 14:35:52,694 - DEBUG - integration_test - Step 200: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:35:52,694 - INFO - integration_test - === Applying control at step 200 ===
2026-01-26 14:35:52,694 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': 0.7054040028031627}
2026-01-26 14:35:52,694 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:35:52,694 - INFO - integration_test -   Planner output success: False
2026-01-26 14:35:52,694 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': 0.7054040028031627}
2026-01-26 14:35:52,696 - INFO - integration_test - Step 200 completed in 2.678s
2026-01-26 14:35:52,749 - INFO - integration_test - Step 201 (contouring until path end)
2026-01-26 14:35:52,752 - DEBUG - integration_test - Syncing planner state at step 201: vehicle_state=[ 4.64831612  3.35006499  1.30637809 -2.74114688  5.57067405]
2026-01-26 14:35:52,753 - DEBUG - integration_test - Step 201: Using propagated spline 5.5707 (close to path, dist=0.718m, drift=0.329m)
2026-01-26 14:35:52,753 - DEBUG - integration_test -   Set spline state to 5.5707
2026-01-26 14:35:52,754 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:52,768 - DEBUG - integration_test - Step 201: Checking path alignment: vehicle=(4.648, 3.350), path_start=(0.000, 0.000), dist=5.730m
2026-01-26 14:35:52,768 - INFO - integration_test - === Calling planner.solve_mpc() at step 201 ===
2026-01-26 14:35:52,771 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:52,796 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:35:52,796 - INFO - integration_test - Warmstart k=0: x0=4.648316124170093 , y0=3.350064992574774 , psi0=1.3063780930097888 , v0=-2.741146881720459 , spline0=5.570674053866963 , a0=0.0 , w0=0.0
2026-01-26 14:35:52,796 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:35:52,797 - INFO - integration_test - Dyn residual k=0: pred=[4.576676862885006, 3.0854772405638675, 1.3063780930097888, -2.741146881720459, 5.296559365694917], ws=[4.648054776404445, 3.3490997478672564, 1.3063780930097888, 0.17875, 5.134003599321508], res=[-0.07137791351943878, -0.2636225073033889, 0.0, -2.919896881720459, 0.1625557663734094], res_norm=2.937e+00
2026-01-26 14:35:52,798 - INFO - integration_test - Dyn residual k=1: pred=[4.652726367715404, 3.3663534970141336, 1.3063780930097888, 0.17875, 5.151878599321508], ws=[4.652726367715404, 3.3663534970141336, 1.3063780930097888, 0.34390624999999997, 5.370414426341711], res=[0.0, 0.0, 0.0, -0.16515624999999998, -0.2185358270202027], res_norm=2.739e-01
2026-01-26 14:35:52,798 - INFO - integration_test - Dyn residual k=2: pred=[4.661714280718396, 3.3995488657836064, 1.3063780930097888, 0.34390624999999997, 5.404805051341711], ws=[4.661714280718396, 3.3995488657836064, 1.3063780930097888, 0.48841796875, 5.621276425236913], res=[0.0, 0.0, 0.0, -0.14451171875000002, -0.2164713738952022], res_norm=2.603e-01
2026-01-26 14:35:52,813 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:52,863 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:52,883 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:52,924 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:52,944 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:52,984 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:53,003 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:53,043 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:53,061 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:53,103 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:53,122 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:53,163 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:53,181 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:53,223 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:53,242 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:53,285 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:53,304 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:53,346 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:53,365 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:53,408 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:53,428 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:53,468 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:55,481 - WARNING - integration_test - Step 201: MPC solve failed
2026-01-26 14:35:55,481 - WARNING - integration_test -   Consecutive MPC failures: 29/20
2026-01-26 14:35:55,481 - WARNING - integration_test - Step 201: Checking if vehicle should continue despite 29 consecutive failures...
2026-01-26 14:35:55,481 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 201.
2026-01-26 14:35:55,489 - INFO - integration_test - Step 200: Computed 6 numeric contouring constraints for visualization (s=5.571)
2026-01-26 14:35:55,489 - DEBUG - integration_test - Step 200: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:35:55,489 - INFO - integration_test - === Applying control at step 200 ===
2026-01-26 14:35:55,489 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': 0.8}
2026-01-26 14:35:55,489 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:35:55,489 - INFO - integration_test -   Planner output success: False
2026-01-26 14:35:55,489 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': 0.8}
2026-01-26 14:35:55,491 - INFO - integration_test - Step 200 completed in 2.739s
2026-01-26 14:35:55,545 - INFO - integration_test - Step 201 (contouring until path end)
2026-01-26 14:35:55,549 - DEBUG - integration_test - Syncing planner state at step 201: vehicle_state=[ 4.58523628  3.07311903  1.38637809 -2.94114688  5.27655937]
2026-01-26 14:35:55,549 - DEBUG - integration_test - Step 201: Using propagated spline 5.2766 (close to path, dist=0.867m, drift=0.254m)
2026-01-26 14:35:55,549 - DEBUG - integration_test -   Set spline state to 5.2766
2026-01-26 14:35:55,550 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:55,564 - DEBUG - integration_test - Step 201: Checking path alignment: vehicle=(4.585, 3.073), path_start=(0.000, 0.000), dist=5.520m
2026-01-26 14:35:55,564 - INFO - integration_test - === Calling planner.solve_mpc() at step 201 ===
2026-01-26 14:35:55,568 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:55,591 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:35:55,592 - INFO - integration_test - Warmstart k=0: x0=4.585236275834183 , y0=3.0731190290140056 , psi0=1.3863780930097889 , v0=-2.941146881720459 , spline0=5.276559365694917 , a0=0.0 , w0=0.0
2026-01-26 14:35:55,592 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:35:55,592 - INFO - integration_test - Dyn residual k=0: pred=[4.531303093910297, 2.7839916147376957, 1.3863780930097889, -2.941146881720459, 4.982444677522871], ws=[4.585052901170854, 3.0721359859158412, 1.3863780930097889, 0.17875, 5.041909113169664], res=[-0.05374980726055689, -0.2881443711781455, 0.0, -3.119896881720459, -0.05946443564679349], res_norm=3.134e+00
2026-01-26 14:35:55,593 - INFO - integration_test - Dyn residual k=1: pred=[4.588330723277873, 3.08970788129553, 1.3863780930097889, 0.17875, 5.059784113169664], ws=[4.588330723277873, 3.08970788129553, 1.3863780930097889, 0.34390624999999997, 5.278319940189867], res=[0.0, 0.0, 0.0, -0.16515624999999998, -0.2185358270202027], res_norm=2.739e-01
2026-01-26 14:35:55,594 - INFO - integration_test - Dyn residual k=2: pred=[4.594637092558949, 3.1235153478433406, 1.3863780930097889, 0.34390624999999997, 5.312710565189867], ws=[4.594637092558949, 3.1235153478433406, 1.3863780930097889, 0.48841796875, 5.529181939085069], res=[0.0, 0.0, 0.0, -0.14451171875000002, -0.21647137389520132], res_norm=2.603e-01
2026-01-26 14:35:55,609 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:55,659 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:55,679 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:55,721 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:55,742 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:55,782 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:55,801 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:55,841 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:55,860 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:55,903 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:55,921 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:55,962 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:55,980 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:56,021 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:56,040 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:56,083 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:56,105 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:56,149 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:56,169 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:56,209 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:56,228 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:56,268 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:58,238 - WARNING - integration_test - Step 201: MPC solve failed
2026-01-26 14:35:58,238 - WARNING - integration_test -   Consecutive MPC failures: 30/20
2026-01-26 14:35:58,238 - WARNING - integration_test - Step 201: Checking if vehicle should continue despite 30 consecutive failures...
2026-01-26 14:35:58,238 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 201.
2026-01-26 14:35:58,245 - INFO - integration_test - Step 200: Computed 6 numeric contouring constraints for visualization (s=5.277)
2026-01-26 14:35:58,245 - DEBUG - integration_test - Step 200: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:35:58,245 - INFO - integration_test - === Applying control at step 200 ===
2026-01-26 14:35:58,245 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': 0.8}
2026-01-26 14:35:58,245 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:35:58,245 - INFO - integration_test -   Planner output success: False
2026-01-26 14:35:58,245 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': 0.8}
2026-01-26 14:35:58,247 - INFO - integration_test - Step 200 completed in 2.698s
2026-01-26 14:35:58,302 - INFO - integration_test - Step 201 (contouring until path end)
2026-01-26 14:35:58,306 - DEBUG - integration_test - Syncing planner state at step 201: vehicle_state=[ 4.54161266  2.77223129  1.46637809 -3.14114688  4.96244468]
2026-01-26 14:35:58,307 - DEBUG - integration_test - Step 201: Using propagated spline 4.9624 (close to path, dist=1.071m, drift=0.200m)
2026-01-26 14:35:58,307 - DEBUG - integration_test -   Set spline state to 4.9624
2026-01-26 14:35:58,308 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:58,322 - DEBUG - integration_test - Step 201: Checking path alignment: vehicle=(4.542, 2.772), path_start=(0.000, 0.000), dist=5.321m
2026-01-26 14:35:58,322 - INFO - integration_test - === Calling planner.solve_mpc() at step 201 ===
2026-01-26 14:35:58,325 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:35:58,350 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:35:58,350 - INFO - integration_test - Warmstart k=0: x0=4.541612659873515 , y0=2.7722312943315846 , psi0=1.466378093009789 , v0=-3.1411468817204593 , spline0=4.962444677522871 , a0=0.0 , w0=0.0
2026-01-26 14:35:58,350 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:35:58,351 - INFO - integration_test - Dyn residual k=0: pred=[4.508872929156416, 2.4598274733594434, 1.466378093009789, -3.1411468817204593, 4.648329989350826], ws=[4.541508431284563, 2.7712367409638636, 1.466378093009789, 0.17875, 4.7381315640765145], res=[-0.03263550212814703, -0.3114092676044202, 0.0, -3.3198968817204593, -0.08980157472568884], res_norm=3.336e+00
2026-01-26 14:35:58,352 - INFO - integration_test - Dyn residual k=1: pred=[4.54337151731207, 2.7890143824118767, 1.466378093009789, 0.17875, 4.756006564076515], ws=[4.54337151731207, 2.7890143824118767, 1.466378093009789, 0.34390624999999997, 4.9642052520178215], res=[0.0, 0.0, 0.0, -0.16515624999999998, -0.20819868794130691], res_norm=2.658e-01
2026-01-26 14:35:58,352 - INFO - integration_test - Dyn residual k=2: pred=[4.546956003628979, 2.823217694323657, 1.466378093009789, 0.34390624999999997, 4.998595877017822], ws=[4.546956003628979, 2.823217694323657, 1.466378093009789, 0.48841796875, 5.215067250913023], res=[0.0, 0.0, 0.0, -0.14451171875000002, -0.21647137389520132], res_norm=2.603e-01
2026-01-26 14:35:58,367 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:58,423 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:58,444 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:58,485 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:58,505 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:58,547 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:58,565 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:58,608 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:58,626 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:58,666 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:58,685 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:58,728 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:58,746 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:58,787 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:58,805 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:58,846 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:58,864 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:58,907 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:35:58,926 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:58,967 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:35:58,985 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:35:59,045 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:01,026 - WARNING - integration_test - Step 201: MPC solve failed
2026-01-26 14:36:01,026 - WARNING - integration_test -   Consecutive MPC failures: 31/20
2026-01-26 14:36:01,026 - WARNING - integration_test - Step 201: Checking if vehicle should continue despite 31 consecutive failures...
2026-01-26 14:36:01,026 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 201.
2026-01-26 14:36:01,033 - INFO - integration_test - Step 200: Computed 6 numeric contouring constraints for visualization (s=4.962)
2026-01-26 14:36:01,033 - DEBUG - integration_test - Step 200: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:36:01,033 - INFO - integration_test - === Applying control at step 200 ===
2026-01-26 14:36:01,033 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': 0.8}
2026-01-26 14:36:01,034 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:36:01,034 - INFO - integration_test -   Planner output success: False
2026-01-26 14:36:01,034 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': 0.8}
2026-01-26 14:36:01,035 - INFO - integration_test - Step 200 completed in 2.729s
2026-01-26 14:36:01,096 - INFO - integration_test - Step 201 (contouring until path end)
2026-01-26 14:36:01,103 - DEBUG - integration_test - Syncing planner state at step 201: vehicle_state=[ 4.52088679  2.44886652  1.54637809 -3.34114688  4.62832999]
2026-01-26 14:36:01,104 - DEBUG - integration_test - Step 201: Using propagated spline 4.6283 (close to path, dist=1.306m, drift=0.534m)
2026-01-26 14:36:01,104 - DEBUG - integration_test -   Set spline state to 4.6283
2026-01-26 14:36:01,104 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:01,120 - DEBUG - integration_test - Step 201: Checking path alignment: vehicle=(4.521, 2.449), path_start=(0.000, 0.000), dist=5.142m
2026-01-26 14:36:01,120 - INFO - integration_test - === Calling planner.solve_mpc() at step 201 ===
2026-01-26 14:36:01,123 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:01,147 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:36:01,147 - INFO - integration_test - Warmstart k=0: x0=4.520886785761443 , y0=2.4488665233773177 , psi0=1.546378093009789 , v0=-3.3411468817204595 , spline0=4.628329989350825 , a0=0.0 , w0=0.0
2026-01-26 14:36:01,147 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:36:01,148 - INFO - integration_test - Dyn residual k=0: pred=[4.512729105920642, 2.1148514382210952, 1.546378093009789, -3.3411468817204595, 4.294215301178779], ws=[4.520862369954148, 2.4478668214875756, 1.546378093009789, 0.17875, 4.871820701692336], res=[-0.008133264033506116, -0.3330153832664804, 0.0, -3.5198968817204594, -0.5776054005135567], res_norm=3.582e+00
2026-01-26 14:36:01,149 - INFO - integration_test - Dyn residual k=1: pred=[4.521298802509545, 2.4657364927667174, 1.546378093009789, 0.17875, 4.889695701692336], ws=[4.521298802509545, 2.4657364927667174, 1.546378093009789, 0.34390624999999997, 4.889189704217588], res=[0.0, 0.0, 0.0, -0.16515624999999998, 0.0005059974747476659], res_norm=1.652e-01
2026-01-26 14:36:01,149 - INFO - integration_test - Dyn residual k=2: pred=[4.5221384773822955, 2.500116865568633, 1.546378093009789, 0.34390624999999997, 4.923580329217589], ws=[4.5221384773822955, 2.500116865568633, 1.546378093009789, 0.48841796875, 4.913857278396882], res=[0.0, 0.0, 0.0, -0.14451171875000002, 0.009723050820706902], res_norm=1.448e-01
2026-01-26 14:36:01,165 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:01,214 - INFO - integration_test - Stage 0: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:36:01,233 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:01,273 - INFO - integration_test - Stage 1: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:36:01,292 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:01,334 - INFO - integration_test - Stage 2: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:36:01,352 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:01,393 - INFO - integration_test - Stage 3: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:36:01,413 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:01,455 - INFO - integration_test - Stage 4: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:36:01,474 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:01,517 - INFO - integration_test - Stage 5: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:36:01,535 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:01,575 - INFO - integration_test - Stage 6: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:36:01,594 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:01,633 - INFO - integration_test - Stage 7: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:36:01,652 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:01,693 - INFO - integration_test - Stage 8: constraints count=7 (linearized=0, contouring=6, other=1)
2026-01-26 14:36:01,713 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:01,753 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:01,771 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:01,811 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:03,343 - WARNING - integration_test - Step 201: MPC solve failed
2026-01-26 14:36:03,343 - WARNING - integration_test -   Consecutive MPC failures: 32/20
2026-01-26 14:36:03,343 - WARNING - integration_test - Step 201: Checking if vehicle should continue despite 32 consecutive failures...
2026-01-26 14:36:03,343 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 201.
2026-01-26 14:36:03,351 - INFO - integration_test - Step 200: Computed 6 numeric contouring constraints for visualization (s=4.628)
2026-01-26 14:36:03,351 - DEBUG - integration_test - Step 200: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:36:03,351 - INFO - integration_test - === Applying control at step 200 ===
2026-01-26 14:36:03,351 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': 0.8}
2026-01-26 14:36:03,351 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:36:03,351 - INFO - integration_test -   Planner output success: False
2026-01-26 14:36:03,351 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': 0.8}
2026-01-26 14:36:03,352 - INFO - integration_test - Step 200 completed in 2.249s
2026-01-26 14:36:03,409 - WARNING - integration_test - Test timeout reached (120.0s) at step 201. Terminating test early.
2026-01-26 14:36:03,411 - INFO - integration_test - Saving test results...
2026-01-26 14:36:03,412 - INFO - integration_test - Saved 55 vehicle states to test_outputs/20260126_143402_contouring_gaussian_contouring_contouring_unicycle/vehicle_states.csv
2026-01-26 14:36:03,412 - INFO - integration_test - Saved obstacle summary to test_outputs/20260126_143402_contouring_gaussian_contouring_contouring_unicycle/obstacle_summary.csv
2026-01-26 14:36:03,412 - INFO - integration_test - Saved 65 states for obstacle 0 to test_outputs/20260126_143402_contouring_gaussian_contouring_contouring_unicycle/obstacle_0_detailed_states.csv
2026-01-26 14:36:03,412 - INFO - integration_test - Saved state history: 55 vehicle states, 1 obstacles
2026-01-26 14:36:03,412 - INFO - integration_test - Creating animation...
2026-01-26 14:36:03,453 - DEBUG - integration_test - Creating animation with 55 frames (range: 0 to 54)
2026-01-26 14:36:03,453 - DEBUG - integration_test - Frame 0: Drawing 6 contouring constraint halfspaces
2026-01-26 14:36:03,458 - INFO - integration_test - Frame 0: Found Gaussian module 'gaussian_constraints', calling visualizer
2026-01-26 14:36:03,458 - INFO - integration_test - Frame 0: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:03,458 - INFO - integration_test - Frame 0: Obstacle 0 has Gaussian prediction with major_radius=0.75, minor_radius=0.55, position=[7.04781857 6.12858793]
2026-01-26 14:36:03,458 - INFO - integration_test - Frame 0: Found 1/1 obstacles with Gaussian predictions, calling visualizer
2026-01-26 14:36:03,458 - INFO - integration_test - Frame 0: About to call Gaussian visualizer.visualize()
2026-01-26 14:36:03,458 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:03,458 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:03,460 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.05, 6.13), size=(2.69, 2.20), color=red
2026-01-26 14:36:03,461 - INFO - integration_test - Frame 0: Gaussian visualizer.visualize() completed
2026-01-26 14:36:03,461 - INFO - integration_test - Frame 0: Visualizer added 2 ellipses, 1 markers, and 1 text annotations for Gaussian constraints
2026-01-26 14:36:03,462 - DEBUG - integration_test - Frame 0: Drawing 6 contouring constraint halfspaces
2026-01-26 14:36:03,466 - INFO - integration_test - Frame 0: Found Gaussian module 'gaussian_constraints', calling visualizer
2026-01-26 14:36:03,466 - INFO - integration_test - Frame 0: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:03,466 - INFO - integration_test - Frame 0: Obstacle 0 has Gaussian prediction with major_radius=0.75, minor_radius=0.55, position=[7.04781857 6.12858793]
2026-01-26 14:36:03,466 - INFO - integration_test - Frame 0: Found 1/1 obstacles with Gaussian predictions, calling visualizer
2026-01-26 14:36:03,466 - INFO - integration_test - Frame 0: About to call Gaussian visualizer.visualize()
2026-01-26 14:36:03,466 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:03,466 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:03,467 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.05, 6.13), size=(2.69, 2.20), color=red
2026-01-26 14:36:03,469 - INFO - integration_test - Frame 0: Gaussian visualizer.visualize() completed
2026-01-26 14:36:03,469 - INFO - integration_test - Frame 0: Visualizer added 2 ellipses, 1 markers, and 1 text annotations for Gaussian constraints
2026-01-26 14:36:03,548 - DEBUG - integration_test - Frame 1: Drawing 6 contouring constraint halfspaces
2026-01-26 14:36:03,553 - INFO - integration_test - Frame 1: Found Gaussian module 'gaussian_constraints', calling visualizer
2026-01-26 14:36:03,553 - INFO - integration_test - Frame 1: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:03,553 - INFO - integration_test - Frame 1: Obstacle 0 has Gaussian prediction with major_radius=0.75, minor_radius=0.55, position=[7.09600528 6.16433762]
2026-01-26 14:36:03,553 - INFO - integration_test - Frame 1: Found 1/1 obstacles with Gaussian predictions, calling visualizer
2026-01-26 14:36:03,553 - INFO - integration_test - Frame 1: About to call Gaussian visualizer.visualize()
2026-01-26 14:36:03,553 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:03,553 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:03,555 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.10, 6.16), size=(2.69, 2.20), color=red
2026-01-26 14:36:03,556 - INFO - integration_test - Frame 1: Gaussian visualizer.visualize() completed
2026-01-26 14:36:03,556 - INFO - integration_test - Frame 1: Visualizer added 2 ellipses, 1 markers, and 1 text annotations for Gaussian constraints
2026-01-26 14:36:03,583 - DEBUG - integration_test - Frame 2: Drawing 6 contouring constraint halfspaces
2026-01-26 14:36:03,588 - INFO - integration_test - Frame 2: Found Gaussian module 'gaussian_constraints', calling visualizer
2026-01-26 14:36:03,588 - INFO - integration_test - Frame 2: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:03,589 - INFO - integration_test - Frame 2: Obstacle 0 has Gaussian prediction with major_radius=0.75, minor_radius=0.55, position=[7.14586057 6.19772101]
2026-01-26 14:36:03,589 - INFO - integration_test - Frame 2: Found 1/1 obstacles with Gaussian predictions, calling visualizer
2026-01-26 14:36:03,589 - INFO - integration_test - Frame 2: About to call Gaussian visualizer.visualize()
2026-01-26 14:36:03,589 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:03,589 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:03,590 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.15, 6.20), size=(2.69, 2.20), color=red
2026-01-26 14:36:03,592 - INFO - integration_test - Frame 2: Gaussian visualizer.visualize() completed
2026-01-26 14:36:03,592 - INFO - integration_test - Frame 2: Visualizer added 2 ellipses, 1 markers, and 1 text annotations for Gaussian constraints
2026-01-26 14:36:03,626 - INFO - integration_test - Frame 3: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:03,627 - INFO - integration_test - Frame 3: Obstacle 0 has Gaussian prediction with major_radius=0.75, minor_radius=0.55, position=[7.19505748 6.23206724]
2026-01-26 14:36:03,627 - INFO - integration_test - Frame 3: Found 1/1 obstacles with Gaussian predictions, calling visualizer
2026-01-26 14:36:03,627 - INFO - integration_test - Frame 3: About to call Gaussian visualizer.visualize()
2026-01-26 14:36:03,627 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:03,627 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:03,628 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.20, 6.23), size=(2.69, 2.20), color=red
2026-01-26 14:36:03,630 - INFO - integration_test - Frame 3: Gaussian visualizer.visualize() completed
2026-01-26 14:36:03,630 - INFO - integration_test - Frame 3: Visualizer added 2 ellipses, 1 markers, and 1 text annotations for Gaussian constraints
2026-01-26 14:36:03,662 - INFO - integration_test - Frame 4: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:03,662 - INFO - integration_test - Frame 4: Obstacle 0 has Gaussian prediction with major_radius=0.75, minor_radius=0.55, position=[7.24558384 6.26442596]
2026-01-26 14:36:03,662 - INFO - integration_test - Frame 4: Found 1/1 obstacles with Gaussian predictions, calling visualizer
2026-01-26 14:36:03,662 - INFO - integration_test - Frame 4: About to call Gaussian visualizer.visualize()
2026-01-26 14:36:03,662 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:03,662 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:03,664 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.25, 6.26), size=(2.69, 2.20), color=red
2026-01-26 14:36:03,665 - INFO - integration_test - Frame 4: Gaussian visualizer.visualize() completed
2026-01-26 14:36:03,665 - INFO - integration_test - Frame 4: Visualizer added 2 ellipses, 1 markers, and 1 text annotations for Gaussian constraints
2026-01-26 14:36:03,698 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:03,698 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:03,700 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.30, 6.30), size=(2.69, 2.20), color=red
2026-01-26 14:36:03,734 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:03,734 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:03,736 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.34, 6.33), size=(2.69, 2.20), color=red
2026-01-26 14:36:03,772 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:03,772 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:03,774 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.39, 6.37), size=(2.69, 2.20), color=red
2026-01-26 14:36:03,807 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:03,808 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:03,809 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.44, 6.41), size=(2.69, 2.20), color=red
2026-01-26 14:36:03,844 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:03,844 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:03,845 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.49, 6.44), size=(2.69, 2.20), color=red
2026-01-26 14:36:03,881 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:03,881 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:03,883 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.53, 6.48), size=(2.69, 2.20), color=red
2026-01-26 14:36:03,919 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:03,920 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:03,921 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.58, 6.52), size=(2.69, 2.20), color=red
2026-01-26 14:36:03,955 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:03,955 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:03,957 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.62, 6.56), size=(2.69, 2.20), color=red
2026-01-26 14:36:03,991 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:03,991 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:03,993 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.67, 6.59), size=(2.69, 2.20), color=red
2026-01-26 14:36:04,026 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:04,026 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:04,028 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.72, 6.63), size=(2.69, 2.20), color=red
2026-01-26 14:36:04,063 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:04,063 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:04,065 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.77, 6.66), size=(2.69, 2.20), color=red
2026-01-26 14:36:04,101 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:04,101 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:04,102 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.82, 6.70), size=(2.69, 2.20), color=red
2026-01-26 14:36:04,139 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:04,140 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:04,141 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.87, 6.73), size=(2.69, 2.20), color=red
2026-01-26 14:36:04,176 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:04,176 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:04,178 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.92, 6.76), size=(2.69, 2.20), color=red
2026-01-26 14:36:04,211 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:04,212 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:04,213 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.86, 6.77), size=(2.69, 2.20), color=red
2026-01-26 14:36:04,248 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:04,248 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:04,249 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.80, 6.78), size=(2.69, 2.20), color=red
2026-01-26 14:36:04,284 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:04,284 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:04,286 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.74, 6.78), size=(2.69, 2.20), color=red
2026-01-26 14:36:04,321 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:04,321 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:04,323 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.68, 6.78), size=(2.69, 2.20), color=red
2026-01-26 14:36:04,359 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:04,359 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:04,360 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.62, 6.78), size=(2.69, 2.20), color=red
2026-01-26 14:36:04,394 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:04,394 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:04,396 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.56, 6.78), size=(2.69, 2.20), color=red
2026-01-26 14:36:04,434 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:04,435 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:04,436 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.50, 6.78), size=(2.69, 2.20), color=red
2026-01-26 14:36:04,472 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:04,472 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:04,474 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.44, 6.78), size=(2.69, 2.20), color=red
2026-01-26 14:36:04,510 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:04,510 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:04,511 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.38, 6.77), size=(2.69, 2.20), color=red
2026-01-26 14:36:04,545 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:04,545 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:04,547 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.32, 6.77), size=(2.69, 2.20), color=red
2026-01-26 14:36:04,583 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:04,583 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:04,584 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.26, 6.77), size=(2.69, 2.20), color=red
2026-01-26 14:36:04,619 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:04,619 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:04,620 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.32, 6.76), size=(2.69, 2.20), color=red
2026-01-26 14:36:04,654 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:04,654 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:04,656 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.38, 6.74), size=(2.69, 2.20), color=red
2026-01-26 14:36:04,691 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:04,691 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:04,692 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.44, 6.73), size=(2.69, 2.20), color=red
2026-01-26 14:36:04,728 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:04,728 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:04,730 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.49, 6.72), size=(2.69, 2.20), color=red
2026-01-26 14:36:04,764 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:04,764 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:04,765 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.55, 6.71), size=(2.69, 2.20), color=red
2026-01-26 14:36:04,803 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:04,803 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:04,805 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.61, 6.70), size=(2.69, 2.20), color=red
2026-01-26 14:36:04,839 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:04,839 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:04,841 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.67, 6.68), size=(2.69, 2.20), color=red
2026-01-26 14:36:04,874 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:04,874 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:04,876 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.73, 6.67), size=(2.69, 2.20), color=red
2026-01-26 14:36:04,914 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:04,915 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:04,916 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.79, 6.66), size=(2.69, 2.20), color=red
2026-01-26 14:36:04,950 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:04,950 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:04,952 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.85, 6.65), size=(2.69, 2.20), color=red
2026-01-26 14:36:04,985 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:04,985 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:04,987 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.91, 6.65), size=(2.69, 2.20), color=red
2026-01-26 14:36:05,021 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:05,021 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:05,022 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.97, 6.64), size=(2.69, 2.20), color=red
2026-01-26 14:36:05,056 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:05,056 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:05,058 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.03, 6.63), size=(2.69, 2.20), color=red
2026-01-26 14:36:05,092 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:05,093 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:05,094 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.08, 6.61), size=(2.69, 2.20), color=red
2026-01-26 14:36:05,130 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:05,130 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:05,132 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.14, 6.60), size=(2.69, 2.20), color=red
2026-01-26 14:36:05,167 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:05,167 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:05,169 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.20, 6.58), size=(2.69, 2.20), color=red
2026-01-26 14:36:05,202 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:05,202 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:05,204 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.26, 6.57), size=(2.69, 2.20), color=red
2026-01-26 14:36:05,237 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:05,237 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:05,239 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.21, 6.59), size=(2.69, 2.20), color=red
2026-01-26 14:36:05,273 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:05,273 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:05,275 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.15, 6.62), size=(2.69, 2.20), color=red
2026-01-26 14:36:05,311 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:05,311 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:05,312 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.10, 6.65), size=(2.69, 2.20), color=red
2026-01-26 14:36:05,346 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:05,346 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:05,347 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.04, 6.67), size=(2.69, 2.20), color=red
2026-01-26 14:36:05,383 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:05,383 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:05,385 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.99, 6.69), size=(2.69, 2.20), color=red
2026-01-26 14:36:05,423 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:05,423 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:05,424 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.93, 6.71), size=(2.69, 2.20), color=red
2026-01-26 14:36:05,462 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:05,462 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:05,464 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.88, 6.74), size=(2.69, 2.20), color=red
2026-01-26 14:36:05,496 - INFO - integration_test - Gaussian visualizer called: 1 obstacles, stage_idx=0
2026-01-26 14:36:05,496 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 14:36:05,498 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.88, 6.74), size=(2.69, 2.20), color=red
2026-01-26 14:36:08,524 - INFO - integration_test - Saved animation with 55 frames at 10.00 fps to test_outputs/20260126_143402_contouring_gaussian_contouring_contouring_unicycle/animation.gif (duration: 5.50s, size: 739244 bytes)
2026-01-26 14:36:08,556 - INFO - integration_test - Animation created successfully
2026-01-26 14:36:08,557 - WARNING - integration_test - Test exited early due to solver failures, but files were saved
2026-01-26 14:36:08,558 - INFO - integration_test - Starting integration test: gaussian_multi_obstacle
2026-01-26 14:36:08,558 - INFO - integration_test - Output folder: test_outputs/20260126_143608_contouring_gaussian_contouring_contouring_unicycle
