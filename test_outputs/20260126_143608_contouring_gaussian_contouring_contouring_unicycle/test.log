2026-01-26 14:36:08,559 - INFO - integration_test - Contouring objective detected: automatically switching to contouring-aware dynamics model
2026-01-26 14:36:08,559 - WARNING - integration_test -   Vehicle dynamics 'contouring_unicycle' is not automatically converted. Ensure it supports contouring (has 'spline' state variable)
2026-01-26 14:36:08,559 - INFO - integration_test - Created vehicle dynamics model: ContouringSecondOrderUnicycleModel
2026-01-26 14:36:08,559 - INFO - integration_test - ✓ Validation passed: Contouring objective with dynamics model that has 'spline' state
2026-01-26 14:36:08,559 - INFO - integration_test - Creating objective module: contouring
2026-01-26 14:36:08,565 - INFO - integration_test - Objective module 'contouring' created: contouring_objective
2026-01-26 14:36:08,565 - INFO - integration_test - Creating 2 constraint module(s): ['gaussian', 'contouring']
2026-01-26 14:36:08,565 - DEBUG - integration_test - Creating constraint module: gaussian
2026-01-26 14:36:08,571 - INFO - integration_test - Constraint module 'gaussian' created: gaussian_constraints
2026-01-26 14:36:08,571 - DEBUG - integration_test - Creating constraint module: contouring
2026-01-26 14:36:08,576 - INFO - integration_test - Constraint module 'contouring' created: contouring_constraints
2026-01-26 14:36:08,576 - INFO - integration_test - Created 2 constraint module(s)
2026-01-26 14:36:08,593 - INFO - integration_test - Setting solver on all modules...
2026-01-26 14:36:08,593 - DEBUG - integration_test -   Set solver on module: gaussian_constraints
2026-01-26 14:36:08,593 - DEBUG - integration_test -   Set solver on module: contouring_constraints
2026-01-26 14:36:08,593 - DEBUG - integration_test -   Set solver on module: control_effort_objective
2026-01-26 14:36:08,593 - DEBUG - integration_test -   Set solver on module: control_jerk_objective
2026-01-26 14:36:08,593 - DEBUG - integration_test -   Set solver on module: path_reference_velocity_objective
2026-01-26 14:36:08,593 - DEBUG - integration_test -   Set solver on module: contouring_objective
2026-01-26 14:36:08,594 - INFO - integration_test - Placing obstacles within reference path boundaries
2026-01-26 14:36:08,594 - INFO - integration_test - Obstacle 0: s=6.92, pos=(6.39, 3.35), lateral_offset=0.00m, vel=(0.55, 0.23)
2026-01-26 14:36:08,594 - INFO - integration_test - Obstacle 1: s=14.70, pos=(13.74, 5.18), lateral_offset=0.00m, vel=(-0.80, -0.09)
2026-01-26 14:36:08,595 - WARNING - integration_test - Error shaping obstacles: name 'get_dummy_obstacle' is not defined
2026-01-26 14:36:08,595 - WARNING - integration_test - Error in on_data_received: 'Planner' object has no attribute 'on_data_received'
2026-01-26 14:36:08,595 - INFO - integration_test - Initial vehicle state (before spline): [0. 0. 0. 1.]
2026-01-26 14:36:08,596 - INFO - integration_test - Vehicle starting position: (0.00, 0.00)
2026-01-26 14:36:08,596 - INFO - integration_test - Reference path start: (0.00, 0.00)
2026-01-26 14:36:08,596 - INFO - integration_test - Reference path starts at vehicle position (requirement satisfied)
2026-01-26 14:36:08,596 - INFO - integration_test - Contouring-aware dynamics detected: initializing spline variable
2026-01-26 14:36:08,596 - INFO - integration_test - Initialized spline to closest path point: s=0.0000 (vehicle at (0.00, 0.00), closest path point at (0.00, 0.00), distance=0.000m)
2026-01-26 14:36:08,596 - INFO - integration_test - Added spline variable: 0.0000
2026-01-26 14:36:08,596 - INFO - integration_test - Final initial state: [0. 0. 0. 1. 0.] (variables: ['x', 'y', 'psi', 'v', 'spline'])
2026-01-26 14:36:08,596 - INFO - integration_test - Step 0 (contouring until path end)
2026-01-26 14:36:08,596 - DEBUG - integration_test - Syncing planner state at step 0: vehicle_state=[0. 0. 0. 1. 0.]
2026-01-26 14:36:08,597 - DEBUG - integration_test - Step 0: Using propagated spline 0.0000 (close to path, dist=0.000m, drift=0.000m)
2026-01-26 14:36:08,597 - DEBUG - integration_test -   Set spline state to 0.0000
2026-01-26 14:36:08,598 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:08,614 - DEBUG - integration_test - Step 0: Checking path alignment: vehicle=(0.000, 0.000), path_start=(0.000, 0.000), dist=0.000m
2026-01-26 14:36:08,614 - INFO - integration_test - === Calling planner.solve_mpc() at step 0 ===
2026-01-26 14:36:08,618 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:08,643 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:36:08,643 - INFO - integration_test - Warmstart k=0: x0=0.0 , y0=0.0 , psi0=0.0 , v0=1.0 , spline0=0.0 , a0=0.0 , w0=0.0
2026-01-26 14:36:08,643 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:36:08,644 - INFO - integration_test - Dyn residual k=0: pred=[0.1, 0.0, 0.0, 1.0, 0.1], ws=[0.1, 0.0, 0.0, 1.0, 0.051515151515151514], res=[0.0, 0.0, 0.0, 0.0, 0.04848484848484849], res_norm=4.848e-02
2026-01-26 14:36:08,645 - INFO - integration_test - Dyn residual k=1: pred=[0.2, 0.0, 0.0, 1.0, 0.15151515151515152], ws=[0.2, 0.0, 0.0, 1.0, 0.05252525252525253], res=[0.0, 0.0, 0.0, 0.0, 0.09898989898989899], res_norm=9.899e-02
2026-01-26 14:36:08,646 - INFO - integration_test - Dyn residual k=2: pred=[0.30000000000000004, 0.0, 0.0, 1.0, 0.15252525252525254], ws=[0.30000000000000004, 0.0, 0.0, 1.0, 0.10707070707070707], res=[0.0, 0.0, 0.0, 0.0, 0.04545454545454547], res_norm=4.545e-02
2026-01-26 14:36:08,660 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:08,715 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:08,735 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:08,778 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:08,798 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:08,841 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:08,860 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:08,905 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:08,924 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:08,966 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:08,985 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:09,027 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:09,046 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:09,086 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:09,107 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:09,149 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:09,168 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:09,210 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:09,228 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:09,272 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:09,297 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:09,360 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:10,178 - INFO - integration_test - Step 0: MPC solve successful
2026-01-26 14:36:10,191 - INFO - integration_test - Step 0: Computed 6 numeric contouring constraints for visualization (s=0.000)
2026-01-26 14:36:10,191 - DEBUG - integration_test - Step 0: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:36:10,191 - DEBUG - integration_test - Linearized constraints module not found at step 0
2026-01-26 14:36:10,191 - INFO - integration_test - === Applying control at step 0 ===
2026-01-26 14:36:10,191 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000196506957, 'w': 0.8000000028210218}
2026-01-26 14:36:10,191 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:36:10,191 - INFO - integration_test -   Planner output success: True
2026-01-26 14:36:10,193 - INFO - integration_test - Step 0 completed in 1.596s
2026-01-26 14:36:10,264 - INFO - integration_test - Step 1 (contouring until path end)
2026-01-26 14:36:10,273 - DEBUG - integration_test - Syncing planner state at step 1: vehicle_state=[0.10987738 0.00453085 0.08       1.2        0.12      ]
2026-01-26 14:36:10,273 - DEBUG - integration_test - Step 1: Using propagated spline 0.1200 (close to path, dist=0.110m, drift=0.120m)
2026-01-26 14:36:10,273 - DEBUG - integration_test -   Set spline state to 0.1200
2026-01-26 14:36:10,274 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:10,294 - DEBUG - integration_test - Step 1: Checking path alignment: vehicle=(0.110, 0.005), path_start=(0.000, 0.000), dist=0.110m
2026-01-26 14:36:10,294 - INFO - integration_test - === Calling planner.solve_mpc() at step 1 ===
2026-01-26 14:36:10,299 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:10,337 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:36:10,337 - INFO - integration_test - Warmstart k=0: x0=0.10987737537842258 , y0=0.004530845074266124 , psi0=0.08000000028210218 , v0=1.2000000019650696 , spline0=0.12000000019650697 , a0=0.0 , w0=0.0
2026-01-26 14:36:10,337 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:36:10,338 - INFO - integration_test - Dyn residual k=0: pred=[0.2294935803279101, 0.014120608400014632, 0.08000000028210218, 1.2000000019650696, 0.24000000039301395], ws=[0.2294935803279101, 0.014120608400014632, 0.08000000028210197, 1.2000000019650696, 0.05292929293326277], res=[0.0, 0.0, 2.0816681711721685e-16, 0.0, 0.18707070745975118], res_norm=1.871e-01
2026-01-26 14:36:10,339 - INFO - integration_test - Dyn residual k=1: pred=[0.3491097852773976, 0.023710371725763117, 0.08000000028210197, 1.2000000019650696, 0.17292929312976973], ws=[0.3491097852773976, 0.023710371725763117, 0.08000000028210197, 1.2000000019650696, 0.10828282829473779], res=[0.0, 0.0, 0.0, 0.0, 0.06464646483503195], res_norm=6.465e-02
2026-01-26 14:36:10,340 - INFO - integration_test - Dyn residual k=2: pred=[0.4687259902268851, 0.0333001350515116, 0.08000000028210197, 1.2000000019650696, 0.22828282849124476], ws=[0.4687259902268851, 0.0333001350515116, 0.08000000028210197, 1.2000000019650696, 0.16606060608442508], res=[0.0, 0.0, 0.0, 0.0, 0.06222222240681968], res_norm=6.222e-02
2026-01-26 14:36:10,357 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:10,408 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:10,430 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:10,474 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:10,494 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:10,540 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:10,572 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:10,642 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:10,665 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:10,710 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:10,730 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:10,773 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:10,792 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:10,840 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:10,862 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:10,910 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:10,931 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:10,978 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:10,999 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:11,041 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:11,060 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:11,109 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:11,689 - INFO - integration_test - Step 1: MPC solve successful
2026-01-26 14:36:11,700 - INFO - integration_test - Step 1: Computed 6 numeric contouring constraints for visualization (s=0.120)
2026-01-26 14:36:11,700 - DEBUG - integration_test - Step 1: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:36:11,700 - INFO - integration_test - === Applying control at step 1 ===
2026-01-26 14:36:11,700 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000195201135, 'w': 0.7999999981491783}
2026-01-26 14:36:11,700 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:36:11,700 - INFO - integration_test -   Planner output success: True
2026-01-26 14:36:11,702 - INFO - integration_test - Step 1 completed in 1.429s
2026-01-26 14:36:11,755 - INFO - integration_test - Step 2 (contouring until path end)
2026-01-26 14:36:11,759 - DEBUG - integration_test - Syncing planner state at step 2: vehicle_state=[0.23889213 0.02022162 0.16       1.4        0.26      ]
2026-01-26 14:36:11,759 - DEBUG - integration_test - Step 2: Using propagated spline 0.2600 (close to path, dist=0.240m, drift=0.260m)
2026-01-26 14:36:11,759 - DEBUG - integration_test -   Set spline state to 0.2600
2026-01-26 14:36:11,760 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:11,779 - DEBUG - integration_test - Step 2: Checking path alignment: vehicle=(0.239, 0.020), path_start=(0.000, 0.000), dist=0.240m
2026-01-26 14:36:11,779 - INFO - integration_test - === Calling planner.solve_mpc() at step 2 ===
2026-01-26 14:36:11,782 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:11,806 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:36:11,806 - INFO - integration_test - Warmstart k=0: x0=0.2388921281795553 , y0=0.020221621800348206 , psi0=0.16000000009702003 , v0=1.400000003917081 , spline0=0.26000000058821504 , a0=0.0 , w0=0.0
2026-01-26 14:36:11,806 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:36:11,808 - INFO - integration_test - Dyn residual k=0: pred=[0.37710394823668403, 0.04252617080215819, 0.16000000009702003, 1.400000003917081, 0.40000000097992316], ws=[0.37710394823668403, 0.04252617080215819, 0.16000000009701987, 1.400000003917081, 0.10909090911070551], res=[0.0, 0.0, 1.6653345369377348e-16, 0.0, 0.29090909186921765], res_norm=2.909e-01
2026-01-26 14:36:11,809 - INFO - integration_test - Dyn residual k=1: pred=[0.5153157682938128, 0.06483071980396815, 0.16000000009701987, 1.400000003917081, 0.2490909095024136], ws=[0.5153157682938128, 0.06483071980396815, 0.16000000009701987, 1.400000003917081, 0.16787878792035243], res=[0.0, 0.0, 0.0, 0.0, 0.08121212158206118], res_norm=8.121e-02
2026-01-26 14:36:11,810 - INFO - integration_test - Dyn residual k=2: pred=[0.6535275883509415, 0.08713526880577811, 0.16000000009701987, 1.400000003917081, 0.3078787883120605], ws=[0.6535275883509415, 0.08713526880577811, 0.16000000009701987, 1.400000003917081, 0.22949494956619554], res=[0.0, 0.0, 0.0, 0.0, 0.07838383874586496], res_norm=7.838e-02
2026-01-26 14:36:11,825 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:11,877 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:11,897 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:11,947 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:11,968 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:12,013 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:12,032 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:12,073 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:12,092 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:12,138 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:12,158 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:12,201 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:12,221 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:12,262 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:12,281 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:12,324 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:12,344 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:12,386 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:12,406 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:12,451 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:12,470 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:12,514 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:13,103 - INFO - integration_test - Step 2: MPC solve successful
2026-01-26 14:36:13,113 - INFO - integration_test - Step 2: Computed 6 numeric contouring constraints for visualization (s=0.260)
2026-01-26 14:36:13,114 - DEBUG - integration_test - Step 2: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:36:13,114 - INFO - integration_test - === Applying control at step 2 ===
2026-01-26 14:36:13,114 - INFO - integration_test -   Control dict from planner: {'a': 2.000000019400162, 'w': 0.7999999896901442}
2026-01-26 14:36:13,114 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:36:13,114 - INFO - integration_test -   Planner output success: True
2026-01-26 14:36:13,115 - INFO - integration_test - Step 2 completed in 1.356s
2026-01-26 14:36:13,170 - INFO - integration_test - Step 3 (contouring until path end)
2026-01-26 14:36:13,175 - DEBUG - integration_test - Syncing planner state at step 3: vehicle_state=[0.38583644 0.05014472 0.24       1.60000001 0.42      ]
2026-01-26 14:36:13,176 - DEBUG - integration_test - Step 3: Using propagated spline 0.4200 (close to path, dist=0.389m, drift=0.420m)
2026-01-26 14:36:13,176 - DEBUG - integration_test -   Set spline state to 0.4200
2026-01-26 14:36:13,177 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:13,192 - DEBUG - integration_test - Step 3: Checking path alignment: vehicle=(0.386, 0.050), path_start=(0.000, 0.000), dist=0.389m
2026-01-26 14:36:13,192 - INFO - integration_test - === Calling planner.solve_mpc() at step 3 ===
2026-01-26 14:36:13,195 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:13,218 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:36:13,218 - INFO - integration_test - Warmstart k=0: x0=0.38583643573095416 , y0=0.05014471644093967 , psi0=0.23999999906603445 , v0=1.6000000058570971 , spline0=0.4200000011739248 , a0=0.0 , w0=0.0
2026-01-26 14:36:13,218 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:36:13,219 - INFO - integration_test - Dyn residual k=0: pred=[0.5412505123117219, 0.08817713666335454, 0.23999999906603445, 1.6000000058570971, 0.5800000017596345], ws=[0.5412505123117219, 0.08817713666335456, 0.23999999906603442, 1.6000000058570971, 0.4509090910512836], res=[0.0, -1.3877787807814457e-17, 2.7755575615628914e-17, 0.0, 0.12909091070835094], res_norm=1.291e-01
2026-01-26 14:36:13,220 - INFO - integration_test - Dyn residual k=1: pred=[0.6966645888924897, 0.12620955688576943, 0.23999999906603442, 1.6000000058570971, 0.6109090916369933], ws=[0.6966645888924897, 0.12620955688576943, 0.23999999906603442, 1.6000000058570971, 0.2319191920139533], res=[0.0, 0.0, 0.0, 0.0, 0.37898989962303997], res_norm=3.790e-01
2026-01-26 14:36:13,220 - INFO - integration_test - Dyn residual k=2: pred=[0.8520786654732575, 0.1642419771081843, 0.23999999906603442, 1.6000000058570971, 0.391919192599663], ws=[0.8520786654732575, 0.1642419771081843, 0.23999999906603442, 1.6000000058570971, 0.7747474751323606], res=[0.0, 0.0, 0.0, 0.0, -0.38282828253269763], res_norm=3.828e-01
2026-01-26 14:36:13,235 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:13,286 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:13,308 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:13,351 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:13,370 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:13,414 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:13,436 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:13,482 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:13,502 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:13,545 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:13,566 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:13,610 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:13,630 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:13,674 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:13,695 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:13,747 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:13,769 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:13,813 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:13,832 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:13,873 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:13,893 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:13,937 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:14,559 - INFO - integration_test - Step 3: MPC solve successful
2026-01-26 14:36:14,569 - INFO - integration_test - Step 3: Computed 6 numeric contouring constraints for visualization (s=0.420)
2026-01-26 14:36:14,569 - DEBUG - integration_test - Step 3: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:36:14,569 - INFO - integration_test - === Applying control at step 3 ===
2026-01-26 14:36:14,569 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000199031183, 'w': 0.8000000055598582}
2026-01-26 14:36:14,569 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:36:14,569 - INFO - integration_test -   Planner output success: True
2026-01-26 14:36:14,570 - INFO - integration_test - Step 3 completed in 1.396s
2026-01-26 14:36:14,621 - INFO - integration_test - Step 4 (contouring until path end)
2026-01-26 14:36:14,623 - DEBUG - integration_test - Syncing planner state at step 4: vehicle_state=[0.54913546 0.09724076 0.32       1.80000001 0.6       ]
2026-01-26 14:36:14,624 - DEBUG - integration_test - Step 4: Using propagated spline 0.6000 (close to path, dist=0.443m, drift=0.247m)
2026-01-26 14:36:14,624 - DEBUG - integration_test -   Set spline state to 0.6000
2026-01-26 14:36:14,625 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:14,638 - DEBUG - integration_test - Step 4: Checking path alignment: vehicle=(0.549, 0.097), path_start=(0.000, 0.000), dist=0.558m
2026-01-26 14:36:14,638 - INFO - integration_test - === Calling planner.solve_mpc() at step 4 ===
2026-01-26 14:36:14,641 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:14,666 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:36:14,666 - INFO - integration_test - Warmstart k=0: x0=0.5491354612993986 , y0=0.09724075688559933 , psi0=0.31999999962202025 , v0=1.800000007847409 , spline0=0.6000000019586657 , a0=0.0 , w0=0.0
2026-01-26 14:36:14,666 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:36:14,667 - INFO - integration_test - Dyn residual k=0: pred=[0.7199978373205438, 0.15386273797877126, 0.31999999962202025, 1.800000007847409, 0.7800000027434065], ws=[0.7199978373205438, 0.15386273797877126, 0.3199999996220204, 1.800000007847409, 0.525454545703946], res=[0.0, 0.0, -1.6653345369377348e-16, 0.0, 0.2545454570394605], res_norm=2.545e-01
2026-01-26 14:36:14,668 - INFO - integration_test - Dyn residual k=1: pred=[0.890860213341689, 0.21048471907194322, 0.3199999996220204, 1.800000007847409, 0.7054545464886869], ws=[0.890860213341689, 0.21048471907194322, 0.3199999996220204, 1.800000007847409, 0.7826262630895547], res=[0.0, 0.0, 0.0, 0.0, -0.07717171660086786], res_norm=7.717e-02
2026-01-26 14:36:14,669 - INFO - integration_test - Dyn residual k=2: pred=[1.0617225893628341, 0.2671067001651152, 0.3199999996220204, 1.800000007847409, 0.9626262638742956], ws=[1.0617225893628341, 0.2671067001651152, 0.3199999996220204, 1.800000007847409, 0.8682828288927317], res=[0.0, 0.0, 0.0, 0.0, 0.09434343498156395], res_norm=9.434e-02
2026-01-26 14:36:14,684 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:14,738 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:14,759 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:14,804 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:14,826 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:14,874 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:14,895 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:14,946 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:14,967 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:15,013 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:15,033 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:15,078 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:15,100 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:15,153 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:15,176 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:15,224 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:15,246 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:15,292 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:15,312 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:15,359 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:15,379 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:15,425 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:16,076 - INFO - integration_test - Step 4: MPC solve successful
2026-01-26 14:36:16,088 - INFO - integration_test - Step 4: Computed 6 numeric contouring constraints for visualization (s=0.600)
2026-01-26 14:36:16,088 - DEBUG - integration_test - Step 4: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:36:16,088 - INFO - integration_test - === Applying control at step 4 ===
2026-01-26 14:36:16,088 - INFO - integration_test -   Control dict from planner: {'a': 2.000000019938142, 'w': 0.8000000047395514}
2026-01-26 14:36:16,089 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:36:16,089 - INFO - integration_test -   Planner output success: True
2026-01-26 14:36:16,090 - INFO - integration_test - Step 4 completed in 1.467s
2026-01-26 14:36:16,164 - INFO - integration_test - Step 5 (contouring until path end)
2026-01-26 14:36:16,172 - DEBUG - integration_test - Syncing planner state at step 5: vehicle_state=[0.72686149 0.16427977 0.4        2.00000001 0.8       ]
2026-01-26 14:36:16,173 - DEBUG - integration_test - Step 5: Using propagated spline 0.8000 (close to path, dist=0.308m, drift=0.447m)
2026-01-26 14:36:16,173 - DEBUG - integration_test -   Set spline state to 0.8000
2026-01-26 14:36:16,174 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:16,196 - DEBUG - integration_test - Step 5: Checking path alignment: vehicle=(0.727, 0.164), path_start=(0.000, 0.000), dist=0.745m
2026-01-26 14:36:16,196 - INFO - integration_test - === Calling planner.solve_mpc() at step 5 ===
2026-01-26 14:36:16,200 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:16,237 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:36:16,238 - INFO - integration_test - Warmstart k=0: x0=0.7268614888101672 , y0=0.16427976828407317 , psi0=0.40000000009597536 , v0=2.000000009841223 , spline0=0.800000002942788 , a0=0.0 , w0=0.0
2026-01-26 14:36:16,238 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:36:16,239 - INFO - integration_test - Dyn residual k=0: pred=[0.9110736885097059, 0.2421634371467184, 0.40000000009597536, 2.000000009841223, 1.0000000039269104], ws=[0.9110736885097059, 0.2421634371467184, 0.40000000009597514, 2.000000009841223, 0.36363636387435816], res=[0.0, 0.0, 2.220446049250313e-16, 0.0, 0.6363636400525522], res_norm=6.364e-01
2026-01-26 14:36:16,241 - INFO - integration_test - Dyn residual k=1: pred=[1.0952858882092447, 0.3200471060093636, 0.40000000009597514, 2.000000009841223, 0.5636363648584805], ws=[1.0952858882092447, 0.3200471060093636, 0.40000000009597514, 2.000000009841223, 0.8767676774621662], res=[0.0, 0.0, 0.0, 0.0, -0.31313131260368576], res_norm=3.131e-01
2026-01-26 14:36:16,242 - INFO - integration_test - Dyn residual k=2: pred=[1.2794980879087834, 0.3979307748720088, 0.40000000009597514, 2.000000009841223, 1.0767676784462885], ws=[1.2794980879087834, 0.3979307748720088, 0.40000000009597514, 2.000000009841223, 0.969696970590175], res=[0.0, 0.0, 0.0, 0.0, 0.1070707078561135], res_norm=1.071e-01
2026-01-26 14:36:16,264 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:16,343 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:16,372 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:16,438 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:16,468 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:16,532 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:16,559 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:16,626 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:16,659 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:16,719 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:16,741 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:16,786 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:16,806 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:16,848 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:16,869 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:16,912 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:16,932 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:16,979 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:16,999 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:17,044 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:17,066 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:17,114 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:17,898 - INFO - integration_test - Step 5: MPC solve successful
2026-01-26 14:36:17,910 - INFO - integration_test - Step 5: Computed 6 numeric contouring constraints for visualization (s=0.800)
2026-01-26 14:36:17,910 - DEBUG - integration_test - Step 5: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:36:17,910 - INFO - integration_test - === Applying control at step 5 ===
2026-01-26 14:36:17,910 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000199989043, 'w': 0.8000000098815381}
2026-01-26 14:36:17,910 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:36:17,910 - INFO - integration_test -   Planner output success: True
2026-01-26 14:36:17,911 - INFO - integration_test - Step 5 completed in 1.740s
2026-01-26 14:36:17,971 - INFO - integration_test - Step 6 (contouring until path end)
2026-01-26 14:36:17,975 - DEBUG - integration_test - Syncing planner state at step 6: vehicle_state=[0.9167519  0.25382381 0.48       2.20000001 1.02      ]
2026-01-26 14:36:17,975 - DEBUG - integration_test - Step 6: Using propagated spline 1.0200 (close to path, dist=0.243m, drift=0.667m)
2026-01-26 14:36:17,975 - DEBUG - integration_test -   Set spline state to 1.0200
2026-01-26 14:36:17,976 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:17,990 - DEBUG - integration_test - Step 6: Checking path alignment: vehicle=(0.917, 0.254), path_start=(0.000, 0.000), dist=0.951m
2026-01-26 14:36:17,990 - INFO - integration_test - === Calling planner.solve_mpc() at step 6 ===
2026-01-26 14:36:17,993 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:18,017 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:36:18,017 - INFO - integration_test - Warmstart k=0: x0=0.9167519028882046 , y0=0.2538238084825852 , psi0=0.48000000108412916 , v0=2.200000011841113 , spline0=1.0200000041268993 , a0=0.0 , w0=0.0
2026-01-26 14:36:18,017 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:36:18,018 - INFO - integration_test - Dyn residual k=0: pred=[1.1118907868398096, 0.3554152278600651, 0.48000000108412916, 2.200000011841113, 1.2400000053110105], ws=[1.1118907868398096, 0.35541522786006513, 0.4800000010841292, 2.200000011841113, 0.6933333339234456], res=[0.0, -5.551115123125783e-17, -5.551115123125783e-17, 0.0, 0.5466666713875649], res_norm=5.467e-01
2026-01-26 14:36:18,019 - INFO - integration_test - Dyn residual k=1: pred=[1.3070296707914146, 0.4570066472375451, 0.4800000010841292, 2.200000011841113, 0.913333335107557], ws=[1.3070296707914146, 0.4570066472375451, 0.4800000010841292, 2.200000011841113, 1.2397979810445183], res=[0.0, 0.0, 0.0, 0.0, -0.32646464593696134], res_norm=3.265e-01
2026-01-26 14:36:18,020 - INFO - integration_test - Dyn residual k=2: pred=[1.5021685547430197, 0.558598066615025, 0.4800000010841292, 2.200000011841113, 1.4597979822286296], ws=[1.5021685547430197, 0.558598066615025, 0.4800000010841292, 2.200000011841113, 1.0795959608370478], res=[0.0, 0.0, 0.0, 0.0, 0.38020202139158177], res_norm=3.802e-01
2026-01-26 14:36:18,034 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:18,154 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:18,177 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:18,222 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:18,244 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:18,290 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:18,310 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:18,356 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:18,379 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:18,427 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:18,450 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:18,496 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:18,516 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:18,563 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:18,583 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:18,625 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:18,645 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:18,691 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:18,712 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:18,759 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:18,781 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:18,828 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:19,618 - INFO - integration_test - Step 6: MPC solve successful
2026-01-26 14:36:19,629 - INFO - integration_test - Step 6: Computed 6 numeric contouring constraints for visualization (s=1.020)
2026-01-26 14:36:19,629 - DEBUG - integration_test - Step 6: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:36:19,629 - INFO - integration_test - === Applying control at step 6 ===
2026-01-26 14:36:19,630 - INFO - integration_test -   Control dict from planner: {'a': 2.000000019947413, 'w': 0.7999999861496889}
2026-01-26 14:36:19,630 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:36:19,630 - INFO - integration_test -   Planner output success: True
2026-01-26 14:36:19,631 - INFO - integration_test - Step 6 completed in 1.656s
2026-01-26 14:36:19,684 - INFO - integration_test - Step 7 (contouring until path end)
2026-01-26 14:36:19,686 - DEBUG - integration_test - Syncing planner state at step 7: vehicle_state=[1.11623086 0.36819145 0.56       2.40000001 1.26000001]
2026-01-26 14:36:19,686 - DEBUG - integration_test - Step 7: Using propagated spline 1.2600 (close to path, dist=0.256m, drift=0.554m)
2026-01-26 14:36:19,686 - DEBUG - integration_test -   Set spline state to 1.2600
2026-01-26 14:36:19,687 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:19,701 - DEBUG - integration_test - Step 7: Checking path alignment: vehicle=(1.116, 0.368), path_start=(0.000, 0.000), dist=1.175m
2026-01-26 14:36:19,701 - INFO - integration_test - === Calling planner.solve_mpc() at step 7 ===
2026-01-26 14:36:19,703 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:19,728 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:36:19,728 - INFO - integration_test - Warmstart k=0: x0=1.1162308631192792 , y0=0.3681914480213889 , psi0=0.5599999996990981 , v0=2.4000000138358546 , spline0=1.2600000055104847 , a0=0.0 , w0=0.0
2026-01-26 14:36:19,728 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:36:19,729 - INFO - integration_test - Dyn residual k=0: pred=[1.3195720909731092, 0.4956761361961567, 0.5599999996990981, 2.4000000138358546, 1.5000000068940702], ws=[1.3195720909731095, 0.4956761361961567, 0.5599999996990981, 2.4000000138358546, 1.2474747487978517], res=[-2.220446049250313e-16, 0.0, 0.0, 0.0, 0.2525252580962185], res_norm=2.525e-01
2026-01-26 14:36:19,730 - INFO - integration_test - Dyn residual k=1: pred=[1.5229133188269395, 0.6231608243709245, 0.5599999996990981, 2.4000000138358546, 1.4874747501814372], ws=[1.5229133188269395, 0.6231608243709245, 0.5599999996990981, 2.4000000138358546, 1.5658585877816777], res=[0.0, 0.0, 0.0, 0.0, -0.07838383760024059], res_norm=7.838e-02
2026-01-26 14:36:19,731 - INFO - integration_test - Dyn residual k=2: pred=[1.7262545466807695, 0.7506455125456922, 0.5599999996990981, 2.4000000138358546, 1.8058585891652632], ws=[1.7262545466807695, 0.7506455125456922, 0.5599999996990981, 2.4000000138358546, 1.410101012052776], res=[0.0, 0.0, 0.0, 0.0, 0.39575757711248727], res_norm=3.958e-01
2026-01-26 14:36:19,746 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:19,803 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:19,824 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:19,873 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:19,897 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:19,942 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:19,963 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:20,010 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:20,031 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:20,094 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:20,126 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:20,189 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:20,212 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:20,260 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:20,281 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:20,328 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:20,348 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:20,390 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:20,409 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:20,450 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:20,470 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:20,517 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:21,310 - INFO - integration_test - Step 7: MPC solve successful
2026-01-26 14:36:21,322 - INFO - integration_test - Step 7: Computed 6 numeric contouring constraints for visualization (s=1.260)
2026-01-26 14:36:21,322 - DEBUG - integration_test - Step 7: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:36:21,322 - INFO - integration_test - === Applying control at step 7 ===
2026-01-26 14:36:21,322 - INFO - integration_test -   Control dict from planner: {'a': 2.000000019986666, 'w': 0.21035304633035684}
2026-01-26 14:36:21,322 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:36:21,323 - INFO - integration_test -   Planner output success: True
2026-01-26 14:36:21,324 - INFO - integration_test - Step 7 completed in 1.638s
2026-01-26 14:36:21,396 - INFO - integration_test - Step 8 (contouring until path end)
2026-01-26 14:36:21,401 - DEBUG - integration_test - Syncing planner state at step 8: vehicle_state=[1.32661343 0.50323541 0.5810353  2.60000002 1.52000001]
2026-01-26 14:36:21,402 - DEBUG - integration_test - Step 8: Using propagated spline 1.5200 (close to path, dist=0.267m, drift=0.461m)
2026-01-26 14:36:21,402 - DEBUG - integration_test -   Set spline state to 1.5200
2026-01-26 14:36:21,403 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:21,419 - DEBUG - integration_test - Step 8: Checking path alignment: vehicle=(1.327, 0.503), path_start=(0.000, 0.000), dist=1.419m
2026-01-26 14:36:21,419 - INFO - integration_test - === Calling planner.solve_mpc() at step 8 ===
2026-01-26 14:36:21,423 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:21,451 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:36:21,451 - INFO - integration_test - Warmstart k=0: x0=1.3266134315818463 , y0=0.5032354123293553 , psi0=0.5810353043321338 , v0=2.6000000158345213 , spline0=1.520000007093937 , a0=0.0 , w0=0.0
2026-01-26 14:36:21,451 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:36:21,452 - INFO - integration_test - Dyn residual k=0: pred=[1.5439460887515561, 0.6459467186472097, 0.5810353043321338, 2.6000000158345213, 1.7800000086773893], ws=[1.5439460887515564, 0.6459467186472097, 0.5810353043321337, 2.6000000158345213, 1.5751515171674744], res=[-2.220446049250313e-16, 0.0, 1.1102230246251565e-16, 0.0, 0.2048484915099149], res_norm=2.048e-01
2026-01-26 14:36:21,453 - INFO - integration_test - Dyn residual k=1: pred=[1.7612787459212664, 0.7886580249650639, 0.5810353043321337, 2.6000000158345213, 1.8351515187509264], ws=[1.7612787459212664, 0.7886580249650639, 0.5810353043321337, 2.6000000158345213, 1.9200000027984114], res=[0.0, 0.0, 0.0, 0.0, -0.08484848404748502], res_norm=8.485e-02
2026-01-26 14:36:21,454 - INFO - integration_test - Dyn residual k=2: pred=[1.9786114030909765, 0.9313693312829181, 0.5810353043321337, 2.6000000158345213, 2.1800000043818635], ws=[1.9786114030909765, 0.9313693312829181, 0.5810353043321337, 2.6000000158345213, 1.7696969725683136], res=[0.0, 0.0, 0.0, 0.0, 0.4103030318135499], res_norm=4.103e-01
2026-01-26 14:36:21,471 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:21,530 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:21,551 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:21,598 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:21,620 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:21,667 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:21,690 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:21,738 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:21,760 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:21,808 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:21,828 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:21,876 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:21,898 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:21,948 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:21,969 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:22,017 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:22,038 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:22,087 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:22,111 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:22,159 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:22,181 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:22,228 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:22,874 - INFO - integration_test - Step 8: MPC solve successful
2026-01-26 14:36:22,888 - INFO - integration_test - Step 8: Computed 6 numeric contouring constraints for visualization (s=1.520)
2026-01-26 14:36:22,888 - DEBUG - integration_test - Step 8: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:36:22,889 - INFO - integration_test - === Applying control at step 8 ===
2026-01-26 14:36:22,889 - INFO - integration_test -   Control dict from planner: {'a': 2.000000019956609, 'w': -0.17437101176400616}
2026-01-26 14:36:22,889 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:36:22,889 - INFO - integration_test -   Planner output success: True
2026-01-26 14:36:22,890 - INFO - integration_test - Step 8 completed in 1.489s
2026-01-26 14:36:22,968 - INFO - integration_test - Step 9 (contouring until path end)
2026-01-26 14:36:22,969 - DEBUG - integration_test - Syncing planner state at step 9: vehicle_state=[1.5536014  0.64943602 0.5635982  2.80000002 1.80000001]
2026-01-26 14:36:22,969 - DEBUG - integration_test - Step 9: Using propagated spline 1.8000 (close to path, dist=0.259m, drift=0.741m)
2026-01-26 14:36:22,969 - DEBUG - integration_test -   Set spline state to 1.8000
2026-01-26 14:36:22,970 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:22,986 - DEBUG - integration_test - Step 9: Checking path alignment: vehicle=(1.554, 0.649), path_start=(0.000, 0.000), dist=1.684m
2026-01-26 14:36:22,986 - INFO - integration_test - === Calling planner.solve_mpc() at step 9 ===
2026-01-26 14:36:22,990 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:23,015 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:36:23,015 - INFO - integration_test - Warmstart k=0: x0=1.553601397669074 , y0=0.6494360207739005 , psi0=0.5635982031557332 , v0=2.800000017830182 , spline0=1.8000000088769552 , a0=0.0 , w0=0.0
2026-01-26 14:36:23,015 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:36:23,016 - INFO - integration_test - Dyn residual k=0: pred=[1.7902961272520392, 0.799020799364963, 0.5635982031557332, 2.800000017830182, 2.0800000106599734], ws=[1.7902961272520392, 0.799020799364963, 0.563598203155733, 2.800000017830182, 1.9309090938163562], res=[0.0, 0.0, 2.220446049250313e-16, 0.0, 0.1490909168436172], res_norm=1.491e-01
2026-01-26 14:36:23,017 - INFO - integration_test - Dyn residual k=1: pred=[2.0269908568350044, 0.9486055779560253, 0.563598203155733, 2.800000017830182, 2.2109090955993747], ws=[2.0269908568350044, 0.9486055779560253, 0.563598203155733, 2.800000017830182, 1.7842424272589072], res=[0.0, 0.0, 0.0, 0.0, 0.4266666683404674], res_norm=4.267e-01
2026-01-26 14:36:23,018 - INFO - integration_test - Dyn residual k=2: pred=[2.2636855864179695, 1.0981903565470876, 0.563598203155733, 2.800000017830182, 2.0642424290419257], ws=[2.2636855864179695, 1.0981903565470876, 0.563598203155733, 2.800000017830182, 2.392323236777842], res=[0.0, 0.0, 0.0, 0.0, -0.3280808077359163], res_norm=3.281e-01
2026-01-26 14:36:23,034 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:23,090 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:23,113 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:23,160 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:23,183 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:23,229 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:23,250 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:23,306 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:23,333 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:23,387 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:23,409 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:23,455 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:23,475 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:23,518 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:23,537 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:23,580 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:23,599 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:23,641 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:23,660 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:23,703 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:23,721 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:23,762 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:24,368 - INFO - integration_test - Step 9: MPC solve successful
2026-01-26 14:36:24,378 - INFO - integration_test - Step 9: Computed 6 numeric contouring constraints for visualization (s=1.800)
2026-01-26 14:36:24,379 - DEBUG - integration_test - Step 9: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:36:24,379 - INFO - integration_test - === Applying control at step 9 ===
2026-01-26 14:36:24,379 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000196416345, 'w': -0.0746390579343299}
2026-01-26 14:36:24,379 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:36:24,379 - INFO - integration_test -   Planner output success: True
2026-01-26 14:36:24,380 - INFO - integration_test - Step 9 completed in 1.412s
2026-01-26 14:36:24,433 - INFO - integration_test - Step 10 (contouring until path end)
2026-01-26 14:36:24,437 - DEBUG - integration_test - Syncing planner state at step 10: vehicle_state=[1.79933202 0.80343626 0.5561343  3.00000002 2.10000001]
2026-01-26 14:36:24,438 - DEBUG - integration_test - Step 10: Using propagated spline 2.1000 (close to path, dist=0.241m, drift=0.688m)
2026-01-26 14:36:24,438 - DEBUG - integration_test -   Set spline state to 2.1000
2026-01-26 14:36:24,438 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:24,453 - DEBUG - integration_test - Step 10: Checking path alignment: vehicle=(1.799, 0.803), path_start=(0.000, 0.000), dist=1.971m
2026-01-26 14:36:24,453 - INFO - integration_test - === Calling planner.solve_mpc() at step 10 ===
2026-01-26 14:36:24,457 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:24,483 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:36:24,483 - INFO - integration_test - Warmstart k=0: x0=1.7993320186654533 , y0=0.8034362568711817 , psi0=0.5561342973623001 , v0=3.0000000197943453 , spline0=2.1000000108563897 , a0=0.0 , w0=0.0
2026-01-26 14:36:24,483 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:36:24,484 - INFO - integration_test - Dyn residual k=0: pred=[2.0541226753211843, 0.9618083581662082, 0.5561342973623001, 3.0000000197943453, 2.4000000128358243], ws=[2.0541226736400464, 0.9618083571212508, 0.5561342973623002, 3.0, 1.793939396571246], res=[1.6811378955594591e-09, 1.044957453899542e-09, -1.1102230246251565e-16, 1.9794345273993486e-08, 0.6060606162645783], res_norm=6.061e-01
2026-01-26 14:36:24,485 - INFO - integration_test - Dyn residual k=1: pred=[2.308913328614639, 1.1201804573713199, 0.5561342973623002, 3.0, 2.093939396571246], ws=[2.3089133286146395, 1.1201804573713199, 0.5561342973623002, 3.0, 2.411111114510587], res=[-4.440892098500626e-16, 0.0, 0.0, 0.0, -0.31717171793934096], res_norm=3.172e-01
2026-01-26 14:36:24,486 - INFO - integration_test - Dyn residual k=2: pred=[2.5637039835892326, 1.278552557621389, 0.5561342973623002, 3.0, 2.7111111145105866], ws=[2.5637039835892326, 1.278552557621389, 0.5561342973623002, 3.0, 2.5050505084499806], res=[0.0, 0.0, 0.0, 0.0, 0.20606060606060606], res_norm=2.061e-01
2026-01-26 14:36:24,501 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:24,554 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:24,574 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:24,617 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:24,636 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:24,679 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:24,698 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:24,739 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:24,758 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:24,799 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:24,817 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:24,859 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:24,878 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:24,921 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:24,940 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:24,981 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:25,000 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:25,043 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:25,063 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:25,107 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:25,125 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:25,166 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:25,774 - INFO - integration_test - Step 10: MPC solve successful
2026-01-26 14:36:25,784 - INFO - integration_test - Step 10: Computed 6 numeric contouring constraints for visualization (s=2.100)
2026-01-26 14:36:25,785 - DEBUG - integration_test - Step 10: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:36:25,785 - INFO - integration_test - === Applying control at step 10 ===
2026-01-26 14:36:25,785 - INFO - integration_test -   Control dict from planner: {'a': 9.763465038337409e-08, 'w': 0.7999999288353229}
2026-01-26 14:36:25,785 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:36:25,785 - INFO - integration_test -   Planner output success: True
2026-01-26 14:36:25,786 - INFO - integration_test - Step 10 completed in 1.349s
2026-01-26 14:36:25,838 - INFO - integration_test - Step 11 (contouring until path end)
2026-01-26 14:36:25,846 - DEBUG - integration_test - Syncing planner state at step 11: vehicle_state=[2.04751948 0.97182568 0.63613429 3.00000003 2.40000001]
2026-01-26 14:36:25,846 - DEBUG - integration_test - Step 11: Using propagated spline 2.4000 (close to path, dist=0.217m, drift=0.635m)
2026-01-26 14:36:25,846 - DEBUG - integration_test -   Set spline state to 2.4000
2026-01-26 14:36:25,847 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:25,868 - DEBUG - integration_test - Step 11: Checking path alignment: vehicle=(2.048, 0.972), path_start=(0.000, 0.000), dist=2.266m
2026-01-26 14:36:25,868 - INFO - integration_test - === Calling planner.solve_mpc() at step 11 ===
2026-01-26 14:36:25,872 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:25,908 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:36:25,908 - INFO - integration_test - Warmstart k=0: x0=2.0475194839499857 , y0=0.9718256756655395 , psi0=0.6361342902458325 , v0=3.0000000295578104 , spline0=2.400000013812171 , a0=0.0 , w0=0.0
2026-01-26 14:36:25,909 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:36:25,910 - INFO - integration_test - Dyn residual k=0: pred=[2.288838989299855, 1.150052772682696, 0.6361342902458325, 3.0000000295578104, 2.700000016767952], ws=[2.28883898692223, 1.150052770926695, 0.6361342902458325, 3.0, 2.4111111154361344], res=[2.377625207827805e-09, 1.7560009002437482e-09, 0.0, 2.9557810421465547e-08, 0.28888890133181766], res_norm=2.889e-01
2026-01-26 14:36:25,911 - INFO - integration_test - Dyn residual k=1: pred=[2.530158489894474, 1.3282798661878505, 0.6361342902458325, 3.0, 2.7111111154361343], ws=[2.530158489894474, 1.3282798661878505, 0.6361342902458325, 3.0, 2.505050509375528], res=[0.0, 0.0, 0.0, 0.0, 0.20606060606060606], res_norm=2.061e-01
2026-01-26 14:36:25,913 - INFO - integration_test - Dyn residual k=2: pred=[2.771477992866718, 1.506506961449006, 0.6361342902458325, 3.0, 2.805050509375528], ws=[2.771477992866718, 1.506506961449006, 0.6361342902458325, 3.0, 2.850505055248624], res=[0.0, 0.0, 0.0, 0.0, -0.04545454587309594], res_norm=4.545e-02
2026-01-26 14:36:25,932 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:25,988 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:26,008 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:26,049 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:26,071 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:26,120 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:26,140 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:26,183 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:26,203 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:26,244 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:26,264 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:26,307 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:26,326 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:26,381 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:26,402 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:26,444 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:26,465 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:26,512 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:26,531 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:26,572 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:26,591 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:26,632 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:27,229 - INFO - integration_test - Step 11: MPC solve successful
2026-01-26 14:36:27,239 - INFO - integration_test - Step 11: Computed 6 numeric contouring constraints for visualization (s=2.400)
2026-01-26 14:36:27,240 - DEBUG - integration_test - Step 11: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:36:27,240 - INFO - integration_test - === Applying control at step 11 ===
2026-01-26 14:36:27,240 - INFO - integration_test -   Control dict from planner: {'a': -2.808244502843209e-08, 'w': 0.7999999367481568}
2026-01-26 14:36:27,240 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:36:27,240 - INFO - integration_test -   Planner output success: True
2026-01-26 14:36:27,241 - INFO - integration_test - Step 11 completed in 1.395s
2026-01-26 14:36:27,297 - INFO - integration_test - Step 12 (contouring until path end)
2026-01-26 14:36:27,300 - DEBUG - integration_test - Syncing planner state at step 12: vehicle_state=[2.28145639 1.15951036 0.71613428 3.00000003 2.70000002]
2026-01-26 14:36:27,301 - DEBUG - integration_test - Step 12: Using propagated spline 2.7000 (close to path, dist=0.171m, drift=0.582m)
2026-01-26 14:36:27,301 - DEBUG - integration_test -   Set spline state to 2.7000
2026-01-26 14:36:27,302 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:27,315 - DEBUG - integration_test - Step 12: Checking path alignment: vehicle=(2.281, 1.160), path_start=(0.000, 0.000), dist=2.559m
2026-01-26 14:36:27,315 - INFO - integration_test - === Calling planner.solve_mpc() at step 12 ===
2026-01-26 14:36:27,318 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:27,344 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:36:27,344 - INFO - integration_test - Warmstart k=0: x0=2.281456385494518 , y0=1.1595103596160496 , psi0=0.7161342839206482 , v0=3.000000026749566 , spline0=2.7000000164871274 , a0=0.0 , w0=0.0
2026-01-26 14:36:27,344 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:36:27,345 - INFO - integration_test - Dyn residual k=0: pred=[2.507761117310087, 1.3564524068351678, 0.7161342839206482, 3.000000026749566, 3.000000019162084], ws=[2.507761115292236, 1.3564524050791298, 0.7161342839206482, 3.0, 2.5050505102131413], res=[2.017850775359875e-09, 1.7560379816927707e-09, 0.0, 2.674956611770085e-08, 0.49494950894894263], res_norm=4.949e-01
2026-01-26 14:36:27,346 - INFO - integration_test - Dyn residual k=1: pred=[2.734065845089954, 1.55339445054221, 0.7161342839206482, 3.0, 2.8050505102131416], ws=[2.734065845089954, 1.55339445054221, 0.7161342839206482, 3.0, 2.8505050561672958], res=[0.0, 0.0, 0.0, 0.0, -0.04545454595415421], res_norm=4.545e-02
2026-01-26 14:36:27,346 - INFO - integration_test - Dyn residual k=2: pred=[2.9603705748876723, 1.75033649600529, 0.7161342839206482, 3.0, 3.1505050561672956], ws=[2.9603705748876723, 1.75033649600529, 0.7161342839206482, 3.0, 2.953535359197599], res=[0.0, 0.0, 0.0, 0.0, 0.1969696969696968], res_norm=1.970e-01
2026-01-26 14:36:27,361 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:27,412 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:27,431 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:27,476 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:27,498 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:27,541 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:27,560 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:27,602 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:27,621 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:27,662 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:27,682 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:27,725 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:27,744 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:27,786 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:27,806 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:27,848 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:27,868 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:27,912 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:27,931 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:27,973 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:27,993 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:28,034 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:28,604 - INFO - integration_test - Step 12: MPC solve successful
2026-01-26 14:36:28,614 - INFO - integration_test - Step 12: Computed 6 numeric contouring constraints for visualization (s=2.700)
2026-01-26 14:36:28,614 - DEBUG - integration_test - Step 12: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:36:28,614 - INFO - integration_test - === Applying control at step 12 ===
2026-01-26 14:36:28,614 - INFO - integration_test -   Control dict from planner: {'a': -1.4271932533694763e-07, 'w': 0.799999496836426}
2026-01-26 14:36:28,614 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:36:28,614 - INFO - integration_test -   Planner output success: True
2026-01-26 14:36:28,615 - INFO - integration_test - Step 12 completed in 1.315s
2026-01-26 14:36:28,667 - INFO - integration_test - Step 13 (contouring until path end)
2026-01-26 14:36:28,670 - DEBUG - integration_test - Syncing planner state at step 13: vehicle_state=[2.49964633 1.36528976 0.79613423 3.00000001 3.00000002]
2026-01-26 14:36:28,670 - DEBUG - integration_test - Step 13: Using propagated spline 3.0000 (close to path, dist=0.106m, drift=0.530m)
2026-01-26 14:36:28,670 - DEBUG - integration_test -   Set spline state to 3.0000
2026-01-26 14:36:28,671 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:28,687 - DEBUG - integration_test - Step 13: Checking path alignment: vehicle=(2.500, 1.365), path_start=(0.000, 0.000), dist=2.848m
2026-01-26 14:36:28,687 - INFO - integration_test - === Calling planner.solve_mpc() at step 13 ===
2026-01-26 14:36:28,690 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:28,716 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:36:28,716 - INFO - integration_test - Warmstart k=0: x0=2.499646329316592 , y0=1.3652897620095066 , psi0=0.7961342336042907 , v0=3.0000000124776336 , spline0=3.000000017734891 , a0=0.0 , w0=0.0
2026-01-26 14:36:28,716 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:36:28,717 - INFO - integration_test - Dyn residual k=0: pred=[2.709488718490932, 1.5796869925286128, 0.7961342336042907, 3.0000000124776336, 3.3000000189826544], ws=[2.7094887176181537, 1.5796869916368894, 0.7961342336042909, 3.0, 2.850505056595821], res=[8.727782940809448e-10, 8.917233618177534e-10, -2.220446049250313e-16, 1.247763359302212e-08, 0.4494949623868334], res_norm=4.495e-01
2026-01-26 14:36:28,718 - INFO - integration_test - Dyn residual k=1: pred=[2.919331105919715, 1.7940842212642722, 0.7961342336042909, 3.0, 3.1505050565958213], ws=[2.919331105919715, 1.7940842212642722, 0.7961342336042909, 3.0, 2.953535359626124], res=[0.0, 0.0, 0.0, 0.0, 0.19696969696969724], res_norm=1.970e-01
2026-01-26 14:36:28,719 - INFO - integration_test - Dyn residual k=2: pred=[3.129173494221276, 2.0084814508916553, 0.7961342336042909, 3.0, 3.253535359626124], ws=[3.129173494221276, 2.0084814508916553, 0.7961342336042909, 3.0, 3.5060606130470777], res=[0.0, 0.0, 0.0, 0.0, -0.2525252534209539], res_norm=2.525e-01
2026-01-26 14:36:28,736 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:28,790 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:28,810 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:28,854 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:28,875 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:28,920 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:28,940 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:28,983 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:29,002 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:29,045 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:29,064 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:29,109 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:29,128 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:29,170 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:29,189 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:29,231 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:29,251 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:29,294 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:29,314 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:29,355 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:29,374 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:29,417 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:29,993 - INFO - integration_test - Step 13: MPC solve successful
2026-01-26 14:36:30,003 - INFO - integration_test - Step 13: Computed 6 numeric contouring constraints for visualization (s=3.000)
2026-01-26 14:36:30,004 - DEBUG - integration_test - Step 13: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:36:30,004 - INFO - integration_test - === Applying control at step 13 ===
2026-01-26 14:36:30,004 - INFO - integration_test -   Control dict from planner: {'a': -1.4917949434296895e-06, 'w': 0.7999984253199179}
2026-01-26 14:36:30,004 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:36:30,004 - INFO - integration_test -   Planner output success: True
2026-01-26 14:36:30,005 - INFO - integration_test - Step 13 completed in 1.335s
2026-01-26 14:36:30,059 - INFO - integration_test - Step 14 (contouring until path end)
2026-01-26 14:36:30,062 - DEBUG - integration_test - Syncing planner state at step 14: vehicle_state=[2.70069366 1.58784758 0.87613408 2.99999986 3.3       ]
2026-01-26 14:36:30,062 - DEBUG - integration_test - Step 14: Using propagated spline 3.3000 (close to path, dist=0.068m, drift=0.477m)
2026-01-26 14:36:30,062 - DEBUG - integration_test -   Set spline state to 3.3000
2026-01-26 14:36:30,063 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:30,077 - DEBUG - integration_test - Step 14: Checking path alignment: vehicle=(2.701, 1.588), path_start=(0.000, 0.000), dist=3.133m
2026-01-26 14:36:30,077 - INFO - integration_test - === Calling planner.solve_mpc() at step 14 ===
2026-01-26 14:36:30,080 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:30,104 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:36:30,104 - INFO - integration_test - Warmstart k=0: x0=2.700693657504521 , y0=1.5878475771734957 , psi0=0.8761340761362825 , v0=2.999999863298139 , spline0=3.300000004064705 , a0=0.0 , w0=0.0
2026-01-26 14:36:30,104 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:36:30,105 - INFO - integration_test - Dyn residual k=0: pred=[2.8927314467673657, 1.8183285509933051, 0.8761340761362825, 2.999999863298139, 3.599999990394519], ws=[2.8927314467673657, 1.8183285509933051, 0.8761340761362826, 2.999999863298139, 2.953535350236501], res=[0.0, 0.0, -1.1102230246251565e-16, 0.0, 0.6464646401580176], res_norm=6.465e-01
2026-01-26 14:36:30,106 - INFO - integration_test - Dyn residual k=1: pred=[3.0847692360302106, 2.0488095248131146, 0.8761340761362826, 2.999999863298139, 3.253535336566315], ws=[3.0847692360302106, 2.0488095248131146, 0.8761340761362826, 2.999999863298139, 3.5060605968914036], res=[0.0, 0.0, 0.0, 0.0, -0.2525252603250885], res_norm=2.525e-01
2026-01-26 14:36:30,107 - INFO - integration_test - Dyn residual k=2: pred=[3.2768070252930555, 2.279290498632924, 0.8761340761362826, 2.999999863298139, 3.8060605832212175], ws=[3.194310143789584, 2.2473779145529544, 0.8761340761362826, 2.999999863298139, 3.34545453201969], res=[0.08249688150347145, 0.03191258407996944, 0.0, 0.0, 0.46060605120152776], res_norm=4.690e-01
2026-01-26 14:36:30,122 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:30,175 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:30,194 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:30,238 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:30,257 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:30,300 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:30,320 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:30,362 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:30,380 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:30,421 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:30,439 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:30,484 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:30,505 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:30,547 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:30,567 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:30,610 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:30,629 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:30,672 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:30,693 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:30,735 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:30,754 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:30,796 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:31,368 - INFO - integration_test - Step 14: MPC solve successful
2026-01-26 14:36:31,384 - INFO - integration_test - Step 14: Computed 6 numeric contouring constraints for visualization (s=3.300)
2026-01-26 14:36:31,385 - DEBUG - integration_test - Step 14: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:36:31,385 - INFO - integration_test - === Applying control at step 14 ===
2026-01-26 14:36:31,385 - INFO - integration_test -   Control dict from planner: {'a': 1.6664899202274609e-06, 'w': 0.8000000079851473}
2026-01-26 14:36:31,385 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:36:31,385 - INFO - integration_test -   Planner output success: True
2026-01-26 14:36:31,386 - INFO - integration_test - Step 14 completed in 1.325s
2026-01-26 14:36:31,440 - INFO - integration_test - Step 15 (contouring until path end)
2026-01-26 14:36:31,446 - DEBUG - integration_test - Syncing planner state at step 15: vehicle_state=[2.88331236 1.82576021 0.95613408 3.00000003 3.60000001]
2026-01-26 14:36:31,447 - DEBUG - integration_test - Step 15: Using propagated spline 3.6000 (close to path, dist=0.157m, drift=0.424m)
2026-01-26 14:36:31,447 - DEBUG - integration_test -   Set spline state to 3.6000
2026-01-26 14:36:31,448 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:31,462 - DEBUG - integration_test - Step 15: Checking path alignment: vehicle=(2.883, 1.826), path_start=(0.000, 0.000), dist=3.413m
2026-01-26 14:36:31,462 - INFO - integration_test - === Calling planner.solve_mpc() at step 15 ===
2026-01-26 14:36:31,467 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:31,493 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:36:31,493 - INFO - integration_test - Warmstart k=0: x0=2.8833123564094296 , y0=1.8257602090498601 , psi0=0.9561340769347972 , v0=3.000000029947131 , spline0=3.600000007059418 , a0=0.0 , w0=0.0
2026-01-26 14:36:31,493 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:36:31,494 - INFO - integration_test - Dyn residual k=0: pred=[3.0563171453473386, 2.070850691936033, 0.9561340769347972, 3.000000029947131, 3.900000010054131], ws=[3.0563171436203396, 2.0708506894894474, 0.9561340769347968, 3.0, 3.5060606088415893], res=[1.7269989882606751e-09, 2.446585600779372e-09, 4.440892098500626e-16, 2.994713099724322e-08, 0.3939394012125419], res_norm=3.939e-01
2026-01-26 14:36:31,495 - INFO - integration_test - Dyn residual k=1: pred=[3.22932193083125, 2.3159411699290344, 0.9561340769347968, 3.0, 3.806060608841589], ws=[3.227408357112499, 2.3152226762991237, 0.9561340769347968, 3.0, 3.6242424270234075], res=[0.0019135737187507829, 0.0007184936299107214, 0.0, 0.0, 0.18181818181818166], res_norm=1.818e-01
2026-01-26 14:36:31,495 - INFO - integration_test - Dyn residual k=2: pred=[3.4004131443234096, 2.5603131567387107, 0.9561340769347968, 3.0, 3.9242424270234073], ws=[3.152215264336675, 2.4790797239361915, 0.9561340769347968, 3.0, 3.838383841236128], res=[0.24819787998673437, 0.08123343280251927, 0.0, 0.0, 0.08585858578727912], res_norm=2.749e-01
2026-01-26 14:36:31,512 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:31,565 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:31,585 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:31,628 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:31,647 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:31,689 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:31,709 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:31,756 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:31,777 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:31,818 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:31,837 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:31,879 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:31,898 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:31,941 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:31,959 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:32,001 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:32,019 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:32,060 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:32,079 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:32,122 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:32,142 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:32,184 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:32,733 - INFO - integration_test - Step 15: MPC solve successful
2026-01-26 14:36:32,743 - INFO - integration_test - Step 15: Computed 6 numeric contouring constraints for visualization (s=3.600)
2026-01-26 14:36:32,744 - DEBUG - integration_test - Step 15: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:36:32,744 - INFO - integration_test - === Applying control at step 15 ===
2026-01-26 14:36:32,744 - INFO - integration_test -   Control dict from planner: {'a': -3.757085569191169e-08, 'w': 0.7999998611636946}
2026-01-26 14:36:32,744 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:36:32,744 - INFO - integration_test -   Planner output success: True
2026-01-26 14:36:32,745 - INFO - integration_test - Step 15 completed in 1.299s
2026-01-26 14:36:32,799 - INFO - integration_test - Step 16 (contouring until path end)
2026-01-26 14:36:32,802 - DEBUG - integration_test - Syncing planner state at step 16: vehicle_state=[3.04633428 2.07750585 1.03613406 3.00000003 3.90000001]
2026-01-26 14:36:32,803 - DEBUG - integration_test - Step 16: Using propagated spline 3.9000 (close to path, dist=0.301m, drift=0.371m)
2026-01-26 14:36:32,803 - DEBUG - integration_test -   Set spline state to 3.9000
2026-01-26 14:36:32,804 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:32,817 - DEBUG - integration_test - Step 16: Checking path alignment: vehicle=(3.046, 2.078), path_start=(0.000, 0.000), dist=3.687m
2026-01-26 14:36:32,817 - INFO - integration_test - === Calling planner.solve_mpc() at step 16 ===
2026-01-26 14:36:32,821 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:32,844 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:36:32,844 - INFO - integration_test - Warmstart k=0: x0=3.0463342780969804 , y0=2.0775058496220837 , psi0=1.0361340630511666 , v0=3.0000000261900452 , spline0=3.9000000096784224 , a0=0.0 , w0=0.0
2026-01-26 14:36:32,844 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:36:32,844 - INFO - integration_test - Dyn residual k=0: pred=[3.1991994193665776, 2.3356380834791297, 1.0361340630511666, 3.0000000261900452, 4.200000012297427], ws=[3.199199418032063, 2.335638081225632, 1.0361340630511666, 3.0, 3.624242428055136], res=[1.3345147209520292e-09, 2.253497832782614e-09, 0.0, 2.6190045243623672e-08, 0.5757575842422913], res_norm=5.758e-01
2026-01-26 14:36:32,845 - INFO - integration_test - Dyn residual k=1: pred=[3.3520645579671453, 2.5937703128291796, 1.0361340630511666, 3.0, 3.924242428055136], ws=[3.1905376365487683, 2.54272686318319, 1.0361340630511666, 3.0, 3.6464646501795968], res=[0.161526921418377, 0.051043449645989725, 0.0, 0.0, 0.27777777787553903], res_norm=3.254e-01
2026-01-26 14:36:32,846 - INFO - integration_test - Dyn residual k=2: pred=[3.3434027764838508, 2.8008590947867376, 1.0361340630511666, 3.0, 3.946464650179597], ws=[3.1126686633819443, 2.7500669106105984, 1.0361340630511666, 3.0, 3.662626266243451], res=[0.2307341131019065, 0.05079218417613918, 0.0, 0.0, 0.28383838393614624], res_norm=3.693e-01
2026-01-26 14:36:32,860 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:32,912 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:32,932 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:32,974 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:32,994 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:33,036 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:33,056 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:33,098 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:33,118 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:33,159 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:33,178 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:33,219 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:33,238 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:33,279 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:33,298 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:33,341 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:33,363 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:33,405 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:33,425 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:33,466 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:33,487 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:33,535 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:35,599 - WARNING - integration_test - Step 16: MPC solve failed
2026-01-26 14:36:35,599 - WARNING - integration_test -   Consecutive MPC failures: 1/20
2026-01-26 14:36:35,608 - INFO - integration_test - Step 16: Computed 6 numeric contouring constraints for visualization (s=3.900)
2026-01-26 14:36:35,609 - DEBUG - integration_test - Step 16: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:36:35,609 - INFO - integration_test - === Applying control at step 16 ===
2026-01-26 14:36:35,609 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.8}
2026-01-26 14:36:35,609 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:36:35,609 - INFO - integration_test -   Planner output success: False
2026-01-26 14:36:35,609 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.8}
2026-01-26 14:36:35,610 - INFO - integration_test - Step 16 completed in 2.808s
2026-01-26 14:36:35,663 - INFO - integration_test - Step 17 (contouring until path end)
2026-01-26 14:36:35,668 - DEBUG - integration_test - Syncing planner state at step 17: vehicle_state=[3.20381025 2.32093242 0.95613406 2.80000003 4.18000001]
2026-01-26 14:36:35,668 - DEBUG - integration_test - Step 17: Using propagated spline 4.1800 (close to path, dist=0.450m, drift=0.298m)
2026-01-26 14:36:35,668 - DEBUG - integration_test -   Set spline state to 4.1800
2026-01-26 14:36:35,669 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:35,683 - DEBUG - integration_test - Step 17: Checking path alignment: vehicle=(3.204, 2.321), path_start=(0.000, 0.000), dist=3.956m
2026-01-26 14:36:35,683 - INFO - integration_test - === Calling planner.solve_mpc() at step 17 ===
2026-01-26 14:36:35,687 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:35,712 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:36:35,712 - INFO - integration_test - Warmstart k=0: x0=3.203810250401528 , y0=2.320932421834097 , psi0=0.9561340630511667 , v0=2.800000026190045 , spline0=4.180000012297427 , a0=0.0 , w0=0.0
2026-01-26 14:36:35,712 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:36:35,713 - INFO - integration_test - Dyn residual k=0: pred=[3.365281389817941, 2.549683536808883, 0.9561340630511667, 2.800000026190045, 4.460000014916432], ws=[3.266474737966858, 2.517077203600044, 0.9561340630511665, 2.800000026190045, 3.9177777839552896], res=[0.09880665185108306, 0.0326063332088391, 1.1102230246251565e-16, 0.0, 0.542222230961142], res_norm=5.521e-01
2026-01-26 14:36:35,714 - INFO - integration_test - Dyn residual k=1: pred=[3.427945877383271, 2.74582831857483, 0.9561340630511665, 2.800000026190045, 4.197777786574294], ws=[3.1990237877604484, 2.685602376673673, 0.9561340630511665, 2.800000026190045, 3.93535354243856], res=[0.2289220896228228, 0.06022594190115704, 0.0, 0.0, 0.26242424413573406], res_norm=3.534e-01
2026-01-26 14:36:35,714 - INFO - integration_test - Dyn residual k=2: pred=[3.3604949271768616, 2.914353491648459, 0.9561340630511665, 2.800000026190045, 4.215353545057565], ws=[3.13413782342492, 2.8784629123873895, 0.9561340630511665, 2.800000026190045, 3.6563636565180775], res=[0.2263571037519414, 0.03589057926106953, 0.0, 0.0, 0.5589898885394873], res_norm=6.041e-01
2026-01-26 14:36:35,730 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:35,783 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:35,802 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:35,844 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:35,863 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:35,907 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:35,926 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:35,968 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:35,988 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:36,030 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:36,050 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:36,095 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:36,117 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:36,162 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:36,181 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:36,222 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:36,241 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:36,284 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:36,303 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:36,345 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:36,364 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:36,405 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:38,323 - WARNING - integration_test - Step 17: MPC solve failed
2026-01-26 14:36:38,323 - WARNING - integration_test -   Consecutive MPC failures: 2/20
2026-01-26 14:36:38,333 - INFO - integration_test - Step 17: Computed 6 numeric contouring constraints for visualization (s=4.180)
2026-01-26 14:36:38,333 - DEBUG - integration_test - Step 17: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:36:38,333 - INFO - integration_test - === Applying control at step 17 ===
2026-01-26 14:36:38,333 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.8}
2026-01-26 14:36:38,333 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:36:38,333 - INFO - integration_test -   Planner output success: False
2026-01-26 14:36:38,333 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.8}
2026-01-26 14:36:38,334 - INFO - integration_test - Step 17 completed in 2.667s
2026-01-26 14:36:38,390 - INFO - integration_test - Step 18 (contouring until path end)
2026-01-26 14:36:38,393 - DEBUG - integration_test - Syncing planner state at step 18: vehicle_state=[3.36806135 2.53513496 0.87613406 2.60000003 4.44000001]
2026-01-26 14:36:38,393 - DEBUG - integration_test - Step 18: Using propagated spline 4.4400 (close to path, dist=0.572m, drift=0.558m)
2026-01-26 14:36:38,393 - DEBUG - integration_test -   Set spline state to 4.4400
2026-01-26 14:36:38,394 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:38,409 - DEBUG - integration_test - Step 18: Checking path alignment: vehicle=(3.368, 2.535), path_start=(0.000, 0.000), dist=4.216m
2026-01-26 14:36:38,409 - INFO - integration_test - === Calling planner.solve_mpc() at step 18 ===
2026-01-26 14:36:38,413 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:38,436 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:36:38,437 - INFO - integration_test - Warmstart k=0: x0=3.3680613479552304 , y0=2.5351349580015103 , psi0=0.8761340630511667 , v0=2.600000026190045 , spline0=4.440000014916431 , a0=0.0 , w0=0.0
2026-01-26 14:36:38,437 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:36:38,437 - INFO - integration_test - Dyn residual k=0: pred=[3.5344941105238323, 2.7348851442483966, 0.8761340630511667, 2.600000026190045, 4.7000000175354355], ws=[3.252812233331129, 2.647718336063081, 0.8761340630511665, 2.600000026190045, 3.9191919262769437], res=[0.2816818771927032, 0.08716680818531541, 2.220446049250313e-16, 0.0, 0.7808080912584918], res_norm=8.346e-01
2026-01-26 14:36:38,438 - INFO - integration_test - Dyn residual k=1: pred=[3.419244995899731, 2.847468522309967, 0.8761340630511665, 2.600000026190045, 4.179191928895948], ws=[3.1957214901629936, 2.7991229052741, 0.8761340630511665, 2.600000026190045, 3.923636371575991], res=[0.22352350573673752, 0.04834561703586715, 0.0, 0.0, 0.25555555731995705], res_norm=3.429e-01
2026-01-26 14:36:38,439 - INFO - integration_test - Dyn residual k=2: pred=[3.3621542527315955, 2.998873091520986, 0.8761340630511665, 2.600000026190045, 4.183636374194996], ws=[3.1402226090397374, 2.972224126796063, 0.8761340630511665, 2.600000026190045, 3.9573737601471817], res=[0.22193164369185814, 0.02664896472492284, 0.0, 0.0, 0.22626261404781411], res_norm=3.181e-01
2026-01-26 14:36:38,454 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:38,512 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:38,533 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:38,577 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:38,597 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:38,639 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:38,658 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:38,700 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:38,721 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:38,763 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:38,782 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:38,824 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:38,843 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:38,885 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:38,904 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:38,966 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:38,998 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:39,048 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:39,067 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:39,109 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:39,129 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:39,169 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:41,119 - WARNING - integration_test - Step 18: MPC solve failed
2026-01-26 14:36:41,119 - WARNING - integration_test -   Consecutive MPC failures: 3/20
2026-01-26 14:36:41,130 - INFO - integration_test - Step 18: Computed 6 numeric contouring constraints for visualization (s=4.440)
2026-01-26 14:36:41,130 - DEBUG - integration_test - Step 18: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:36:41,130 - INFO - integration_test - === Applying control at step 18 ===
2026-01-26 14:36:41,131 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.8}
2026-01-26 14:36:41,131 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:36:41,131 - INFO - integration_test -   Planner output success: False
2026-01-26 14:36:41,131 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.8}
2026-01-26 14:36:41,132 - INFO - integration_test - Step 18 completed in 2.740s
2026-01-26 14:36:41,188 - INFO - integration_test - Step 19 (contouring until path end)
2026-01-26 14:36:41,192 - DEBUG - integration_test - Syncing planner state at step 19: vehicle_state=[3.5355019  2.72068915 0.79613406 2.40000003 4.68000002]
2026-01-26 14:36:41,193 - DEBUG - integration_test - Step 19: Using propagated spline 4.6800 (close to path, dist=0.642m, drift=0.445m)
2026-01-26 14:36:41,193 - DEBUG - integration_test -   Set spline state to 4.6800
2026-01-26 14:36:41,193 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:41,208 - DEBUG - integration_test - Step 19: Checking path alignment: vehicle=(3.536, 2.721), path_start=(0.000, 0.000), dist=4.461m
2026-01-26 14:36:41,209 - INFO - integration_test - === Calling planner.solve_mpc() at step 19 ===
2026-01-26 14:36:41,212 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:41,236 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:36:41,236 - INFO - integration_test - Warmstart k=0: x0=3.5355018955507025 , y0=2.7206891486094413 , psi0=0.7961340630511667 , v0=2.4000000261900447 , spline0=4.680000017535436 , a0=0.0 , w0=0.0
2026-01-26 14:36:41,236 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:36:41,237 - INFO - integration_test - Dyn residual k=0: pred=[3.7033758372767704, 2.8922069055516157, 0.7961340630511667, 2.4000000261900447, 4.920000020154441], ws=[3.2495001446232408, 2.7584456036892777, 0.7961340630511669, 2.4000000261900447, 3.707474755007215], res=[0.45387569265352967, 0.13376130186233803, -1.1102230246251565e-16, 0.0, 1.2125252651472258], res_norm=1.302e+00
2026-01-26 14:36:41,238 - INFO - integration_test - Dyn residual k=1: pred=[3.4173740863493087, 2.929963360631452, 0.7961340630511669, 2.4000000261900447, 3.9474747576262192], ws=[3.2018618850600724, 2.890170625377025, 0.7961340630511669, 2.4000000261900447, 3.695353558126981], res=[0.21551220128923632, 0.03979273525442695, 0.0, 0.0, 0.2521211994992383], res_norm=3.341e-01
2026-01-26 14:36:41,238 - INFO - integration_test - Dyn residual k=2: pred=[3.3697358267861404, 3.0616883823191996, 0.7961340630511669, 2.4000000261900447, 3.9353535607459853], ws=[3.154807643009441, 3.04051179447986, 0.7961340630511669, 2.4000000261900447, 3.7333333587257838], res=[0.2149281837766992, 0.02117658783933951, 0.0, 0.0, 0.20202020202020154], res_norm=2.957e-01
2026-01-26 14:36:41,253 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:41,306 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:41,328 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:41,370 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:41,389 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:41,433 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:41,451 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:41,495 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:41,518 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:41,560 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:41,580 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:41,622 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:41,641 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:41,682 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:41,701 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:41,747 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:41,766 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:41,809 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:41,829 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:41,870 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:41,890 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:41,934 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:43,968 - WARNING - integration_test - Step 19: MPC solve failed
2026-01-26 14:36:43,968 - WARNING - integration_test -   Consecutive MPC failures: 4/20
2026-01-26 14:36:43,978 - INFO - integration_test - Step 19: Computed 6 numeric contouring constraints for visualization (s=4.680)
2026-01-26 14:36:43,979 - DEBUG - integration_test - Step 19: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:36:43,979 - INFO - integration_test - === Applying control at step 19 ===
2026-01-26 14:36:43,979 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.8}
2026-01-26 14:36:43,979 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:36:43,979 - INFO - integration_test -   Planner output success: False
2026-01-26 14:36:43,979 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.8}
2026-01-26 14:36:43,980 - INFO - integration_test - Step 19 completed in 2.789s
2026-01-26 14:36:44,039 - INFO - integration_test - Step 20 (contouring until path end)
2026-01-26 14:36:44,040 - DEBUG - integration_test - Syncing planner state at step 20: vehicle_state=[3.70268943 2.8785503  0.71613406 2.20000003 4.90000002]
2026-01-26 14:36:44,040 - DEBUG - integration_test - Step 20: Using propagated spline 4.9000 (close to path, dist=0.704m, drift=0.312m)
2026-01-26 14:36:44,040 - DEBUG - integration_test -   Set spline state to 4.9000
2026-01-26 14:36:44,041 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:44,054 - DEBUG - integration_test - Step 20: Checking path alignment: vehicle=(3.703, 2.879), path_start=(0.000, 0.000), dist=4.690m
2026-01-26 14:36:44,054 - INFO - integration_test - === Calling planner.solve_mpc() at step 20 ===
2026-01-26 14:36:44,058 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:44,082 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:36:44,082 - INFO - integration_test - Warmstart k=0: x0=3.7026894266159633 , y0=2.878550298414322 , psi0=0.7161340630511668 , v0=2.2000000261900445 , spline0=4.90000002015444 , a0=0.0 , w0=0.0
2026-01-26 14:36:44,082 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:36:44,083 - INFO - integration_test - Dyn residual k=0: pred=[3.868646262342154, 3.0229744301517574, 0.7161340630511668, 2.2000000261900445, 5.120000022773445], ws=[3.253654643126172, 2.8468452717222013, 0.7161340630511668, 2.2000000261900445, 3.958383861157283], res=[0.6149916192159819, 0.17612915842955612, 0.0, 0.0, 1.1616161616161618], res_norm=1.326e+00
2026-01-26 14:36:44,084 - INFO - integration_test - Dyn residual k=1: pred=[3.4196114788523624, 2.9912694034596368, 0.7161340630511668, 2.2000000261900445, 4.178383863776287], ws=[3.214687354439204, 2.956681436243574, 0.7161340630511668, 2.2000000261900445, 4.178383863776287], res=[0.20492412441315855, 0.03458796721606294, 0.0, 0.0, 0.0], res_norm=2.078e-01
2026-01-26 14:36:44,085 - INFO - integration_test - Dyn residual k=2: pred=[3.3806441901653943, 3.1011055679810093, 0.7161340630511668, 2.2000000261900445, 4.398383866395291], ws=[3.175393679117268, 3.081685541101123, 0.7161340630511668, 2.2000000261900445, 4.19636366437509], res=[0.20525051104812642, 0.01942002687988653, 0.0, 0.0, 0.20202020202020154], res_norm=2.886e-01
2026-01-26 14:36:44,099 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:44,154 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:44,173 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:44,215 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:44,235 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:44,277 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:44,296 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:44,340 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:44,359 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:44,400 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:44,418 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:44,461 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:44,479 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:44,524 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:44,544 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:44,586 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:44,605 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:44,647 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:44,666 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:44,708 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:44,727 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:44,769 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:46,604 - WARNING - integration_test - Step 20: MPC solve failed
2026-01-26 14:36:46,604 - WARNING - integration_test -   Consecutive MPC failures: 5/20
2026-01-26 14:36:46,614 - INFO - integration_test - Step 20: Computed 6 numeric contouring constraints for visualization (s=4.900)
2026-01-26 14:36:46,615 - DEBUG - integration_test - Step 20: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:36:46,615 - INFO - integration_test - === Applying control at step 20 ===
2026-01-26 14:36:46,615 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.8}
2026-01-26 14:36:46,615 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:36:46,615 - INFO - integration_test -   Planner output success: False
2026-01-26 14:36:46,615 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.8}
2026-01-26 14:36:46,617 - INFO - integration_test - Step 20 completed in 2.577s
2026-01-26 14:36:46,672 - INFO - integration_test - Step 21 (contouring until path end)
2026-01-26 14:36:46,677 - DEBUG - integration_test - Syncing planner state at step 21: vehicle_state=[3.86636187 3.01003351 0.63613406 2.00000003 5.10000002]
2026-01-26 14:36:46,677 - DEBUG - integration_test - Step 21: Using propagated spline 5.1000 (close to path, dist=0.763m, drift=0.512m)
2026-01-26 14:36:46,677 - DEBUG - integration_test -   Set spline state to 5.1000
2026-01-26 14:36:46,678 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:46,692 - DEBUG - integration_test - Step 21: Checking path alignment: vehicle=(3.866, 3.010), path_start=(0.000, 0.000), dist=4.900m
2026-01-26 14:36:46,692 - INFO - integration_test - === Calling planner.solve_mpc() at step 21 ===
2026-01-26 14:36:46,696 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:46,721 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:36:46,721 - INFO - integration_test - Warmstart k=0: x0=3.866361872238251 , y0=3.010033512866622 , psi0=0.6361340630511668 , v0=2.0000000261900444 , spline0=5.100000022773445 , a0=0.0 , w0=0.0
2026-01-26 14:36:46,721 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:36:46,722 - INFO - integration_test - Dyn residual k=0: pred=[4.027241569987963, 3.128851541378978, 0.6361340630511668, 2.0000000261900444, 5.30000002539245], ws=[3.271535992989971, 2.9149925910185948, 0.6361340630511667, 2.0000000261900444, 3.734343459735884], res=[0.7557055769979915, 0.21385895036038338, 1.1102230246251565e-16, 0.0, 1.5656565656565657], res_norm=1.752e+00
2026-01-26 14:36:46,723 - INFO - integration_test - Dyn residual k=1: pred=[3.432415690739683, 3.033810619530951, 0.6361340630511667, 2.0000000261900444, 3.9343434623548883], ws=[3.240861594222298, 3.0015345006762053, 0.6361340630511667, 2.0000000261900444, 3.7323232603346868], res=[0.1915540965173852, 0.03227611885474557, 0.0, 0.0, 0.20202020202020154], res_norm=2.803e-01
2026-01-26 14:36:46,724 - INFO - integration_test - Dyn residual k=2: pred=[3.4017412919720096, 3.1203525291885614, 0.6361340630511667, 2.0000000261900444, 3.932323262953691], ws=[3.2092441461520895, 3.099549481958018, 0.6361340630511667, 2.0000000261900444, 3.7303030609334895], res=[0.19249714581992006, 0.02080304723054338, 0.0, 0.0, 0.20202020202020154], res_norm=2.798e-01
2026-01-26 14:36:46,740 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:46,793 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:46,813 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:46,854 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:46,874 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:46,924 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:46,956 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:47,017 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:47,037 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:47,078 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:47,098 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:47,144 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:47,165 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:47,207 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:47,227 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:47,270 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:47,289 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:47,332 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:47,353 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:47,395 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:47,413 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:47,453 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:49,236 - WARNING - integration_test - Step 21: MPC solve failed
2026-01-26 14:36:49,236 - WARNING - integration_test -   Consecutive MPC failures: 6/20
2026-01-26 14:36:49,246 - INFO - integration_test - Step 21: Computed 6 numeric contouring constraints for visualization (s=5.100)
2026-01-26 14:36:49,246 - DEBUG - integration_test - Step 21: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:36:49,246 - INFO - integration_test - === Applying control at step 21 ===
2026-01-26 14:36:49,246 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.8}
2026-01-26 14:36:49,246 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:36:49,246 - INFO - integration_test -   Planner output success: False
2026-01-26 14:36:49,246 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.8}
2026-01-26 14:36:49,248 - INFO - integration_test - Step 21 completed in 2.571s
2026-01-26 14:36:49,304 - INFO - integration_test - Step 22 (contouring until path end)
2026-01-26 14:36:49,309 - DEBUG - integration_test - Syncing planner state at step 22: vehicle_state=[4.02347245 3.11679041 0.55613406 1.80000003 5.28000003]
2026-01-26 14:36:49,310 - DEBUG - integration_test - Step 22: Using propagated spline 5.2800 (close to path, dist=0.771m, drift=0.339m)
2026-01-26 14:36:49,310 - DEBUG - integration_test -   Set spline state to 5.2800
2026-01-26 14:36:49,311 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:49,326 - DEBUG - integration_test - Step 22: Checking path alignment: vehicle=(4.023, 3.117), path_start=(0.000, 0.000), dist=5.089m
2026-01-26 14:36:49,326 - INFO - integration_test - === Calling planner.solve_mpc() at step 22 ===
2026-01-26 14:36:49,330 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:49,354 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:36:49,354 - INFO - integration_test - Warmstart k=0: x0=4.0234724526815535 , y0=3.116790414638008 , psi0=0.5561340630511669 , v0=1.8000000261900444 , spline0=5.280000025392449 , a0=0.0 , w0=0.0
2026-01-26 14:36:49,354 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:36:49,355 - INFO - integration_test - Dyn residual k=0: pred=[4.17634687015564, 3.211813640350465, 0.5561340630511669, 1.8000000261900444, 5.460000028011454], ws=[3.2995676458645056, 2.9619062476205427, 0.5561340630511671, 1.8000000261900444, 3.995353563364989], res=[0.8767792242911341, 0.24990739272992224, -2.220446049250313e-16, 0.0, 1.4646464646464645], res_norm=1.725e+00
2026-01-26 14:36:49,356 - INFO - integration_test - Dyn residual k=1: pred=[3.4524420633385913, 3.0569294733329997, 0.5561340630511671, 1.8000000261900444, 4.175353565983993], ws=[3.276902657625464, 3.024649438883184, 0.5561340630511671, 1.8000000261900444, 3.771313161943589], res=[0.1755394057131272, 0.03228003444981553, 0.0, 0.0, 0.4040404040404044], res_norm=4.417e-01
2026-01-26 14:36:49,357 - INFO - integration_test - Dyn residual k=2: pred=[3.4297770750995498, 3.119672664595641, 0.5561340630511671, 1.8000000261900444, 3.951313164562593], ws=[3.253052214686516, 3.09520645302669, 0.5561340630511671, 1.8000000261900444, 3.749292962542391], res=[0.1767248604130338, 0.024466211568951124, 0.0, 0.0, 0.202020202020202], res_norm=2.695e-01
2026-01-26 14:36:49,372 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:49,424 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:49,443 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:49,486 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:49,511 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:49,564 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:49,588 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:49,637 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:49,658 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:49,704 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:49,727 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:49,774 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:49,796 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:49,843 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:49,864 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:49,912 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:49,933 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:49,980 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:50,001 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:50,043 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:50,062 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:50,104 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:51,957 - WARNING - integration_test - Step 22: MPC solve failed
2026-01-26 14:36:51,957 - WARNING - integration_test -   Consecutive MPC failures: 7/20
2026-01-26 14:36:51,967 - INFO - integration_test - Step 22: Computed 6 numeric contouring constraints for visualization (s=5.280)
2026-01-26 14:36:51,967 - DEBUG - integration_test - Step 22: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:36:51,967 - INFO - integration_test - === Applying control at step 22 ===
2026-01-26 14:36:51,967 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.8}
2026-01-26 14:36:51,967 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:36:51,967 - INFO - integration_test -   Planner output success: False
2026-01-26 14:36:51,967 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.8}
2026-01-26 14:36:51,968 - INFO - integration_test - Step 22 completed in 2.659s
2026-01-26 14:36:52,025 - INFO - integration_test - Step 23 (contouring until path end)
2026-01-26 14:36:52,028 - DEBUG - integration_test - Syncing planner state at step 23: vehicle_state=[4.17122196 3.20078263 0.47613406 1.60000003 5.44000003]
2026-01-26 14:36:52,029 - DEBUG - integration_test - Step 23: Using propagated spline 5.4400 (close to path, dist=0.793m, drift=0.146m)
2026-01-26 14:36:52,029 - DEBUG - integration_test -   Set spline state to 5.4400
2026-01-26 14:36:52,030 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:52,045 - DEBUG - integration_test - Step 23: Checking path alignment: vehicle=(4.171, 3.201), path_start=(0.000, 0.000), dist=5.258m
2026-01-26 14:36:52,045 - INFO - integration_test - === Calling planner.solve_mpc() at step 23 ===
2026-01-26 14:36:52,049 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:52,071 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:36:52,071 - INFO - integration_test - Warmstart k=0: x0=4.171221958496474 , y0=3.2007826343131844 , psi0=0.47613406305116684 , v0=1.6000000261900444 , spline0=5.440000028011454 , a0=0.0 , w0=0.0
2026-01-26 14:36:52,071 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:36:52,072 - INFO - integration_test - Dyn residual k=0: pred=[4.31342572070263, 3.274118102215807, 0.47613406305116684, 1.6000000261900444, 5.600000030630459], ws=[3.3347509044828305, 2.9872738311744698, 0.476134063051167, 1.6000000261900444, 4.2363636669940945], res=[0.9786748162197991, 0.28684427104133725, -1.6653345369377348e-16, 0.0, 1.3636363636363642], res_norm=1.703e+00
2026-01-26 14:36:52,073 - INFO - integration_test - Dyn residual k=1: pred=[3.476954666688986, 3.0606092990770923, 0.476134063051167, 1.6000000261900444, 4.396363669613099], ws=[3.3199055629599483, 3.0267781966754796, 0.476134063051167, 1.6000000261900444, 3.9923232655726957], res=[0.15704910372903758, 0.03383110240161269, 0.0, 0.0, 0.40404040404040353], res_norm=4.348e-01
2026-01-26 14:36:52,073 - INFO - integration_test - Dyn residual k=2: pred=[3.4621093251661037, 3.1001136645781022, 0.476134063051167, 1.6000000261900444, 4.1523232681917], ws=[3.3040179781864643, 3.0707823999089037, 0.476134063051167, 1.6000000261900444, 4.253333369201801], res=[0.15809134697963945, 0.029331264669198553, 0.0, 0.0, -0.10101010101010122], res_norm=1.899e-01
2026-01-26 14:36:52,088 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:52,147 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:52,167 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:52,210 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:52,229 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:52,270 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:52,289 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:52,332 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:52,351 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:52,393 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:52,412 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:52,454 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:52,473 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:52,516 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:52,538 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:52,581 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:52,602 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:52,644 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:52,664 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:52,705 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:52,724 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:52,765 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:54,616 - WARNING - integration_test - Step 23: MPC solve failed
2026-01-26 14:36:54,616 - WARNING - integration_test -   Consecutive MPC failures: 8/20
2026-01-26 14:36:54,627 - INFO - integration_test - Step 23: Computed 6 numeric contouring constraints for visualization (s=5.440)
2026-01-26 14:36:54,627 - DEBUG - integration_test - Step 23: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:36:54,627 - INFO - integration_test - === Applying control at step 23 ===
2026-01-26 14:36:54,627 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.8}
2026-01-26 14:36:54,627 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:36:54,627 - INFO - integration_test -   Planner output success: False
2026-01-26 14:36:54,627 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.8}
2026-01-26 14:36:54,629 - INFO - integration_test - Step 23 completed in 2.601s
2026-01-26 14:36:54,685 - INFO - integration_test - Step 24 (contouring until path end)
2026-01-26 14:36:54,688 - DEBUG - integration_test - Syncing planner state at step 24: vehicle_state=[4.30708813 3.26425235 0.39613406 1.40000003 5.58000003]
2026-01-26 14:36:54,689 - DEBUG - integration_test - Step 24: Using propagated spline 5.5800 (close to path, dist=0.777m, drift=0.286m)
2026-01-26 14:36:54,689 - DEBUG - integration_test -   Set spline state to 5.5800
2026-01-26 14:36:54,689 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:54,703 - DEBUG - integration_test - Step 24: Checking path alignment: vehicle=(4.307, 3.264), path_start=(0.000, 0.000), dist=5.404m
2026-01-26 14:36:54,703 - INFO - integration_test - === Calling planner.solve_mpc() at step 24 ===
2026-01-26 14:36:54,708 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:54,733 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:36:54,733 - INFO - integration_test - Warmstart k=0: x0=4.307088132907584 , y0=3.2642523468063005 , psi0=0.39613406305116683 , v0=1.4000000261900445 , spline0=5.580000030630458 , a0=0.0 , w0=0.0
2026-01-26 14:36:54,733 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:36:54,734 - INFO - integration_test - Dyn residual k=0: pred=[4.436246475708345, 3.318272002657502, 0.39613406305116683, 1.4000000261900445, 5.7200000332494625], ws=[3.3779268179456254, 2.9941027400571834, 0.39613406305116694, 1.4000000261900445, 4.255353568602998], res=[1.0583196577627199, 0.32416926260031875, -1.1102230246251565e-16, 0.0, 1.4646464646464645], res_norm=1.836e+00
2026-01-26 14:36:54,734 - INFO - integration_test - Dyn residual k=1: pred=[3.507085160746387, 3.048122395908385, 0.39613406305116694, 1.4000000261900445, 4.395353571222002], ws=[3.370676726637708, 3.0123755012492577, 0.39613406305116694, 1.4000000261900445, 3.789292965161396], res=[0.1364084341086791, 0.03574689465912728, 0.0, 0.0, 0.6060606060606064], res_norm=6.222e-01
2026-01-26 14:36:54,735 - INFO - integration_test - Dyn residual k=2: pred=[3.4998350694384692, 3.0663951571004593, 0.39613406305116694, 1.4000000261900445, 3.9292929677804], ws=[3.362835858074562, 3.032487539453527, 0.39613406305116694, 1.4000000261900445, 4.030303068790501], res=[0.13699921136390714, 0.0339076176469324, 0.0, 0.0, -0.10101010101010122], res_norm=1.736e-01
2026-01-26 14:36:54,750 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:54,802 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:54,820 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:54,863 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:54,882 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:54,925 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:54,944 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:54,986 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:55,004 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:55,046 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:55,065 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:55,107 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:55,152 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:55,215 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:55,237 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:55,279 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:55,305 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:55,352 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:55,372 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:55,414 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:55,432 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:55,473 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:57,218 - WARNING - integration_test - Step 24: MPC solve failed
2026-01-26 14:36:57,218 - WARNING - integration_test -   Consecutive MPC failures: 9/20
2026-01-26 14:36:57,230 - INFO - integration_test - Step 24: Computed 6 numeric contouring constraints for visualization (s=5.580)
2026-01-26 14:36:57,230 - DEBUG - integration_test - Step 24: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:36:57,230 - INFO - integration_test - === Applying control at step 24 ===
2026-01-26 14:36:57,230 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.8}
2026-01-26 14:36:57,230 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:36:57,230 - INFO - integration_test -   Planner output success: False
2026-01-26 14:36:57,230 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.8}
2026-01-26 14:36:57,232 - INFO - integration_test - Step 24 completed in 2.544s
2026-01-26 14:36:57,291 - INFO - integration_test - Step 25 (contouring until path end)
2026-01-26 14:36:57,298 - DEBUG - integration_test - Syncing planner state at step 25: vehicle_state=[4.42885189 3.30969015 0.31613406 1.20000003 5.70000003]
2026-01-26 14:36:57,298 - DEBUG - integration_test - Step 25: Using propagated spline 5.7000 (close to path, dist=0.777m, drift=0.406m)
2026-01-26 14:36:57,298 - DEBUG - integration_test -   Set spline state to 5.7000
2026-01-26 14:36:57,299 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:57,314 - DEBUG - integration_test - Step 25: Checking path alignment: vehicle=(4.429, 3.310), path_start=(0.000, 0.000), dist=5.529m
2026-01-26 14:36:57,314 - INFO - integration_test - === Calling planner.solve_mpc() at step 25 ===
2026-01-26 14:36:57,318 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:57,343 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:36:57,343 - INFO - integration_test - Warmstart k=0: x0=4.428851894117633 , y0=3.3096901501719582 , psi0=0.3161340630511668 , v0=1.2000000261900445 , spline0=5.700000033249463 , a0=0.0 , w0=0.0
2026-01-26 14:36:57,343 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:36:57,344 - INFO - integration_test - Dyn residual k=0: pred=[4.542905226546967, 3.346997495163594, 0.3161340630511668, 1.2000000261900445, 5.820000035868468], ws=[3.4270427348975296, 2.9849622673583536, 0.31613406305116687, 1.2000000261900445, 4.254343470211902], res=[1.1158624916494375, 0.36203522780524056, -5.551115123125783e-17, 0.0, 1.5656565656565657], res_norm=1.956e+00
2026-01-26 14:36:57,345 - INFO - integration_test - Dyn residual k=1: pred=[3.5410960673268637, 3.0222696123499895, 0.31613406305116687, 1.2000000261900445, 4.3743434728309065], ws=[3.426879947725186, 2.9853464775243923, 0.31613406305116687, 1.2000000261900445, 4.273333371820806], res=[0.11421611960167777, 0.03692313482559717, 0.0, 0.0, 0.10101010101010033], res_norm=1.569e-01
2026-01-26 14:36:57,345 - INFO - integration_test - Dyn residual k=2: pred=[3.54093328015452, 3.022653822516028, 0.31613406305116687, 1.2000000261900445, 4.393333374439811], ws=[3.426703337114117, 2.98576345935503, 0.31613406305116687, 1.2000000261900445, 3.787272768379204], res=[0.11422994304040301, 0.03689036316099825, 0.0, 0.0, 0.6060606060606069], res_norm=6.178e-01
2026-01-26 14:36:57,361 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:57,415 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:57,434 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:57,476 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:57,497 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:57,542 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:57,563 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:57,608 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:57,626 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:57,670 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:57,688 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:57,733 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:57,752 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:57,794 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:57,814 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:57,857 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:57,876 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:57,921 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:57,940 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:57,982 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:57,999 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:58,040 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:36:59,759 - WARNING - integration_test - Step 25: MPC solve failed
2026-01-26 14:36:59,760 - WARNING - integration_test -   Consecutive MPC failures: 10/20
2026-01-26 14:36:59,769 - INFO - integration_test - Step 25: Computed 6 numeric contouring constraints for visualization (s=5.700)
2026-01-26 14:36:59,770 - DEBUG - integration_test - Step 25: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:36:59,770 - INFO - integration_test - === Applying control at step 25 ===
2026-01-26 14:36:59,770 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.8}
2026-01-26 14:36:59,770 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:36:59,770 - INFO - integration_test -   Planner output success: False
2026-01-26 14:36:59,770 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.8}
2026-01-26 14:36:59,771 - INFO - integration_test - Step 25 completed in 2.474s
2026-01-26 14:36:59,828 - INFO - integration_test - Step 26 (contouring until path end)
2026-01-26 14:36:59,831 - DEBUG - integration_test - Syncing planner state at step 26: vehicle_state=[4.53462017 3.33980061 0.23613406 1.00000003 5.80000004]
2026-01-26 14:36:59,831 - DEBUG - integration_test - Step 26: Using propagated spline 5.8000 (close to path, dist=0.785m, drift=0.506m)
2026-01-26 14:36:59,831 - DEBUG - integration_test -   Set spline state to 5.8000
2026-01-26 14:36:59,832 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:59,846 - DEBUG - integration_test - Step 26: Checking path alignment: vehicle=(4.535, 3.340), path_start=(0.000, 0.000), dist=5.632m
2026-01-26 14:36:59,846 - INFO - integration_test - === Calling planner.solve_mpc() at step 26 ===
2026-01-26 14:36:59,850 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:36:59,874 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:36:59,874 - INFO - integration_test - Warmstart k=0: x0=4.534620165263589 , y0=3.3398006060012517 , psi0=0.2361340630511668 , v0=1.0000000261900446 , spline0=5.800000035868467 , a0=0.0 , w0=0.0
2026-01-26 14:36:59,875 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:36:59,875 - INFO - integration_test - Dyn residual k=0: pred=[4.6318451335487, 3.3631951794267265, 0.2361340630511668, 1.0000000261900446, 5.900000038487471], ws=[3.4830233195719402, 2.9661448347251778, 0.2361340630511668, 1.0000000261900446, 4.031313169800603], res=[1.14882181397676, 0.39705034470154876, 0.0, 0.0, 1.8686868686868685], res_norm=2.229e+00
2026-01-26 14:36:59,876 - INFO - integration_test - Dyn residual k=1: pred=[3.580248287857052, 2.9895394081506526, 0.2361340630511668, 1.0000000261900446, 4.131313172419607], ws=[3.488837846957587, 2.9533330854410393, 0.2361340630511668, 1.0000000261900446, 4.030303071409506], res=[0.09141044089946515, 0.036206322709613215, 0.0, 0.0, 0.10101010101010122], res_norm=1.410e-01
2026-01-26 14:36:59,877 - INFO - integration_test - Dyn residual k=2: pred=[3.5860628152426988, 2.976727658866514, 0.2361340630511668, 1.0000000261900446, 4.13030307402851], ws=[3.495120119952445, 2.9396426405544247, 0.2361340630511668, 1.0000000261900446, 4.029292973018409], res=[0.0909426952902539, 0.037085018312089435, 0.0, 0.0, 0.10101010101010122], res_norm=1.409e-01
2026-01-26 14:36:59,891 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:36:59,946 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:36:59,966 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:00,009 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:00,030 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:00,071 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:00,090 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:00,132 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:00,152 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:00,194 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:00,213 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:00,255 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:00,274 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:00,316 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:00,335 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:00,381 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:00,400 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:00,442 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:00,462 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:00,502 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:00,523 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:00,570 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:02,298 - WARNING - integration_test - Step 26: MPC solve failed
2026-01-26 14:37:02,298 - WARNING - integration_test -   Consecutive MPC failures: 11/20
2026-01-26 14:37:02,309 - INFO - integration_test - Step 26: Computed 6 numeric contouring constraints for visualization (s=5.800)
2026-01-26 14:37:02,309 - DEBUG - integration_test - Step 26: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:37:02,310 - INFO - integration_test - === Applying control at step 26 ===
2026-01-26 14:37:02,310 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.8}
2026-01-26 14:37:02,310 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:37:02,310 - INFO - integration_test -   Planner output success: False
2026-01-26 14:37:02,310 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.8}
2026-01-26 14:37:02,311 - INFO - integration_test - Step 26 completed in 2.481s
2026-01-26 14:37:02,370 - INFO - integration_test - Step 27 (contouring until path end)
2026-01-26 14:37:02,375 - DEBUG - integration_test - Syncing planner state at step 27: vehicle_state=[4.62284511 3.35746578 0.15613406 0.80000003 5.88000004]
2026-01-26 14:37:02,375 - DEBUG - integration_test - Step 27: Using propagated spline 5.8800 (close to path, dist=0.795m, drift=0.586m)
2026-01-26 14:37:02,375 - DEBUG - integration_test -   Set spline state to 5.8800
2026-01-26 14:37:02,376 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:02,390 - DEBUG - integration_test - Step 27: Checking path alignment: vehicle=(4.623, 3.357), path_start=(0.000, 0.000), dist=5.713m
2026-01-26 14:37:02,390 - INFO - integration_test - === Calling planner.solve_mpc() at step 27 ===
2026-01-26 14:37:02,394 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:02,418 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:37:02,419 - INFO - integration_test - Warmstart k=0: x0=4.622845110753561 , y0=3.3574657803444317 , psi0=0.15613406305116678 , v0=0.8000000261900446 , spline0=5.880000038487472 , a0=0.0 , w0=0.0
2026-01-26 14:37:02,419 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:37:02,420 - INFO - integration_test - Dyn residual k=0: pred=[4.701871978837113, 3.369905818123537, 0.15613406305116678, 0.8000000261900446, 5.960000041106476], ws=[3.5433869518038343, 2.942853542000564, 0.15613406305116673, 0.8000000261900446, 4.2933333744398094], res=[1.158485027033279, 0.42705227612297314, 5.551115123125783e-17, 0.0, 1.666666666666667], res_norm=2.074e+00
2026-01-26 14:37:02,420 - INFO - integration_test - Dyn residual k=1: pred=[3.6224138198873863, 2.9552935797796693, 0.15613406305116673, 0.8000000261900446, 4.373333377058814], ws=[3.553366745888061, 2.9222971635334267, 0.15613406305116673, 0.8000000261900446, 4.070303074028511], res=[0.06904707399932519, 0.03299641624624261, 0.0, 0.0, 0.30303030303030276], res_norm=3.125e-01
2026-01-26 14:37:02,421 - INFO - integration_test - Dyn residual k=2: pred=[3.632393613971613, 2.934737201312532, 0.15613406305116673, 0.8000000261900446, 4.150303076647516], ws=[3.5640406060604115, 2.9006792390779204, 0.15613406305116673, 0.8000000261900446, 4.049292975637415], res=[0.06835300791120158, 0.03405796223461177, 0.0, 0.0, 0.10101010101010122], res_norm=1.266e-01
2026-01-26 14:37:02,436 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:02,488 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:02,508 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:02,559 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:02,581 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:02,626 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:02,645 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:02,686 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:02,706 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:02,749 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:02,768 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:02,812 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:02,831 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:02,871 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:02,891 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:02,944 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:02,977 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:03,034 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:03,055 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:03,096 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:03,116 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:03,158 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:04,844 - WARNING - integration_test - Step 27: MPC solve failed
2026-01-26 14:37:04,844 - WARNING - integration_test -   Consecutive MPC failures: 12/20
2026-01-26 14:37:04,854 - INFO - integration_test - Step 27: Computed 6 numeric contouring constraints for visualization (s=5.880)
2026-01-26 14:37:04,854 - DEBUG - integration_test - Step 27: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:37:04,854 - INFO - integration_test - === Applying control at step 27 ===
2026-01-26 14:37:04,854 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.8}
2026-01-26 14:37:04,854 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:37:04,854 - INFO - integration_test -   Planner output success: False
2026-01-26 14:37:04,854 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.8}
2026-01-26 14:37:04,856 - INFO - integration_test - Step 27 completed in 2.481s
2026-01-26 14:37:04,912 - INFO - integration_test - Step 28 (contouring until path end)
2026-01-26 14:37:04,917 - DEBUG - integration_test - Syncing planner state at step 28: vehicle_state=[4.69233961 3.36570714 0.07613406 0.60000003 5.94000004]
2026-01-26 14:37:04,918 - DEBUG - integration_test - Step 28: Using propagated spline 5.9400 (close to path, dist=0.805m, drift=0.646m)
2026-01-26 14:37:04,918 - DEBUG - integration_test -   Set spline state to 5.9400
2026-01-26 14:37:04,919 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:04,934 - DEBUG - integration_test - Step 28: Checking path alignment: vehicle=(4.692, 3.366), path_start=(0.000, 0.000), dist=5.775m
2026-01-26 14:37:04,934 - INFO - integration_test - === Calling planner.solve_mpc() at step 28 ===
2026-01-26 14:37:04,938 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:04,963 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:37:04,963 - INFO - integration_test - Warmstart k=0: x0=4.692339610348555 , y0=3.365707140926813 , psi0=0.07613406305116678 , v0=0.6000000261900447 , spline0=5.940000041106476 , a0=0.0 , w0=0.0
2026-01-26 14:37:04,963 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:37:04,964 - INFO - integration_test - Dyn residual k=0: pred=[4.752165805072549, 3.370270773156445, 0.07613406305116678, 0.6000000261900447, 6.00000004372548], ws=[3.5810582592943763, 2.9503567429482613, 0.07613406305116666, 0.6000000261900447, 4.333333377058814], res=[1.1711075457781726, 0.41991403020818385, 1.249000902703301e-16, 0.0, 1.666666666666666], res_norm=2.080e+00
2026-01-26 14:37:04,964 - INFO - integration_test - Dyn residual k=1: pred=[3.64088445401837, 2.9549203751778936, 0.07613406305116666, 0.6000000261900447, 4.393333379677818], ws=[3.590921034543756, 2.929476378565088, 0.07613406305116666, 0.6000000261900447, 4.090303076647515], res=[0.04996341947461369, 0.02544399661280572, 0.0, 0.0, 0.30303030303030365], res_norm=3.082e-01
2026-01-26 14:37:04,965 - INFO - integration_test - Dyn residual k=2: pred=[3.6507472292677496, 2.93404001079472, 0.07613406305116666, 0.6000000261900447, 4.150303079266519], ws=[3.6013237244956255, 2.907830248849663, 0.07613406305116666, 0.6000000261900447, 4.554343483306923], res=[0.049423504772124094, 0.02620976194505742, 0.0, 0.0, -0.404040404040404], res_norm=4.079e-01
2026-01-26 14:37:04,980 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:05,032 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:05,052 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:05,094 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:05,113 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:05,156 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:05,175 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:05,218 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:05,237 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:05,280 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:05,299 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:05,343 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:05,365 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:05,407 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:05,427 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:05,470 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:05,489 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:05,533 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:05,556 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:05,599 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:05,619 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:05,660 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:07,332 - WARNING - integration_test - Step 28: MPC solve failed
2026-01-26 14:37:07,332 - WARNING - integration_test -   Consecutive MPC failures: 13/20
2026-01-26 14:37:07,343 - INFO - integration_test - Step 28: Computed 6 numeric contouring constraints for visualization (s=5.940)
2026-01-26 14:37:07,344 - DEBUG - integration_test - Step 28: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:37:07,344 - INFO - integration_test - === Applying control at step 28 ===
2026-01-26 14:37:07,344 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.7943307368903323}
2026-01-26 14:37:07,344 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:37:07,344 - INFO - integration_test -   Planner output success: False
2026-01-26 14:37:07,344 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.7943307368903323}
2026-01-26 14:37:07,345 - INFO - integration_test - Step 28 completed in 2.428s
2026-01-26 14:37:07,400 - INFO - integration_test - Step 29 (contouring until path end)
2026-01-26 14:37:07,406 - DEBUG - integration_test - Syncing planner state at step 29: vehicle_state=[ 4.74228851e+00  3.36765940e+00 -3.29901064e-03  4.00000026e-01
  5.98000004e+00]
2026-01-26 14:37:07,406 - DEBUG - integration_test - Step 29: Using propagated spline 5.9800 (close to path, dist=0.812m, drift=0.686m)
2026-01-26 14:37:07,406 - DEBUG - integration_test -   Set spline state to 5.9800
2026-01-26 14:37:07,407 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:07,420 - DEBUG - integration_test - Step 29: Checking path alignment: vehicle=(4.742, 3.368), path_start=(0.000, 0.000), dist=5.816m
2026-01-26 14:37:07,420 - INFO - integration_test - === Calling planner.solve_mpc() at step 29 ===
2026-01-26 14:37:07,424 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:07,449 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:37:07,449 - INFO - integration_test - Warmstart k=0: x0=4.742288507211589 , y0=3.367659402230638 , psi0=-0.0032990106378664452 , v0=0.40000002619004466 , spline0=5.9800000437254806 , a0=0.0 , w0=0.0
2026-01-26 14:37:07,449 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:37:07,450 - INFO - integration_test - Dyn residual k=0: pred=[4.782288292161352, 3.3675274420358474, -0.0032990106378664452, 0.40000002619004466, 6.020000046344485], ws=[3.617706440911856, 2.962956288075216, -0.0032990106378663064, 0.41250002291628907, 4.556603581370645], res=[1.1645818512494963, 0.4045711539606316, -1.3877787807814457e-16, -0.012499996726244411, 1.4633964649738402], res_norm=1.914e+00
2026-01-26 14:37:07,451 - INFO - integration_test - Dyn residual k=1: pred=[3.6589562187320825, 2.962820204125688, -0.0032990106378663064, 0.41250002291628907, 4.597853583662274], ws=[3.6258702569029797, 2.9450976204856323, -0.0032990106378663064, 0.42343752005175295, 4.093896828325315], res=[0.03308596182910284, 0.017722583640055856, 0.0, -0.01093749713546388, 0.5039567553369588], res_norm=5.055e-01
2026-01-26 14:37:07,452 - INFO - integration_test - Dyn residual k=2: pred=[3.6682137784848616, 2.9449579282507097, -0.0032990106378663064, 0.42343752005175295, 4.13624058033049], ws=[3.6345827063715115, 2.926325779628635, -0.0032990106378663064, 0.4330078300452838, 4.339217813350045], res=[0.03363107211335015, 0.01863214862207485, 0.0, -0.009570309993530868, -0.2029772330195545], res_norm=2.068e-01
2026-01-26 14:37:07,467 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:07,519 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:07,541 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:07,585 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:07,605 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:07,648 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:07,669 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:07,710 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:07,730 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:07,772 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:07,790 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:07,834 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:07,853 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:07,896 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:07,916 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:07,958 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:07,979 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:08,021 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:08,040 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:08,081 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:08,100 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:08,142 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:09,800 - WARNING - integration_test - Step 29: MPC solve failed
2026-01-26 14:37:09,800 - WARNING - integration_test -   Consecutive MPC failures: 14/20
2026-01-26 14:37:09,810 - INFO - integration_test - Step 29: Computed 6 numeric contouring constraints for visualization (s=5.980)
2026-01-26 14:37:09,810 - DEBUG - integration_test - Step 29: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:37:09,811 - INFO - integration_test - === Applying control at step 29 ===
2026-01-26 14:37:09,811 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.5293706423554596}
2026-01-26 14:37:09,811 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:37:09,811 - INFO - integration_test -   Planner output success: False
2026-01-26 14:37:09,811 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.5293706423554596}
2026-01-26 14:37:09,812 - INFO - integration_test - Step 29 completed in 2.407s
2026-01-26 14:37:09,869 - INFO - integration_test - Step 30 (contouring until path end)
2026-01-26 14:37:09,876 - DEBUG - integration_test - Syncing planner state at step 30: vehicle_state=[ 4.77227434  3.36685479 -0.05623607  0.20000003  6.00000005]
2026-01-26 14:37:09,877 - DEBUG - integration_test - Step 30: Using propagated spline 6.0000 (close to path, dist=0.815m, drift=0.706m)
2026-01-26 14:37:09,877 - DEBUG - integration_test -   Set spline state to 6.0000
2026-01-26 14:37:09,878 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:09,893 - DEBUG - integration_test - Step 30: Checking path alignment: vehicle=(4.772, 3.367), path_start=(0.000, 0.000), dist=5.840m
2026-01-26 14:37:09,893 - INFO - integration_test - === Calling planner.solve_mpc() at step 30 ===
2026-01-26 14:37:09,897 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:09,922 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:37:09,922 - INFO - integration_test - Warmstart k=0: x0=4.772274343701279 , y0=3.366854791058389 , psi0=-0.0562360748734124 , v0=0.20000002619004464 , spline0=6.000000046344485 , a0=0.0 , w0=0.0
2026-01-26 14:37:09,922 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:37:09,924 - INFO - integration_test - Dyn residual k=0: pred=[4.792242729688578, 3.3657306621412113, -0.0562360748734124, 0.20000002619004464, 6.020000048963489], ws=[3.6513286128622626, 2.984806319125026, -0.056236074873412534, 0.23750002291628908, 4.559103583989649], res=[1.1409141168263153, 0.3809243430161855, 1.3183898417423734e-16, -0.03749999672624443, 1.4608964649738398], res_norm=1.893e+00
2026-01-26 14:37:09,924 - INFO - integration_test - Dyn residual k=1: pred=[3.675041070405035, 2.983471416081879, -0.056236074873412534, 0.23750002291628908, 4.582853586281278], ws=[3.656307716970498, 2.973443869672458, -0.056236074873412534, 0.27031252005175294, 4.586134835994824], res=[0.01873335343453686, 0.010027546409420829, 0.0, -0.03281249713546386, -0.0032812497135461527], res_norm=3.923e-02
2026-01-26 14:37:09,925 - INFO - integration_test - Dyn residual k=2: pred=[3.6832962371243094, 2.971924539269088, -0.056236074873412534, 0.27031252005175294, 4.613166087999999], ws=[3.662113600765419, 2.960331911052227, -0.056236074873412534, 0.2990234550452838, 4.110986676448847], res=[0.021182636358890505, 0.011592628216861023, 0.0, -0.02871093499353089, 0.5021794115511522], res_norm=5.036e-01
2026-01-26 14:37:09,941 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:09,993 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:10,013 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:10,055 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:10,076 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:10,118 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:10,138 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:10,181 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:10,201 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:10,246 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:10,265 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:10,307 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:10,327 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:10,369 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:10,389 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:10,431 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:10,450 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:10,493 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:10,512 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:10,557 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:10,577 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:10,620 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:12,279 - WARNING - integration_test - Step 30: MPC solve failed
2026-01-26 14:37:12,279 - WARNING - integration_test -   Consecutive MPC failures: 15/20
2026-01-26 14:37:12,289 - INFO - integration_test - Step 30: Computed 6 numeric contouring constraints for visualization (s=6.000)
2026-01-26 14:37:12,289 - DEBUG - integration_test - Step 30: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:37:12,289 - INFO - integration_test - === Applying control at step 30 ===
2026-01-26 14:37:12,289 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.3723874353803813}
2026-01-26 14:37:12,289 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:37:12,289 - INFO - integration_test -   Planner output success: False
2026-01-26 14:37:12,289 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.3723874353803813}
2026-01-26 14:37:12,290 - INFO - integration_test - Step 30 completed in 2.414s
2026-01-26 14:37:12,350 - INFO - integration_test - Step 31 (contouring until path end)
2026-01-26 14:37:12,356 - DEBUG - integration_test - Syncing planner state at step 31: vehicle_state=[ 4.78225041e+00  3.36616887e+00 -9.34748184e-02  2.61900446e-08
  6.00000005e+00]
2026-01-26 14:37:12,356 - DEBUG - integration_test - Step 31: Using propagated spline 6.0000 (close to path, dist=0.816m, drift=0.706m)
2026-01-26 14:37:12,357 - DEBUG - integration_test -   Set spline state to 6.0000
2026-01-26 14:37:12,357 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:12,372 - DEBUG - integration_test - Step 31: Checking path alignment: vehicle=(4.782, 3.366), path_start=(0.000, 0.000), dist=5.848m
2026-01-26 14:37:12,372 - INFO - integration_test - === Calling planner.solve_mpc() at step 31 ===
2026-01-26 14:37:12,376 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:12,401 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:37:12,401 - INFO - integration_test - Warmstart k=0: x0=4.782250407801768 , y0=3.366168865670884 , psi0=-0.09347481841145053 , v0=2.619004463300101e-08 , spline0=6.000000048963489 , a0=0.0 , w0=0.0
2026-01-26 14:37:12,401 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:37:12,402 - INFO - integration_test - Dyn residual k=0: pred=[4.782250410409339, 3.3661688654264292, -0.09347481841145053, 2.619004463300101e-08, 6.000000051582494], ws=[3.674709305064016, 3.016436381853664, -0.09347481841145067, 0.18750002291628906, 4.352083384588452], res=[1.107541105345323, 0.3497324835727653, 1.3877787807814457e-16, -0.18749999672624443, 1.6479166669940417], res_norm=2.025e+00
2026-01-26 14:37:12,403 - INFO - integration_test - Dyn residual k=1: pred=[3.693377452519295, 3.0146862799926164, -0.09347481841145067, 0.18750002291628906, 4.370833386880081], ws=[3.6785895342176715, 3.007067346004545, -0.09347481841145067, 0.3515625200517529, 4.589259838613829], res=[0.014787918301623293, 0.00761893398807123, 0.0, -0.16406249713546386, -0.2184264517337482], res_norm=2.737e-01
2026-01-26 14:37:12,403 - INFO - integration_test - Dyn residual k=2: pred=[3.7135923084146953, 3.003785905228979, -0.09347481841145067, 0.3515625200517529, 4.624416090619005], ws=[3.6860585628452656, 2.9892477262441792, -0.09347481841145067, 0.4951172050452838, 4.133721054067853], res=[0.02753374556942978, 0.01453817898479981, 0.0, -0.14355468499353086, 0.490695036551152], res_norm=5.122e-01
2026-01-26 14:37:12,418 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:12,472 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:12,493 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:12,536 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:12,558 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:12,604 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:12,624 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:12,667 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:12,687 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:12,730 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:12,750 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:12,793 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:12,813 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:12,856 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:12,876 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:12,918 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:12,938 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:12,983 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:13,003 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:13,044 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:13,064 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:13,107 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:15,026 - WARNING - integration_test - Step 31: MPC solve failed
2026-01-26 14:37:15,026 - WARNING - integration_test -   Consecutive MPC failures: 16/20
2026-01-26 14:37:15,040 - INFO - integration_test - Step 31: Computed 6 numeric contouring constraints for visualization (s=6.000)
2026-01-26 14:37:15,040 - DEBUG - integration_test - Step 31: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:37:15,040 - INFO - integration_test - === Applying control at step 31 ===
2026-01-26 14:37:15,040 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.30115981216096266}
2026-01-26 14:37:15,040 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:37:15,040 - INFO - integration_test -   Planner output success: False
2026-01-26 14:37:15,040 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.30115981216096266}
2026-01-26 14:37:15,042 - INFO - integration_test - Step 31 completed in 2.687s
2026-01-26 14:37:15,123 - INFO - integration_test - Step 32 (contouring until path end)
2026-01-26 14:37:15,130 - DEBUG - integration_test - Syncing planner state at step 32: vehicle_state=[ 4.77231506  3.36730192 -0.1235908  -0.19999997  5.98000005]
2026-01-26 14:37:15,131 - DEBUG - integration_test - Step 32: Using propagated spline 5.9800 (close to path, dist=0.816m, drift=0.686m)
2026-01-26 14:37:15,131 - DEBUG - integration_test -   Set spline state to 5.9800
2026-01-26 14:37:15,132 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:15,147 - DEBUG - integration_test - Step 32: Checking path alignment: vehicle=(4.772, 3.367), path_start=(0.000, 0.000), dist=5.841m
2026-01-26 14:37:15,147 - INFO - integration_test - === Calling planner.solve_mpc() at step 32 ===
2026-01-26 14:37:15,151 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:15,176 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:37:15,176 - INFO - integration_test - Warmstart k=0: x0=4.772315061867593 , y0=3.3673019191348583 , psi0=-0.1235907996275468 , v0=-0.19999997380995538 , spline0=5.980000051582493 , a0=0.0 , w0=0.0
2026-01-26 14:37:15,176 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:37:15,177 - INFO - integration_test - Dyn residual k=0: pred=[4.752467616993093, 3.3697674469066654, -0.1235907996275468, -0.19999997380995538, 5.9600000542014975], ws=[3.6997615563097233, 3.0480164652685158, -0.12359079962754693, 0.17875, 4.129188182895625], res=[1.05270606068337, 0.32175098163814964, 1.3877787807814457e-16, -0.37874997380995534, 1.8308118713058725], res_norm=2.170e+00
2026-01-26 14:37:15,178 - INFO - integration_test - Dyn residual k=1: pred=[3.717500212489188, 3.0458128995339058, -0.12359079962754693, 0.17875, 4.147063182895625], ws=[3.7033430053623233, 3.038856087940469, -0.12359079962754693, 0.34390624999999997, 4.365599009915828], res=[0.014157207126864524, 0.00695681159343664, 0.0, -0.16515624999999998, -0.2185358270202027], res_norm=2.744e-01
2026-01-26 14:37:15,179 - INFO - integration_test - Dyn residual k=2: pred=[3.737471311525786, 3.034616535333934, -0.12359079962754693, 0.34390624999999997, 4.399989634915828], ws=[3.710414613825672, 3.0209912322194654, -0.12359079962754693, 0.48841796875, 4.616461008811029], res=[0.027056697700113652, 0.013625303114468412, 0.0, -0.14451171875000002, -0.21647137389520132], res_norm=2.620e-01
2026-01-26 14:37:15,193 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:15,245 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:15,266 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:15,307 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:15,328 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:15,372 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:15,391 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:15,433 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:15,452 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:15,494 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:15,512 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:15,556 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:15,578 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:15,622 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:15,641 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:15,684 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:15,704 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:15,753 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:15,776 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:15,822 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:15,843 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:15,884 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:17,565 - WARNING - integration_test - Step 32: MPC solve failed
2026-01-26 14:37:17,565 - WARNING - integration_test -   Consecutive MPC failures: 17/20
2026-01-26 14:37:17,576 - INFO - integration_test - Step 32: Computed 6 numeric contouring constraints for visualization (s=5.980)
2026-01-26 14:37:17,576 - DEBUG - integration_test - Step 32: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:37:17,576 - INFO - integration_test - === Applying control at step 32 ===
2026-01-26 14:37:17,576 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.3035383418266475}
2026-01-26 14:37:17,576 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:37:17,576 - INFO - integration_test -   Planner output success: False
2026-01-26 14:37:17,576 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.3035383418266475}
2026-01-26 14:37:17,578 - INFO - integration_test - Step 32 completed in 2.448s
2026-01-26 14:37:17,637 - INFO - integration_test - Step 33 (contouring until path end)
2026-01-26 14:37:17,641 - DEBUG - integration_test - Syncing planner state at step 33: vehicle_state=[ 4.74261159  3.37150154 -0.15394463 -0.39999997  5.94000005]
2026-01-26 14:37:17,641 - DEBUG - integration_test - Step 33: Using propagated spline 5.9400 (close to path, dist=0.816m, drift=0.646m)
2026-01-26 14:37:17,642 - DEBUG - integration_test -   Set spline state to 5.9400
2026-01-26 14:37:17,642 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:17,656 - DEBUG - integration_test - Step 33: Checking path alignment: vehicle=(4.743, 3.372), path_start=(0.000, 0.000), dist=5.819m
2026-01-26 14:37:17,656 - INFO - integration_test - === Calling planner.solve_mpc() at step 33 ===
2026-01-26 14:37:17,660 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:17,684 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:37:17,684 - INFO - integration_test - Warmstart k=0: x0=4.742611586475664 , y0=3.371501544433087 , psi0=-0.15394463381021153 , v0=-0.3999999738099554 , spline0=5.940000054201498 , a0=0.0 , w0=0.0
2026-01-26 14:37:17,684 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:37:17,685 - INFO - integration_test - Dyn residual k=0: pred=[4.703084632741349, 3.377635036013332, -0.15394463381021153, -0.3999999738099554, 5.900000056820502], ws=[3.723658455865565, 3.0881092170913704, -0.1539446338102115, 0.17875, 4.392218488544932], res=[0.9794261768757835, 0.2895258189219616, -2.7755575615628914e-17, -0.5787499738099554, 1.5077815682755702], res_norm=1.911e+00
2026-01-26 14:37:17,686 - INFO - integration_test - Dyn residual k=1: pred=[3.741322064472114, 3.0853683128619873, -0.1539446338102115, 0.17875, 4.410093488544932], ws=[3.7270587665283426, 3.0788047152140736, -0.1539446338102115, 0.34390624999999997, 4.628629315565135], res=[0.014263297943771569, 0.006563597647913699, 0.0, -0.16515624999999998, -0.2185358270202027], res_norm=2.744e-01
2026-01-26 14:37:17,687 - INFO - integration_test - Dyn residual k=2: pred=[3.7610426848351732, 3.0735313496468777, -0.1539446338102115, 0.34390624999999997, 4.663019940565135], ws=[3.7337759630362957, 3.060664465177452, -0.1539446338102115, 0.48841796875, 4.3744408094098315], res=[0.02726672179887757, 0.012866884469425521, 0.0, -0.14451171875000002, 0.28857913115530387], res_norm=3.241e-01
2026-01-26 14:37:17,701 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:17,755 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:17,775 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:17,818 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:17,838 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:17,880 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:17,900 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:17,943 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:17,963 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:18,005 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:18,023 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:18,064 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:18,084 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:18,125 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:18,146 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:18,189 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:18,208 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:18,251 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:18,270 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:18,312 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:18,331 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:18,373 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:20,151 - WARNING - integration_test - Step 33: MPC solve failed
2026-01-26 14:37:20,151 - WARNING - integration_test -   Consecutive MPC failures: 18/20
2026-01-26 14:37:20,161 - INFO - integration_test - Step 33: Computed 6 numeric contouring constraints for visualization (s=5.940)
2026-01-26 14:37:20,162 - DEBUG - integration_test - Step 33: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:37:20,162 - INFO - integration_test - === Applying control at step 33 ===
2026-01-26 14:37:20,162 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.3778133383837954}
2026-01-26 14:37:20,162 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:37:20,162 - INFO - integration_test -   Planner output success: False
2026-01-26 14:37:20,162 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.3778133383837954}
2026-01-26 14:37:20,163 - INFO - integration_test - Step 33 completed in 2.522s
2026-01-26 14:37:20,219 - INFO - integration_test - Step 34 (contouring until path end)
2026-01-26 14:37:20,222 - DEBUG - integration_test - Syncing planner state at step 34: vehicle_state=[ 4.69337029  3.38016186 -0.19172597 -0.59999997  5.88000006]
2026-01-26 14:37:20,223 - DEBUG - integration_test - Step 34: Using propagated spline 5.8800 (close to path, dist=0.819m, drift=0.586m)
2026-01-26 14:37:20,223 - DEBUG - integration_test -   Set spline state to 5.8800
2026-01-26 14:37:20,224 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:20,238 - DEBUG - integration_test - Step 34: Checking path alignment: vehicle=(4.693, 3.380), path_start=(0.000, 0.000), dist=5.784m
2026-01-26 14:37:20,238 - INFO - integration_test - === Calling planner.solve_mpc() at step 34 ===
2026-01-26 14:37:20,242 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:20,268 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:37:20,268 - INFO - integration_test - Warmstart k=0: x0=4.693370290812728 , y0=3.3801618643337297 , psi0=-0.19172596764859107 , v0=-0.5999999738099554 , spline0=5.880000056820502 , a0=0.0 , w0=0.0
2026-01-26 14:37:20,268 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:37:20,269 - INFO - integration_test - Dyn residual k=0: pred=[4.6344696848882165, 3.391595075057091, -0.19172596764859107, -0.5999999738099554, 5.820000059439506], ws=[3.744942314081965, 3.1372186005398115, -0.19172596764859096, 0.17875, 4.63524879419424], res=[0.8895273708062517, 0.2543764745172794, -1.1102230246251565e-16, -0.7787499738099554, 1.184751265245266], res_norm=1.693e+00
2026-01-26 14:37:20,270 - INFO - integration_test - Dyn residual k=1: pred=[3.762489787029591, 3.1338124563631315, -0.19172596764859096, 0.17875, 4.65312379419424], ws=[3.7481425566439768, 3.127717130249513, -0.19172596764859096, 0.34390624999999997, 4.164588914143735], res=[0.01434723038561403, 0.0060953261136185155, 0.0, -0.16515624999999998, 0.48853488005050494], res_norm=5.159e-01
2026-01-26 14:37:20,271 - INFO - integration_test - Dyn residual k=2: pred=[3.781903035628002, 3.121163875587911, -0.19172596764859096, 0.34390624999999997, 4.1989795391437355], ws=[3.7544689587194773, 3.109200325835501, -0.19172596764859096, 0.48841796875, 4.617471115059139], res=[0.02743407690852484, 0.011963549752409985, 0.0, -0.14451171875000002, -0.41849157591540376], res_norm=4.438e-01
2026-01-26 14:37:20,285 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:20,337 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:20,357 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:20,401 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:20,420 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:20,462 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:20,481 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:20,523 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:20,543 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:20,589 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:20,609 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:20,651 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:20,670 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:20,712 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:20,732 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:20,775 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:20,794 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:20,836 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:20,855 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:20,896 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:20,914 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:20,956 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:22,716 - WARNING - integration_test - Step 34: MPC solve failed
2026-01-26 14:37:22,716 - WARNING - integration_test -   Consecutive MPC failures: 19/20
2026-01-26 14:37:22,726 - INFO - integration_test - Step 34: Computed 6 numeric contouring constraints for visualization (s=5.880)
2026-01-26 14:37:22,727 - DEBUG - integration_test - Step 34: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:37:22,727 - INFO - integration_test - === Applying control at step 34 ===
2026-01-26 14:37:22,727 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.5330813061630826}
2026-01-26 14:37:22,727 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:37:22,727 - INFO - integration_test -   Planner output success: False
2026-01-26 14:37:22,727 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.5330813061630826}
2026-01-26 14:37:22,728 - INFO - integration_test - Step 34 completed in 2.506s
2026-01-26 14:37:22,787 - INFO - integration_test - Step 35 (contouring until path end)
2026-01-26 14:37:22,790 - DEBUG - integration_test - Syncing planner state at step 35: vehicle_state=[ 4.62506015  3.39541218 -0.2450341  -0.79999997  5.80000006]
2026-01-26 14:37:22,791 - DEBUG - integration_test - Step 35: Using propagated spline 5.8000 (close to path, dist=0.833m, drift=0.506m)
2026-01-26 14:37:22,791 - DEBUG - integration_test -   Set spline state to 5.8000
2026-01-26 14:37:22,792 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:22,806 - DEBUG - integration_test - Step 35: Checking path alignment: vehicle=(4.625, 3.395), path_start=(0.000, 0.000), dist=5.738m
2026-01-26 14:37:22,806 - INFO - integration_test - === Calling planner.solve_mpc() at step 35 ===
2026-01-26 14:37:22,814 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:22,861 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:37:22,862 - INFO - integration_test - Warmstart k=0: x0=4.625060152210049 , y0=3.3954121837655804 , psi0=-0.24503409826489933 , v0=-0.7999999738099555 , spline0=5.8000000594395065 , a0=0.0 , w0=0.0
2026-01-26 14:37:22,862 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:37:22,863 - INFO - integration_test - Dyn residual k=0: pred=[4.547449830458115, 3.414819335502002, -0.24503409826489933, -0.7999999738099555, 5.720000062058511], ws=[3.764574319035294, 3.195922337790745, -0.2450340982648993, 0.17875, 4.656258897823345], res=[0.7828755114228212, 0.2188969977112567, -2.7755575615628914e-17, -0.9787499738099554, 1.0637411642351662], res_norm=1.658e+00
2026-01-26 14:37:22,865 - INFO - integration_test - Dyn residual k=1: pred=[3.7819153758694455, 3.191586052182679, -0.2450340982648993, 0.17875, 4.674133897823345], ws=[3.767595576800436, 3.186022558205149, -0.2450340982648993, 0.34390624999999997, 4.387619219793042], res=[0.014319799069009598, 0.005563493977529976, 0.0, -0.16515624999999998, 0.2865146780303025], res_norm=3.311e-01
2026-01-26 14:37:22,866 - INFO - integration_test - Dyn residual k=2: pred=[3.800958921286422, 3.177679756960959, -0.2450340982648993, 0.34390624999999997, 4.422009844793043], ws=[3.773575368352775, 3.1667403017636233, -0.2450340982648993, 0.48841796875, 4.638481218688245], res=[0.027383552933646804, 0.010939455197335857, 0.0, -0.14451171875000002, -0.2164713738952022], res_norm=2.619e-01
2026-01-26 14:37:22,889 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:22,949 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:22,977 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:23,022 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:23,041 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:23,083 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:23,103 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:23,146 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:23,167 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:23,209 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:23,228 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:23,270 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:23,288 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:23,330 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:23,349 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:23,393 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:23,413 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:23,456 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:23,476 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:23,516 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:23,535 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:23,579 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:25,351 - WARNING - integration_test - Step 35: MPC solve failed
2026-01-26 14:37:25,351 - WARNING - integration_test -   Consecutive MPC failures: 20/20
2026-01-26 14:37:25,351 - WARNING - integration_test - Step 35: Checking if vehicle should continue despite 20 consecutive failures...
2026-01-26 14:37:25,351 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 35.
2026-01-26 14:37:25,361 - INFO - integration_test - Step 250: Computed 6 numeric contouring constraints for visualization (s=5.800)
2026-01-26 14:37:25,361 - DEBUG - integration_test - Step 250: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:37:25,361 - INFO - integration_test - === Applying control at step 250 ===
2026-01-26 14:37:25,361 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.7850593957413681}
2026-01-26 14:37:25,361 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:37:25,361 - INFO - integration_test -   Planner output success: False
2026-01-26 14:37:25,361 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.7850593957413681}
2026-01-26 14:37:25,363 - INFO - integration_test - Step 250 completed in 2.573s
2026-01-26 14:37:25,422 - INFO - integration_test - Step 251 (contouring until path end)
2026-01-26 14:37:25,426 - DEBUG - integration_test - Syncing planner state at step 251: vehicle_state=[ 4.53873146  3.42077385 -0.32354004 -0.99999997  5.70000006]
2026-01-26 14:37:25,427 - DEBUG - integration_test - Step 251: Using propagated spline 5.7000 (close to path, dist=0.865m, drift=0.406m)
2026-01-26 14:37:25,427 - DEBUG - integration_test -   Set spline state to 5.7000
2026-01-26 14:37:25,428 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:25,443 - DEBUG - integration_test - Step 251: Checking path alignment: vehicle=(4.539, 3.421), path_start=(0.000, 0.000), dist=5.683m
2026-01-26 14:37:25,443 - INFO - integration_test - === Calling planner.solve_mpc() at step 251 ===
2026-01-26 14:37:25,447 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:25,471 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:37:25,472 - INFO - integration_test - Warmstart k=0: x0=4.538731457797372 , y0=3.4207738493442172 , psi0=-0.3235400378390361 , v0=-0.9999999738099554 , spline0=5.7000000620585105 , a0=0.0 , w0=0.0
2026-01-26 14:37:25,472 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:37:25,473 - INFO - integration_test - Dyn residual k=0: pred=[4.443919870776431, 3.4525663396960224, -0.3235400378390361, -0.9999999738099554, 5.6000000646775145], ws=[3.788320342154859, 3.2659837263875824, -0.3235400378390363, 0.17875, 4.65726900145245], res=[0.6555995286215719, 0.18658261330844006, 1.6653345369377348e-16, -1.1787499738099554, 0.9427310632250645], res_norm=1.656e+00
2026-01-26 14:37:25,473 - INFO - integration_test - Dyn residual k=1: pred=[3.8052679137787098, 3.2603008185883615, -0.3235400378390363, 0.17875, 4.67514400145245], ws=[3.7912177453527116, 3.2553344011702974, -0.3235400378390363, 0.34390624999999997, 4.69165962645245], res=[0.014050168425998155, 0.00496641741806414, 0.0, -0.16515624999999998, -0.016515625000000256], res_norm=1.666e-01
2026-01-26 14:37:25,474 - INFO - integration_test - Dyn residual k=2: pred=[3.8238240435555926, 3.2444007647488946, -0.3235400378390363, 0.34390624999999997, 4.726050251452451], ws=[3.7969642063186004, 3.234609282618141, -0.3235400378390363, 0.48841796875, 4.437471120297147], res=[0.026859837236992146, 0.009791482130753426, 0.0, -0.14451171875000002, 0.28857913115530387], res_norm=3.240e-01
2026-01-26 14:37:25,489 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:25,543 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:25,564 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:25,612 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:25,632 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:25,674 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:25,693 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:25,736 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:25,756 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:25,800 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:25,818 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:25,861 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:25,880 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:25,922 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:25,942 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:25,984 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:26,004 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:26,046 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:26,065 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:26,111 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:26,131 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:26,173 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:27,869 - WARNING - integration_test - Step 251: MPC solve failed
2026-01-26 14:37:27,869 - WARNING - integration_test -   Consecutive MPC failures: 21/20
2026-01-26 14:37:27,869 - WARNING - integration_test - Step 251: Checking if vehicle should continue despite 21 consecutive failures...
2026-01-26 14:37:27,870 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 251.
2026-01-26 14:37:27,879 - INFO - integration_test - Step 250: Computed 6 numeric contouring constraints for visualization (s=5.700)
2026-01-26 14:37:27,879 - DEBUG - integration_test - Step 250: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:37:27,879 - INFO - integration_test - === Applying control at step 250 ===
2026-01-26 14:37:27,880 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.8}
2026-01-26 14:37:27,880 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:37:27,880 - INFO - integration_test -   Planner output success: False
2026-01-26 14:37:27,880 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.8}
2026-01-26 14:37:27,881 - INFO - integration_test - Step 250 completed in 2.455s
2026-01-26 14:37:27,941 - INFO - integration_test - Step 251 (contouring until path end)
2026-01-26 14:37:27,947 - DEBUG - integration_test - Syncing planner state at step 251: vehicle_state=[ 4.43599544  3.46000237 -0.40354004 -1.19999997  5.58000006]
2026-01-26 14:37:27,947 - DEBUG - integration_test - Step 251: Using propagated spline 5.5800 (close to path, dist=0.921m, drift=0.286m)
2026-01-26 14:37:27,947 - DEBUG - integration_test -   Set spline state to 5.5800
2026-01-26 14:37:27,948 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:27,962 - DEBUG - integration_test - Step 251: Checking path alignment: vehicle=(4.436, 3.460), path_start=(0.000, 0.000), dist=5.626m
2026-01-26 14:37:27,962 - INFO - integration_test - === Calling planner.solve_mpc() at step 251 ===
2026-01-26 14:37:27,966 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:27,991 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:37:27,991 - INFO - integration_test - Warmstart k=0: x0=4.435995442749195 , y0=3.460002369475948 , psi0=-0.40354003783903614 , v0=-1.1999999738099554 , spline0=5.580000064677515 , a0=0.0 , w0=0.0
2026-01-26 14:37:27,991 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:37:27,992 - INFO - integration_test - Dyn residual k=0: pred=[4.325634244768166, 3.507123546791791, -0.40354003783903614, -1.1999999738099554, 5.460000067296519], ws=[3.810935957558822, 3.349052022255023, -0.40354003783903636, 0.17875, 4.436258903061353], res=[0.5146982872093435, 0.15807152453676787, 2.220446049250313e-16, -1.3787499738099553, 1.0237411642351661], res_norm=1.800e+00
2026-01-26 14:37:27,993 - INFO - integration_test - Dyn residual k=1: pred=[3.8273751780335328, 3.3420329300641587, -0.40354003783903636, 0.17875, 4.454133903061353], ws=[3.8135805268691545, 3.3377903072130826, -0.40354003783903636, 0.34390624999999997, 4.672669730081556], res=[0.01379465116437828, 0.004242622851076128, 0.0, -0.16515624999999998, -0.2185358270202027], res_norm=2.743e-01
2026-01-26 14:37:27,993 - INFO - integration_test - Dyn residual k=2: pred=[3.8452087823454115, 3.3242859174297847, -0.40354003783903636, 0.34390624999999997, 4.707060355081556], ws=[3.8188411041042434, 3.315890182723414, -0.40354003783903636, 0.48841796875, 4.923531728976758], res=[0.026367678241168147, 0.008395734706370561, 0.0, -0.14451171875000002, -0.21647137389520132], res_norm=2.617e-01
2026-01-26 14:37:28,008 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:28,060 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:28,080 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:28,122 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:28,142 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:28,185 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:28,204 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:28,246 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:28,265 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:28,307 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:28,325 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:28,368 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:28,387 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:28,428 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:28,447 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:28,489 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:28,508 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:28,552 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:28,573 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:28,615 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:28,634 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:28,676 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:30,273 - WARNING - integration_test - Step 251: MPC solve failed
2026-01-26 14:37:30,273 - WARNING - integration_test -   Consecutive MPC failures: 22/20
2026-01-26 14:37:30,273 - WARNING - integration_test - Step 251: Checking if vehicle should continue despite 22 consecutive failures...
2026-01-26 14:37:30,273 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 251.
2026-01-26 14:37:30,282 - INFO - integration_test - Step 250: Computed 6 numeric contouring constraints for visualization (s=5.580)
2026-01-26 14:37:30,283 - DEBUG - integration_test - Step 250: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:37:30,283 - INFO - integration_test - === Applying control at step 250 ===
2026-01-26 14:37:30,283 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.30240780871515494}
2026-01-26 14:37:30,283 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:37:30,283 - INFO - integration_test -   Planner output success: False
2026-01-26 14:37:30,283 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.30240780871515494}
2026-01-26 14:37:30,284 - INFO - integration_test - Step 250 completed in 2.338s
2026-01-26 14:37:30,341 - INFO - integration_test - Step 251 (contouring until path end)
2026-01-26 14:37:30,348 - DEBUG - integration_test - Syncing planner state at step 251: vehicle_state=[ 4.317248    3.5128962  -0.43378082 -1.39999997  5.44000007]
2026-01-26 14:37:30,348 - DEBUG - integration_test - Step 251: Using propagated spline 5.4400 (close to path, dist=1.004m, drift=0.146m)
2026-01-26 14:37:30,348 - DEBUG - integration_test -   Set spline state to 5.4400
2026-01-26 14:37:30,350 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:30,367 - DEBUG - integration_test - Step 251: Checking path alignment: vehicle=(4.317, 3.513), path_start=(0.000, 0.000), dist=5.566m
2026-01-26 14:37:30,367 - INFO - integration_test - === Calling planner.solve_mpc() at step 251 ===
2026-01-26 14:37:30,373 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:30,413 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:37:30,413 - INFO - integration_test - Warmstart k=0: x0=4.317247995129676 , y0=3.5128962033746185 , psi0=-0.43378081871055163 , v0=-1.3999999738099553 , spline0=5.44000006729652 , a0=0.0 , w0=0.0
2026-01-26 14:37:30,413 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:37:30,415 - INFO - integration_test - Dyn residual k=0: pred=[4.190214357365509, 3.571738825198269, -0.43378081871055163, -1.3999999738099553, 5.300000069915525], ws=[3.8347212780777014, 3.442236757960803, -0.4337808187105514, 0.17875, 4.700299309720762], res=[0.3554930792878075, 0.12950206723746627, -2.220446049250313e-16, -1.5787499738099553, 0.5997007601947626], res_norm=1.731e+00
2026-01-26 14:37:30,416 - INFO - integration_test - Dyn residual k=1: pred=[3.8509407517742256, 3.4347238159267017, -0.4337808187105514, 0.17875, 4.718174309720762], ws=[3.836843087893355, 3.4313275321398993, -0.4337808187105514, 0.34390624999999997, 4.936710136740965], res=[0.014097663880870748, 0.0033962837868024565, 0.0, -0.16515624999999998, -0.2185358270202027], res_norm=2.743e-01
2026-01-26 14:37:30,417 - INFO - integration_test - Dyn residual k=2: pred=[3.868048561325216, 3.4168729994326816, -0.4337808187105514, 0.34390624999999997, 4.971100761740965], ws=[3.841076735491919, 3.410117547364711, -0.4337808187105514, 0.48841796875, 4.48050142856546], res=[0.026971825833296936, 0.00675545206797068, 0.0, -0.14451171875000002, 0.4905993331755054], res_norm=5.122e-01
2026-01-26 14:37:30,441 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:30,506 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:30,527 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:30,571 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:30,592 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:30,641 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:30,661 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:30,704 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:30,722 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:30,767 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:30,786 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:30,828 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:30,847 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:30,889 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:30,908 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:30,952 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:30,972 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:31,015 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:31,033 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:31,078 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:31,100 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:31,145 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:32,742 - WARNING - integration_test - Step 251: MPC solve failed
2026-01-26 14:37:32,742 - WARNING - integration_test -   Consecutive MPC failures: 23/20
2026-01-26 14:37:32,742 - WARNING - integration_test - Step 251: Checking if vehicle should continue despite 23 consecutive failures...
2026-01-26 14:37:32,742 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 251.
2026-01-26 14:37:32,753 - INFO - integration_test - Step 250: Computed 6 numeric contouring constraints for visualization (s=5.440)
2026-01-26 14:37:32,753 - DEBUG - integration_test - Step 250: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:37:32,754 - INFO - integration_test - === Applying control at step 250 ===
2026-01-26 14:37:32,754 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.8}
2026-01-26 14:37:32,754 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:37:32,754 - INFO - integration_test -   Planner output success: False
2026-01-26 14:37:32,754 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.8}
2026-01-26 14:37:32,755 - INFO - integration_test - Step 250 completed in 2.408s
2026-01-26 14:37:32,815 - INFO - integration_test - Step 251 (contouring until path end)
2026-01-26 14:37:32,821 - DEBUG - integration_test - Syncing planner state at step 251: vehicle_state=[ 4.18386696  3.58143465 -0.51378082 -1.59999997  5.28000007]
2026-01-26 14:37:32,822 - DEBUG - integration_test - Step 251: Using propagated spline 5.2800 (close to path, dist=1.117m, drift=0.014m)
2026-01-26 14:37:32,822 - DEBUG - integration_test -   Set spline state to 5.2800
2026-01-26 14:37:32,823 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:32,836 - DEBUG - integration_test - Step 251: Checking path alignment: vehicle=(4.184, 3.581), path_start=(0.000, 0.000), dist=5.507m
2026-01-26 14:37:32,836 - INFO - integration_test - === Calling planner.solve_mpc() at step 251 ===
2026-01-26 14:37:32,840 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:32,865 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:37:32,865 - INFO - integration_test - Warmstart k=0: x0=4.183866958475719 , y0=3.5814346542151503 , psi0=-0.5137808187105516 , v0=-1.5999999738099553 , spline0=5.280000069915524 , a0=0.0 , w0=0.0
2026-01-26 14:37:32,865 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:37:32,866 - INFO - integration_test - Dyn residual k=0: pred=[4.044524150417573, 3.660070403110859, -0.5137808187105516, -1.5999999738099553, 5.120000072534529], ws=[3.8625365157616693, 3.545025731238182, -0.5137808187105515, 0.17875, 4.742319514359969], res=[0.18198763465590329, 0.1150446718726772, -1.1102230246251565e-16, -1.7787499738099553, 0.3776805581745597], res_norm=1.831e+00
2026-01-26 14:37:32,867 - INFO - integration_test - Dyn residual k=1: pred=[3.8781037203542317, 3.5362406435224383, -0.5137808187105515, 0.17875, 4.760194514359969], ws=[3.864253287697699, 3.533743118661688, -0.5137808187105515, 0.34390624999999997, 4.978730341380171], res=[0.013850432656532519, 0.0024975248607503886, 0.0, -0.16515624999999998, -0.2185358270202018], res_norm=2.743e-01
2026-01-26 14:37:32,867 - INFO - integration_test - Dyn residual k=2: pred=[3.894203827302795, 3.516841039935856, -0.5137808187105515, 0.34390624999999997, 5.013120966380171], ws=[3.867702754410832, 3.511821620458795, -0.5137808187105515, 0.48841796875, 4.724541835224868], res=[0.026501072891962796, 0.005019419477060971, 0.0, -0.14451171875000002, 0.288579131155303], res_norm=3.239e-01
2026-01-26 14:37:32,882 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:32,935 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:32,956 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:33,000 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:33,020 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:33,063 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:33,082 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:33,125 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:33,144 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:33,188 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:33,207 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:33,250 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:33,270 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:33,313 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:33,332 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:33,377 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:33,398 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:33,440 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:33,459 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:33,500 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:33,518 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:33,560 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:35,229 - WARNING - integration_test - Step 251: MPC solve failed
2026-01-26 14:37:35,229 - WARNING - integration_test -   Consecutive MPC failures: 24/20
2026-01-26 14:37:35,229 - WARNING - integration_test - Step 251: Checking if vehicle should continue despite 24 consecutive failures...
2026-01-26 14:37:35,229 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 251.
2026-01-26 14:37:35,238 - INFO - integration_test - Step 250: Computed 6 numeric contouring constraints for visualization (s=5.280)
2026-01-26 14:37:35,239 - DEBUG - integration_test - Step 250: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:37:35,239 - INFO - integration_test - === Applying control at step 250 ===
2026-01-26 14:37:35,239 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.2832480830471953}
2026-01-26 14:37:35,239 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:37:35,239 - INFO - integration_test -   Planner output success: False
2026-01-26 14:37:35,239 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.2832480830471953}
2026-01-26 14:37:35,240 - INFO - integration_test - Step 250 completed in 2.420s
2026-01-26 14:37:35,298 - INFO - integration_test - Step 251 (contouring until path end)
2026-01-26 14:37:35,304 - DEBUG - integration_test - Syncing planner state at step 251: vehicle_state=[ 4.037042    3.66711137 -0.54210563 -1.79999997  5.10000007]
2026-01-26 14:37:35,304 - DEBUG - integration_test - Step 251: Using propagated spline 5.1000 (close to path, dist=1.259m, drift=0.194m)
2026-01-26 14:37:35,304 - DEBUG - integration_test -   Set spline state to 5.1000
2026-01-26 14:37:35,305 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:35,319 - DEBUG - integration_test - Step 251: Checking path alignment: vehicle=(4.037, 3.667), path_start=(0.000, 0.000), dist=5.454m
2026-01-26 14:37:35,319 - INFO - integration_test - === Calling planner.solve_mpc() at step 251 ===
2026-01-26 14:37:35,323 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:35,348 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:37:35,348 - INFO - integration_test - Warmstart k=0: x0=4.037041998005892 , y0=3.667111373295902 , psi0=-0.5421056270152711 , v0=-1.7999999738099552 , spline0=5.100000072534529 , a0=0.0 , w0=0.0
2026-01-26 14:37:35,348 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:37:35,349 - INFO - integration_test - Dyn residual k=0: pred=[3.8828496438652005, 3.7599807276691837, -0.5421056270152711, -1.7999999738099552, 4.920000075153534], ws=[3.8948874721354434, 3.656164210259141, -0.5421056270152711, 0.17875, 4.764339718999175], res=[-0.012037828270242912, 0.1038165174100425, 0.0, -1.9787499738099552, 0.15566035615435858], res_norm=1.988e+00
2026-01-26 14:37:35,350 - INFO - integration_test - Dyn residual k=1: pred=[3.910199629748596, 3.64694176729483, -0.5421056270152711, 0.17875, 4.7822147189991755], ws=[3.896046133095891, 3.645398237366214, -0.5421056270152711, 0.34390624999999997, 5.000750546019378], res=[0.014153496652705044, 0.0015435299286159498, 0.0, -0.16515624999999998, -0.2185358270202027], res_norm=2.743e-01
2026-01-26 14:37:35,351 - INFO - integration_test - Dyn residual k=2: pred=[3.9255059747974195, 3.627654708551136, -0.5421056270152711, 0.34390624999999997, 5.0351411710193785], ws=[3.8983992750547145, 3.624483753653388, -0.5421056270152711, 0.48841796875, 4.746562039864075], res=[0.027106699742704965, 0.0031709548977483237, 0.0, -0.14451171875000002, 0.28857913115530387], res_norm=3.239e-01
2026-01-26 14:37:35,367 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:35,421 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:35,440 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:35,483 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:35,504 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:35,546 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:35,567 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:35,614 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:35,633 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:35,677 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:35,696 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:35,739 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:35,760 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:35,804 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:35,823 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:35,867 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:35,889 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:35,935 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:35,958 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:36,002 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:36,022 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:36,062 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:37,705 - WARNING - integration_test - Step 251: MPC solve failed
2026-01-26 14:37:37,705 - WARNING - integration_test -   Consecutive MPC failures: 25/20
2026-01-26 14:37:37,705 - WARNING - integration_test - Step 251: Checking if vehicle should continue despite 25 consecutive failures...
2026-01-26 14:37:37,705 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 251.
2026-01-26 14:37:37,715 - INFO - integration_test - Step 250: Computed 6 numeric contouring constraints for visualization (s=5.100)
2026-01-26 14:37:37,715 - DEBUG - integration_test - Step 250: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:37:37,715 - INFO - integration_test - === Applying control at step 250 ===
2026-01-26 14:37:37,715 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.8}
2026-01-26 14:37:37,715 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:37:37,715 - INFO - integration_test -   Planner output success: False
2026-01-26 14:37:37,715 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.8}
2026-01-26 14:37:37,717 - INFO - integration_test - Step 250 completed in 2.413s
2026-01-26 14:37:37,779 - INFO - integration_test - Step 251 (contouring until path end)
2026-01-26 14:37:37,786 - DEBUG - integration_test - Syncing planner state at step 251: vehicle_state=[ 3.8784493   3.77165382 -0.62210563 -1.99999997  4.90000008]
2026-01-26 14:37:37,786 - DEBUG - integration_test - Step 251: Using propagated spline 4.9000 (close to path, dist=1.430m, drift=0.394m)
2026-01-26 14:37:37,786 - DEBUG - integration_test -   Set spline state to 4.9000
2026-01-26 14:37:37,787 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:37,802 - DEBUG - integration_test - Step 251: Checking path alignment: vehicle=(3.878, 3.772), path_start=(0.000, 0.000), dist=5.410m
2026-01-26 14:37:37,802 - INFO - integration_test - === Calling planner.solve_mpc() at step 251 ===
2026-01-26 14:37:37,806 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:37,830 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:37:37,830 - INFO - integration_test - Warmstart k=0: x0=3.8784492978832943 , y0=3.771653824202214 , psi0=-0.6221056270152711 , v0=-1.9999999738099552 , spline0=4.9000000751535335 , a0=0.0 , w0=0.0
2026-01-26 14:37:37,830 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:37:37,831 - INFO - integration_test - Dyn residual k=0: pred=[3.7159186580108083, 3.888203341811849, -0.6221056270152711, -1.9999999738099552, 4.700000077772538], ws=[3.87763664467329, 3.7722365717978934, -0.6221056270152712, 0.17875, 5.009027815734108], res=[-0.16171798666248183, 0.1159667700139555, 1.1102230246251565e-16, -2.178749973809955, -0.30902773796157046], res_norm=2.210e+00
2026-01-26 14:37:37,832 - INFO - integration_test - Dyn residual k=1: pred=[3.892162820802114, 3.7618199585251264, -0.6221056270152712, 0.17875, 5.0269028157341085], ws=[3.892162820802114, 3.7618199585251264, -0.6221056270152712, 0.34390624999999997, 5.026396818259361], res=[0.0, 0.0, 0.0, -0.16515624999999998, 0.0005059974747476659], res_norm=1.652e-01
2026-01-26 14:37:37,833 - INFO - integration_test - Dyn residual k=2: pred=[3.920110472602413, 3.741778904492469, -0.6221056270152712, 0.34390624999999997, 5.060787443259361], ws=[3.920110472602413, 3.741778904492469, -0.6221056270152712, 0.48841796875, 4.546562042483079], res=[0.0, 0.0, 0.0, -0.14451171875000002, 0.5142254007762821], res_norm=5.341e-01
2026-01-26 14:37:37,848 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:37,901 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:37,921 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:37,964 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:37,986 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:38,028 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:38,048 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:38,090 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:38,110 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:38,154 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:38,173 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:38,216 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:38,236 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:38,279 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:38,299 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:38,342 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:38,371 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:38,441 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:38,464 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:38,506 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:38,524 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:38,568 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:40,155 - WARNING - integration_test - Step 251: MPC solve failed
2026-01-26 14:37:40,155 - WARNING - integration_test -   Consecutive MPC failures: 26/20
2026-01-26 14:37:40,155 - WARNING - integration_test - Step 251: Checking if vehicle should continue despite 26 consecutive failures...
2026-01-26 14:37:40,155 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 251.
2026-01-26 14:37:40,166 - INFO - integration_test - Step 250: Computed 6 numeric contouring constraints for visualization (s=4.900)
2026-01-26 14:37:40,166 - DEBUG - integration_test - Step 250: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:37:40,166 - INFO - integration_test - === Applying control at step 250 ===
2026-01-26 14:37:40,166 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.5090936729381541}
2026-01-26 14:37:40,166 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:37:40,166 - INFO - integration_test -   Planner output success: False
2026-01-26 14:37:40,166 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.5090936729381541}
2026-01-26 14:37:40,168 - INFO - integration_test - Step 250 completed in 2.382s
2026-01-26 14:37:40,225 - INFO - integration_test - Step 251 (contouring until path end)
2026-01-26 14:37:40,229 - DEBUG - integration_test - Syncing planner state at step 251: vehicle_state=[ 3.71103141  3.89838871 -0.67301499 -2.19999997  4.68000008]
2026-01-26 14:37:40,230 - DEBUG - integration_test - Step 251: Using propagated spline 4.6800 (close to path, dist=1.612m, drift=0.261m)
2026-01-26 14:37:40,230 - DEBUG - integration_test -   Set spline state to 4.6800
2026-01-26 14:37:40,231 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:40,246 - DEBUG - integration_test - Step 251: Checking path alignment: vehicle=(3.711, 3.898), path_start=(0.000, 0.000), dist=5.382m
2026-01-26 14:37:40,246 - INFO - integration_test - === Calling planner.solve_mpc() at step 251 ===
2026-01-26 14:37:40,249 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:40,274 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:37:40,274 - INFO - integration_test - Warmstart k=0: x0=3.7110314070212986 , y0=3.89838871369346 , psi0=-0.6730149943090865 , v0=-2.1999999738099554 , spline0=4.680000077772538 , a0=0.0 , w0=0.0
2026-01-26 14:37:40,274 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:37:40,275 - INFO - integration_test - Dyn residual k=0: pred=[3.5390033249382484, 4.035524915414469, -0.6730149943090865, -2.1999999738099554, 4.460000080391543], ws=[3.7102494611843397, 3.89901206007234, -0.6730149943090864, 0.17875, 4.506083369470068], res=[-0.1712461362460913, 0.1365128553421293, -1.1102230246251565e-16, -2.3787499738099553, -0.04608328907852499], res_norm=2.389e+00
2026-01-26 14:37:40,276 - INFO - integration_test - Dyn residual k=1: pred=[3.724226743019981, 3.8878697435498633, -0.6730149943090864, 0.17875, 4.523958369470068], ws=[3.724226743019981, 3.8878697435498633, -0.6730149943090864, 0.34390624999999997, 4.522062851793301], res=[0.0, 0.0, 0.0, -0.16515624999999998, 0.001895517676767433], res_norm=1.652e-01
2026-01-26 14:37:40,277 - INFO - integration_test - Dyn residual k=2: pred=[3.7511183490691473, 3.8664324719887, -0.6730149943090864, 0.34390624999999997, 4.556453476793301], ws=[3.7511183490691473, 3.8664324719887, -0.6730149943090864, 0.48841796875, 4.742355151344261], res=[0.0, 0.0, 0.0, -0.14451171875000002, -0.1859016745509603], res_norm=2.355e-01
2026-01-26 14:37:40,293 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:40,346 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:40,367 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:40,410 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:40,429 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:40,470 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:40,489 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:40,531 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:40,552 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:40,597 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:40,618 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:40,661 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:40,681 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:40,723 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:40,742 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:40,786 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:40,805 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:40,848 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:40,868 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:40,909 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:40,929 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:40,971 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:42,631 - WARNING - integration_test - Step 251: MPC solve failed
2026-01-26 14:37:42,632 - WARNING - integration_test -   Consecutive MPC failures: 27/20
2026-01-26 14:37:42,632 - WARNING - integration_test - Step 251: Checking if vehicle should continue despite 27 consecutive failures...
2026-01-26 14:37:42,632 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 251.
2026-01-26 14:37:42,642 - INFO - integration_test - Step 250: Computed 6 numeric contouring constraints for visualization (s=4.680)
2026-01-26 14:37:42,642 - DEBUG - integration_test - Step 250: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:37:42,642 - INFO - integration_test - === Applying control at step 250 ===
2026-01-26 14:37:42,642 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.8}
2026-01-26 14:37:42,642 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:37:42,642 - INFO - integration_test -   Planner output success: False
2026-01-26 14:37:42,642 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.8}
2026-01-26 14:37:42,644 - INFO - integration_test - Step 250 completed in 2.415s
2026-01-26 14:37:42,706 - INFO - integration_test - Step 251 (contouring until path end)
2026-01-26 14:37:42,710 - DEBUG - integration_test - Syncing planner state at step 251: vehicle_state=[ 3.53719456  4.04889639 -0.75301499 -2.39999997  4.44000008]
2026-01-26 14:37:42,711 - DEBUG - integration_test - Step 251: Using propagated spline 4.4400 (close to path, dist=1.822m, drift=0.501m)
2026-01-26 14:37:42,711 - DEBUG - integration_test -   Set spline state to 4.4400
2026-01-26 14:37:42,712 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:42,726 - DEBUG - integration_test - Step 251: Checking path alignment: vehicle=(3.537, 4.049), path_start=(0.000, 0.000), dist=5.376m
2026-01-26 14:37:42,726 - INFO - integration_test - === Calling planner.solve_mpc() at step 251 ===
2026-01-26 14:37:42,729 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:42,753 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:37:42,753 - INFO - integration_test - Warmstart k=0: x0=3.537194561191667 , y0=4.048896393847072 , psi0=-0.7530149943090865 , v0=-2.3999999738099556 , spline0=4.440000080391543 , a0=0.0 , w0=0.0
2026-01-26 14:37:42,753 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:37:42,754 - INFO - integration_test - Dyn residual k=0: pred=[3.362083264843706, 4.213018399179125, -0.7530149943090865, -2.3999999738099556, 4.200000083010547], ws=[3.536464930782255, 4.049580235543418, -0.7530149943090865, 0.17875, 4.490102310892954], res=[-0.1743816659385491, 0.16343816363570696, 0.0, -2.5787499738099555, -0.29010222788240725], res_norm=2.606e+00
2026-01-26 14:37:42,755 - INFO - integration_test - Dyn residual k=1: pred=[3.5495070743504935, 4.037356565221233, -0.7530149943090865, 0.17875, 4.507977310892954], ws=[3.5495070743504935, 4.037356565221233, -0.7530149943090865, 0.34390624999999997, 4.698192116809955], res=[0.0, 0.0, 0.0, -0.16515624999999998, -0.1902148059170008], res_norm=2.519e-01
2026-01-26 14:37:42,756 - INFO - integration_test - Dyn residual k=2: pred=[3.5745995201491763, 4.0138388218828345, -0.7530149943090865, 0.34390624999999997, 4.7325827418099555], ws=[3.5745995201491763, 4.0138388218828345, -0.7530149943090865, 0.48841796875, 4.722366339505663], res=[0.0, 0.0, 0.0, -0.14451171875000002, 0.010216402304292771], res_norm=1.449e-01
2026-01-26 14:37:42,772 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:42,824 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:42,843 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:42,885 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:42,905 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:42,948 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:42,968 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:43,010 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:43,030 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:43,072 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:43,091 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:43,133 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:43,153 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:43,196 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:43,215 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:43,257 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:43,276 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:43,317 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:43,335 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:43,378 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:43,396 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:43,439 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:45,092 - WARNING - integration_test - Step 251: MPC solve failed
2026-01-26 14:37:45,092 - WARNING - integration_test -   Consecutive MPC failures: 28/20
2026-01-26 14:37:45,092 - WARNING - integration_test - Step 251: Checking if vehicle should continue despite 28 consecutive failures...
2026-01-26 14:37:45,092 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 251.
2026-01-26 14:37:45,101 - INFO - integration_test - Step 250: Computed 6 numeric contouring constraints for visualization (s=4.440)
2026-01-26 14:37:45,102 - DEBUG - integration_test - Step 250: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:37:45,102 - INFO - integration_test - === Applying control at step 250 ===
2026-01-26 14:37:45,102 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.8}
2026-01-26 14:37:45,102 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:37:45,102 - INFO - integration_test -   Planner output success: False
2026-01-26 14:37:45,102 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.8}
2026-01-26 14:37:45,103 - INFO - integration_test - Step 250 completed in 2.393s
2026-01-26 14:37:45,165 - INFO - integration_test - Step 251 (contouring until path end)
2026-01-26 14:37:45,172 - DEBUG - integration_test - Syncing planner state at step 251: vehicle_state=[ 3.36191121  4.22706047 -0.83301499 -2.59999997  4.18000008]
2026-01-26 14:37:45,173 - INFO - integration_test - Step 251: Safety reset spline from 4.1800 to 4.9410 (vehicle at (3.36, 4.23), closest path point at (4.35, 2.42), distance=2.061m, drift=0.761m)
2026-01-26 14:37:45,173 - DEBUG - integration_test -   Set spline state to 4.9410
2026-01-26 14:37:45,174 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:45,189 - DEBUG - integration_test - Step 251: Checking path alignment: vehicle=(3.362, 4.227), path_start=(0.000, 0.000), dist=5.401m
2026-01-26 14:37:45,189 - INFO - integration_test - === Calling planner.solve_mpc() at step 251 ===
2026-01-26 14:37:45,192 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:45,215 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:37:45,215 - INFO - integration_test - Warmstart k=0: x0=3.361911205577499 , y0=4.227060467830199 , psi0=-0.8330149943090864 , v0=-2.5999999738099557 , spline0=4.940992899356295 , a0=0.0 , w0=0.0
2026-01-26 14:37:45,215 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:37:45,216 - INFO - integration_test - Dyn residual k=0: pred=[3.1870227696710005, 4.419450783657936, -0.8330149943090864, -2.5999999738099557, 4.6809929019753], ws=[3.3612385577403137, 4.227800430590837, -0.8330149943090865, 0.17875, 4.928913126267864], res=[-0.17421578806931315, 0.1916503530670992, 1.1102230246251565e-16, -2.7787499738099557, -0.24792022429256466], res_norm=2.802e+00
2026-01-26 14:37:45,217 - INFO - integration_test - Dyn residual k=1: pred=[3.3732621378300003, 4.214573596244445, -0.8330149943090865, 0.17875, 4.946788126267864], ws=[3.3732621378300003, 4.214573596244445, -0.8330149943090865, 0.34390624999999997, 4.445479085948151], res=[0.0, 0.0, 0.0, -0.16515624999999998, 0.5013090403197129], res_norm=5.278e-01
2026-01-26 14:37:45,218 - INFO - integration_test - Dyn residual k=2: pred=[3.3963949173556993, 4.189125814429402, -0.8330149943090865, 0.34390624999999997, 4.479869710948152], ws=[3.3963949173556993, 4.189125814429402, -0.8330149943090865, 0.48841796875, 4.696341084843353], res=[0.0, 0.0, 0.0, -0.14451171875000002, -0.21647137389520132], res_norm=2.603e-01
2026-01-26 14:37:45,233 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:45,285 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:45,304 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:45,347 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:45,368 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:45,411 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:45,432 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:45,475 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:45,494 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:45,536 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:45,556 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:45,601 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:45,622 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:45,665 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:45,684 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:45,727 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:45,746 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:45,790 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:45,810 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:45,851 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:45,870 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:45,911 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:47,556 - WARNING - integration_test - Step 251: MPC solve failed
2026-01-26 14:37:47,556 - WARNING - integration_test -   Consecutive MPC failures: 29/20
2026-01-26 14:37:47,556 - WARNING - integration_test - Step 251: Checking if vehicle should continue despite 29 consecutive failures...
2026-01-26 14:37:47,556 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 251.
2026-01-26 14:37:47,566 - INFO - integration_test - Step 250: Computed 6 numeric contouring constraints for visualization (s=4.941)
2026-01-26 14:37:47,567 - DEBUG - integration_test - Step 250: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:37:47,567 - INFO - integration_test - === Applying control at step 250 ===
2026-01-26 14:37:47,567 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.4760614154210385}
2026-01-26 14:37:47,567 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:37:47,567 - INFO - integration_test -   Planner output success: False
2026-01-26 14:37:47,567 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.4760614154210385}
2026-01-26 14:37:47,568 - INFO - integration_test - Step 250 completed in 2.396s
2026-01-26 14:37:47,630 - INFO - integration_test - Step 251 (contouring until path end)
2026-01-26 14:37:47,636 - DEBUG - integration_test - Syncing planner state at step 251: vehicle_state=[ 3.18517956  4.43114908 -0.88062114 -2.79999997  4.6609929 ]
2026-01-26 14:37:47,636 - INFO - integration_test - Step 251: Safety reset spline from 4.6610 to 4.9410 (vehicle at (3.19, 4.43), closest path point at (4.35, 2.42), distance=2.326m, drift=0.280m)
2026-01-26 14:37:47,636 - DEBUG - integration_test -   Set spline state to 4.9410
2026-01-26 14:37:47,638 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:47,653 - DEBUG - integration_test - Step 251: Checking path alignment: vehicle=(3.185, 4.431), path_start=(0.000, 0.000), dist=5.457m
2026-01-26 14:37:47,653 - INFO - integration_test - === Calling planner.solve_mpc() at step 251 ===
2026-01-26 14:37:47,656 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:47,681 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:37:47,681 - INFO - integration_test - Warmstart k=0: x0=3.185179558868792 , y0=4.431149083847298 , psi0=-0.8806211358511903 , v0=-2.799999973809956 , spline0=4.940992899356295 , a0=0.0 , w0=0.0
2026-01-26 14:37:47,681 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:37:47,682 - INFO - integration_test - Dyn residual k=0: pred=[3.0069113199605786, 4.647066738359202, -0.8806211358511903, -2.799999973809956, 4.660992901975299], ws=[3.1845428865810215, 4.431920218334911, -0.8806211358511904, 0.17875, 4.42616351082502], res=[-0.17763156662044288, 0.21514652002429102, 1.1102230246251565e-16, -2.978749973809956, 0.2348293911502788], res_norm=3.001e+00
2026-01-26 14:37:47,683 - INFO - integration_test - Dyn residual k=1: pred=[3.195923403724914, 4.418136189368837, -0.8806211358511904, 0.17875, 4.44403851082502], ws=[3.195923403724914, 4.418136189368837, -0.8806211358511904, 0.34390624999999997, 4.441448233047243], res=[0.0, 0.0, 0.0, -0.16515624999999998, 0.0025902777777773167], res_norm=1.652e-01
2026-01-26 14:37:47,684 - INFO - integration_test - Dyn residual k=2: pred=[3.2178189616215116, 4.391616392380787, -0.8806211358511904, 0.34390624999999997, 4.4758388580472435], ws=[3.2178189616215116, 4.391616392380787, -0.8806211358511904, 0.48841796875, 4.6885649676959416], res=[0.0, 0.0, 0.0, -0.14451171875000002, -0.2127261096486981], res_norm=2.572e-01
2026-01-26 14:37:47,698 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:47,751 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:47,772 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:47,817 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:47,836 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:47,878 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:47,897 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:47,939 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:47,959 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:48,003 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:48,022 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:48,063 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:48,083 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:48,124 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:48,143 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:48,188 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:48,207 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:48,249 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:48,268 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:48,310 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:48,329 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:48,370 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:50,022 - WARNING - integration_test - Step 251: MPC solve failed
2026-01-26 14:37:50,022 - WARNING - integration_test -   Consecutive MPC failures: 30/20
2026-01-26 14:37:50,022 - WARNING - integration_test - Step 251: Checking if vehicle should continue despite 30 consecutive failures...
2026-01-26 14:37:50,022 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 251.
2026-01-26 14:37:50,033 - INFO - integration_test - Step 250: Computed 6 numeric contouring constraints for visualization (s=4.941)
2026-01-26 14:37:50,033 - DEBUG - integration_test - Step 250: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:37:50,034 - INFO - integration_test - === Applying control at step 250 ===
2026-01-26 14:37:50,034 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.33155394295719454}
2026-01-26 14:37:50,034 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:37:50,034 - INFO - integration_test -   Planner output success: False
2026-01-26 14:37:50,034 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.33155394295719454}
2026-01-26 14:37:50,035 - INFO - integration_test - Step 250 completed in 2.400s
2026-01-26 14:37:50,100 - INFO - integration_test - Step 251 (contouring until path end)
2026-01-26 14:37:50,112 - DEBUG - integration_test - Syncing planner state at step 251: vehicle_state=[ 3.00432852  4.65783212 -0.91377653 -2.99999997  4.6409929 ]
2026-01-26 14:37:50,113 - INFO - integration_test - Step 251: Safety reset spline from 4.6410 to 4.5881 (vehicle at (3.00, 4.66), closest path point at (4.06, 2.27), distance=2.609m, drift=0.053m)
2026-01-26 14:37:50,113 - DEBUG - integration_test -   Set spline state to 4.5881
2026-01-26 14:37:50,116 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:50,140 - DEBUG - integration_test - Step 251: Checking path alignment: vehicle=(3.004, 4.658), path_start=(0.000, 0.000), dist=5.543m
2026-01-26 14:37:50,140 - INFO - integration_test - === Calling planner.solve_mpc() at step 251 ===
2026-01-26 14:37:50,145 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:50,184 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:37:50,184 - INFO - integration_test - Warmstart k=0: x0=3.0043285244559037 , y0=4.657832124935911 , psi0=-0.9137765301469097 , v0=-2.999999973809956 , spline0=4.588064835116559 , a0=0.0 , w0=0.0
2026-01-26 14:37:50,184 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:37:50,186 - INFO - integration_test - Dyn residual k=0: pred=[2.8211005874861486, 4.895376902909255, -0.9137765301469097, -2.999999973809956, 4.288064837735564], ws=[3.0037177646606725, 4.6586239408694015, -0.9137765301469098, 0.17875, 4.17227689808093], res=[-0.18261717717452397, 0.2367529620398532, 1.1102230246251565e-16, -3.178749973809956, 0.11578793965463419], res_norm=3.195e+00
2026-01-26 14:37:50,187 - INFO - integration_test - Dyn residual k=1: pred=[3.014635096000429, 4.644470231058261, -0.9137765301469098, 0.17875, 4.19015189808093], ws=[3.014635096000429, 4.644470231058261, -0.9137765301469098, 0.34390624999999997, 4.381968390962072], res=[0.0, 0.0, 0.0, -0.16515624999999998, -0.19181649288114233], res_norm=2.531e-01
2026-01-26 14:37:50,189 - INFO - integration_test - Dyn residual k=2: pred=[3.0356395070832995, 4.617239186220568, -0.9137765301469098, 0.34390624999999997, 4.4163590159620725], ws=[3.0356395070832995, 4.617239186220568, -0.9137765301469098, 0.48841796875, 4.404169207723436], res=[0.0, 0.0, 0.0, -0.14451171875000002, 0.012189808238636246], res_norm=1.450e-01
2026-01-26 14:37:50,210 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:50,264 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:50,283 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:50,325 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:50,344 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:50,387 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:50,406 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:50,448 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:50,468 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:50,510 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:50,529 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:50,572 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:50,592 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:50,638 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:50,657 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:50,701 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:50,720 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:50,763 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:50,783 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:50,824 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:50,844 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:50,885 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:52,473 - WARNING - integration_test - Step 251: MPC solve failed
2026-01-26 14:37:52,473 - WARNING - integration_test -   Consecutive MPC failures: 31/20
2026-01-26 14:37:52,473 - WARNING - integration_test - Step 251: Checking if vehicle should continue despite 31 consecutive failures...
2026-01-26 14:37:52,473 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 251.
2026-01-26 14:37:52,482 - INFO - integration_test - Step 250: Computed 6 numeric contouring constraints for visualization (s=4.588)
2026-01-26 14:37:52,482 - DEBUG - integration_test - Step 250: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:37:52,482 - INFO - integration_test - === Applying control at step 250 ===
2026-01-26 14:37:52,482 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.4796886395153619}
2026-01-26 14:37:52,482 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:37:52,482 - INFO - integration_test -   Planner output success: False
2026-01-26 14:37:52,483 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.4796886395153619}
2026-01-26 14:37:52,484 - INFO - integration_test - Step 250 completed in 2.372s
2026-01-26 14:37:52,544 - INFO - integration_test - Step 251 (contouring until path end)
2026-01-26 14:37:52,550 - DEBUG - integration_test - Syncing planner state at step 251: vehicle_state=[ 2.8210162   4.90778846 -0.96174539 -3.19999997  4.26806484]
2026-01-26 14:37:52,550 - INFO - integration_test - Step 251: Safety reset spline from 4.2681 to 4.5881 (vehicle at (2.82, 4.91), closest path point at (4.06, 2.27), distance=2.913m, drift=0.320m)
2026-01-26 14:37:52,550 - DEBUG - integration_test -   Set spline state to 4.5881
2026-01-26 14:37:52,552 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:52,567 - DEBUG - integration_test - Step 251: Checking path alignment: vehicle=(2.821, 4.908), path_start=(0.000, 0.000), dist=5.661m
2026-01-26 14:37:52,567 - INFO - integration_test - === Calling planner.solve_mpc() at step 251 ===
2026-01-26 14:37:52,570 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:52,593 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:37:52,593 - INFO - integration_test - Warmstart k=0: x0=2.821016202535768 , y0=4.907788464914524 , psi0=-0.961745394098446 , v0=-3.1999999738099563 , spline0=4.588064835116559 , a0=0.0 , w0=0.0
2026-01-26 14:37:52,593 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:37:52,594 - INFO - integration_test - Dyn residual k=0: pred=[2.6379476276871827, 5.170249691054206, -0.961745394098446, -3.1999999738099563, 4.268064837735563], ws=[2.820444113234684, 4.908608656252923, -0.961745394098446, 0.17875, 4.17227689808093], res=[-0.1824964855475013, 0.26164103480128276, 0.0, -3.3787499738099562, 0.09578793965463372], res_norm=3.395e+00
2026-01-26 14:37:52,595 - INFO - integration_test - Dyn residual k=1: pred=[2.830670209491561, 4.893947736079037, -0.961745394098446, 0.17875, 4.19015189808093], ws=[2.830670209491561, 4.893947736079037, -0.961745394098446, 0.34390624999999997, 4.381968390962072], res=[0.0, 0.0, 0.0, -0.16515624999999998, -0.19181649288114233], res_norm=2.531e-01
2026-01-26 14:37:52,596 - INFO - integration_test - Dyn residual k=2: pred=[2.850344718111654, 4.865740843331899, -0.961745394098446, 0.34390624999999997, 4.4163590159620725], ws=[2.850344718111654, 4.865740843331899, -0.961745394098446, 0.48841796875, 4.404169207723436], res=[0.0, 0.0, 0.0, -0.14451171875000002, 0.012189808238636246], res_norm=1.450e-01
2026-01-26 14:37:52,612 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:52,667 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:52,687 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:52,729 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:52,749 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:52,793 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:52,813 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:52,854 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:52,874 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:52,917 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:52,936 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:52,980 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:52,999 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:53,040 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:53,059 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:53,100 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:53,119 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:53,161 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:53,181 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:53,221 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:53,241 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:53,281 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:54,913 - WARNING - integration_test - Step 251: MPC solve failed
2026-01-26 14:37:54,913 - WARNING - integration_test -   Consecutive MPC failures: 32/20
2026-01-26 14:37:54,913 - WARNING - integration_test - Step 251: Checking if vehicle should continue despite 32 consecutive failures...
2026-01-26 14:37:54,913 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 251.
2026-01-26 14:37:54,923 - INFO - integration_test - Step 250: Computed 6 numeric contouring constraints for visualization (s=4.588)
2026-01-26 14:37:54,923 - DEBUG - integration_test - Step 250: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:37:54,923 - INFO - integration_test - === Applying control at step 250 ===
2026-01-26 14:37:54,923 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.33821509355020396}
2026-01-26 14:37:54,923 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:37:54,923 - INFO - integration_test -   Planner output success: False
2026-01-26 14:37:54,923 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.33821509355020396}
2026-01-26 14:37:54,925 - INFO - integration_test - Step 250 completed in 2.375s
2026-01-26 14:37:54,986 - INFO - integration_test - Step 251 (contouring until path end)
2026-01-26 14:37:54,991 - DEBUG - integration_test - Syncing planner state at step 251: vehicle_state=[ 2.63688618  5.18162373 -0.9955669  -3.39999997  4.24806484]
2026-01-26 14:37:54,992 - INFO - integration_test - Step 251: Safety reset spline from 4.2481 to 4.5881 (vehicle at (2.64, 5.18), closest path point at (4.06, 2.27), distance=3.239m, drift=0.340m)
2026-01-26 14:37:54,992 - DEBUG - integration_test -   Set spline state to 4.5881
2026-01-26 14:37:54,993 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:55,007 - DEBUG - integration_test - Step 251: Checking path alignment: vehicle=(2.637, 5.182), path_start=(0.000, 0.000), dist=5.814m
2026-01-26 14:37:55,008 - INFO - integration_test - === Calling planner.solve_mpc() at step 251 ===
2026-01-26 14:37:55,011 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:55,033 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:37:55,034 - INFO - integration_test - Warmstart k=0: x0=2.6368861767213523 , y0=5.181623734181659 , psi0=-0.9955669034534663 , v0=-3.3999999738099564 , spline0=4.588064835116559 , a0=0.0 , w0=0.0
2026-01-26 14:37:55,034 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:37:55,035 - INFO - integration_test - Dyn residual k=0: pred=[2.451916893877789, 5.466906686044217, -0.9955669034534663, -3.3999999738099564, 4.248064837735564], ws=[2.6363421494146806, 5.1824628016936005, -0.9955669034534664, 0.17875, 4.366336288689345], res=[-0.1844252555368917, 0.2844438843506163, 1.1102230246251565e-16, -3.5787499738099564, -0.118271450953781], res_norm=3.597e+00
2026-01-26 14:37:55,035 - INFO - integration_test - Dyn residual k=1: pred=[2.646066637521437, 5.167464469917648, -0.9955669034534664, 0.17875, 4.384211288689345], ws=[2.646066637521437, 5.167464469917648, -0.9955669034534664, 0.34390624999999997, 4.381968390962072], res=[0.0, 0.0, 0.0, -0.16515624999999998, 0.002242897727272819], res_norm=1.652e-01
2026-01-26 14:37:55,036 - INFO - integration_test - Dyn residual k=2: pred=[2.6647760766149426, 5.138608413764787, -0.9955669034534664, 0.34390624999999997, 4.4163590159620725], ws=[2.6647760766149426, 5.138608413764787, -0.9955669034534664, 0.48841796875, 4.599910061400033], res=[0.0, 0.0, 0.0, -0.14451171875000002, -0.18355104543796052], res_norm=2.336e-01
2026-01-26 14:37:55,052 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:55,104 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:55,124 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:55,168 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:55,190 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:55,233 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:55,253 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:55,296 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:55,317 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:55,360 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:55,381 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:55,425 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:55,444 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:55,488 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:55,507 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:55,550 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:55,572 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:55,620 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:55,642 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:55,687 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:55,705 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:55,746 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:57,438 - WARNING - integration_test - Step 251: MPC solve failed
2026-01-26 14:37:57,438 - WARNING - integration_test -   Consecutive MPC failures: 33/20
2026-01-26 14:37:57,438 - WARNING - integration_test - Step 251: Checking if vehicle should continue despite 33 consecutive failures...
2026-01-26 14:37:57,438 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 251.
2026-01-26 14:37:57,448 - INFO - integration_test - Step 250: Computed 6 numeric contouring constraints for visualization (s=4.588)
2026-01-26 14:37:57,448 - DEBUG - integration_test - Step 250: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:37:57,449 - INFO - integration_test - === Applying control at step 250 ===
2026-01-26 14:37:57,449 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.2397175860312144}
2026-01-26 14:37:57,449 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:37:57,449 - INFO - integration_test -   Planner output success: False
2026-01-26 14:37:57,449 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.2397175860312144}
2026-01-26 14:37:57,450 - INFO - integration_test - Step 250 completed in 2.459s
2026-01-26 14:37:57,450 - INFO - integration_test - Step 251 (contouring until path end)
2026-01-26 14:37:57,450 - DEBUG - integration_test - Syncing planner state at step 251: vehicle_state=[ 2.45004841  5.47757268 -1.01953866 -3.59999997  4.22806484]
2026-01-26 14:37:57,451 - INFO - integration_test - Step 251: Safety reset spline from 4.2281 to 4.5881 (vehicle at (2.45, 5.48), closest path point at (4.06, 2.27), distance=3.588m, drift=0.360m)
2026-01-26 14:37:57,451 - DEBUG - integration_test -   Set spline state to 4.5881
2026-01-26 14:37:57,451 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:57,465 - DEBUG - integration_test - Step 251: Checking path alignment: vehicle=(2.450, 5.478), path_start=(0.000, 0.000), dist=6.001m
2026-01-26 14:37:57,465 - INFO - integration_test - === Calling planner.solve_mpc() at step 251 ===
2026-01-26 14:37:57,468 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:57,491 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:37:57,491 - INFO - integration_test - Warmstart k=0: x0=2.4500484051819074 , y0=5.477572683934342 , psi0=-1.0195386620565878 , v0=-3.5999999738099566 , spline0=4.588064835116559 , a0=0.0 , w0=0.0
2026-01-26 14:37:57,491 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:37:57,492 - INFO - integration_test - Dyn residual k=0: pred=[2.261495164643682, 5.784244615478217, -1.0195386620565878, -3.5999999738099566, 4.228064837735563], ws=[2.545978771641713, 5.316015704976534, -1.019538662056588, 0.17875, 4.366336288689345], res=[-0.2844836069980312, 0.4682289105016828, 2.220446049250313e-16, -3.7787499738099566, -0.13827145095378146], res_norm=3.821e+00
2026-01-26 14:37:57,493 - INFO - integration_test - Dyn residual k=1: pred=[2.5553409638615476, 5.300788591598127, -1.019538662056588, 0.17875, 4.384211288689345], ws=[2.5865116741646674, 5.336647622604509, -1.019538662056588, 0.34390624999999997, 4.381968390962072], res=[-0.031170710303119797, -0.03585903100638266, 0.0, -0.16515624999999998, 0.002242897727272819], res_norm=1.719e-01
2026-01-26 14:37:57,494 - INFO - integration_test - Dyn residual k=2: pred=[2.604524073706499, 5.307351401847626, -1.019538662056588, 0.34390624999999997, 4.4163590159620725], ws=[2.546113549173051, 5.316084430667505, -1.019538662056588, 0.48841796875, 4.599910061400033], res=[0.05841052453344808, -0.008733028819879252, 0.0, -0.14451171875000002, -0.18355104543796052], res_norm=2.410e-01
2026-01-26 14:37:57,508 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:57,560 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:57,580 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:57,624 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:57,645 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:57,687 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:57,707 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:57,749 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:57,768 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:57,812 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:57,831 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:57,873 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:57,892 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:57,933 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:57,951 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:58,024 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:58,052 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:58,098 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:37:58,117 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:58,159 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:58,179 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:37:58,220 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:37:59,885 - WARNING - integration_test - Step 251: MPC solve failed
2026-01-26 14:37:59,885 - WARNING - integration_test -   Consecutive MPC failures: 34/20
2026-01-26 14:37:59,885 - WARNING - integration_test - Step 251: Checking if vehicle should continue despite 34 consecutive failures...
2026-01-26 14:37:59,885 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 251.
2026-01-26 14:37:59,896 - INFO - integration_test - Step 250: Computed 6 numeric contouring constraints for visualization (s=4.588)
2026-01-26 14:37:59,896 - DEBUG - integration_test - Step 250: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:37:59,896 - INFO - integration_test - === Applying control at step 250 ===
2026-01-26 14:37:59,896 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.1707891503326877}
2026-01-26 14:37:59,896 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:37:59,896 - INFO - integration_test -   Planner output success: False
2026-01-26 14:37:59,896 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.1707891503326877}
2026-01-26 14:37:59,898 - INFO - integration_test - Step 250 completed in 2.447s
2026-01-26 14:37:59,898 - INFO - integration_test - Step 251 (contouring until path end)
2026-01-26 14:37:59,898 - DEBUG - integration_test - Syncing planner state at step 251: vehicle_state=[ 2.25898286  5.79441749 -1.03661758 -3.79999997  4.20806484]
2026-01-26 14:37:59,898 - INFO - integration_test - Step 251: Safety reset spline from 4.2081 to 4.5881 (vehicle at (2.26, 5.79), closest path point at (4.06, 2.27), distance=3.957m, drift=0.380m)
2026-01-26 14:37:59,898 - DEBUG - integration_test -   Set spline state to 4.5881
2026-01-26 14:37:59,899 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:59,913 - DEBUG - integration_test - Step 251: Checking path alignment: vehicle=(2.259, 5.794), path_start=(0.000, 0.000), dist=6.219m
2026-01-26 14:37:59,913 - INFO - integration_test - === Calling planner.solve_mpc() at step 251 ===
2026-01-26 14:37:59,916 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:37:59,940 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:37:59,940 - INFO - integration_test - Warmstart k=0: x0=2.2589828612398986 , y0=5.79441748686094 , psi0=-1.0366175770898567 , v0=-3.799999973809957 , spline0=4.588064835116559 , a0=0.0 , w0=0.0
2026-01-26 14:37:59,940 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:37:59,941 - INFO - integration_test - Dyn residual k=0: pred=[2.065511801323175, 6.121478562172962, -1.0366175770898567, -3.799999973809957, 4.208064837735564], ws=[2.545978771641713, 5.316015704976534, -1.0366175770898565, 0.17875, 4.366336288689345], res=[-0.48046697031853824, 0.805462857196428, -2.220446049250313e-16, -3.9787499738099568, -0.15827145095378103], res_norm=4.091e+00
2026-01-26 14:37:59,941 - INFO - integration_test - Dyn residual k=1: pred=[2.5550795485360456, 5.300630924025231, -1.0366175770898565, 0.17875, 4.384211288689345], ws=[2.4858072972265646, 5.285290396649724, -1.0366175770898565, 0.34390624999999997, 4.576722541671497], res=[0.069272251309481, 0.015340527375506952, 0.0, -0.16515624999999998, -0.19251125298215221], res_norm=2.634e-01
2026-01-26 14:37:59,942 - INFO - integration_test - Dyn residual k=2: pred=[2.5033167464786854, 5.255690831200583, -1.0366175770898565, 0.34390624999999997, 4.6111131666714975], ws=[2.4881550423454772, 5.286490535059562, -1.0366175770898565, 0.48841796875, 4.11055792720854], res=[0.015161704133208165, -0.03079970385897912, 0.0, -0.14451171875000002, 0.5005552394629573], res_norm=5.221e-01
2026-01-26 14:37:59,958 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:00,011 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:00,031 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:00,073 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:00,092 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:00,134 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:00,153 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:00,196 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:00,216 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:00,257 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:00,277 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:00,319 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:00,338 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:00,382 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:00,401 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:00,443 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:00,462 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:00,505 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:00,524 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:00,566 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:38:00,587 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:00,630 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:38:02,313 - WARNING - integration_test - Step 251: MPC solve failed
2026-01-26 14:38:02,313 - WARNING - integration_test -   Consecutive MPC failures: 35/20
2026-01-26 14:38:02,313 - WARNING - integration_test - Step 251: Checking if vehicle should continue despite 35 consecutive failures...
2026-01-26 14:38:02,313 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 251.
2026-01-26 14:38:02,323 - INFO - integration_test - Step 250: Computed 6 numeric contouring constraints for visualization (s=4.588)
2026-01-26 14:38:02,324 - DEBUG - integration_test - Step 250: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:38:02,324 - INFO - integration_test - === Applying control at step 250 ===
2026-01-26 14:38:02,324 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.12228561676794758}
2026-01-26 14:38:02,324 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:38:02,324 - INFO - integration_test -   Planner output success: False
2026-01-26 14:38:02,324 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.12228561676794758}
2026-01-26 14:38:02,325 - INFO - integration_test - Step 250 completed in 2.427s
2026-01-26 14:38:02,325 - INFO - integration_test - Step 251 (contouring until path end)
2026-01-26 14:38:02,325 - DEBUG - integration_test - Syncing planner state at step 251: vehicle_state=[ 2.06249535  6.13130139 -1.04884614 -3.99999997  4.18806484]
2026-01-26 14:38:02,326 - INFO - integration_test - Step 251: Safety reset spline from 4.1881 to 4.5881 (vehicle at (2.06, 6.13), closest path point at (4.06, 2.27), distance=4.346m, drift=0.400m)
2026-01-26 14:38:02,326 - DEBUG - integration_test -   Set spline state to 4.5881
2026-01-26 14:38:02,327 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:38:02,340 - DEBUG - integration_test - Step 251: Checking path alignment: vehicle=(2.062, 6.131), path_start=(0.000, 0.000), dist=6.469m
2026-01-26 14:38:02,340 - INFO - integration_test - === Calling planner.solve_mpc() at step 251 ===
2026-01-26 14:38:02,343 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:38:02,367 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:38:02,367 - INFO - integration_test - Warmstart k=0: x0=2.0624953534579835 , y0=6.131301387158107 , psi0=-1.0488461387666514 , v0=-3.999999973809957 , spline0=4.588064835116559 , a0=0.0 , w0=0.0
2026-01-26 14:38:02,367 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:38:02,368 - INFO - integration_test - Dyn residual k=0: pred=[1.8630667137755053, 6.478040793022501, -1.0488461387666514, -3.999999973809957, 4.188064837735563], ws=[2.443408499620185, 5.263571223995754, -1.0488461387666517, 0.17875, 4.56039567929776], res=[-0.5803417858446798, 1.2144695690267469, 2.220446049250313e-16, -4.178749973809957, -0.37233084156219665], res_norm=4.406e+00
2026-01-26 14:38:02,369 - INFO - integration_test - Dyn residual k=1: pred=[2.452320467014347, 5.248076306694736, -1.0488461387666517, 0.17875, 4.57827067929776], ws=[2.4858072972265646, 5.285290396649724, -1.0488461387666517, 0.34390624999999997, 4.576722541671497], res=[-0.033486830212217544, -0.03721408995498887, 0.0, -0.16515624999999998, 0.0015481376262629354], res_norm=1.726e-01
2026-01-26 14:38:02,369 - INFO - integration_test - Dyn residual k=2: pred=[2.50295348624278, 5.255478934255021, -1.0488461387666517, 0.34390624999999997, 4.6111131666714975], ws=[2.4881550423454772, 5.286490535059562, -1.0488461387666517, 0.48841796875, 4.11055792720854], res=[0.014798443897302782, -0.031011600804540684, 0.0, -0.14451171875000002, 0.5005552394629573], res_norm=5.221e-01
2026-01-26 14:38:02,385 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:02,438 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:02,455 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:02,497 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:02,516 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:02,558 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:02,578 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:02,621 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:02,642 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:02,685 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:02,704 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:02,746 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:02,765 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:02,809 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:02,827 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:02,869 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:02,889 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:02,930 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:02,950 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:02,993 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:38:03,011 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:03,053 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:38:04,671 - WARNING - integration_test - Step 251: MPC solve failed
2026-01-26 14:38:04,671 - WARNING - integration_test -   Consecutive MPC failures: 36/20
2026-01-26 14:38:04,671 - WARNING - integration_test - Step 251: Checking if vehicle should continue despite 36 consecutive failures...
2026-01-26 14:38:04,671 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 251.
2026-01-26 14:38:04,681 - INFO - integration_test - Step 250: Computed 6 numeric contouring constraints for visualization (s=4.588)
2026-01-26 14:38:04,682 - DEBUG - integration_test - Step 250: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:38:04,682 - INFO - integration_test - === Applying control at step 250 ===
2026-01-26 14:38:04,682 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.08796667957271431}
2026-01-26 14:38:04,682 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:38:04,682 - INFO - integration_test -   Planner output success: False
2026-01-26 14:38:04,682 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.08796667957271431}
2026-01-26 14:38:04,684 - INFO - integration_test - Step 250 completed in 2.359s
2026-01-26 14:38:04,735 - INFO - integration_test - Step 251 (contouring until path end)
2026-01-26 14:38:04,737 - DEBUG - integration_test - Syncing planner state at step 251: vehicle_state=[ 1.85965957  6.48761103 -1.05764281 -4.19999997  4.16806484]
2026-01-26 14:38:04,738 - INFO - integration_test - Step 251: Safety reset spline from 4.1681 to 4.5881 (vehicle at (1.86, 6.49), closest path point at (4.06, 2.27), distance=4.756m, drift=0.420m)
2026-01-26 14:38:04,738 - DEBUG - integration_test -   Set spline state to 4.5881
2026-01-26 14:38:04,739 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:38:04,752 - DEBUG - integration_test - Step 251: Checking path alignment: vehicle=(1.860, 6.488), path_start=(0.000, 0.000), dist=6.749m
2026-01-26 14:38:04,752 - INFO - integration_test - === Calling planner.solve_mpc() at step 251 ===
2026-01-26 14:38:04,755 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:38:04,780 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:38:04,781 - INFO - integration_test - Warmstart k=0: x0=1.859659567524269 , y0=6.487611025017567 , psi0=-1.057642806723923 , v0=-4.199999973809957 , spline0=4.588064835116559 , a0=0.0 , w0=0.0
2026-01-26 14:38:04,781 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:38:04,782 - INFO - integration_test - Dyn residual k=0: pred=[1.653470215260999, 6.853515314160629, -1.057642806723923, -4.199999973809957, 4.168064837735564], ws=[2.4336961746604757, 5.258588005170116, -1.0576428067239227, 0.17875, 4.556652802941258], res=[-0.7802259593994767, 1.5949273089905125, -2.220446049250313e-16, -4.378749973809957, -0.3885879652056943], res_norm=4.741e+00
2026-01-26 14:38:04,782 - INFO - integration_test - Dyn residual k=1: pred=[2.442471495362115, 5.243015292767218, -1.0576428067239227, 0.17875, 4.574527802941258], ws=[2.473987275699608, 5.279241201854364, -1.0576428067239227, 0.34390624999999997, 4.572172955615967], res=[-0.03151578033749303, -0.03622590908714596, 0.0, -0.16515624999999998, 0.0023548473252912316], res_norm=1.720e-01
2026-01-26 14:38:04,783 - INFO - integration_test - Dyn residual k=2: pred=[2.4908705631684094, 5.249280065491795, -1.0576428067239227, 0.34390624999999997, 4.606563580615967], ws=[2.4776835782565607, 5.28113256367833, -1.0576428067239227, 0.48841796875, 4.106492339669555], res=[0.013186984911848665, -0.03185249818653535, 0.0, -0.14451171875000002, 0.5000712409464123], res_norm=5.217e-01
2026-01-26 14:38:04,798 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:04,849 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:04,869 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:04,910 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:04,928 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:04,972 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:04,990 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:05,033 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:05,052 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:05,093 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:05,112 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:05,154 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:05,174 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:05,216 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:05,235 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:05,277 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:05,295 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:05,337 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:05,356 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:05,397 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:38:05,416 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:05,457 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:38:07,122 - WARNING - integration_test - Step 251: MPC solve failed
2026-01-26 14:38:07,122 - WARNING - integration_test -   Consecutive MPC failures: 37/20
2026-01-26 14:38:07,122 - WARNING - integration_test - Step 251: Checking if vehicle should continue despite 37 consecutive failures...
2026-01-26 14:38:07,122 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 251.
2026-01-26 14:38:07,132 - INFO - integration_test - Step 250: Computed 6 numeric contouring constraints for visualization (s=4.588)
2026-01-26 14:38:07,133 - DEBUG - integration_test - Step 250: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:38:07,133 - INFO - integration_test - === Applying control at step 250 ===
2026-01-26 14:38:07,133 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.06355592407236621}
2026-01-26 14:38:07,133 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:38:07,133 - INFO - integration_test -   Planner output success: False
2026-01-26 14:38:07,133 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.06355592407236621}
2026-01-26 14:38:07,134 - INFO - integration_test - Step 250 completed in 2.397s
2026-01-26 14:38:07,188 - INFO - integration_test - Step 251 (contouring until path end)
2026-01-26 14:38:07,188 - DEBUG - integration_test - Syncing planner state at step 251: vehicle_state=[ 1.64976206  6.8629008  -1.0639984  -4.39999997  4.14806484]
2026-01-26 14:38:07,189 - INFO - integration_test - Step 251: Safety reset spline from 4.1481 to 4.5881 (vehicle at (1.65, 6.86), closest path point at (4.06, 2.27), distance=5.186m, drift=0.440m)
2026-01-26 14:38:07,189 - DEBUG - integration_test -   Set spline state to 4.5881
2026-01-26 14:38:07,190 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:38:07,204 - DEBUG - integration_test - Step 251: Checking path alignment: vehicle=(1.650, 6.863), path_start=(0.000, 0.000), dist=7.058m
2026-01-26 14:38:07,204 - INFO - integration_test - === Calling planner.solve_mpc() at step 251 ===
2026-01-26 14:38:07,207 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:38:07,230 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:38:07,230 - INFO - integration_test - Warmstart k=0: x0=1.6497620611329125 , y0=6.8629007960935295 , psi0=-1.0639983991311597 , v0=-4.399999973809957 , spline0=4.588064835116559 , a0=0.0 , w0=0.0
2026-01-26 14:38:07,230 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:38:07,231 - INFO - integration_test - Dyn residual k=0: pred=[1.4361947929236316, 7.2475942060252585, -1.0639983991311597, -4.399999973809957, 4.148064837735563], ws=[2.438703173457534, 5.261157377008349, -1.06399839913116, 0.17875, 4.5585825030688465], res=[-1.0025083805339023, 1.9864368290169097, 2.220446049250313e-16, -4.578749973809957, -0.41051766533328315], res_norm=5.107e+00
2026-01-26 14:38:07,232 - INFO - integration_test - Dyn residual k=1: pred=[2.447379343780179, 5.245529207136849, -1.06399839913116, 0.17875, 4.576457503068847], ws=[2.4861280606410885, 5.285454493666738, -1.06399839913116, 0.34390624999999997, 4.576845983051956], res=[-0.038748716860909305, -0.039925286529888915, 0.0, -0.16515624999999998, -0.0003884799831093133], res_norm=1.743e-01
2026-01-26 14:38:07,233 - INFO - integration_test - Dyn residual k=2: pred=[2.5028205876342193, 5.255386659849281, -1.06399839913116, 0.34390624999999997, 4.611236608051956], ws=[2.488439204456312, 5.286635884752494, -1.06399839913116, 0.48841796875, 4.110668236527248], res=[0.01438138317790738, -0.031249224903213246, 0.0, -0.14451171875000002, 0.5005683715247082], res_norm=5.221e-01
2026-01-26 14:38:07,247 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:07,298 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:07,316 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:07,357 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:07,376 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:07,418 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:07,437 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:07,478 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:07,498 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:07,539 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:07,558 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:07,600 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:07,618 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:07,662 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:07,682 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:07,724 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:07,742 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:07,785 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:07,805 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:07,846 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:38:07,865 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:07,907 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:38:09,470 - WARNING - integration_test - Step 251: MPC solve failed
2026-01-26 14:38:09,470 - WARNING - integration_test -   Consecutive MPC failures: 38/20
2026-01-26 14:38:09,470 - WARNING - integration_test - Step 251: Checking if vehicle should continue despite 38 consecutive failures...
2026-01-26 14:38:09,470 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 251.
2026-01-26 14:38:09,480 - INFO - integration_test - Step 250: Computed 6 numeric contouring constraints for visualization (s=4.588)
2026-01-26 14:38:09,480 - DEBUG - integration_test - Step 250: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:38:09,480 - INFO - integration_test - === Applying control at step 250 ===
2026-01-26 14:38:09,480 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.04610629258636578}
2026-01-26 14:38:09,480 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:38:09,481 - INFO - integration_test -   Planner output success: False
2026-01-26 14:38:09,481 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.04610629258636578}
2026-01-26 14:38:09,482 - INFO - integration_test - Step 250 completed in 2.294s
2026-01-26 14:38:09,531 - INFO - integration_test - Step 251 (contouring until path end)
2026-01-26 14:38:09,532 - DEBUG - integration_test - Syncing planner state at step 251: vehicle_state=[ 1.43225549  7.25684309 -1.06860903 -4.59999997  4.12806484]
2026-01-26 14:38:09,532 - INFO - integration_test - Step 251: Safety reset spline from 4.1281 to 4.5881 (vehicle at (1.43, 7.26), closest path point at (4.06, 2.27), distance=5.635m, drift=0.460m)
2026-01-26 14:38:09,532 - DEBUG - integration_test -   Set spline state to 4.5881
2026-01-26 14:38:09,533 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:38:09,547 - DEBUG - integration_test - Step 251: Checking path alignment: vehicle=(1.432, 7.257), path_start=(0.000, 0.000), dist=7.397m
2026-01-26 14:38:09,548 - INFO - integration_test - === Calling planner.solve_mpc() at step 251 ===
2026-01-26 14:38:09,550 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:38:09,575 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:38:09,575 - INFO - integration_test - Warmstart k=0: x0=1.4322554854393252 , y0=7.256843086924583 , psi0=-1.0686090283897962 , v0=-4.5999999738099575 , spline0=4.588064835116559 , a0=0.0 , w0=0.0
2026-01-26 14:38:09,575 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:38:09,576 - INFO - integration_test - Dyn residual k=0: pred=[1.2108372811261896, 7.660047720317185, -1.0686090283897962, -4.5999999738099575, 4.128064837735564], ws=[2.443185348156888, 5.263456762359617, -1.0686090283897962, 0.17875, 4.5603096945579065], res=[-1.2323480670306983, 2.396590957957568, 0.0, -4.7787499738099575, -0.4322448568223427], res_norm=5.503e+00
2026-01-26 14:38:09,577 - INFO - integration_test - Dyn residual k=1: pred=[2.45178937081913, 5.247788756135862, -1.0686090283897962, 0.17875, 4.5781846945579066], ws=[2.4447786787410335, 5.264273379976237, -1.0686090283897962, 0.34390624999999997, 4.093708593417037], res=[0.007010692078096348, -0.01648462384037508, 0.0, -0.16515624999999998, 0.4844761011408698], res_norm=5.122e-01
2026-01-26 14:38:09,577 - INFO - integration_test - Dyn residual k=2: pred=[2.4613323971672525, 5.234128902967072, -1.0686090283897962, 0.34390624999999997, 4.128099218417037], ws=[2.4981294745025826, 5.29159094720548, -1.0686090283897962, 0.48841796875, 4.114429355727643], res=[-0.03679707733533011, -0.05746204423840773, 0.0, -0.14451171875000002, 0.013669862689393852], res_norm=1.604e-01
2026-01-26 14:38:09,593 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:09,645 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:09,666 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:09,710 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:09,729 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:09,772 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:09,791 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:09,835 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:09,853 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:09,897 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:09,916 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:09,959 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:09,979 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:10,040 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:10,071 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:10,122 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:10,140 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:10,183 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:10,201 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:10,243 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:38:10,261 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:10,301 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:38:12,081 - WARNING - integration_test - Step 251: MPC solve failed
2026-01-26 14:38:12,081 - WARNING - integration_test -   Consecutive MPC failures: 39/20
2026-01-26 14:38:12,081 - WARNING - integration_test - Step 251: Checking if vehicle should continue despite 39 consecutive failures...
2026-01-26 14:38:12,081 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 251.
2026-01-26 14:38:12,090 - INFO - integration_test - Step 250: Computed 6 numeric contouring constraints for visualization (s=4.588)
2026-01-26 14:38:12,091 - DEBUG - integration_test - Step 250: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:38:12,091 - INFO - integration_test - === Applying control at step 250 ===
2026-01-26 14:38:12,091 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.033574526362933454}
2026-01-26 14:38:12,091 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:38:12,091 - INFO - integration_test -   Planner output success: False
2026-01-26 14:38:12,091 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.033574526362933454}
2026-01-26 14:38:12,092 - INFO - integration_test - Step 250 completed in 2.560s
2026-01-26 14:38:12,142 - INFO - integration_test - Step 251 (contouring until path end)
2026-01-26 14:38:12,143 - DEBUG - integration_test - Syncing planner state at step 251: vehicle_state=[ 1.20672076  7.66919473 -1.07196648 -4.79999997  4.10806484]
2026-01-26 14:38:12,144 - INFO - integration_test - Step 251: Safety reset spline from 4.1081 to 4.5881 (vehicle at (1.21, 7.67), closest path point at (4.06, 2.27), distance=6.105m, drift=0.480m)
2026-01-26 14:38:12,144 - DEBUG - integration_test -   Set spline state to 4.5881
2026-01-26 14:38:12,144 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:38:12,160 - DEBUG - integration_test - Step 251: Checking path alignment: vehicle=(1.207, 7.669), path_start=(0.000, 0.000), dist=7.764m
2026-01-26 14:38:12,160 - INFO - integration_test - === Calling planner.solve_mpc() at step 251 ===
2026-01-26 14:38:12,163 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:38:12,189 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:38:12,189 - INFO - integration_test - Warmstart k=0: x0=1.2067207604260695 , y0=7.669194730397751 , psi0=-1.0719664810260896 , v0=-4.799999973809958 , spline0=4.588064835116559 , a0=0.0 , w0=0.0
2026-01-26 14:38:12,189 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:38:12,190 - INFO - integration_test - Dyn residual k=0: pred=[0.9770895759215987, 8.090703350225187, -1.0719664810260896, -4.799999973809958, 4.108064837735563], ws=[2.447291535819625, 5.265562708075948, -1.0719664810260898, 0.17875, 4.561891800720859], res=[-1.4702019598980263, 2.825140642149239, 2.220446049250313e-16, -4.978749973809958, -0.45382696298529535], res_norm=5.928e+00
2026-01-26 14:38:12,191 - INFO - integration_test - Dyn residual k=1: pred=[2.45584290549757, 5.24986590261652, -1.0719664810260898, 0.17875, 4.579766800720859], ws=[2.438258889049845, 5.26092883312454, -1.0719664810260898, 0.34390624999999997, 4.0911741244675115], res=[0.017584016447724782, -0.011062930508019875, 0.0, -0.16515624999999998, 0.48859267625334724], res_norm=5.162e-01
2026-01-26 14:38:12,192 - INFO - integration_test - Dyn residual k=2: pred=[2.454711305711695, 5.230728947795693, -1.0719664810260898, 0.34390624999999997, 4.125564749467512], ws=[2.3943713163299187, 5.238380834550569, -1.0719664810260898, 0.48841796875, 4.307699405196123], res=[0.06033998938177643, -0.007651886754876713, 0.0, -0.14451171875000002, -0.18213465572861143], res_norm=2.403e-01
2026-01-26 14:38:12,206 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:12,258 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:12,278 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:12,320 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:12,339 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:12,383 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:12,402 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:12,444 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:12,463 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:12,506 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:12,524 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:12,566 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:12,586 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:12,627 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:12,648 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:12,692 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:12,711 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:12,755 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:12,775 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:12,816 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:38:12,835 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:12,876 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 14:38:14,713 - WARNING - integration_test - Step 251: MPC solve failed
2026-01-26 14:38:14,713 - WARNING - integration_test -   Consecutive MPC failures: 40/20
2026-01-26 14:38:14,713 - WARNING - integration_test - Step 251: Checking if vehicle should continue despite 40 consecutive failures...
2026-01-26 14:38:14,713 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 251.
2026-01-26 14:38:14,723 - INFO - integration_test - Step 250: Computed 6 numeric contouring constraints for visualization (s=4.588)
2026-01-26 14:38:14,723 - DEBUG - integration_test - Step 250: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 14:38:14,723 - INFO - integration_test - === Applying control at step 250 ===
2026-01-26 14:38:14,723 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.024535417062153897}
2026-01-26 14:38:14,723 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 14:38:14,723 - INFO - integration_test -   Planner output success: False
2026-01-26 14:38:14,723 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.024535417062153897}
2026-01-26 14:38:14,725 - INFO - integration_test - Step 250 completed in 2.582s
2026-01-26 14:38:14,797 - INFO - integration_test - Step 251 (contouring until path end)
2026-01-26 14:38:14,798 - DEBUG - integration_test - Syncing planner state at step 251: vehicle_state=[ 0.97283729  8.09977387 -1.07442002 -4.99999997  4.08806484]
2026-01-26 14:38:14,799 - INFO - integration_test - Step 251: Safety reset spline from 4.0881 to 4.5881 (vehicle at (0.97, 8.10), closest path point at (4.06, 2.27), distance=6.595m, drift=0.500m)
2026-01-26 14:38:14,799 - DEBUG - integration_test -   Set spline state to 4.5881
2026-01-26 14:38:14,801 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:38:14,820 - DEBUG - integration_test - Step 251: Checking path alignment: vehicle=(0.973, 8.100), path_start=(0.000, 0.000), dist=8.158m
2026-01-26 14:38:14,820 - INFO - integration_test - === Calling planner.solve_mpc() at step 251 ===
2026-01-26 14:38:14,823 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 14:38:14,853 - INFO - integration_test - Solver solve: module_manager has 6 modules: ['gaussian_constraints', 'contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 14:38:14,853 - INFO - integration_test - Warmstart k=0: x0=0.9728372884327899 , y0=8.09977387356541 , psi0=-1.074420022732305 , v0=-4.999999973809958 , spline0=4.588064835116559 , a0=0.0 , w0=0.0
2026-01-26 14:38:14,853 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 14:38:14,854 - INFO - integration_test - Dyn residual k=0: pred=[0.7347161369333505, 8.539430915576085, -1.074420022732305, -4.999999973809958, 4.088064837735564], ws=[2.451135048444491, 5.267533453430069, -1.0744200227323049, 0.17875, 4.563372525466191], res=[-1.7164189115111403, 3.2718974621460166, -2.220446049250313e-16, -5.178749973809958, -0.47530768773062704], res_norm=6.379e+00
2026-01-26 14:38:14,855 - INFO - integration_test - Dyn residual k=1: pred=[2.4596478796551864, 5.251815714095858, -1.0744200227323049, 0.17875, 4.581247525466191], ws=[2.441662596047428, 5.26267504711498, -1.0744200227323049, 0.34390624999999997, 4.092497325303765], res=[0.01798528360775853, -0.010859333019122452, 0.0, -0.16515624999999998, 0.48875020016242576], res_norm=5.163e-01
2026-01-26 14:38:14,856 - INFO - integration_test - Dyn residual k=2: pred=[2.4580408665847884, 5.232434886035785, -1.0744200227323049, 0.34390624999999997, 4.126887950303765], ws=[2.397947548047811, 5.240220492950628, -1.0744200227323049, 0.48841796875, 4.3090856155960084], res=[0.060093318536977414, -0.00778560691484298, 0.0, -0.14451171875000002, -0.18219766529224302], res_norm=2.403e-01
2026-01-26 14:38:14,874 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:14,933 - INFO - integration_test - Stage 0: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:14,954 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:14,998 - INFO - integration_test - Stage 1: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:15,017 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:15,066 - INFO - integration_test - Stage 2: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:15,090 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:15,135 - INFO - integration_test - Stage 3: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:15,154 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 14:38:15,199 - INFO - integration_test - Stage 4: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 14:38:15,219 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 16:17:39,496 - INFO - integration_test - Stage 5: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 16:17:39,528 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 16:17:39,600 - INFO - integration_test - Stage 6: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 16:17:39,626 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 16:17:39,692 - INFO - integration_test - Stage 7: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 16:17:39,732 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 16:17:39,786 - INFO - integration_test - Stage 8: constraints count=8 (linearized=0, contouring=6, other=2)
2026-01-26 16:17:39,812 - INFO - integration_test - Stage 9: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 16:17:39,858 - INFO - integration_test - Stage 9: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 16:17:39,882 - INFO - integration_test - Stage 10: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 16:17:39,924 - INFO - integration_test - Stage 10: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 16:17:42,364 - WARNING - integration_test - Step 251: MPC solve failed
2026-01-26 16:17:42,364 - WARNING - integration_test -   Consecutive MPC failures: 41/20
2026-01-26 16:17:42,364 - WARNING - integration_test - Step 251: Checking if vehicle should continue despite 41 consecutive failures...
2026-01-26 16:17:42,364 - ERROR - integration_test - Max consecutive MPC failures (20) reached. No successful solve in last 20 attempts. Terminating test early at step 251.
2026-01-26 16:17:42,375 - INFO - integration_test - Step 250: Computed 6 numeric contouring constraints for visualization (s=4.588)
2026-01-26 16:17:42,376 - DEBUG - integration_test - Step 250: Captured 6 contouring constraint halfspaces for visualization
2026-01-26 16:17:42,376 - INFO - integration_test - === Applying control at step 250 ===
2026-01-26 16:17:42,376 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': -0.01798905509064852}
2026-01-26 16:17:42,376 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 16:17:42,376 - INFO - integration_test -   Planner output success: False
2026-01-26 16:17:42,376 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': -0.01798905509064852}
2026-01-26 16:17:42,378 - INFO - integration_test - Step 250 completed in 5967.580s
2026-01-26 16:17:42,550 - WARNING - integration_test - Test timeout reached (180.0s) at step 251. Terminating test early.
2026-01-26 16:17:42,566 - INFO - integration_test - Saving test results...
2026-01-26 16:17:42,567 - INFO - integration_test - Saved 58 vehicle states to test_outputs/20260126_143608_contouring_gaussian_contouring_contouring_unicycle/vehicle_states.csv
2026-01-26 16:17:42,568 - INFO - integration_test - Saved obstacle summary to test_outputs/20260126_143608_contouring_gaussian_contouring_contouring_unicycle/obstacle_summary.csv
2026-01-26 16:17:42,568 - INFO - integration_test - Saved 68 states for obstacle 0 to test_outputs/20260126_143608_contouring_gaussian_contouring_contouring_unicycle/obstacle_0_detailed_states.csv
2026-01-26 16:17:42,568 - INFO - integration_test - Saved 68 states for obstacle 1 to test_outputs/20260126_143608_contouring_gaussian_contouring_contouring_unicycle/obstacle_1_detailed_states.csv
2026-01-26 16:17:42,568 - INFO - integration_test - Saved state history: 58 vehicle states, 2 obstacles
2026-01-26 16:17:42,568 - INFO - integration_test - Creating animation...
2026-01-26 16:17:42,624 - DEBUG - integration_test - Creating animation with 58 frames (range: 0 to 57)
2026-01-26 16:17:42,625 - DEBUG - integration_test - Frame 0: Drawing 6 contouring constraint halfspaces
2026-01-26 16:17:42,630 - INFO - integration_test - Frame 0: Found Gaussian module 'gaussian_constraints', calling visualizer
2026-01-26 16:17:42,630 - INFO - integration_test - Frame 0: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:42,630 - INFO - integration_test - Frame 0: Obstacle 0 has Gaussian prediction with major_radius=0.75, minor_radius=0.55, position=[6.38885441 3.35491632]
2026-01-26 16:17:42,630 - INFO - integration_test - Frame 0: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:42,630 - INFO - integration_test - Frame 0: Obstacle 1 has Gaussian prediction with major_radius=0.75, minor_radius=0.55, position=[13.7414736   5.17524186]
2026-01-26 16:17:42,630 - INFO - integration_test - Frame 0: Found 2/2 obstacles with Gaussian predictions, calling visualizer
2026-01-26 16:17:42,630 - INFO - integration_test - Frame 0: About to call Gaussian visualizer.visualize()
2026-01-26 16:17:42,631 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:42,631 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:42,632 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.39, 3.35), size=(2.69, 2.20), color=red
2026-01-26 16:17:42,634 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:42,637 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.74, 5.18), size=(2.69, 2.20), color=orange
2026-01-26 16:17:42,638 - INFO - integration_test - Frame 0: Gaussian visualizer.visualize() completed
2026-01-26 16:17:42,638 - INFO - integration_test - Frame 0: Visualizer added 4 ellipses, 2 markers, and 2 text annotations for Gaussian constraints
2026-01-26 16:17:42,639 - DEBUG - integration_test - Frame 0: Drawing 6 contouring constraint halfspaces
2026-01-26 16:17:42,643 - INFO - integration_test - Frame 0: Found Gaussian module 'gaussian_constraints', calling visualizer
2026-01-26 16:17:42,643 - INFO - integration_test - Frame 0: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:42,644 - INFO - integration_test - Frame 0: Obstacle 0 has Gaussian prediction with major_radius=0.75, minor_radius=0.55, position=[6.38885441 3.35491632]
2026-01-26 16:17:42,644 - INFO - integration_test - Frame 0: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:42,644 - INFO - integration_test - Frame 0: Obstacle 1 has Gaussian prediction with major_radius=0.75, minor_radius=0.55, position=[13.7414736   5.17524186]
2026-01-26 16:17:42,644 - INFO - integration_test - Frame 0: Found 2/2 obstacles with Gaussian predictions, calling visualizer
2026-01-26 16:17:42,644 - INFO - integration_test - Frame 0: About to call Gaussian visualizer.visualize()
2026-01-26 16:17:42,644 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:42,644 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:42,645 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.39, 3.35), size=(2.69, 2.20), color=red
2026-01-26 16:17:42,647 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:42,648 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.74, 5.18), size=(2.69, 2.20), color=orange
2026-01-26 16:17:42,649 - INFO - integration_test - Frame 0: Gaussian visualizer.visualize() completed
2026-01-26 16:17:42,649 - INFO - integration_test - Frame 0: Visualizer added 4 ellipses, 2 markers, and 2 text annotations for Gaussian constraints
2026-01-26 16:17:42,711 - DEBUG - integration_test - Frame 1: Drawing 6 contouring constraint halfspaces
2026-01-26 16:17:42,717 - INFO - integration_test - Frame 1: Found Gaussian module 'gaussian_constraints', calling visualizer
2026-01-26 16:17:42,717 - INFO - integration_test - Frame 1: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:42,717 - INFO - integration_test - Frame 1: Obstacle 0 has Gaussian prediction with major_radius=0.75, minor_radius=0.55, position=[6.44426769 3.37792434]
2026-01-26 16:17:42,717 - INFO - integration_test - Frame 1: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:42,718 - INFO - integration_test - Frame 1: Obstacle 1 has Gaussian prediction with major_radius=0.75, minor_radius=0.55, position=[13.66195354  5.16649197]
2026-01-26 16:17:42,718 - INFO - integration_test - Frame 1: Found 2/2 obstacles with Gaussian predictions, calling visualizer
2026-01-26 16:17:42,718 - INFO - integration_test - Frame 1: About to call Gaussian visualizer.visualize()
2026-01-26 16:17:42,718 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:42,718 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:42,720 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.44, 3.38), size=(2.69, 2.20), color=red
2026-01-26 16:17:42,721 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:42,723 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.66, 5.17), size=(2.69, 2.20), color=orange
2026-01-26 16:17:42,724 - INFO - integration_test - Frame 1: Gaussian visualizer.visualize() completed
2026-01-26 16:17:42,724 - INFO - integration_test - Frame 1: Visualizer added 4 ellipses, 2 markers, and 2 text annotations for Gaussian constraints
2026-01-26 16:17:42,755 - DEBUG - integration_test - Frame 2: Drawing 6 contouring constraint halfspaces
2026-01-26 16:17:42,759 - INFO - integration_test - Frame 2: Found Gaussian module 'gaussian_constraints', calling visualizer
2026-01-26 16:17:42,759 - INFO - integration_test - Frame 2: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:42,760 - INFO - integration_test - Frame 2: Obstacle 0 has Gaussian prediction with major_radius=0.75, minor_radius=0.55, position=[6.49934059 3.40173559]
2026-01-26 16:17:42,760 - INFO - integration_test - Frame 2: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:42,760 - INFO - integration_test - Frame 2: Obstacle 1 has Gaussian prediction with major_radius=0.75, minor_radius=0.55, position=[13.58226179  5.15947595]
2026-01-26 16:17:42,760 - INFO - integration_test - Frame 2: Found 2/2 obstacles with Gaussian predictions, calling visualizer
2026-01-26 16:17:42,760 - INFO - integration_test - Frame 2: About to call Gaussian visualizer.visualize()
2026-01-26 16:17:42,760 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:42,760 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:42,761 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.50, 3.40), size=(2.69, 2.20), color=red
2026-01-26 16:17:42,763 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:42,764 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.58, 5.16), size=(2.69, 2.20), color=orange
2026-01-26 16:17:42,765 - INFO - integration_test - Frame 2: Gaussian visualizer.visualize() completed
2026-01-26 16:17:42,765 - INFO - integration_test - Frame 2: Visualizer added 4 ellipses, 2 markers, and 2 text annotations for Gaussian constraints
2026-01-26 16:17:42,806 - INFO - integration_test - Frame 3: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:42,806 - INFO - integration_test - Frame 3: Obstacle 0 has Gaussian prediction with major_radius=0.75, minor_radius=0.55, position=[6.55492958 3.42431575]
2026-01-26 16:17:42,806 - INFO - integration_test - Frame 3: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:42,806 - INFO - integration_test - Frame 3: Obstacle 1 has Gaussian prediction with major_radius=0.75, minor_radius=0.55, position=[13.50256146  5.15255803]
2026-01-26 16:17:42,806 - INFO - integration_test - Frame 3: Found 2/2 obstacles with Gaussian predictions, calling visualizer
2026-01-26 16:17:42,806 - INFO - integration_test - Frame 3: About to call Gaussian visualizer.visualize()
2026-01-26 16:17:42,806 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:42,806 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:42,809 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.55, 3.42), size=(2.69, 2.20), color=red
2026-01-26 16:17:42,812 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:42,815 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.50, 5.15), size=(2.69, 2.20), color=orange
2026-01-26 16:17:42,819 - INFO - integration_test - Frame 3: Gaussian visualizer.visualize() completed
2026-01-26 16:17:42,819 - INFO - integration_test - Frame 3: Visualizer added 4 ellipses, 2 markers, and 2 text annotations for Gaussian constraints
2026-01-26 16:17:42,883 - INFO - integration_test - Frame 4: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:42,883 - INFO - integration_test - Frame 4: Obstacle 0 has Gaussian prediction with major_radius=0.75, minor_radius=0.55, position=[6.60997815 3.44818321]
2026-01-26 16:17:42,883 - INFO - integration_test - Frame 4: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:42,884 - INFO - integration_test - Frame 4: Obstacle 1 has Gaussian prediction with major_radius=0.75, minor_radius=0.55, position=[13.42274416  5.14715447]
2026-01-26 16:17:42,884 - INFO - integration_test - Frame 4: Found 2/2 obstacles with Gaussian predictions, calling visualizer
2026-01-26 16:17:42,884 - INFO - integration_test - Frame 4: About to call Gaussian visualizer.visualize()
2026-01-26 16:17:42,884 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:42,884 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:42,885 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.61, 3.45), size=(2.69, 2.20), color=red
2026-01-26 16:17:42,887 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:42,888 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.42, 5.15), size=(2.69, 2.20), color=orange
2026-01-26 16:17:42,890 - INFO - integration_test - Frame 4: Gaussian visualizer.visualize() completed
2026-01-26 16:17:42,890 - INFO - integration_test - Frame 4: Visualizer added 4 ellipses, 2 markers, and 2 text annotations for Gaussian constraints
2026-01-26 16:17:42,929 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:42,929 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:42,930 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.66, 3.47), size=(2.69, 2.20), color=red
2026-01-26 16:17:42,932 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:42,933 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.34, 5.14), size=(2.69, 2.20), color=orange
2026-01-26 16:17:42,970 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:42,970 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:42,972 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.72, 3.50), size=(2.69, 2.20), color=red
2026-01-26 16:17:42,973 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:42,975 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.26, 5.14), size=(2.69, 2.20), color=orange
2026-01-26 16:17:43,010 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:43,010 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,012 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.77, 3.53), size=(2.69, 2.20), color=red
2026-01-26 16:17:43,014 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,015 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.18, 5.14), size=(2.69, 2.20), color=orange
2026-01-26 16:17:43,055 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:43,055 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,057 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.82, 3.57), size=(2.69, 2.20), color=red
2026-01-26 16:17:43,058 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,059 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.10, 5.13), size=(2.69, 2.20), color=orange
2026-01-26 16:17:43,099 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:43,099 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,101 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.87, 3.60), size=(2.69, 2.20), color=red
2026-01-26 16:17:43,102 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,104 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (13.02, 5.13), size=(2.69, 2.20), color=orange
2026-01-26 16:17:43,148 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:43,148 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,149 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.92, 3.64), size=(2.69, 2.20), color=red
2026-01-26 16:17:43,151 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,152 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (12.94, 5.12), size=(2.69, 2.20), color=orange
2026-01-26 16:17:43,187 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:43,187 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,189 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (6.97, 3.67), size=(2.69, 2.20), color=red
2026-01-26 16:17:43,190 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,192 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (12.86, 5.12), size=(2.69, 2.20), color=orange
2026-01-26 16:17:43,229 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:43,229 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,230 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.02, 3.70), size=(2.69, 2.20), color=red
2026-01-26 16:17:43,232 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,233 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (12.78, 5.12), size=(2.69, 2.20), color=orange
2026-01-26 16:17:43,275 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:43,276 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,277 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.07, 3.73), size=(2.69, 2.20), color=red
2026-01-26 16:17:43,279 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,280 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (12.70, 5.12), size=(2.69, 2.20), color=orange
2026-01-26 16:17:43,317 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:43,317 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,319 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.12, 3.77), size=(2.69, 2.20), color=red
2026-01-26 16:17:43,320 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,322 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (12.62, 5.11), size=(2.69, 2.20), color=orange
2026-01-26 16:17:43,359 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:43,359 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,360 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.17, 3.80), size=(2.69, 2.20), color=red
2026-01-26 16:17:43,362 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,363 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (12.54, 5.11), size=(2.69, 2.20), color=orange
2026-01-26 16:17:43,408 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:43,408 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,410 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.23, 3.82), size=(2.69, 2.20), color=red
2026-01-26 16:17:43,412 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,413 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (12.46, 5.11), size=(2.69, 2.20), color=orange
2026-01-26 16:17:43,453 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:43,453 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,454 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.28, 3.84), size=(2.69, 2.20), color=red
2026-01-26 16:17:43,456 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,457 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (12.38, 5.10), size=(2.69, 2.20), color=orange
2026-01-26 16:17:43,492 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:43,492 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,494 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.30, 3.90), size=(2.69, 2.20), color=red
2026-01-26 16:17:43,495 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,497 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (12.31, 5.09), size=(2.69, 2.20), color=orange
2026-01-26 16:17:43,685 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:43,685 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,687 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.32, 3.96), size=(2.69, 2.20), color=red
2026-01-26 16:17:43,688 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,689 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (12.23, 5.07), size=(2.69, 2.20), color=orange
2026-01-26 16:17:43,729 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:43,729 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,731 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.33, 4.01), size=(2.69, 2.20), color=red
2026-01-26 16:17:43,732 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,734 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (12.15, 5.06), size=(2.69, 2.20), color=orange
2026-01-26 16:17:43,770 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:43,770 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,771 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.35, 4.07), size=(2.69, 2.20), color=red
2026-01-26 16:17:43,772 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,774 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (12.07, 5.06), size=(2.69, 2.20), color=orange
2026-01-26 16:17:43,810 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:43,810 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,811 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.38, 4.12), size=(2.69, 2.20), color=red
2026-01-26 16:17:43,813 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,814 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.99, 5.05), size=(2.69, 2.20), color=orange
2026-01-26 16:17:43,848 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:43,849 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,850 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.40, 4.18), size=(2.69, 2.20), color=red
2026-01-26 16:17:43,852 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,853 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.91, 5.05), size=(2.69, 2.20), color=orange
2026-01-26 16:17:43,890 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:43,890 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,892 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.43, 4.23), size=(2.69, 2.20), color=red
2026-01-26 16:17:43,893 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,894 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.83, 5.04), size=(2.69, 2.20), color=orange
2026-01-26 16:17:43,929 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:43,929 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,931 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.45, 4.29), size=(2.69, 2.20), color=red
2026-01-26 16:17:43,932 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,934 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.75, 5.04), size=(2.69, 2.20), color=orange
2026-01-26 16:17:43,967 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:43,967 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,968 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.47, 4.35), size=(2.69, 2.20), color=red
2026-01-26 16:17:43,970 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:43,971 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.67, 5.03), size=(2.69, 2.20), color=orange
2026-01-26 16:17:44,004 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:44,004 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,006 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.50, 4.40), size=(2.69, 2.20), color=red
2026-01-26 16:17:44,007 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,009 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.59, 5.02), size=(2.69, 2.20), color=orange
2026-01-26 16:17:44,041 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:44,042 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,043 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.55, 4.37), size=(2.69, 2.20), color=red
2026-01-26 16:17:44,044 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,046 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.51, 5.00), size=(2.69, 2.20), color=orange
2026-01-26 16:17:44,080 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:44,080 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,082 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.61, 4.35), size=(2.69, 2.20), color=red
2026-01-26 16:17:44,083 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,084 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.43, 4.99), size=(2.69, 2.20), color=orange
2026-01-26 16:17:44,119 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:44,119 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,121 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.66, 4.32), size=(2.69, 2.20), color=red
2026-01-26 16:17:44,123 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,124 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.35, 4.98), size=(2.69, 2.20), color=orange
2026-01-26 16:17:44,159 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:44,159 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,160 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.71, 4.29), size=(2.69, 2.20), color=red
2026-01-26 16:17:44,162 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,164 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.27, 4.97), size=(2.69, 2.20), color=orange
2026-01-26 16:17:44,199 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:44,199 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,200 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.76, 4.26), size=(2.69, 2.20), color=red
2026-01-26 16:17:44,202 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,203 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.29, 5.05), size=(2.69, 2.20), color=orange
2026-01-26 16:17:44,245 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:44,245 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,246 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.81, 4.23), size=(2.69, 2.20), color=red
2026-01-26 16:17:44,248 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,249 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.31, 5.13), size=(2.69, 2.20), color=orange
2026-01-26 16:17:44,284 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:44,284 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,286 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.86, 4.19), size=(2.69, 2.20), color=red
2026-01-26 16:17:44,287 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,288 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.33, 5.20), size=(2.69, 2.20), color=orange
2026-01-26 16:17:44,325 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:44,325 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,326 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.91, 4.16), size=(2.69, 2.20), color=red
2026-01-26 16:17:44,328 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,329 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.35, 5.28), size=(2.69, 2.20), color=orange
2026-01-26 16:17:44,364 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:44,364 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,366 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (7.96, 4.13), size=(2.69, 2.20), color=red
2026-01-26 16:17:44,367 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,368 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.37, 5.36), size=(2.69, 2.20), color=orange
2026-01-26 16:17:44,404 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:44,404 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,405 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.01, 4.10), size=(2.69, 2.20), color=red
2026-01-26 16:17:44,407 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,408 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.39, 5.44), size=(2.69, 2.20), color=orange
2026-01-26 16:17:44,445 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:44,445 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,446 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.07, 4.07), size=(2.69, 2.20), color=red
2026-01-26 16:17:44,448 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,449 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.41, 5.51), size=(2.69, 2.20), color=orange
2026-01-26 16:17:44,485 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:44,485 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,487 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.12, 4.03), size=(2.69, 2.20), color=red
2026-01-26 16:17:44,489 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,490 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.43, 5.59), size=(2.69, 2.20), color=orange
2026-01-26 16:17:44,530 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:44,530 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,532 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.17, 4.00), size=(2.69, 2.20), color=red
2026-01-26 16:17:44,533 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,534 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.45, 5.67), size=(2.69, 2.20), color=orange
2026-01-26 16:17:44,579 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:44,579 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,581 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.22, 3.97), size=(2.69, 2.20), color=red
2026-01-26 16:17:44,583 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,584 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.46, 5.75), size=(2.69, 2.20), color=orange
2026-01-26 16:17:44,623 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:44,623 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,625 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.27, 3.94), size=(2.69, 2.20), color=red
2026-01-26 16:17:44,626 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,628 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.46, 5.83), size=(2.69, 2.20), color=orange
2026-01-26 16:17:44,665 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:44,665 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,666 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.32, 3.90), size=(2.69, 2.20), color=red
2026-01-26 16:17:44,668 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,669 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.47, 5.91), size=(2.69, 2.20), color=orange
2026-01-26 16:17:44,706 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:44,706 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,708 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.37, 3.87), size=(2.69, 2.20), color=red
2026-01-26 16:17:44,710 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,711 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.48, 5.99), size=(2.69, 2.20), color=orange
2026-01-26 16:17:44,748 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:44,748 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,749 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.42, 3.84), size=(2.69, 2.20), color=red
2026-01-26 16:17:44,751 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,752 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.50, 6.07), size=(2.69, 2.20), color=orange
2026-01-26 16:17:44,786 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:44,786 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,788 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.41, 3.90), size=(2.69, 2.20), color=red
2026-01-26 16:17:44,789 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,791 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.51, 6.14), size=(2.69, 2.20), color=orange
2026-01-26 16:17:44,827 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:44,827 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,828 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.41, 3.96), size=(2.69, 2.20), color=red
2026-01-26 16:17:44,830 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,831 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.53, 6.22), size=(2.69, 2.20), color=orange
2026-01-26 16:17:44,866 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:44,866 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,867 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.41, 4.02), size=(2.69, 2.20), color=red
2026-01-26 16:17:44,869 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,870 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.54, 6.30), size=(2.69, 2.20), color=orange
2026-01-26 16:17:44,905 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:44,905 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,907 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.40, 4.08), size=(2.69, 2.20), color=red
2026-01-26 16:17:44,908 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,910 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.55, 6.38), size=(2.69, 2.20), color=orange
2026-01-26 16:17:44,947 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:44,947 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,948 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.40, 4.14), size=(2.69, 2.20), color=red
2026-01-26 16:17:44,950 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,951 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.48, 6.43), size=(2.69, 2.20), color=orange
2026-01-26 16:17:44,987 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:44,987 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,988 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.40, 4.20), size=(2.69, 2.20), color=red
2026-01-26 16:17:44,990 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:44,991 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.41, 6.47), size=(2.69, 2.20), color=orange
2026-01-26 16:17:45,028 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:45,028 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:45,029 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.40, 4.26), size=(2.69, 2.20), color=red
2026-01-26 16:17:45,031 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:45,032 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.35, 6.51), size=(2.69, 2.20), color=orange
2026-01-26 16:17:45,068 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:45,068 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:45,069 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.40, 4.32), size=(2.69, 2.20), color=red
2026-01-26 16:17:45,071 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:45,072 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.28, 6.55), size=(2.69, 2.20), color=orange
2026-01-26 16:17:45,108 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:45,108 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:45,109 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.40, 4.38), size=(2.69, 2.20), color=red
2026-01-26 16:17:45,111 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:45,112 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.21, 6.59), size=(2.69, 2.20), color=orange
2026-01-26 16:17:45,151 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:45,152 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:45,153 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.41, 4.44), size=(2.69, 2.20), color=red
2026-01-26 16:17:45,155 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:45,156 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.14, 6.62), size=(2.69, 2.20), color=orange
2026-01-26 16:17:45,192 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:45,192 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:45,193 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.41, 4.50), size=(2.69, 2.20), color=red
2026-01-26 16:17:45,194 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:45,196 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.07, 6.67), size=(2.69, 2.20), color=orange
2026-01-26 16:17:45,228 - INFO - integration_test - Gaussian visualizer called: 2 obstacles, stage_idx=0
2026-01-26 16:17:45,228 - INFO - integration_test - Gaussian visualizer: Obstacle 0 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:45,229 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 0 at (8.41, 4.50), size=(2.69, 2.20), color=red
2026-01-26 16:17:45,231 - INFO - integration_test - Gaussian visualizer: Obstacle 1 prediction type: PredictionType.GAUSSIAN
2026-01-26 16:17:45,232 - INFO - integration_test - Gaussian visualizer: Created ellipse for obstacle 1 at (11.07, 6.67), size=(2.69, 2.20), color=orange
2026-01-26 16:17:48,747 - INFO - integration_test - Saved animation with 58 frames at 10.00 fps to test_outputs/20260126_143608_contouring_gaussian_contouring_contouring_unicycle/animation.gif (duration: 5.80s, size: 1183618 bytes)
2026-01-26 16:17:48,772 - INFO - integration_test - Animation created successfully
2026-01-26 16:17:48,773 - WARNING - integration_test - Test exited early due to solver failures, but files were saved
2026-01-26 16:17:48,775 - INFO - integration_test - Starting integration test: ellipsoid_single_obstacle
2026-01-26 16:17:48,775 - INFO - integration_test - Output folder: test_outputs/20260126_161748_contouring_ellipsoid_contouring_contouring_unicycle
