2026-01-26 17:53:06,554 - INFO - integration_test - Contouring objective detected: automatically switching to contouring-aware dynamics model
2026-01-26 17:53:06,554 - WARNING - integration_test -   Vehicle dynamics 'contouring_unicycle' is not automatically converted. Ensure it supports contouring (has 'spline' state variable)
2026-01-26 17:53:06,554 - INFO - integration_test - Created vehicle dynamics model: ContouringSecondOrderUnicycleModel
2026-01-26 17:53:06,554 - INFO - integration_test - ✓ Validation passed: Contouring objective with dynamics model that has 'spline' state
2026-01-26 17:53:06,554 - INFO - integration_test - Creating objective module: contouring
2026-01-26 17:53:06,561 - INFO - integration_test - Objective module 'contouring' created: contouring_objective
2026-01-26 17:53:06,561 - INFO - integration_test - Creating 1 constraint module(s): ['contouring']
2026-01-26 17:53:06,561 - DEBUG - integration_test - Creating constraint module: contouring
2026-01-26 17:53:06,566 - INFO - integration_test - Constraint module 'contouring' created: contouring_constraints
2026-01-26 17:53:06,566 - INFO - integration_test - Created 1 constraint module(s)
2026-01-26 17:53:06,581 - INFO - integration_test - Setting solver on all modules...
2026-01-26 17:53:06,581 - DEBUG - integration_test -   Set solver on module: contouring_constraints
2026-01-26 17:53:06,581 - DEBUG - integration_test -   Set solver on module: control_effort_objective
2026-01-26 17:53:06,581 - DEBUG - integration_test -   Set solver on module: control_jerk_objective
2026-01-26 17:53:06,581 - DEBUG - integration_test -   Set solver on module: path_reference_velocity_objective
2026-01-26 17:53:06,581 - DEBUG - integration_test -   Set solver on module: contouring_objective
2026-01-26 17:53:06,582 - INFO - integration_test - Placing obstacles within reference path boundaries
2026-01-26 17:53:06,582 - WARNING - integration_test - Error shaping obstacles: name 'get_dummy_obstacle' is not defined
2026-01-26 17:53:06,582 - WARNING - integration_test - Error in on_data_received: 'Planner' object has no attribute 'on_data_received'
2026-01-26 17:53:06,582 - INFO - integration_test - Initial vehicle state (before spline): [0. 0. 0. 1.]
2026-01-26 17:53:06,582 - INFO - integration_test - Vehicle starting position: (0.00, 0.00)
2026-01-26 17:53:06,582 - INFO - integration_test - Reference path start: (0.00, 0.00)
2026-01-26 17:53:06,582 - INFO - integration_test - Reference path starts at vehicle position (requirement satisfied)
2026-01-26 17:53:06,582 - INFO - integration_test - Contouring-aware dynamics detected: initializing spline variable
2026-01-26 17:53:06,583 - INFO - integration_test - Initialized spline to closest path point: s=0.0000 (vehicle at (0.00, 0.00), closest path point at (0.00, 0.00), distance=0.000m)
2026-01-26 17:53:06,583 - INFO - integration_test - Added spline variable: 0.0000
2026-01-26 17:53:06,583 - INFO - integration_test - Final initial state: [0. 0. 0. 1. 0.] (variables: ['x', 'y', 'psi', 'v', 'spline'])
2026-01-26 17:53:06,583 - INFO - integration_test - Step 0 (contouring until path end)
2026-01-26 17:53:06,583 - DEBUG - integration_test - Syncing planner state at step 0: vehicle_state=[0. 0. 0. 1. 0.]
2026-01-26 17:53:06,583 - DEBUG - integration_test - Step 0: Using propagated spline 0.0000 (close to path, dist=0.000m, drift=0.000m)
2026-01-26 17:53:06,583 - DEBUG - integration_test -   Set spline state to 0.0000
2026-01-26 17:53:06,584 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:06,596 - DEBUG - integration_test - Step 0: Checking path alignment: vehicle=(0.000, 0.000), path_start=(0.000, 0.000), dist=0.000m
2026-01-26 17:53:06,596 - INFO - integration_test - === Calling planner.solve_mpc() at step 0 ===
2026-01-26 17:53:06,598 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:06,617 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:06,618 - INFO - integration_test - Warmstart k=0: x0=0.0 , y0=0.0 , psi0=0.0 , v0=1.0 , spline0=0.0 , a0=0.0 , w0=0.0
2026-01-26 17:53:06,618 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:06,619 - INFO - integration_test - Dyn residual k=0: pred=[0.1, 0.0, 0.0, 1.0, 0.1], ws=[0.129, 0.0, 0.0, 1.0, 0.051515151515151514], res=[-0.028999999999999998, 0.0, 0.0, 0.0, 0.04848484848484849], res_norm=5.650e-02
2026-01-26 17:53:06,619 - INFO - integration_test - Dyn residual k=1: pred=[0.229, 0.0, 0.0, 1.0, 0.15151515151515152], ws=[0.29541000000000006, 0.0, 0.0, 1.0, 0.10505050505050506], res=[-0.06641000000000005, 0.0, 0.0, 0.0, 0.04646464646464646], res_norm=8.105e-02
2026-01-26 17:53:06,620 - INFO - integration_test - Dyn residual k=2: pred=[0.39541000000000004, 0.0, 0.0, 1.0, 0.20505050505050507], ws=[0.5100789000000001, 0.0, 0.0, 1.0, 0.21414141414141413], res=[-0.11466890000000007, 0.0, 0.0, 0.0, -0.009090909090909066], res_norm=1.150e-01
2026-01-26 17:53:06,629 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:06,660 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:06,670 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:06,692 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:06,702 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:06,724 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:06,734 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:06,756 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:06,765 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:06,788 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:06,797 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:06,821 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:06,831 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:06,853 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:06,862 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:06,885 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:06,895 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:06,917 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:07,330 - INFO - integration_test - Step 0: MPC solve successful
2026-01-26 17:53:07,568 - INFO - integration_test - Step 0: Computed 6 numeric contouring constraints for visualization (s=0.000)
2026-01-26 17:53:07,568 - DEBUG - integration_test - Step 0: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:07,569 - DEBUG - integration_test - Linearized constraints module not found at step 0
2026-01-26 17:53:07,569 - INFO - integration_test - === Applying control at step 0 ===
2026-01-26 17:53:07,569 - INFO - integration_test -   Control dict from planner: {'a': 2.000000018596879, 'w': 0.0}
2026-01-26 17:53:07,569 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:07,569 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:07,570 - INFO - integration_test - Step 0 completed in 0.987s
2026-01-26 17:53:07,579 - INFO - integration_test - Step 1 (contouring until path end)
2026-01-26 17:53:07,580 - DEBUG - integration_test - Syncing planner state at step 1: vehicle_state=[0.11 0.   0.   1.2  0.12]
2026-01-26 17:53:07,581 - DEBUG - integration_test - Step 1: Using propagated spline 0.1200 (close to path, dist=0.110m, drift=0.120m)
2026-01-26 17:53:07,581 - DEBUG - integration_test -   Set spline state to 0.1200
2026-01-26 17:53:07,581 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:07,595 - DEBUG - integration_test - Step 1: Checking path alignment: vehicle=(0.110, 0.000), path_start=(0.000, 0.000), dist=0.110m
2026-01-26 17:53:07,595 - INFO - integration_test - === Calling planner.solve_mpc() at step 1 ===
2026-01-26 17:53:07,598 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:07,620 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:07,620 - INFO - integration_test - Warmstart k=0: x0=0.11000000009298438 , y0=0.0 , psi0=0.0 , v0=1.200000001859688 , spline0=0.12000000018596879 , a0=0.0 , w0=0.0
2026-01-26 17:53:07,620 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:07,621 - INFO - integration_test - Dyn residual k=0: pred=[0.23000000027895318, 0.0, 0.0, 1.200000001859688, 0.24000000037193758], ws=[0.32414000044983526, 0.0, 0.0, 1.200000001859688, 0.10585858586609974], res=[-0.09414000017088209, 0.0, 0.0, 0.0, 0.13414141450583783], res_norm=1.639e-01
2026-01-26 17:53:07,622 - INFO - integration_test - Dyn residual k=1: pred=[0.44414000063580406, 0.0, 0.0, 1.200000001859688, 0.22585858605206854], ws=[0.4820132539713974, 0.0, 0.0, 1.200000001859688, 0.43313131317639647], res=[-0.037873253335593327, 0.0, 0.0, 0.0, -0.20727272712432793], res_norm=2.107e-01
2026-01-26 17:53:07,623 - INFO - integration_test - Dyn residual k=2: pred=[0.6020132541573662, 0.0, 0.0, 1.200000001859688, 0.5531313133623652], ws=[0.6856697510142126, 0.0, 0.0, 1.200000001859688, 0.2767676768052462], res=[-0.0836564968568464, 0.0, 0.0, 0.0, 0.276363636557119], res_norm=2.887e-01
2026-01-26 17:53:07,633 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:07,665 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:07,676 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:07,702 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:07,715 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:07,743 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:07,754 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:07,780 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:07,793 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:07,819 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:07,830 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:07,857 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:07,867 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:07,893 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:07,906 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:07,945 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:07,962 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:08,000 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:08,077 - INFO - integration_test - Step 1: MPC solve successful
2026-01-26 17:53:08,082 - INFO - integration_test - Step 1: Computed 6 numeric contouring constraints for visualization (s=0.120)
2026-01-26 17:53:08,082 - DEBUG - integration_test - Step 1: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:08,082 - INFO - integration_test - === Applying control at step 1 ===
2026-01-26 17:53:08,082 - INFO - integration_test -   Control dict from planner: {'a': 2.0000000169250765, 'w': 0.0}
2026-01-26 17:53:08,082 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:08,082 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:08,083 - INFO - integration_test - Step 1 completed in 0.503s
2026-01-26 17:53:08,089 - INFO - integration_test - Step 2 (contouring until path end)
2026-01-26 17:53:08,089 - DEBUG - integration_test - Syncing planner state at step 2: vehicle_state=[0.24 0.   0.   1.4  0.26]
2026-01-26 17:53:08,090 - DEBUG - integration_test - Step 2: Using propagated spline 0.2600 (close to path, dist=0.168m, drift=0.148m)
2026-01-26 17:53:08,090 - DEBUG - integration_test -   Set spline state to 0.2600
2026-01-26 17:53:08,090 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:08,101 - DEBUG - integration_test - Step 2: Checking path alignment: vehicle=(0.240, 0.000), path_start=(0.000, 0.000), dist=0.240m
2026-01-26 17:53:08,102 - INFO - integration_test - === Calling planner.solve_mpc() at step 2 ===
2026-01-26 17:53:08,104 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:08,123 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:08,123 - INFO - integration_test - Warmstart k=0: x0=0.24000000036357855 , y0=0.0 , psi0=0.0 , v0=1.4000000035521956 , spline0=0.2600000005411883 , a0=0.0 , w0=0.0
2026-01-26 17:53:08,123 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:08,124 - INFO - integration_test - Dyn residual k=0: pred=[0.38000000071879814, 0.0, 0.0, 1.4000000035521956, 0.40000000089640786], ws=[0.4302651541933886, 0.0, 0.0, 1.4000000035521956, 0.16363636366352752], res=[-0.050265153474590485, 0.0, 0.0, 0.0, 0.23636363723288034], res_norm=2.416e-01
2026-01-26 17:53:08,125 - INFO - integration_test - Dyn residual k=1: pred=[0.5702651545486082, 0.0, 0.0, 1.4000000035521956, 0.30363636401874705], ws=[0.6757072026338435, 0.0, 0.0, 1.4000000035521956, 0.2797979798611933], res=[-0.10544204808523538, 0.0, 0.0, 0.0, 0.023838384157553738], res_norm=1.081e-01
2026-01-26 17:53:08,125 - INFO - integration_test - Dyn residual k=2: pred=[0.8157072029890631, 0.0, 0.0, 1.4000000035521956, 0.4197979802164129], ws=[0.873960098183255, 0.0, 0.0, 1.4000000035521956, 0.3442424243398089], res=[-0.05825289519419197, 0.0, 0.0, 0.0, 0.07555555587660401], res_norm=9.540e-02
2026-01-26 17:53:08,134 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:08,163 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:08,173 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:08,195 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:08,206 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:08,229 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:08,238 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:08,261 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:08,269 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:08,292 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:08,301 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:08,324 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:08,333 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:08,355 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:08,364 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:08,387 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:08,396 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:08,419 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:08,495 - INFO - integration_test - Step 2: MPC solve successful
2026-01-26 17:53:08,499 - INFO - integration_test - Step 2: Computed 6 numeric contouring constraints for visualization (s=0.260)
2026-01-26 17:53:08,499 - DEBUG - integration_test - Step 2: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:08,499 - INFO - integration_test - === Applying control at step 2 ===
2026-01-26 17:53:08,499 - INFO - integration_test -   Control dict from planner: {'a': 1.9999999976224763, 'w': 0.0}
2026-01-26 17:53:08,499 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:08,499 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:08,500 - INFO - integration_test - Step 2 completed in 0.411s
2026-01-26 17:53:08,507 - INFO - integration_test - Step 3 (contouring until path end)
2026-01-26 17:53:08,508 - DEBUG - integration_test - Syncing planner state at step 3: vehicle_state=[0.39 0.   0.   1.6  0.42]
2026-01-26 17:53:08,508 - DEBUG - integration_test - Step 3: Using propagated spline 0.4200 (close to path, dist=0.018m, drift=0.012m)
2026-01-26 17:53:08,508 - DEBUG - integration_test -   Set spline state to 0.4200
2026-01-26 17:53:08,509 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:08,519 - DEBUG - integration_test - Step 3: Checking path alignment: vehicle=(0.390, 0.000), path_start=(0.000, 0.000), dist=0.390m
2026-01-26 17:53:08,519 - INFO - integration_test - === Calling planner.solve_mpc() at step 3 ===
2026-01-26 17:53:08,522 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:08,540 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:08,540 - INFO - integration_test - Warmstart k=0: x0=0.3900000007069105 , y0=0.0 , psi0=0.0 , v0=1.6000000033144433 , spline0=0.4200000008726327 , a0=0.0 , w0=0.0
2026-01-26 17:53:08,540 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:08,541 - INFO - integration_test - Dyn residual k=0: pred=[0.5500000010383548, 0.0, 0.0, 1.6000000033144433, 0.580000001204077], ws=[0.6116101546572085, 0.0, 0.0, 1.6000000033144433, 0.5072727273821888], res=[-0.06161015361885369, 0.0, 0.0, 0.0, 0.07272727382188826], res_norm=9.532e-02
2026-01-26 17:53:08,541 - INFO - integration_test - Dyn residual k=1: pred=[0.7716101549886528, 0.0, 0.0, 1.6000000033144433, 0.6672727277136331], ws=[0.8974872532530929, 0.0, 0.0, 1.6000000033144433, 0.3478787879718498], res=[-0.12587709826444005, 0.0, 0.0, 0.0, 0.3193939397417833], res_norm=3.433e-01
2026-01-26 17:53:08,542 - INFO - integration_test - Dyn residual k=2: pred=[1.0574872535845372, 0.0, 0.0, 1.6000000033144433, 0.5078787883032941], ws=[1.1479013635030082, 0.0, 0.0, 1.6000000033144433, 0.9535353538370853], res=[-0.09041410991847099, 0.0, 0.0, 0.0, -0.4456565655337912], res_norm=4.547e-01
2026-01-26 17:53:08,551 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:08,580 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:08,590 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:08,612 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:08,622 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:08,644 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:08,654 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:08,680 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:08,690 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:08,713 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:08,723 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:08,746 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:08,755 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:08,781 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:08,791 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:08,814 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:08,823 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:08,847 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:08,921 - INFO - integration_test - Step 3: MPC solve successful
2026-01-26 17:53:08,926 - INFO - integration_test - Step 3: Computed 6 numeric contouring constraints for visualization (s=0.420)
2026-01-26 17:53:08,926 - DEBUG - integration_test - Step 3: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:08,926 - INFO - integration_test - === Applying control at step 3 ===
2026-01-26 17:53:08,926 - INFO - integration_test -   Control dict from planner: {'a': 2.000000012018296, 'w': 0.0}
2026-01-26 17:53:08,926 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:08,926 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:08,927 - INFO - integration_test - Step 3 completed in 0.419s
2026-01-26 17:53:08,934 - INFO - integration_test - Step 4 (contouring until path end)
2026-01-26 17:53:08,934 - DEBUG - integration_test - Syncing planner state at step 4: vehicle_state=[0.56 0.   0.   1.8  0.6 ]
2026-01-26 17:53:08,935 - DEBUG - integration_test - Step 4: Using propagated spline 0.6000 (close to path, dist=0.152m, drift=0.192m)
2026-01-26 17:53:08,935 - DEBUG - integration_test -   Set spline state to 0.6000
2026-01-26 17:53:08,935 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:08,945 - DEBUG - integration_test - Step 4: Checking path alignment: vehicle=(0.560, 0.000), path_start=(0.000, 0.000), dist=0.560m
2026-01-26 17:53:08,945 - INFO - integration_test - === Calling planner.solve_mpc() at step 4 ===
2026-01-26 17:53:08,947 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:08,966 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:08,966 - INFO - integration_test - Warmstart k=0: x0=0.5600000010984463 , y0=0.0 , psi0=0.0 , v0=1.800000004516273 , spline0=0.60000000132426 , a0=0.0 , w0=0.0
2026-01-26 17:53:08,966 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:08,967 - INFO - integration_test - Dyn residual k=0: pred=[0.7400000015500736, 0.0, 0.0, 1.800000004516273, 0.7800000017758874], ws=[0.7764403084955765, 0.0, 0.0, 1.800000004516273, 0.817373737624873], res=[-0.03644030694550293, 0.0, 0.0, 0.0, -0.03737373584898562], res_norm=5.220e-02
2026-01-26 17:53:08,968 - INFO - integration_test - Dyn residual k=1: pred=[0.9564403089472038, 0.0, 0.0, 1.800000004516273, 0.9973737380765003], ws=[1.0556483050378747, 0.0, 0.0, 1.800000004516273, 0.662222222469724], res=[-0.09920799609067088, 0.0, 0.0, 0.0, 0.33515151560677636], res_norm=3.495e-01
2026-01-26 17:53:08,968 - INFO - integration_test - Dyn residual k=2: pred=[1.235648305489502, 0.0, 0.0, 1.800000004516273, 0.8422222229213513], ws=[1.2974592736386636, 0.0, 0.0, 1.800000004516273, 1.2404040409452812], res=[-0.06181096814916165, 0.0, 0.0, 0.0, -0.39818181802392993], res_norm=4.030e-01
2026-01-26 17:53:08,977 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:09,006 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:09,016 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:09,037 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:09,046 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:09,069 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:09,078 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:09,100 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:09,111 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:09,133 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:09,144 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:09,169 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:09,179 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:09,203 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:09,215 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:09,238 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:09,247 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:09,271 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:09,344 - INFO - integration_test - Step 4: MPC solve successful
2026-01-26 17:53:09,348 - INFO - integration_test - Step 4: Computed 6 numeric contouring constraints for visualization (s=0.600)
2026-01-26 17:53:09,348 - DEBUG - integration_test - Step 4: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:09,348 - INFO - integration_test - === Applying control at step 4 ===
2026-01-26 17:53:09,348 - INFO - integration_test -   Control dict from planner: {'a': 1.9999997146756678, 'w': 0.0}
2026-01-26 17:53:09,348 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:09,348 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:09,349 - INFO - integration_test - Step 4 completed in 0.415s
2026-01-26 17:53:09,356 - INFO - integration_test - Step 5 (contouring until path end)
2026-01-26 17:53:09,356 - DEBUG - integration_test - Syncing planner state at step 5: vehicle_state=[0.75       0.         0.         1.99999998 0.8       ]
2026-01-26 17:53:09,356 - DEBUG - integration_test - Step 5: Using propagated spline 0.8000 (close to path, dist=0.066m, drift=0.016m)
2026-01-26 17:53:09,356 - DEBUG - integration_test -   Set spline state to 0.8000
2026-01-26 17:53:09,357 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:09,367 - DEBUG - integration_test - Step 5: Checking path alignment: vehicle=(0.750, 0.000), path_start=(0.000, 0.000), dist=0.750m
2026-01-26 17:53:09,367 - INFO - integration_test - === Calling planner.solve_mpc() at step 5 ===
2026-01-26 17:53:09,370 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:09,388 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:09,388 - INFO - integration_test - Warmstart k=0: x0=0.7500000001234519 , y0=0.0 , psi0=0.0 , v0=1.9999999759838398 , spline0=0.7999999989226441 , a0=0.0 , w0=0.0
2026-01-26 17:53:09,388 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:09,389 - INFO - integration_test - Dyn residual k=0: pred=[0.9499999977218359, 0.0, 0.0, 1.9999999759838398, 0.999999996521028], ws=[1.0889903022567573, 0.0, 0.0, 1.9999999759838398, 0.9090909085637922], res=[-0.13899030453492145, 0.0, 0.0, 0.0, 0.09090908795723585], res_norm=1.661e-01
2026-01-26 17:53:09,389 - INFO - integration_test - Dyn residual k=1: pred=[1.2889902998551412, 0.0, 0.0, 1.9999999759838398, 1.109090906162176], ws=[1.4079204450699456, 0.0, 0.0, 1.9999999759838398, 0.8141414133692156], res=[-0.11893014521480438, 0.0, 0.0, 0.0, 0.29494949279296045], res_norm=3.180e-01
2026-01-26 17:53:09,390 - INFO - integration_test - Dyn residual k=2: pred=[1.6079204426683296, 0.0, 0.0, 1.9999999759838398, 1.0141414109675997], ws=[1.700972982360183, 0.0, 0.0, 1.9999999759838398, 1.4222222203817325], res=[-0.09305253969185334, 0.0, 0.0, 0.0, -0.40808080941413283], res_norm=4.186e-01
2026-01-26 17:53:09,398 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:09,430 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:09,440 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:09,464 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:09,473 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:09,496 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:09,506 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:09,530 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:09,539 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:09,562 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:09,571 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:09,594 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:09,603 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:09,625 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:09,634 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:09,657 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:09,667 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:09,689 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:09,757 - INFO - integration_test - Step 5: MPC solve successful
2026-01-26 17:53:09,761 - INFO - integration_test - Step 5: Computed 6 numeric contouring constraints for visualization (s=0.800)
2026-01-26 17:53:09,761 - DEBUG - integration_test - Step 5: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:09,761 - INFO - integration_test - === Applying control at step 5 ===
2026-01-26 17:53:09,761 - INFO - integration_test -   Control dict from planner: {'a': 1.999999929568791, 'w': 0.0}
2026-01-26 17:53:09,761 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:09,761 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:09,762 - INFO - integration_test - Step 5 completed in 0.406s
2026-01-26 17:53:09,769 - INFO - integration_test - Step 6 (contouring until path end)
2026-01-26 17:53:09,769 - DEBUG - integration_test - Syncing planner state at step 6: vehicle_state=[0.96       0.         0.         2.19999997 1.02      ]
2026-01-26 17:53:09,769 - DEBUG - integration_test - Step 6: Using propagated spline 1.0200 (close to path, dist=0.144m, drift=0.204m)
2026-01-26 17:53:09,770 - DEBUG - integration_test -   Set spline state to 1.0200
2026-01-26 17:53:09,770 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:09,780 - DEBUG - integration_test - Step 6: Checking path alignment: vehicle=(0.960, 0.000), path_start=(0.000, 0.000), dist=0.960m
2026-01-26 17:53:09,780 - INFO - integration_test - === Calling planner.solve_mpc() at step 6 ===
2026-01-26 17:53:09,782 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:09,800 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:09,800 - INFO - integration_test - Warmstart k=0: x0=0.9599999973696799 , y0=0.0 , psi0=0.0 , v0=2.199999968940719 , spline0=1.019999995816716 , a0=0.0 , w0=0.0
2026-01-26 17:53:09,801 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:09,801 - INFO - integration_test - Dyn residual k=0: pred=[1.1799999942637518, 0.0, 0.0, 2.199999968940719, 1.2399999927107879], ws=[1.2400254500896672, 0.0, 0.0, 2.199999968940719, 0.7563636354800956], res=[-0.06002545582591545, 0.0, 0.0, 0.0, 0.4836363572306923], res_norm=4.873e-01
2026-01-26 17:53:09,802 - INFO - integration_test - Dyn residual k=1: pred=[1.4600254469837393, 0.0, 0.0, 2.199999968940719, 0.9763636323741675], ws=[1.6012582840984508, 0.0, 0.0, 2.199999968940719, 1.3703030280980009], res=[-0.14123283711471157, 0.0, 0.0, 0.0, -0.3939393957238334], res_norm=4.185e-01
2026-01-26 17:53:09,803 - INFO - integration_test - Dyn residual k=2: pred=[1.8212582809925228, 0.0, 0.0, 2.199999968940719, 1.5903030249920729], ws=[1.9488812930310062, 0.0, 0.0, 2.199999968940719, 1.754343430797699], res=[-0.12762301203848336, 0.0, 0.0, 0.0, -0.16404040580562618], res_norm=2.078e-01
2026-01-26 17:53:09,811 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:09,839 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:09,849 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:09,872 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:09,881 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:09,904 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:09,915 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:09,942 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:09,952 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:09,976 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:09,986 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:10,010 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:10,020 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:10,042 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:10,052 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:10,076 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:10,086 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:10,110 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:10,180 - INFO - integration_test - Step 6: MPC solve successful
2026-01-26 17:53:10,184 - INFO - integration_test - Step 6: Computed 6 numeric contouring constraints for visualization (s=1.020)
2026-01-26 17:53:10,184 - DEBUG - integration_test - Step 6: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:10,184 - INFO - integration_test - === Applying control at step 6 ===
2026-01-26 17:53:10,185 - INFO - integration_test -   Control dict from planner: {'a': 1.9999999786833067, 'w': 0.0}
2026-01-26 17:53:10,185 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:10,185 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:10,186 - INFO - integration_test - Step 6 completed in 0.417s
2026-01-26 17:53:10,193 - INFO - integration_test - Step 7 (contouring until path end)
2026-01-26 17:53:10,193 - DEBUG - integration_test - Syncing planner state at step 7: vehicle_state=[1.18999999 0.         0.         2.39999997 1.25999999]
2026-01-26 17:53:10,194 - DEBUG - integration_test - Step 7: Using propagated spline 1.2600 (close to path, dist=0.034m, drift=0.036m)
2026-01-26 17:53:10,194 - DEBUG - integration_test -   Set spline state to 1.2600
2026-01-26 17:53:10,194 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:10,205 - DEBUG - integration_test - Step 7: Checking path alignment: vehicle=(1.190, 0.000), path_start=(0.000, 0.000), dist=1.190m
2026-01-26 17:53:10,205 - INFO - integration_test - === Calling planner.solve_mpc() at step 7 ===
2026-01-26 17:53:10,207 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:10,225 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:10,225 - INFO - integration_test - Warmstart k=0: x0=1.1899999941571684 , y0=0.0 , psi0=0.0 , v0=2.3999999668090495 , spline0=1.259999992497621 , a0=0.0 , w0=0.0
2026-01-26 17:53:10,225 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:10,226 - INFO - integration_test - Dyn residual k=0: pred=[1.4299999908380734, 0.0, 0.0, 2.3999999668090495, 1.499999989178526], ws=[1.5387804450157054, 0.0, 0.0, 2.3999999668090495, 1.1161616143033835], res=[-0.10878045417763205, 0.0, 0.0, 0.0, 0.3838383748751426], res_norm=3.990e-01
2026-01-26 17:53:10,226 - INFO - integration_test - Dyn residual k=1: pred=[1.7787804416966104, 0.0, 0.0, 2.3999999668090495, 1.3561616109842884], ws=[1.8703398796844426, 0.0, 0.0, 2.3999999668090495, 1.4977777746354293], res=[-0.09155943798783217, 0.0, 0.0, 0.0, -0.14161616365114083], res_norm=1.686e-01
2026-01-26 17:53:10,227 - INFO - integration_test - Dyn residual k=2: pred=[2.1103398763653476, 0.0, 0.0, 2.3999999668090495, 1.7377777713163343], ws=[2.179684203468338, 0.0, 0.0, 2.3999999668090495, 1.6216161575598762], res=[-0.06934432710299054, 0.0, 0.0, 0.0, 0.11616161375645806], res_norm=1.353e-01
2026-01-26 17:53:10,236 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:10,268 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:10,280 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:10,308 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:10,320 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:10,345 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:10,355 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:10,379 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:10,390 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:10,413 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:10,423 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:10,448 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:10,458 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:10,481 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:10,490 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:10,514 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:10,523 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:10,546 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:10,615 - INFO - integration_test - Step 7: MPC solve successful
2026-01-26 17:53:10,620 - INFO - integration_test - Step 7: Computed 6 numeric contouring constraints for visualization (s=1.260)
2026-01-26 17:53:10,620 - DEBUG - integration_test - Step 7: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:10,620 - INFO - integration_test - === Applying control at step 7 ===
2026-01-26 17:53:10,620 - INFO - integration_test -   Control dict from planner: {'a': 1.9999999233641874, 'w': 0.0}
2026-01-26 17:53:10,620 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:10,620 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:10,621 - INFO - integration_test - Step 7 completed in 0.428s
2026-01-26 17:53:10,636 - INFO - integration_test - Step 8 (contouring until path end)
2026-01-26 17:53:10,637 - DEBUG - integration_test - Syncing planner state at step 8: vehicle_state=[1.43999999 0.         0.         2.59999996 1.51999999]
2026-01-26 17:53:10,637 - DEBUG - integration_test - Step 8: Using propagated spline 1.5200 (close to path, dist=0.193m, drift=0.113m)
2026-01-26 17:53:10,637 - DEBUG - integration_test -   Set spline state to 1.5200
2026-01-26 17:53:10,638 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:10,651 - DEBUG - integration_test - Step 8: Checking path alignment: vehicle=(1.440, 0.000), path_start=(0.000, 0.000), dist=1.440m
2026-01-26 17:53:10,651 - INFO - integration_test - === Calling planner.solve_mpc() at step 8 ===
2026-01-26 17:53:10,653 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:10,673 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:10,673 - INFO - integration_test - Warmstart k=0: x0=1.4399999904548944 , y0=0.0 , psi0=0.0 , v0=2.5999999591454683 , spline0=1.519999988412168 , a0=0.0 , w0=0.0
2026-01-26 17:53:10,673 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:10,674 - INFO - integration_test - Dyn residual k=0: pred=[1.6999999863694413, 0.0, 0.0, 2.5999999591454683, 1.779999984326715], ws=[1.8210205913520188, 0.0, 0.0, 2.5999999591454683, 1.7121212081633117], res=[-0.1210206049825775, 0.0, 0.0, 0.0, 0.06787877616340321], res_norm=1.388e-01
2026-01-26 17:53:10,675 - INFO - integration_test - Dyn residual k=1: pred=[2.0810205872665657, 0.0, 0.0, 2.5999999591454683, 1.9721212040778586], ws=[2.1941698195705337, 0.0, 0.0, 2.5999999591454683, 1.8488888836997255], res=[-0.113149232303968, 0.0, 0.0, 0.0, 0.12323232037813314], res_norm=1.673e-01
2026-01-26 17:53:10,676 - INFO - integration_test - Dyn residual k=2: pred=[2.4541698154850806, 0.0, 0.0, 2.5999999591454683, 2.1088888796142724], ws=[2.557164977033642, 0.0, 0.0, 2.5999999591454683, 2.507070698881793], res=[-0.10299516154856159, 0.0, 0.0, 0.0, -0.3981818192675206], res_norm=4.113e-01
2026-01-26 17:53:10,684 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:10,716 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:10,726 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:10,749 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:10,759 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:10,785 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:10,796 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:10,820 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:10,831 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:10,856 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:10,867 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:10,892 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:10,901 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:10,926 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:10,937 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:10,962 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:10,972 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:10,996 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:11,067 - INFO - integration_test - Step 8: MPC solve successful
2026-01-26 17:53:11,071 - INFO - integration_test - Step 8: Computed 6 numeric contouring constraints for visualization (s=1.520)
2026-01-26 17:53:11,072 - DEBUG - integration_test - Step 8: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:11,072 - INFO - integration_test - === Applying control at step 8 ===
2026-01-26 17:53:11,072 - INFO - integration_test -   Control dict from planner: {'a': 1.9999999238011839, 'w': 0.0}
2026-01-26 17:53:11,072 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:11,072 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:11,073 - INFO - integration_test - Step 8 completed in 0.437s
2026-01-26 17:53:11,087 - INFO - integration_test - Step 9 (contouring until path end)
2026-01-26 17:53:11,087 - DEBUG - integration_test - Syncing planner state at step 9: vehicle_state=[1.70999999 0.         0.         2.79999995 1.79999998]
2026-01-26 17:53:11,088 - DEBUG - integration_test - Step 9: Using propagated spline 1.8000 (close to path, dist=0.077m, drift=0.167m)
2026-01-26 17:53:11,088 - DEBUG - integration_test -   Set spline state to 1.8000
2026-01-26 17:53:11,088 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:11,099 - DEBUG - integration_test - Step 9: Checking path alignment: vehicle=(1.710, 0.000), path_start=(0.000, 0.000), dist=1.710m
2026-01-26 17:53:11,099 - INFO - integration_test - === Calling planner.solve_mpc() at step 9 ===
2026-01-26 17:53:11,101 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:11,121 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:11,121 - INFO - integration_test - Warmstart k=0: x0=1.7099999859884472 , y0=0.0 , psi0=0.0 , v0=2.799999951525587 , spline0=1.7999999835647267 , a0=0.0 , w0=0.0
2026-01-26 17:53:11,121 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:11,122 - INFO - integration_test - Dyn residual k=0: pred=[1.9899999811410058, 0.0, 0.0, 2.799999951525587, 2.0799999787172854], ws=[2.0601132365741757, 0.0, 0.0, 2.799999951525587, 1.5733333286038413], res=[-0.07011325543316982, 0.0, 0.0, 0.0, 0.506666650113444], res_norm=5.115e-01
2026-01-26 17:53:11,123 - INFO - integration_test - Dyn residual k=1: pred=[2.3401132317267344, 0.0, 0.0, 2.799999951525587, 1.8533333237564], ws=[2.39339198289099, 0.0, 0.0, 2.799999951525587, 1.9329292860668277], res=[-0.053278751164255844, 0.0, 0.0, 0.0, -0.07959596231042765], res_norm=9.578e-02
2026-01-26 17:53:11,123 - INFO - integration_test - Dyn residual k=2: pred=[2.673391978043549, 0.0, 0.0, 2.799999951525587, 2.2129292812193864], ws=[2.8233215656396804, 0.0, 0.0, 2.799999951525587, 2.623838373199613], res=[-0.1499295875961315, 0.0, 0.0, 0.0, -0.41090909198022674], res_norm=4.374e-01
2026-01-26 17:53:11,132 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:11,162 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:11,173 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:11,197 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:11,207 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:11,230 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:11,240 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:11,262 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:11,272 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:11,295 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:11,306 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:11,333 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:11,344 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:11,369 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:11,380 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:11,405 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:11,416 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:11,440 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:11,522 - INFO - integration_test - Step 9: MPC solve successful
2026-01-26 17:53:11,527 - INFO - integration_test - Step 9: Computed 6 numeric contouring constraints for visualization (s=1.800)
2026-01-26 17:53:11,527 - DEBUG - integration_test - Step 9: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:11,527 - INFO - integration_test - === Applying control at step 9 ===
2026-01-26 17:53:11,527 - INFO - integration_test -   Control dict from planner: {'a': 2.000000017754013, 'w': 0.0}
2026-01-26 17:53:11,527 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:11,527 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:11,528 - INFO - integration_test - Step 9 completed in 0.441s
2026-01-26 17:53:11,536 - INFO - integration_test - Step 10 (contouring until path end)
2026-01-26 17:53:11,536 - DEBUG - integration_test - Syncing planner state at step 10: vehicle_state=[1.99999998 0.         0.         2.99999995 2.09999998]
2026-01-26 17:53:11,537 - DEBUG - integration_test - Step 10: Using propagated spline 2.1000 (close to path, dist=0.041m, drift=0.059m)
2026-01-26 17:53:11,537 - DEBUG - integration_test -   Set spline state to 2.1000
2026-01-26 17:53:11,537 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:11,550 - DEBUG - integration_test - Step 10: Checking path alignment: vehicle=(2.000, 0.000), path_start=(0.000, 0.000), dist=2.000m
2026-01-26 17:53:11,550 - INFO - integration_test - === Calling planner.solve_mpc() at step 10 ===
2026-01-26 17:53:11,552 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:11,571 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:11,571 - INFO - integration_test - Warmstart k=0: x0=1.999999981229776 , y0=0.0 , psi0=0.0 , v0=2.9999999533009882 , spline0=2.0999999788948256 , a0=0.0 , w0=0.0
2026-01-26 17:53:11,571 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:11,572 - INFO - integration_test - Dyn residual k=0: pred=[2.299999976559875, 0.0, 0.0, 2.9999999533009882, 2.3999999742249245], ws=[2.4469257298893976, 0.0, 0.0, 2.9999999533009882, 2.466666658074975], res=[-0.14692575332952273, 0.0, 0.0, 0.0, -0.06666668385005048], res_norm=1.613e-01
2026-01-26 17:53:11,573 - INFO - integration_test - Dyn residual k=1: pred=[2.7469257252194965, 0.0, 0.0, 2.9999999533009882, 2.766666653405074], ws=[2.7867252517827583, 0.0, 0.0, 2.9999999533009882, 2.3333333241075827], res=[-0.0397995265632618, 0.0, 0.0, 0.0, 0.43333332929749124], res_norm=4.352e-01
2026-01-26 17:53:11,573 - INFO - integration_test - Dyn residual k=2: pred=[3.0867252471128572, 0.0, 0.0, 2.9999999533009882, 2.6333333194376816], ws=[3.2250666350251933, 0.0, 0.0, 2.9999999533009882, 2.9898989767752475], res=[-0.13834138791233608, 0.0, 0.0, 0.0, -0.35656565733756596], res_norm=3.825e-01
2026-01-26 17:53:11,582 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:11,612 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:11,622 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:11,644 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:11,654 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:11,680 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:11,690 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:11,715 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:11,724 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:11,747 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:11,758 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:11,781 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:11,792 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:11,815 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:11,826 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:11,849 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:11,860 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:11,886 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:11,952 - INFO - integration_test - Step 10: MPC solve successful
2026-01-26 17:53:11,956 - INFO - integration_test - Step 10: Computed 6 numeric contouring constraints for visualization (s=2.100)
2026-01-26 17:53:11,956 - DEBUG - integration_test - Step 10: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:11,957 - INFO - integration_test - === Applying control at step 10 ===
2026-01-26 17:53:11,957 - INFO - integration_test -   Control dict from planner: {'a': 5.330296789916004e-07, 'w': 0.0}
2026-01-26 17:53:11,957 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:11,957 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:11,958 - INFO - integration_test - Step 10 completed in 0.422s
2026-01-26 17:53:11,965 - INFO - integration_test - Step 11 (contouring until path end)
2026-01-26 17:53:11,965 - DEBUG - integration_test - Syncing planner state at step 11: vehicle_state=[2.29999998 0.         0.         3.00000001 2.39999998]
2026-01-26 17:53:11,966 - DEBUG - integration_test - Step 11: Using propagated spline 2.4000 (close to path, dist=0.149m, drift=0.049m)
2026-01-26 17:53:11,966 - DEBUG - integration_test -   Set spline state to 2.4000
2026-01-26 17:53:11,966 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:11,977 - DEBUG - integration_test - Step 11: Checking path alignment: vehicle=(2.300, 0.000), path_start=(0.000, 0.000), dist=2.300m
2026-01-26 17:53:11,977 - INFO - integration_test - === Calling planner.solve_mpc() at step 11 ===
2026-01-26 17:53:11,979 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:11,998 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:11,998 - INFO - integration_test - Warmstart k=0: x0=2.299999979225023 , y0=0.0 , psi0=0.0 , v0=3.000000006603956 , spline0=2.399999979555221 , a0=0.0 , w0=0.0
2026-01-26 17:53:11,998 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:11,999 - INFO - integration_test - Dyn residual k=0: pred=[2.5999999798854185, 0.0, 0.0, 3.000000006603956, 2.6999999802156167], ws=[2.7688458881383693, 0.0, 0.0, 3.0, 2.3333333271379457], res=[-0.16884590825295076, 0.0, 0.0, 6.603956048678583e-09, 0.366666653077671], res_norm=4.037e-01
2026-01-26 17:53:12,000 - INFO - integration_test - Dyn residual k=1: pred=[3.068845888138369, 0.0, 0.0, 3.0, 2.6333333271379455], ws=[3.136922416759035, 0.0, 0.0, 3.0, 2.747474740453308], res=[-0.06807652862066593, 0.0, 0.0, 0.0, -0.11414141331536243], res_norm=1.329e-01
2026-01-26 17:53:12,000 - INFO - integration_test - Dyn residual k=2: pred=[3.436922416759035, 0.0, 0.0, 3.0, 3.047474740453308], ws=[3.4933737917409187, 0.0, 0.0, 3.0, 3.3535353452748367], res=[-0.056451374981883795, 0.0, 0.0, 0.0, -0.30606060482152886], res_norm=3.112e-01
2026-01-26 17:53:12,009 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:12,038 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:12,049 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:12,071 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:12,081 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:12,104 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:12,115 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:12,139 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:12,150 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:12,172 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:12,182 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:12,206 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:12,216 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:12,238 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:12,248 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:12,272 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:12,283 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:12,307 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:12,377 - INFO - integration_test - Step 11: MPC solve successful
2026-01-26 17:53:12,381 - INFO - integration_test - Step 11: Computed 6 numeric contouring constraints for visualization (s=2.400)
2026-01-26 17:53:12,381 - DEBUG - integration_test - Step 11: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:12,381 - INFO - integration_test - === Applying control at step 11 ===
2026-01-26 17:53:12,381 - INFO - integration_test -   Control dict from planner: {'a': 2.3079354555714808e-07, 'w': 0.0}
2026-01-26 17:53:12,381 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:12,381 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:12,383 - INFO - integration_test - Step 11 completed in 0.418s
2026-01-26 17:53:12,392 - INFO - integration_test - Step 12 (contouring until path end)
2026-01-26 17:53:12,392 - DEBUG - integration_test - Syncing planner state at step 12: vehicle_state=[2.59999998 0.         0.         3.00000003 2.69999998]
2026-01-26 17:53:12,393 - DEBUG - integration_test - Step 12: Using propagated spline 2.7000 (close to path, dist=0.151m, drift=0.251m)
2026-01-26 17:53:12,393 - DEBUG - integration_test -   Set spline state to 2.7000
2026-01-26 17:53:12,393 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:12,406 - DEBUG - integration_test - Step 12: Checking path alignment: vehicle=(2.600, 0.000), path_start=(0.000, 0.000), dist=2.600m
2026-01-26 17:53:12,406 - INFO - integration_test - === Calling planner.solve_mpc() at step 12 ===
2026-01-26 17:53:12,408 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:12,427 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:12,427 - INFO - integration_test - Warmstart k=0: x0=2.599999981039386 , y0=0.0 , psi0=0.0 , v0=3.0000000296833105 , spline0=2.6999999825235523 , a0=0.0 , w0=0.0
2026-01-26 17:53:12,427 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:12,428 - INFO - integration_test - Dyn residual k=0: pred=[2.8999999840077173, 0.0, 0.0, 3.0000000296833105, 2.9999999854918835], ws=[3.0182660447741774, 0.0, 0.0, 3.0, 2.909090902735837], res=[-0.11826606076646007, 0.0, 0.0, 2.9683310476258384e-08, 0.09090908275604637], res_norm=1.492e-01
2026-01-26 17:53:12,428 - INFO - integration_test - Dyn residual k=1: pred=[3.318266044774177, 0.0, 0.0, 3.0, 3.209090902735837], ws=[3.439461920053283, 0.0, 0.0, 3.0, 2.850505044503038], res=[-0.1211958752791058, 0.0, 0.0, 0.0, 0.35858585823279876], res_norm=3.785e-01
2026-01-26 17:53:12,429 - INFO - integration_test - Dyn residual k=2: pred=[3.739461920053283, 0.0, 0.0, 3.0, 3.1505050445030385], ws=[3.864437252224553, 0.0, 0.0, 3.0, 3.735353527762755], res=[-0.1249753321712701, 0.0, 0.0, 0.0, -0.5848484832597167], res_norm=5.981e-01
2026-01-26 17:53:12,437 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:12,469 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:12,479 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:12,502 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:12,513 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:12,537 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:12,547 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:12,569 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:12,579 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:12,603 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:12,614 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:12,638 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:12,648 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:12,671 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:12,681 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:12,706 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:12,720 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:12,746 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:12,810 - INFO - integration_test - Step 12: MPC solve successful
2026-01-26 17:53:12,815 - INFO - integration_test - Step 12: Computed 6 numeric contouring constraints for visualization (s=2.700)
2026-01-26 17:53:12,815 - DEBUG - integration_test - Step 12: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:12,815 - INFO - integration_test - === Applying control at step 12 ===
2026-01-26 17:53:12,815 - INFO - integration_test -   Control dict from planner: {'a': 3.807300582500672e-10, 'w': 0.0}
2026-01-26 17:53:12,815 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:12,815 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:12,816 - INFO - integration_test - Step 12 completed in 0.424s
2026-01-26 17:53:12,824 - INFO - integration_test - Step 13 (contouring until path end)
2026-01-26 17:53:12,824 - DEBUG - integration_test - Syncing planner state at step 13: vehicle_state=[2.89999998 0.         0.         3.00000003 2.99999999]
2026-01-26 17:53:12,825 - DEBUG - integration_test - Step 13: Using propagated spline 3.0000 (close to path, dist=0.043m, drift=0.143m)
2026-01-26 17:53:12,825 - DEBUG - integration_test -   Set spline state to 3.0000
2026-01-26 17:53:12,826 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:12,838 - DEBUG - integration_test - Step 13: Checking path alignment: vehicle=(2.900, 0.000), path_start=(0.000, 0.000), dist=2.900m
2026-01-26 17:53:12,838 - INFO - integration_test - === Calling planner.solve_mpc() at step 13 ===
2026-01-26 17:53:12,840 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:12,860 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:12,860 - INFO - integration_test - Warmstart k=0: x0=2.8999999840096207 , y0=0.0 , psi0=0.0 , v0=3.0000000297213836 , spline0=2.9999999854956907 , a0=0.0 , w0=0.0
2026-01-26 17:53:12,860 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:12,861 - INFO - integration_test - Dyn residual k=0: pred=[3.199999986981759, 0.0, 0.0, 3.0000000297213836, 3.299999988467829], ws=[3.2676862021960966, 0.0, 0.0, 3.0, 3.2696969639831512], res=[-0.0676862152143376, 0.0, 0.0, 2.972138357648646e-08, 0.03030302448467781], res_norm=7.416e-02
2026-01-26 17:53:12,861 - INFO - integration_test - Dyn residual k=1: pred=[3.5676862021960964, 0.0, 0.0, 3.0, 3.5696969639831515], ws=[3.6236340767178747, 0.0, 0.0, 3.0, 3.387878782164969], res=[-0.055947874521778296, 0.0, 0.0, 0.0, 0.18181818181818254], res_norm=1.902e-01
2026-01-26 17:53:12,862 - INFO - integration_test - Dyn residual k=2: pred=[3.9236340767178746, 0.0, 0.0, 3.0, 3.687878782164969], ws=[3.964439487912193, 0.0, 0.0, 3.0, 3.775757569604232], res=[-0.04080541119431835, 0.0, 0.0, 0.0, -0.08787878743926303], res_norm=9.689e-02
2026-01-26 17:53:12,871 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:12,902 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:12,913 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:12,937 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:12,948 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:12,982 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:12,993 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:13,018 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:13,031 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:13,056 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:13,066 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:13,090 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:13,101 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:13,128 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:13,138 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:13,162 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:13,172 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:13,195 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:13,257 - INFO - integration_test - Step 13: MPC solve successful
2026-01-26 17:53:13,262 - INFO - integration_test - Step 13: Computed 6 numeric contouring constraints for visualization (s=3.000)
2026-01-26 17:53:13,262 - DEBUG - integration_test - Step 13: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:13,262 - INFO - integration_test - === Applying control at step 13 ===
2026-01-26 17:53:13,262 - INFO - integration_test -   Control dict from planner: {'a': -7.000614994810445e-10, 'w': 0.0}
2026-01-26 17:53:13,262 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:13,262 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:13,263 - INFO - integration_test - Step 13 completed in 0.439s
2026-01-26 17:53:13,270 - INFO - integration_test - Step 14 (contouring until path end)
2026-01-26 17:53:13,270 - DEBUG - integration_test - Syncing planner state at step 14: vehicle_state=[3.19999999 0.         0.         3.00000003 3.29999999]
2026-01-26 17:53:13,271 - DEBUG - integration_test - Step 14: Using propagated spline 3.3000 (close to path, dist=0.065m, drift=0.035m)
2026-01-26 17:53:13,271 - DEBUG - integration_test -   Set spline state to 3.3000
2026-01-26 17:53:13,271 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:13,283 - DEBUG - integration_test - Step 14: Checking path alignment: vehicle=(3.200, 0.000), path_start=(0.000, 0.000), dist=3.200m
2026-01-26 17:53:13,283 - INFO - integration_test - === Calling planner.solve_mpc() at step 14 ===
2026-01-26 17:53:13,285 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:13,304 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:13,304 - INFO - integration_test - Warmstart k=0: x0=3.1999999869782587 , y0=0.0 , psi0=0.0 , v0=3.0000000296513774 , spline0=3.2999999884608284 , a0=0.0 , w0=0.0
2026-01-26 17:53:13,304 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:13,305 - INFO - integration_test - Dyn residual k=0: pred=[3.4999999899433965, 0.0, 0.0, 3.0000000296513774, 3.599999991425966], ws=[3.635473706550179, 0.0, 0.0, 3.0, 3.3878787833330537], res=[-0.13547371660678253, 0.0, 0.0, 2.9651377353445696e-08, 0.21212120809291246], res_norm=2.517e-01
2026-01-26 17:53:13,306 - INFO - integration_test - Dyn residual k=1: pred=[3.935473706550179, 0.0, 0.0, 3.0, 3.687878783333054], ws=[4.07886745785918, 0.0, 0.0, 3.0, 3.595959591297304], res=[-0.1433937513090009, 0.0, 0.0, 0.0, 0.09191919203574983], res_norm=1.703e-01
2026-01-26 17:53:13,307 - INFO - integration_test - Dyn residual k=2: pred=[4.3788674578591795, 0.0, 0.0, 3.0, 3.895959591297304], ws=[4.414110703170239, 0.0, 0.0, 3.0, 3.9959595909476326], res=[-0.03524324531105982, 0.0, 0.0, 0.0, -0.09999999965032869], res_norm=1.060e-01
2026-01-26 17:53:13,316 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:13,347 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:13,357 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:13,381 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:13,391 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:13,414 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:13,426 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:13,451 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:13,462 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:13,490 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:13,502 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:13,530 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:13,542 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:13,570 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:13,581 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:13,603 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:13,612 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:13,636 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:13,700 - INFO - integration_test - Step 14: MPC solve successful
2026-01-26 17:53:13,705 - INFO - integration_test - Step 14: Computed 6 numeric contouring constraints for visualization (s=3.300)
2026-01-26 17:53:13,705 - DEBUG - integration_test - Step 14: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:13,705 - INFO - integration_test - === Applying control at step 14 ===
2026-01-26 17:53:13,705 - INFO - integration_test -   Control dict from planner: {'a': 4.202831060221816e-10, 'w': 0.0}
2026-01-26 17:53:13,705 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:13,705 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:13,707 - INFO - integration_test - Step 14 completed in 0.436s
2026-01-26 17:53:13,717 - INFO - integration_test - Step 15 (contouring until path end)
2026-01-26 17:53:13,718 - DEBUG - integration_test - Syncing planner state at step 15: vehicle_state=[3.49999999 0.         0.         3.00000003 3.59999999]
2026-01-26 17:53:13,718 - DEBUG - integration_test - Step 15: Using propagated spline 3.6000 (close to path, dist=0.173m, drift=0.073m)
2026-01-26 17:53:13,718 - DEBUG - integration_test -   Set spline state to 3.6000
2026-01-26 17:53:13,719 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:13,731 - DEBUG - integration_test - Step 15: Checking path alignment: vehicle=(3.500, 0.000), path_start=(0.000, 0.000), dist=3.500m
2026-01-26 17:53:13,731 - INFO - integration_test - === Calling planner.solve_mpc() at step 15 ===
2026-01-26 17:53:13,734 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:13,755 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:13,755 - INFO - integration_test - Warmstart k=0: x0=3.499999989945498 , y0=0.0 , psi0=0.0 , v0=3.0000000296934055 , spline0=3.599999991430169 , a0=0.0 , w0=0.0
2026-01-26 17:53:13,755 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:13,756 - INFO - integration_test - Dyn residual k=0: pred=[3.7999999929148385, 0.0, 0.0, 3.0000000296934055, 3.8999999943995096], ws=[3.9573938639678574, 0.0, 0.0, 3.0, 3.7757575721218903], res=[-0.15739387105301894, 0.0, 0.0, 2.9693405512176696e-08, 0.12424242227761928], res_norm=2.005e-01
2026-01-26 17:53:13,757 - INFO - integration_test - Dyn residual k=1: pred=[4.257393863967858, 0.0, 0.0, 3.0, 4.075757572121891], ws=[4.31069726757915, 0.0, 0.0, 3.0, 4.181818177922803], res=[-0.05330340361129249, 0.0, 0.0, 0.0, -0.10606060580091281], res_norm=1.187e-01
2026-01-26 17:53:13,757 - INFO - integration_test - Dyn residual k=2: pred=[4.61069726757915, 0.0, 0.0, 3.0, 4.481818177922803], ws=[4.766458658237718, 0.0, 0.0, 3.0, 4.606060601905536], res=[-0.15576139065856776, 0.0, 0.0, 0.0, -0.12424242398273311], res_norm=1.992e-01
2026-01-26 17:53:13,767 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:13,799 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:13,809 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:13,834 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:13,844 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:13,869 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:13,879 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:13,903 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:13,916 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:13,944 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:13,956 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:13,983 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:13,994 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:14,020 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:14,032 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:14,059 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:14,070 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:14,094 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:14,168 - INFO - integration_test - Step 15: MPC solve successful
2026-01-26 17:53:14,173 - INFO - integration_test - Step 15: Computed 6 numeric contouring constraints for visualization (s=3.600)
2026-01-26 17:53:14,173 - DEBUG - integration_test - Step 15: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:14,173 - INFO - integration_test - === Applying control at step 15 ===
2026-01-26 17:53:14,173 - INFO - integration_test -   Control dict from planner: {'a': 1.4424402557297307e-10, 'w': 0.0}
2026-01-26 17:53:14,173 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:14,173 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:14,174 - INFO - integration_test - Step 15 completed in 0.457s
2026-01-26 17:53:14,182 - INFO - integration_test - Step 16 (contouring until path end)
2026-01-26 17:53:14,182 - DEBUG - integration_test - Syncing planner state at step 16: vehicle_state=[3.79999999 0.         0.         3.00000003 3.89999999]
2026-01-26 17:53:14,183 - DEBUG - integration_test - Step 16: Using propagated spline 3.9000 (close to path, dist=0.127m, drift=0.227m)
2026-01-26 17:53:14,183 - DEBUG - integration_test -   Set spline state to 3.9000
2026-01-26 17:53:14,183 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:14,195 - DEBUG - integration_test - Step 16: Checking path alignment: vehicle=(3.800, 0.000), path_start=(0.000, 0.000), dist=3.800m
2026-01-26 17:53:14,195 - INFO - integration_test - === Calling planner.solve_mpc() at step 16 ===
2026-01-26 17:53:14,197 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:14,216 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:14,216 - INFO - integration_test - Warmstart k=0: x0=3.7999999929155597 , y0=0.0 , psi0=0.0 , v0=3.00000002970783 , spline0=3.899999994400952 , a0=0.0 , w0=0.0
2026-01-26 17:53:14,216 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:14,217 - INFO - integration_test - Dyn residual k=0: pred=[4.099999995886343, 0.0, 0.0, 3.00000002970783, 4.1999999973717355], ws=[4.206814021388589, 0.0, 0.0, 3.0, 3.903030300654949], res=[-0.1068140255022465, 0.0, 0.0, 2.9707829973801836e-08, 0.2969696967167863], res_norm=3.156e-01
2026-01-26 17:53:14,217 - INFO - integration_test - Dyn residual k=1: pred=[4.506814021388589, 0.0, 0.0, 3.0, 4.203030300654949], ws=[4.613236771180021, 0.0, 0.0, 3.0, 4.318181815636796], res=[-0.10642274979143185, 0.0, 0.0, 0.0, -0.11515151498184739], res_norm=1.568e-01
2026-01-26 17:53:14,218 - INFO - integration_test - Dyn residual k=2: pred=[4.913236771180021, 0.0, 0.0, 3.0, 4.618181815636796], ws=[5.019154771472192, 0.0, 0.0, 3.0, 4.949494946667148], res=[-0.10591800029217158, 0.0, 0.0, 0.0, -0.33131313103035165], res_norm=3.478e-01
2026-01-26 17:53:14,226 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:14,261 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:14,274 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:14,300 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:14,311 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:14,334 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:14,344 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:14,368 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:14,378 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:14,401 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:14,410 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:14,433 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:14,443 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:14,469 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:14,479 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:14,507 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:14,519 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:14,549 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:14,616 - INFO - integration_test - Step 16: MPC solve successful
2026-01-26 17:53:14,620 - INFO - integration_test - Step 16: Computed 6 numeric contouring constraints for visualization (s=3.900)
2026-01-26 17:53:14,620 - DEBUG - integration_test - Step 16: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:14,620 - INFO - integration_test - === Applying control at step 16 ===
2026-01-26 17:53:14,621 - INFO - integration_test -   Control dict from planner: {'a': -1.26906449944234e-09, 'w': 0.0}
2026-01-26 17:53:14,621 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:14,621 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:14,622 - INFO - integration_test - Step 16 completed in 0.440s
2026-01-26 17:53:14,629 - INFO - integration_test - Step 17 (contouring until path end)
2026-01-26 17:53:14,629 - DEBUG - integration_test - Syncing planner state at step 17: vehicle_state=[4.1        0.         0.         3.00000003 4.2       ]
2026-01-26 17:53:14,630 - DEBUG - integration_test - Step 17: Using propagated spline 4.2000 (close to path, dist=0.018m, drift=0.118m)
2026-01-26 17:53:14,630 - DEBUG - integration_test -   Set spline state to 4.2000
2026-01-26 17:53:14,631 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:14,642 - DEBUG - integration_test - Step 17: Checking path alignment: vehicle=(4.100, 0.000), path_start=(0.000, 0.000), dist=4.100m
2026-01-26 17:53:14,642 - INFO - integration_test - === Calling planner.solve_mpc() at step 17 ===
2026-01-26 17:53:14,644 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:14,663 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:14,663 - INFO - integration_test - Warmstart k=0: x0=4.0999999958799975 , y0=0.0 , psi0=0.0 , v0=3.0000000295809235 , spline0=4.199999997359044 , a0=0.0 , w0=0.0
2026-01-26 17:53:14,663 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:14,664 - INFO - integration_test - Dyn residual k=0: pred=[4.39999999883809, 0.0, 0.0, 3.0000000295809235, 4.5000000003171365], ws=[4.456234178795482, 0.0, 0.0, 3.0, 4.222222221048464], res=[-0.056234179957391994, 0.0, 0.0, 2.9580923488481403e-08, 0.2777777792686722], res_norm=2.834e-01
2026-01-26 17:53:14,665 - INFO - integration_test - Dyn residual k=1: pred=[4.756234178795482, 0.0, 0.0, 3.0, 4.522222221048464], ws=[4.797408927817682, 0.0, 0.0, 3.0, 4.355555554381798], res=[-0.04117474902220053, 0.0, 0.0, 0.0, 0.16666666666666607], res_norm=1.717e-01
2026-01-26 17:53:14,666 - INFO - integration_test - Dyn residual k=2: pred=[5.097408927817682, 0.0, 0.0, 3.0, 4.655555554381798], ws=[5.237524354056321, 0.0, 0.0, 3.0, 5.049494946853994], res=[-0.14011542623863882, 0.0, 0.0, 0.0, -0.39393939247219567], res_norm=4.181e-01
2026-01-26 17:53:14,674 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:14,704 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:14,715 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:14,738 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:14,748 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:14,774 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:14,784 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:14,807 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:14,817 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:14,842 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:14,854 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:14,880 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:14,893 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:14,920 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:14,933 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:14,959 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:14,970 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:14,998 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:15,067 - INFO - integration_test - Step 17: MPC solve successful
2026-01-26 17:53:15,071 - INFO - integration_test - Step 17: Computed 6 numeric contouring constraints for visualization (s=4.200)
2026-01-26 17:53:15,071 - DEBUG - integration_test - Step 17: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:15,072 - INFO - integration_test - === Applying control at step 17 ===
2026-01-26 17:53:15,072 - INFO - integration_test -   Control dict from planner: {'a': -8.631910191700006e-11, 'w': 0.0}
2026-01-26 17:53:15,072 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:15,072 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:15,073 - INFO - integration_test - Step 17 completed in 0.444s
2026-01-26 17:53:15,080 - INFO - integration_test - Step 18 (contouring until path end)
2026-01-26 17:53:15,081 - DEBUG - integration_test - Syncing planner state at step 18: vehicle_state=[4.4        0.         0.         3.00000003 4.5       ]
2026-01-26 17:53:15,082 - DEBUG - integration_test - Step 18: Using propagated spline 4.5000 (close to path, dist=0.090m, drift=0.010m)
2026-01-26 17:53:15,082 - DEBUG - integration_test -   Set spline state to 4.5000
2026-01-26 17:53:15,082 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:15,094 - DEBUG - integration_test - Step 18: Checking path alignment: vehicle=(4.400, 0.000), path_start=(0.000, 0.000), dist=4.400m
2026-01-26 17:53:15,094 - INFO - integration_test - === Calling planner.solve_mpc() at step 18 ===
2026-01-26 17:53:15,097 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:15,117 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:15,117 - INFO - integration_test - Warmstart k=0: x0=4.399999998837658 , y0=0.0 , psi0=0.0 , v0=3.0000000295722917 , spline0=4.500000000316273 , a0=0.0 , w0=0.0
2026-01-26 17:53:15,117 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:15,118 - INFO - integration_test - Dyn residual k=0: pred=[4.700000001794887, 0.0, 0.0, 3.0000000295722917, 4.800000003273502], ws=[4.824021683135879, 0.0, 0.0, 3.0, 4.652525252675402], res=[-0.12402168134099156, 0.0, 0.0, 2.9572291726509548e-08, 0.1474747505981], res_norm=1.927e-01
2026-01-26 17:53:15,119 - INFO - integration_test - Dyn residual k=1: pred=[5.1240216831358785, 0.0, 0.0, 3.0, 4.952525252675402], ws=[5.252642308941807, 0.0, 0.0, 3.0, 5.049494949811223], res=[-0.1286206258059286, 0.0, 0.0, 0.0, -0.09696969713582071], res_norm=1.611e-01
2026-01-26 17:53:15,119 - INFO - integration_test - Dyn residual k=2: pred=[5.552642308941807, 0.0, 0.0, 3.0, 5.3494949498112225], ws=[5.68719556929268, 0.0, 0.0, 3.0, 5.450505050821323], res=[-0.13455326035087278, 0.0, 0.0, 0.0, -0.10101010101010033], res_norm=1.682e-01
2026-01-26 17:53:15,129 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:15,165 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:15,179 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:15,208 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:15,222 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:15,253 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:15,266 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:15,294 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:15,306 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:15,334 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:15,345 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:15,372 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:15,384 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:15,411 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:15,422 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:15,449 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:15,463 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:15,498 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:15,570 - INFO - integration_test - Step 18: MPC solve successful
2026-01-26 17:53:15,574 - INFO - integration_test - Step 18: Computed 6 numeric contouring constraints for visualization (s=4.500)
2026-01-26 17:53:15,575 - DEBUG - integration_test - Step 18: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:15,575 - INFO - integration_test - === Applying control at step 18 ===
2026-01-26 17:53:15,575 - INFO - integration_test -   Control dict from planner: {'a': -2.750831492869035e-09, 'w': 0.0}
2026-01-26 17:53:15,575 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:15,575 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:15,576 - INFO - integration_test - Step 18 completed in 0.495s
2026-01-26 17:53:15,584 - INFO - integration_test - Step 19 (contouring until path end)
2026-01-26 17:53:15,585 - DEBUG - integration_test - Syncing planner state at step 19: vehicle_state=[4.7        0.         0.         3.00000003 4.8       ]
2026-01-26 17:53:15,586 - DEBUG - integration_test - Step 19: Using propagated spline 4.8000 (close to path, dist=0.198m, drift=0.098m)
2026-01-26 17:53:15,586 - DEBUG - integration_test -   Set spline state to 4.8000
2026-01-26 17:53:15,586 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:15,597 - DEBUG - integration_test - Step 19: Checking path alignment: vehicle=(4.700, 0.000), path_start=(0.000, 0.000), dist=4.700m
2026-01-26 17:53:15,597 - INFO - integration_test - === Calling planner.solve_mpc() at step 19 ===
2026-01-26 17:53:15,600 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:15,618 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:15,618 - INFO - integration_test - Warmstart k=0: x0=4.700000001781133 , y0=0.0 , psi0=0.0 , v0=3.0000000292972087 , spline0=4.800000003245994 , a0=0.0 , w0=0.0
2026-01-26 17:53:15,618 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:15,619 - INFO - integration_test - Dyn residual k=0: pred=[5.000000004710854, 0.0, 0.0, 3.0000000292972087, 5.100000006175716], ws=[5.145941840506153, 0.0, 0.0, 3.0, 4.74646464971064], res=[-0.1459418357952993, 0.0, 0.0, 2.9297208659073704e-08, 0.35353535646507517], res_norm=3.825e-01
2026-01-26 17:53:15,620 - INFO - integration_test - Dyn residual k=1: pred=[5.445941840506153, 0.0, 0.0, 3.0, 5.04646464971064], ws=[5.602839465522653, 0.0, 0.0, 3.0, 5.450505053751044], res=[-0.15689762501649973, 0.0, 0.0, 0.0, -0.404040404040404], res_norm=4.334e-01
2026-01-26 17:53:15,621 - INFO - integration_test - Dyn residual k=2: pred=[5.902839465522653, 0.0, 0.0, 3.0, 5.750505053751044], ws=[5.955502707916387, 0.0, 0.0, 3.0, 5.5484848517308425], res=[-0.05266324239373432, 0.0, 0.0, 0.0, 0.20202020202020154], res_norm=2.088e-01
2026-01-26 17:53:15,629 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:15,660 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:15,671 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:15,696 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:15,708 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:15,734 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:15,745 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:15,773 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:15,784 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:15,811 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:15,822 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:15,849 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:15,861 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:15,888 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:15,900 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:15,927 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:15,939 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:15,969 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:16,045 - INFO - integration_test - Step 19: MPC solve successful
2026-01-26 17:53:16,049 - INFO - integration_test - Step 19: Computed 6 numeric contouring constraints for visualization (s=4.800)
2026-01-26 17:53:16,049 - DEBUG - integration_test - Step 19: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:16,049 - INFO - integration_test - === Applying control at step 19 ===
2026-01-26 17:53:16,049 - INFO - integration_test -   Control dict from planner: {'a': -1.7768619308544297e-09, 'w': 0.0}
2026-01-26 17:53:16,050 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:16,050 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:16,051 - INFO - integration_test - Step 19 completed in 0.466s
2026-01-26 17:53:16,058 - INFO - integration_test - Step 20 (contouring until path end)
2026-01-26 17:53:16,058 - DEBUG - integration_test - Syncing planner state at step 20: vehicle_state=[5.         0.         0.         3.00000003 5.10000001]
2026-01-26 17:53:16,059 - DEBUG - integration_test - Step 20: Using propagated spline 5.1000 (close to path, dist=0.102m, drift=0.202m)
2026-01-26 17:53:16,059 - DEBUG - integration_test -   Set spline state to 5.1000
2026-01-26 17:53:16,059 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:16,071 - DEBUG - integration_test - Step 20: Checking path alignment: vehicle=(5.000, 0.000), path_start=(0.000, 0.000), dist=5.000m
2026-01-26 17:53:16,071 - INFO - integration_test - === Calling planner.solve_mpc() at step 20 ===
2026-01-26 17:53:16,074 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:16,103 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:16,103 - INFO - integration_test - Warmstart k=0: x0=5.0000000047019695 , y0=0.0 , psi0=0.0 , v0=3.0000000291195223 , spline0=5.100000006157947 , a0=0.0 , w0=0.0
2026-01-26 17:53:16,103 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:16,104 - INFO - integration_test - Dyn residual k=0: pred=[5.300000007613922, 0.0, 0.0, 3.0000000291195223, 5.400000009069899], ws=[5.39536199784705, 0.0, 0.0, 3.0, 5.349494955652896], res=[-0.09536199023312797, 0.0, 0.0, 2.9119522348963756e-08, 0.05050505341700262], res_norm=1.079e-01
2026-01-26 17:53:16,106 - INFO - integration_test - Dyn residual k=1: pred=[5.6953619978470496, 0.0, 0.0, 3.0, 5.649494955652896], ws=[5.787011622065428, 0.0, 0.0, 3.0, 5.7505050566629965], res=[-0.09164962421837863, 0.0, 0.0, 0.0, -0.10101010101010033], res_norm=1.364e-01
2026-01-26 17:53:16,107 - INFO - integration_test - Dyn residual k=2: pred=[6.087011622065428, 0.0, 0.0, 3.0, 6.050505056662996], ws=[6.173872290368362, 0.0, 0.0, 3.0, 6.1515151576730975], res=[-0.0868606683029336, 0.0, 0.0, 0.0, -0.10101010101010122], res_norm=1.332e-01
2026-01-26 17:53:16,121 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:16,159 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:16,170 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:16,195 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:16,206 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:16,229 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:16,239 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:16,263 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:16,274 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:16,299 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:16,311 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:16,337 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:16,348 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:16,373 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:16,384 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:16,410 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:16,421 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:16,447 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:16,519 - INFO - integration_test - Step 20: MPC solve successful
2026-01-26 17:53:16,523 - INFO - integration_test - Step 20: Computed 6 numeric contouring constraints for visualization (s=5.100)
2026-01-26 17:53:16,523 - DEBUG - integration_test - Step 20: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:16,523 - INFO - integration_test - === Applying control at step 20 ===
2026-01-26 17:53:16,523 - INFO - integration_test -   Control dict from planner: {'a': 4.11485759542969e-09, 'w': 0.0}
2026-01-26 17:53:16,523 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:16,523 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:16,524 - INFO - integration_test - Step 20 completed in 0.466s
2026-01-26 17:53:16,532 - INFO - integration_test - Step 21 (contouring until path end)
2026-01-26 17:53:16,533 - DEBUG - integration_test - Syncing planner state at step 21: vehicle_state=[5.30000001 0.         0.         3.00000003 5.40000001]
2026-01-26 17:53:16,533 - DEBUG - integration_test - Step 21: Using propagated spline 5.4000 (close to path, dist=0.006m, drift=0.094m)
2026-01-26 17:53:16,533 - DEBUG - integration_test -   Set spline state to 5.4000
2026-01-26 17:53:16,534 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:16,546 - DEBUG - integration_test - Step 21: Checking path alignment: vehicle=(5.300, 0.000), path_start=(0.000, 0.000), dist=5.300m
2026-01-26 17:53:16,546 - INFO - integration_test - === Calling planner.solve_mpc() at step 21 ===
2026-01-26 17:53:16,548 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:16,569 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:16,569 - INFO - integration_test - Warmstart k=0: x0=5.300000007634496 , y0=0.0 , psi0=0.0 , v0=3.0000000295310083 , spline0=5.400000009111047 , a0=0.0 , w0=0.0
2026-01-26 17:53:16,569 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:16,570 - INFO - integration_test - Dyn residual k=0: pred=[5.600000010587597, 0.0, 0.0, 3.0000000295310083, 5.700000012064148], ws=[5.644782155228381, 0.0, 0.0, 3.0, 5.447474756585795], res=[-0.04478214464078345, 0.0, 0.0, 2.9531008305383466e-08, 0.25252525547835347], res_norm=2.565e-01
2026-01-26 17:53:16,570 - INFO - integration_test - Dyn residual k=1: pred=[5.94478215522838, 0.0, 0.0, 3.0, 5.747474756585794], ws=[6.0895511256244905, 0.0, 0.0, 3.0, 5.848484857595896], res=[-0.14476897039611014, 0.0, 0.0, 0.0, -0.10101010101010122], res_norm=1.765e-01
2026-01-26 17:53:16,571 - INFO - integration_test - Dyn residual k=2: pred=[6.38955112562449, 0.0, 0.0, 3.0, 6.1484848575958955], ws=[6.426568403557922, 0.0, 0.0, 3.0, 6.249494958605997], res=[-0.03701727793343146, 0.0, 0.0, 0.0, -0.10101010101010122], res_norm=1.076e-01
2026-01-26 17:53:16,581 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:16,611 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:16,621 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:16,644 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:16,654 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:16,678 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:16,688 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:16,713 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:16,723 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:16,748 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:16,758 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:16,787 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:16,797 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:16,823 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:16,834 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:16,861 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:16,873 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:16,899 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:16,972 - INFO - integration_test - Step 21: MPC solve successful
2026-01-26 17:53:16,976 - INFO - integration_test - Step 21: Computed 6 numeric contouring constraints for visualization (s=5.400)
2026-01-26 17:53:16,976 - DEBUG - integration_test - Step 21: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:16,976 - INFO - integration_test - === Applying control at step 21 ===
2026-01-26 17:53:16,977 - INFO - integration_test -   Control dict from planner: {'a': -1.1433025089307824e-09, 'w': 0.0}
2026-01-26 17:53:16,977 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:16,977 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:16,978 - INFO - integration_test - Step 21 completed in 0.445s
2026-01-26 17:53:16,985 - INFO - integration_test - Step 22 (contouring until path end)
2026-01-26 17:53:16,986 - DEBUG - integration_test - Syncing planner state at step 22: vehicle_state=[5.60000001 0.         0.         3.00000003 5.70000001]
2026-01-26 17:53:16,986 - DEBUG - integration_test - Step 22: Using propagated spline 5.7000 (close to path, dist=0.114m, drift=0.014m)
2026-01-26 17:53:16,986 - DEBUG - integration_test -   Set spline state to 5.7000
2026-01-26 17:53:16,987 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:16,999 - DEBUG - integration_test - Step 22: Checking path alignment: vehicle=(5.600, 0.000), path_start=(0.000, 0.000), dist=5.600m
2026-01-26 17:53:16,999 - INFO - integration_test - === Calling planner.solve_mpc() at step 22 ===
2026-01-26 17:53:17,001 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:17,021 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:17,021 - INFO - integration_test - Warmstart k=0: x0=5.600000010581881 , y0=0.0 , psi0=0.0 , v0=3.000000029416678 , spline0=5.7000000120527154 , a0=0.0 , w0=0.0
2026-01-26 17:53:17,021 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:17,022 - INFO - integration_test - Dyn residual k=0: pred=[5.900000013523549, 0.0, 0.0, 3.000000029416678, 6.0000000149943835], ws=[5.966702312610743, 0.0, 0.0, 3.0, 5.54545455750726], res=[-0.06670229908719438, 0.0, 0.0, 2.9416677982396777e-08, 0.45454545748712327], res_norm=4.594e-01
2026-01-26 17:53:17,023 - INFO - integration_test - Dyn residual k=1: pred=[6.266702312610743, 0.0, 0.0, 3.0, 5.84545455750726], ws=[6.3213809352892, 0.0, 0.0, 3.0, 5.946464658517361], res=[-0.054678622678457245, 0.0, 0.0, 0.0, -0.10101010101010122], res_norm=1.149e-01
2026-01-26 17:53:17,024 - INFO - integration_test - Dyn residual k=2: pred=[6.6213809352892, 0.0, 0.0, 3.0, 6.246464658517361], ws=[6.778916358544411, 0.0, 0.0, 3.0, 6.650505062557765], res=[-0.15753542325521064, 0.0, 0.0, 0.0, -0.404040404040404], res_norm=4.337e-01
2026-01-26 17:53:17,033 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:17,067 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:17,077 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:17,101 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:17,112 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:17,136 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:17,146 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:17,169 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:17,178 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:17,202 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:17,212 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:17,236 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:17,247 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:17,274 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:17,285 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:17,311 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:17,322 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:17,348 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:17,417 - INFO - integration_test - Step 22: MPC solve successful
2026-01-26 17:53:17,421 - INFO - integration_test - Step 22: Computed 6 numeric contouring constraints for visualization (s=5.700)
2026-01-26 17:53:17,422 - DEBUG - integration_test - Step 22: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:17,422 - INFO - integration_test - === Applying control at step 22 ===
2026-01-26 17:53:17,422 - INFO - integration_test -   Control dict from planner: {'a': -1.251449492772527e-08, 'w': 0.0}
2026-01-26 17:53:17,422 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:17,422 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:17,423 - INFO - integration_test - Step 22 completed in 0.437s
2026-01-26 17:53:17,430 - INFO - integration_test - Step 23 (contouring until path end)
2026-01-26 17:53:17,431 - DEBUG - integration_test - Syncing planner state at step 23: vehicle_state=[5.90000001 0.         0.         3.00000003 6.00000001]
2026-01-26 17:53:17,431 - DEBUG - integration_test - Step 23: Using propagated spline 6.0000 (close to path, dist=0.186m, drift=0.286m)
2026-01-26 17:53:17,431 - DEBUG - integration_test -   Set spline state to 6.0000
2026-01-26 17:53:17,432 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:17,443 - DEBUG - integration_test - Step 23: Checking path alignment: vehicle=(5.900, 0.000), path_start=(0.000, 0.000), dist=5.900m
2026-01-26 17:53:17,443 - INFO - integration_test - === Calling planner.solve_mpc() at step 23 ===
2026-01-26 17:53:17,446 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:17,468 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:17,468 - INFO - integration_test - Warmstart k=0: x0=5.900000013460976 , y0=0.0 , psi0=0.0 , v0=3.0000000281652284 , spline0=6.000000014869238 , a0=0.0 , w0=0.0
2026-01-26 17:53:17,468 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:17,469 - INFO - integration_test - Dyn residual k=0: pred=[6.200000016277499, 0.0, 0.0, 3.0000000281652284, 6.300000017685761], ws=[6.334489816786736, 0.0, 0.0, 3.0, 5.946464661333884], res=[-0.13448980050923698, 0.0, 0.0, 2.8165228371790363e-08, 0.35353535635187683], res_norm=3.783e-01
2026-01-26 17:53:17,470 - INFO - integration_test - Dyn residual k=1: pred=[6.634489816786735, 0.0, 0.0, 3.0, 6.246464661333884], ws=[6.77661431613819, 0.0, 0.0, 3.0, 6.650505065374288], res=[-0.14212449935145433, 0.0, 0.0, 0.0, -0.404040404040404], res_norm=4.283e-01
2026-01-26 17:53:17,471 - INFO - integration_test - Dyn residual k=2: pred=[7.07661431613819, 0.0, 0.0, 3.0, 6.950505065374288], ws=[7.22858757336279, 0.0, 0.0, 3.0, 7.051515166384389], res=[-0.15197325722460064, 0.0, 0.0, 0.0, -0.10101010101010122], res_norm=1.825e-01
2026-01-26 17:53:17,480 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:17,513 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:17,526 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:17,553 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:17,565 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:17,592 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:17,603 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:17,629 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:17,640 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:17,666 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:17,677 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:17,704 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:17,716 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:17,742 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:17,753 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:17,778 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:17,789 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:17,814 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:17,887 - INFO - integration_test - Step 23: MPC solve successful
2026-01-26 17:53:17,892 - INFO - integration_test - Step 23: Computed 6 numeric contouring constraints for visualization (s=6.000)
2026-01-26 17:53:17,892 - DEBUG - integration_test - Step 23: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:17,892 - INFO - integration_test - === Applying control at step 23 ===
2026-01-26 17:53:17,892 - INFO - integration_test -   Control dict from planner: {'a': 5.317778599474529e-09, 'w': 0.0}
2026-01-26 17:53:17,892 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:17,892 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:17,894 - INFO - integration_test - Step 23 completed in 0.463s
2026-01-26 17:53:17,904 - INFO - integration_test - Step 24 (contouring until path end)
2026-01-26 17:53:17,905 - DEBUG - integration_test - Syncing planner state at step 24: vehicle_state=[6.20000002 0.         0.         3.00000003 6.30000002]
2026-01-26 17:53:17,906 - DEBUG - integration_test - Step 24: Using propagated spline 6.3000 (close to path, dist=0.078m, drift=0.178m)
2026-01-26 17:53:17,906 - DEBUG - integration_test -   Set spline state to 6.3000
2026-01-26 17:53:17,906 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:17,920 - DEBUG - integration_test - Step 24: Checking path alignment: vehicle=(6.200, 0.000), path_start=(0.000, 0.000), dist=6.200m
2026-01-26 17:53:17,920 - INFO - integration_test - === Calling planner.solve_mpc() at step 24 ===
2026-01-26 17:53:17,922 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:17,947 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:17,947 - INFO - integration_test - Warmstart k=0: x0=6.200000016304087 , y0=0.0 , psi0=0.0 , v0=3.000000028697006 , spline0=6.300000017738939 , a0=0.0 , w0=0.0
2026-01-26 17:53:17,947 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:17,949 - INFO - integration_test - Dyn residual k=0: pred=[6.500000019173788, 0.0, 0.0, 3.000000028697006, 6.60000002060864], ws=[6.583909974041591, 0.0, 0.0, 3.0, 6.549494967233889], res=[-0.08390995486780284, 0.0, 0.0, 2.869700610474979e-08, 0.050505053374751085], res_norm=9.794e-02
2026-01-26 17:53:17,950 - INFO - integration_test - Dyn residual k=1: pred=[6.8839099740415906, 0.0, 0.0, 3.0, 6.8494949672338885], ws=[6.960786472584195, 0.0, 0.0, 3.0, 6.950505068243989], res=[-0.07687649854260403, 0.0, 0.0, 0.0, -0.10101010101010033], res_norm=1.269e-01
2026-01-26 17:53:17,951 - INFO - integration_test - Dyn residual k=2: pred=[7.260786472584194, 0.0, 0.0, 3.0, 7.250505068243989], ws=[7.328589808765377, 0.0, 0.0, 3.0, 6.846464664203585], res=[-0.06780333618118295, 0.0, 0.0, 0.0, 0.404040404040404], res_norm=4.097e-01
2026-01-26 17:53:17,962 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:18,004 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:18,020 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:18,056 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:18,071 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:18,098 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:18,109 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:18,134 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:18,145 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:18,173 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:18,183 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:18,210 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:18,222 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:18,248 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:18,259 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:18,286 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:18,298 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:18,324 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:18,387 - INFO - integration_test - Step 24: MPC solve successful
2026-01-26 17:53:18,392 - INFO - integration_test - Step 24: Computed 6 numeric contouring constraints for visualization (s=6.300)
2026-01-26 17:53:18,392 - DEBUG - integration_test - Step 24: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:18,392 - INFO - integration_test - === Applying control at step 24 ===
2026-01-26 17:53:18,392 - INFO - integration_test -   Control dict from planner: {'a': -1.7170616472223355e-08, 'w': 0.0}
2026-01-26 17:53:18,392 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:18,392 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:18,393 - INFO - integration_test - Step 24 completed in 0.488s
2026-01-26 17:53:18,401 - INFO - integration_test - Step 25 (contouring until path end)
2026-01-26 17:53:18,402 - DEBUG - integration_test - Syncing planner state at step 25: vehicle_state=[6.50000002 0.         0.         3.00000003 6.60000002]
2026-01-26 17:53:18,402 - DEBUG - integration_test - Step 25: Using propagated spline 6.6000 (close to path, dist=0.031m, drift=0.069m)
2026-01-26 17:53:18,402 - DEBUG - integration_test -   Set spline state to 6.6000
2026-01-26 17:53:18,403 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:18,414 - DEBUG - integration_test - Step 25: Checking path alignment: vehicle=(6.500, 0.000), path_start=(0.000, 0.000), dist=6.500m
2026-01-26 17:53:18,414 - INFO - integration_test - === Calling planner.solve_mpc() at step 25 ===
2026-01-26 17:53:18,417 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:18,435 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:18,436 - INFO - integration_test - Warmstart k=0: x0=6.500000019087935 , y0=0.0 , psi0=0.0 , v0=3.0000000269799445 , spline0=6.600000020436934 , a0=0.0 , w0=0.0
2026-01-26 17:53:18,436 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:18,436 - INFO - integration_test - Dyn residual k=0: pred=[6.800000021785929, 0.0, 0.0, 3.0000000269799445, 6.900000023134928], ws=[6.833330131120625, 0.0, 0.0, 3.0, 6.647474767911681], res=[-0.03333010933469538, 0.0, 0.0, 2.697994450073793e-08, 0.2525252552232473], res_norm=2.547e-01
2026-01-26 17:53:18,437 - INFO - integration_test - Dyn residual k=1: pred=[7.1333301311206245, 0.0, 0.0, 3.0, 6.947474767911681], ws=[7.263325975642794, 0.0, 0.0, 3.0, 6.846464666901579], res=[-0.1299958445221696, 0.0, 0.0, 0.0, 0.10101010101010122], res_norm=1.646e-01
2026-01-26 17:53:18,438 - INFO - integration_test - Dyn residual k=2: pred=[7.563325975642794, 0.0, 0.0, 3.0, 7.146464666901579], ws=[7.699653268137617, 0.0, 0.0, 3.0, 7.24747476791168], res=[-0.13632729249482267, 0.0, 0.0, 0.0, -0.10101010101010122], res_norm=1.697e-01
2026-01-26 17:53:18,447 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:18,481 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:18,493 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:18,522 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:18,535 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:18,560 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:18,570 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:18,594 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:18,604 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:18,631 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:18,641 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:18,666 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:18,676 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:18,701 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:18,713 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:18,740 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:18,751 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:18,778 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:18,855 - INFO - integration_test - Step 25: MPC solve successful
2026-01-26 17:53:18,860 - INFO - integration_test - Step 25: Computed 6 numeric contouring constraints for visualization (s=6.600)
2026-01-26 17:53:18,860 - DEBUG - integration_test - Step 25: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:18,861 - INFO - integration_test - === Applying control at step 25 ===
2026-01-26 17:53:18,861 - INFO - integration_test -   Control dict from planner: {'a': 2.085394926493995e-08, 'w': 0.0}
2026-01-26 17:53:18,861 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:18,861 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:18,862 - INFO - integration_test - Step 25 completed in 0.460s
2026-01-26 17:53:18,871 - INFO - integration_test - Step 26 (contouring until path end)
2026-01-26 17:53:18,872 - DEBUG - integration_test - Syncing planner state at step 26: vehicle_state=[6.80000002 0.         0.         3.00000003 6.90000002]
2026-01-26 17:53:18,873 - DEBUG - integration_test - Step 26: Using propagated spline 6.9000 (close to path, dist=0.139m, drift=0.039m)
2026-01-26 17:53:18,873 - DEBUG - integration_test -   Set spline state to 6.9000
2026-01-26 17:53:18,874 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:18,888 - DEBUG - integration_test - Step 26: Checking path alignment: vehicle=(6.800, 0.000), path_start=(0.000, 0.000), dist=6.800m
2026-01-26 17:53:18,888 - INFO - integration_test - === Calling planner.solve_mpc() at step 26 ===
2026-01-26 17:53:18,890 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:18,912 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:18,912 - INFO - integration_test - Warmstart k=0: x0=6.800000021890199 , y0=0.0 , psi0=0.0 , v0=3.0000000290653395 , spline0=6.900000023343468 , a0=0.0 , w0=0.0
2026-01-26 17:53:18,912 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:18,913 - INFO - integration_test - Dyn residual k=0: pred=[7.100000024796732, 0.0, 0.0, 3.0000000290653395, 7.200000026250002], ws=[7.155250288376909, 0.0, 0.0, 3.0, 7.048484871828316], res=[-0.05525026358017637, 0.0, 0.0, 2.906533946855916e-08, 0.15151515442168595], res_norm=1.613e-01
2026-01-26 17:53:18,914 - INFO - integration_test - Dyn residual k=1: pred=[7.4552502883769085, 0.0, 0.0, 3.0, 7.348484871828316], ws=[7.613523132144763, 0.0, 0.0, 3.0, 7.449494972838417], res=[-0.1582728437678549, 0.0, 0.0, 0.0, -0.10101010101010122], res_norm=1.878e-01
2026-01-26 17:53:18,916 - INFO - integration_test - Dyn residual k=2: pred=[7.913523132144763, 0.0, 0.0, 3.0, 7.749494972838417], ws=[7.967960406727745, 0.0, 0.0, 3.0, 7.850505073848518], res=[-0.0544372745829822, 0.0, 0.0, 0.0, -0.10101010101010033], res_norm=1.147e-01
2026-01-26 17:53:18,926 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:18,964 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:18,976 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:19,004 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:19,016 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:19,043 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:19,054 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:19,081 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:19,093 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:19,123 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:19,137 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:19,166 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:19,180 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:19,208 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:19,222 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:19,248 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:19,258 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:19,284 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:19,349 - INFO - integration_test - Step 26: MPC solve successful
2026-01-26 17:53:19,353 - INFO - integration_test - Step 26: Computed 6 numeric contouring constraints for visualization (s=6.900)
2026-01-26 17:53:19,354 - DEBUG - integration_test - Step 26: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:19,354 - INFO - integration_test - === Applying control at step 26 ===
2026-01-26 17:53:19,354 - INFO - integration_test -   Control dict from planner: {'a': -6.882843958664064e-09, 'w': 0.0}
2026-01-26 17:53:19,354 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:19,354 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:19,355 - INFO - integration_test - Step 26 completed in 0.483s
2026-01-26 17:53:19,361 - INFO - integration_test - Step 27 (contouring until path end)
2026-01-26 17:53:19,362 - DEBUG - integration_test - Syncing planner state at step 27: vehicle_state=[7.10000002 0.         0.         3.00000003 7.20000003]
2026-01-26 17:53:19,362 - DEBUG - integration_test - Step 27: Using propagated spline 7.2000 (close to path, dist=0.161m, drift=0.261m)
2026-01-26 17:53:19,362 - DEBUG - integration_test -   Set spline state to 7.2000
2026-01-26 17:53:19,363 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:19,374 - DEBUG - integration_test - Step 27: Checking path alignment: vehicle=(7.100, 0.000), path_start=(0.000, 0.000), dist=7.100m
2026-01-26 17:53:19,374 - INFO - integration_test - === Calling planner.solve_mpc() at step 27 ===
2026-01-26 17:53:19,376 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:19,395 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:19,395 - INFO - integration_test - Warmstart k=0: x0=7.100000024762318 , y0=0.0 , psi0=0.0 , v0=3.000000028377055 , spline0=7.200000026181174 , a0=0.0 , w0=0.0
2026-01-26 17:53:19,395 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:19,396 - INFO - integration_test - Dyn residual k=0: pred=[7.400000027600024, 0.0, 0.0, 3.000000028377055, 7.50000002901888], ws=[7.523037792564912, 0.0, 0.0, 3.0, 7.4494949756761235], res=[-0.12303776496488794, 0.0, 0.0, 2.8377054928085954e-08, 0.050505053342756234], res_norm=1.330e-01
2026-01-26 17:53:19,397 - INFO - integration_test - Dyn residual k=1: pred=[7.823037792564912, 0.0, 0.0, 3.0, 7.749494975676123], ws=[7.950389166091481, 0.0, 0.0, 3.0, 7.3454545716357185], res=[-0.12735137352656967, 0.0, 0.0, 0.0, 0.40404040404040487], res_norm=4.236e-01
2026-01-26 17:53:19,398 - INFO - integration_test - Dyn residual k=2: pred=[8.250389166091482, 0.0, 0.0, 3.0, 7.645454571635718], ws=[8.383305091001981, 0.0, 0.0, 3.0, 8.251515177696326], res=[-0.13291592491049897, 0.0, 0.0, 0.0, -0.6060606060606082], res_norm=6.205e-01
2026-01-26 17:53:19,406 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:19,437 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:19,446 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:19,469 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:19,479 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:19,501 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:19,511 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:19,536 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:19,546 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:19,570 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:19,579 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:19,602 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:19,614 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:19,641 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:19,656 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:19,683 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:19,693 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:19,716 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:19,778 - INFO - integration_test - Step 27: MPC solve successful
2026-01-26 17:53:19,783 - INFO - integration_test - Step 27: Computed 6 numeric contouring constraints for visualization (s=7.200)
2026-01-26 17:53:19,783 - DEBUG - integration_test - Step 27: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:19,783 - INFO - integration_test - === Applying control at step 27 ===
2026-01-26 17:53:19,783 - INFO - integration_test -   Control dict from planner: {'a': -1.1549851550754279e-08, 'w': 0.0}
2026-01-26 17:53:19,783 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:19,783 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:19,784 - INFO - integration_test - Step 27 completed in 0.423s
2026-01-26 17:53:19,791 - INFO - integration_test - Step 28 (contouring until path end)
2026-01-26 17:53:19,791 - DEBUG - integration_test - Syncing planner state at step 28: vehicle_state=[7.40000003 0.         0.         3.00000003 7.50000003]
2026-01-26 17:53:19,792 - DEBUG - integration_test - Step 28: Using propagated spline 7.5000 (close to path, dist=0.053m, drift=0.153m)
2026-01-26 17:53:19,792 - DEBUG - integration_test -   Set spline state to 7.5000
2026-01-26 17:53:19,792 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:19,803 - DEBUG - integration_test - Step 28: Checking path alignment: vehicle=(7.400, 0.000), path_start=(0.000, 0.000), dist=7.400m
2026-01-26 17:53:19,803 - INFO - integration_test - === Calling planner.solve_mpc() at step 28 ===
2026-01-26 17:53:19,805 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:19,824 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:19,824 - INFO - integration_test - Warmstart k=0: x0=7.400000027542275 , y0=0.0 , psi0=0.0 , v0=3.00000002722207 , spline0=7.500000028903381 , a0=0.0 , w0=0.0
2026-01-26 17:53:19,824 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:19,825 - INFO - integration_test - Dyn residual k=0: pred=[7.700000030264482, 0.0, 0.0, 3.00000002722207, 7.800000031625588], ws=[7.77245794966044, 0.0, 0.0, 3.0, 7.547474776378128], res=[-0.07245791939595847, 0.0, 0.0, 2.722206993155396e-08, 0.25252525524745995], res_norm=2.627e-01
2026-01-26 17:53:19,826 - INFO - integration_test - Dyn residual k=1: pred=[8.072457949660441, 0.0, 0.0, 3.0, 7.847474776378128], ws=[8.134561322254099, 0.0, 0.0, 3.0, 7.645454574357926], res=[-0.062103372593657724, 0.0, 0.0, 0.0, 0.20202020202020243], res_norm=2.114e-01
2026-01-26 17:53:19,827 - INFO - integration_test - Dyn residual k=2: pred=[8.4345613222541, 0.0, 0.0, 3.0, 7.9454545743579255], ws=[8.483307325961142, 0.0, 0.0, 3.0, 8.046464675368028], res=[-0.04874600370704307, 0.0, 0.0, 0.0, -0.10101010101010299], res_norm=1.122e-01
2026-01-26 17:53:19,836 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:19,868 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:19,878 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:19,904 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:19,915 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:19,945 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:19,958 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:19,989 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:20,001 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:20,029 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:20,040 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:20,069 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:20,080 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:20,110 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:20,123 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:20,149 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:20,159 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:20,183 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:20,250 - INFO - integration_test - Step 28: MPC solve successful
2026-01-26 17:53:20,255 - INFO - integration_test - Step 28: Computed 6 numeric contouring constraints for visualization (s=7.500)
2026-01-26 17:53:20,255 - DEBUG - integration_test - Step 28: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:20,255 - INFO - integration_test - === Applying control at step 28 ===
2026-01-26 17:53:20,255 - INFO - integration_test -   Control dict from planner: {'a': 2.305901058794548e-09, 'w': 0.0}
2026-01-26 17:53:20,255 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:20,255 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:20,256 - INFO - integration_test - Step 28 completed in 0.465s
2026-01-26 17:53:20,264 - INFO - integration_test - Step 29 (contouring until path end)
2026-01-26 17:53:20,265 - DEBUG - integration_test - Syncing planner state at step 29: vehicle_state=[7.70000003 0.         0.         3.00000003 7.80000003]
2026-01-26 17:53:20,266 - DEBUG - integration_test - Step 29: Using propagated spline 7.8000 (close to path, dist=0.055m, drift=0.045m)
2026-01-26 17:53:20,266 - DEBUG - integration_test -   Set spline state to 7.8000
2026-01-26 17:53:20,266 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:20,279 - DEBUG - integration_test - Step 29: Checking path alignment: vehicle=(7.700, 0.000), path_start=(0.000, 0.000), dist=7.700m
2026-01-26 17:53:20,279 - INFO - integration_test - === Calling planner.solve_mpc() at step 29 ===
2026-01-26 17:53:20,282 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:20,302 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:20,302 - INFO - integration_test - Warmstart k=0: x0=7.700000030276011 , y0=0.0 , psi0=0.0 , v0=3.00000002745266 , spline0=7.800000031648647 , a0=0.0 , w0=0.0
2026-01-26 17:53:20,302 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:20,303 - INFO - integration_test - Dyn residual k=0: pred=[8.000000033021276, 0.0, 0.0, 3.00000002745266, 8.100000034393913], ws=[8.14024545368165, 0.0, 0.0, 3.0, 7.645454577103193], res=[-0.14024542066037426, 0.0, 0.0, 2.7452660145144137e-08, 0.4545454572907204], res_norm=4.757e-01
2026-01-26 17:53:20,304 - INFO - integration_test - Dyn residual k=1: pred=[8.440245453681651, 0.0, 0.0, 3.0, 7.945454577103193], ws=[8.471427355997374, 0.0, 0.0, 3.0, 8.046464678113296], res=[-0.03118190231572271, 0.0, 0.0, 0.0, -0.10101010101010299], res_norm=1.057e-01
2026-01-26 17:53:20,305 - INFO - integration_test - Dyn residual k=2: pred=[8.771427355997375, 0.0, 0.0, 3.0, 8.346464678113296], ws=[8.898652009984659, 0.0, 0.0, 3.0, 8.447474779123397], res=[-0.1272246539872839, 0.0, 0.0, 0.0, -0.10101010101010033], res_norm=1.624e-01
2026-01-26 17:53:20,315 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:20,350 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:20,361 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:20,387 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:20,397 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:20,423 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:20,434 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:20,459 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:20,469 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:20,493 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:20,503 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:20,526 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:20,537 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:20,560 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:20,570 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:20,594 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:20,603 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:20,626 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:20,699 - INFO - integration_test - Step 29: MPC solve successful
2026-01-26 17:53:20,704 - INFO - integration_test - Step 29: Computed 6 numeric contouring constraints for visualization (s=7.800)
2026-01-26 17:53:20,704 - DEBUG - integration_test - Step 29: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:20,704 - INFO - integration_test - === Applying control at step 29 ===
2026-01-26 17:53:20,704 - INFO - integration_test -   Control dict from planner: {'a': -4.518393223550455e-08, 'w': 0.0}
2026-01-26 17:53:20,704 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:20,704 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:20,706 - INFO - integration_test - Step 29 completed in 0.441s
2026-01-26 17:53:20,715 - INFO - integration_test - Step 30 (contouring until path end)
2026-01-26 17:53:20,716 - DEBUG - integration_test - Syncing planner state at step 30: vehicle_state=[8.00000003 0.         0.         3.00000002 8.10000003]
2026-01-26 17:53:20,717 - DEBUG - integration_test - Step 30: Using propagated spline 8.1000 (close to path, dist=0.163m, drift=0.063m)
2026-01-26 17:53:20,717 - DEBUG - integration_test -   Set spline state to 8.1000
2026-01-26 17:53:20,717 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:20,731 - DEBUG - integration_test - Step 30: Checking path alignment: vehicle=(8.000, 0.000), path_start=(0.000, 0.000), dist=8.000m
2026-01-26 17:53:20,731 - INFO - integration_test - === Calling planner.solve_mpc() at step 30 ===
2026-01-26 17:53:20,733 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:20,755 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:20,755 - INFO - integration_test - Warmstart k=0: x0=8.000000032795358 , y0=0.0 , psi0=0.0 , v0=3.000000022934267 , spline0=8.100000033942074 , a0=0.0 , w0=0.0
2026-01-26 17:53:20,755 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:20,756 - INFO - integration_test - Dyn residual k=0: pred=[8.300000035088784, 0.0, 0.0, 3.000000022934267, 8.4000000362355], ws=[8.462165610261826, 0.0, 0.0, 3.0, 8.046464680406721], res=[-0.16216557517304153, 0.0, 0.0, 2.2934266930008107e-08, 0.3535353558287788], res_norm=3.890e-01
2026-01-26 17:53:20,757 - INFO - integration_test - Dyn residual k=1: pred=[8.762165610261826, 0.0, 0.0, 3.0, 8.346464680406722], ws=[8.821624511316019, 0.0, 0.0, 3.0, 8.447474781416823], res=[-0.05945890105419238, 0.0, 0.0, 0.0, -0.10101010101010033], res_norm=1.172e-01
2026-01-26 17:53:20,758 - INFO - integration_test - Dyn residual k=2: pred=[9.12162451131602, 0.0, 0.0, 3.0, 8.747474781416823], ws=[9.285326493675928, 0.0, 0.0, 3.0, 8.848484882426924], res=[-0.16370198235990863, 0.0, 0.0, 0.0, -0.10101010101010033], res_norm=1.924e-01
2026-01-26 17:53:20,767 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:20,798 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:20,809 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:20,833 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:20,843 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:20,870 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:20,881 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:20,907 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:20,919 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:20,946 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:20,958 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:20,989 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:21,000 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:21,027 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:21,038 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:21,065 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:21,075 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:21,101 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:21,165 - INFO - integration_test - Step 30: MPC solve successful
2026-01-26 17:53:21,171 - INFO - integration_test - Step 30: Computed 6 numeric contouring constraints for visualization (s=8.100)
2026-01-26 17:53:21,171 - DEBUG - integration_test - Step 30: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:21,171 - INFO - integration_test - === Applying control at step 30 ===
2026-01-26 17:53:21,171 - INFO - integration_test -   Control dict from planner: {'a': -1.650119778668415e-09, 'w': 0.0}
2026-01-26 17:53:21,171 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:21,171 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:21,173 - INFO - integration_test - Step 30 completed in 0.456s
2026-01-26 17:53:21,180 - INFO - integration_test - Step 31 (contouring until path end)
2026-01-26 17:53:21,181 - DEBUG - integration_test - Syncing planner state at step 31: vehicle_state=[8.30000004 0.         0.         3.00000002 8.40000004]
2026-01-26 17:53:21,181 - DEBUG - integration_test - Step 31: Using propagated spline 8.4000 (close to path, dist=0.137m, drift=0.237m)
2026-01-26 17:53:21,182 - DEBUG - integration_test -   Set spline state to 8.4000
2026-01-26 17:53:21,182 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:21,194 - DEBUG - integration_test - Step 31: Checking path alignment: vehicle=(8.300, 0.000), path_start=(0.000, 0.000), dist=8.300m
2026-01-26 17:53:21,194 - INFO - integration_test - === Calling planner.solve_mpc() at step 31 ===
2026-01-26 17:53:21,196 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:21,215 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:21,215 - INFO - integration_test - Warmstart k=0: x0=8.300000035080533 , y0=0.0 , psi0=0.0 , v0=3.000000022769255 , spline0=8.400000036219 , a0=0.0 , w0=0.0
2026-01-26 17:53:21,215 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:21,216 - INFO - integration_test - Dyn residual k=0: pred=[8.600000037357459, 0.0, 0.0, 3.000000022769255, 8.700000038495926], ws=[8.711585766670314, 0.0, 0.0, 3.0, 8.144444480663445], res=[-0.11158572931285526, 0.0, 0.0, 2.276925492594728e-08, 0.5555555578324807], res_norm=5.667e-01
2026-01-26 17:53:21,217 - INFO - integration_test - Dyn residual k=1: pred=[9.011585766670315, 0.0, 0.0, 3.0, 8.444444480663446], ws=[9.124164013482355, 0.0, 0.0, 3.0, 8.545454581673546], res=[-0.1125782468120402, 0.0, 0.0, 0.0, -0.10101010101010033], res_norm=1.513e-01
2026-01-26 17:53:21,217 - INFO - integration_test - Dyn residual k=2: pred=[9.424164013482356, 0.0, 0.0, 3.0, 8.845454581673547], ws=[9.538022604931111, 0.0, 0.0, 3.0, 9.451515187734152], res=[-0.11385859144875532, 0.0, 0.0, 0.0, -0.6060606060606055], res_norm=6.167e-01
2026-01-26 17:53:21,226 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:21,260 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:21,271 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:21,297 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:21,308 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:21,331 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:21,341 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:21,365 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:21,376 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:21,400 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:21,410 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:21,435 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:21,446 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:21,469 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:21,480 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:21,504 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:21,514 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:21,539 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:21,617 - INFO - integration_test - Step 31: MPC solve successful
2026-01-26 17:53:21,622 - INFO - integration_test - Step 31: Computed 6 numeric contouring constraints for visualization (s=8.400)
2026-01-26 17:53:21,622 - DEBUG - integration_test - Step 31: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:21,622 - INFO - integration_test - === Applying control at step 31 ===
2026-01-26 17:53:21,622 - INFO - integration_test -   Control dict from planner: {'a': 7.072839303782676e-08, 'w': 0.0}
2026-01-26 17:53:21,623 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:21,623 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:21,624 - INFO - integration_test - Step 31 completed in 0.443s
2026-01-26 17:53:21,634 - INFO - integration_test - Step 32 (contouring until path end)
2026-01-26 17:53:21,634 - DEBUG - integration_test - Syncing planner state at step 32: vehicle_state=[8.60000004 0.         0.         3.00000003 8.70000004]
2026-01-26 17:53:21,635 - DEBUG - integration_test - Step 32: Using propagated spline 8.7000 (close to path, dist=0.029m, drift=0.129m)
2026-01-26 17:53:21,635 - DEBUG - integration_test -   Set spline state to 8.7000
2026-01-26 17:53:21,635 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:21,647 - DEBUG - integration_test - Step 32: Checking path alignment: vehicle=(8.600, 0.000), path_start=(0.000, 0.000), dist=8.600m
2026-01-26 17:53:21,647 - INFO - integration_test - === Calling planner.solve_mpc() at step 32 ===
2026-01-26 17:53:21,649 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:21,673 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:21,673 - INFO - integration_test - Warmstart k=0: x0=8.6000000377111 , y0=0.0 , psi0=0.0 , v0=3.000000029842094 , spline0=8.700000039203209 , a0=0.0 , w0=0.0
2026-01-26 17:53:21,673 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:21,674 - INFO - integration_test - Dyn residual k=0: pred=[8.900000040695309, 0.0, 0.0, 3.000000029842094, 9.000000042187418], ws=[8.961005923871646, 0.0, 0.0, 3.0, 8.747474786677957], res=[-0.06100588317633715, 0.0, 0.0, 2.9842094129151064e-08, 0.25252525550946103], res_norm=2.598e-01
2026-01-26 17:53:21,675 - INFO - integration_test - Dyn residual k=1: pred=[9.261005923871647, 0.0, 0.0, 3.0, 9.047474786677958], ws=[9.308336170079974, 0.0, 0.0, 3.0, 8.845454584657755], res=[-0.047330246208327154, 0.0, 0.0, 0.0, 0.20202020202020243], res_norm=2.075e-01
2026-01-26 17:53:21,677 - INFO - integration_test - Dyn residual k=2: pred=[9.608336170079975, 0.0, 0.0, 3.0, 9.145454584657756], ws=[9.756392187688716, 0.0, 0.0, 3.0, 9.54949498869816], res=[-0.14805601760874154, 0.0, 0.0, 0.0, -0.40404040404040487], res_norm=4.303e-01
2026-01-26 17:53:21,687 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:21,721 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:21,733 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:21,760 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:21,773 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:21,800 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:21,812 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:21,839 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:21,850 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:21,877 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:21,890 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:21,917 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:21,928 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:21,954 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:21,966 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:21,991 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:22,001 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:22,024 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:22,100 - INFO - integration_test - Step 32: MPC solve successful
2026-01-26 17:53:22,105 - INFO - integration_test - Step 32: Computed 6 numeric contouring constraints for visualization (s=8.700)
2026-01-26 17:53:22,105 - DEBUG - integration_test - Step 32: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:22,105 - INFO - integration_test - === Applying control at step 32 ===
2026-01-26 17:53:22,105 - INFO - integration_test -   Control dict from planner: {'a': -5.780739262843643e-08, 'w': 0.0}
2026-01-26 17:53:22,105 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:22,105 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:22,106 - INFO - integration_test - Step 32 completed in 0.472s
2026-01-26 17:53:22,113 - INFO - integration_test - Step 33 (contouring until path end)
2026-01-26 17:53:22,115 - DEBUG - integration_test - Syncing planner state at step 33: vehicle_state=[8.90000004 0.         0.         3.00000002 9.00000004]
2026-01-26 17:53:22,115 - DEBUG - integration_test - Step 33: Using propagated spline 9.0000 (close to path, dist=0.080m, drift=0.020m)
2026-01-26 17:53:22,116 - DEBUG - integration_test -   Set spline state to 9.0000
2026-01-26 17:53:22,116 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:22,133 - DEBUG - integration_test - Step 33: Checking path alignment: vehicle=(8.900, 0.000), path_start=(0.000, 0.000), dist=8.900m
2026-01-26 17:53:22,133 - INFO - integration_test - === Calling planner.solve_mpc() at step 33 ===
2026-01-26 17:53:22,136 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:22,164 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:22,164 - INFO - integration_test - Warmstart k=0: x0=8.900000040406272 , y0=0.0 , psi0=0.0 , v0=3.0000000240613547 , spline0=9.000000041609344 , a0=0.0 , w0=0.0
2026-01-26 17:53:22,164 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:22,165 - INFO - integration_test - Dyn residual k=0: pred=[9.200000042812407, 0.0, 0.0, 3.0000000240613547, 9.300000044015478], ws=[9.328793427598772, 0.0, 0.0, 3.0, 9.148484890094192], res=[-0.12879338478636448, 0.0, 0.0, 2.406135468646653e-08, 0.15151515392128623], res_norm=1.989e-01
2026-01-26 17:53:22,167 - INFO - integration_test - Dyn residual k=1: pred=[9.628793427598772, 0.0, 0.0, 3.0, 9.448484890094193], ws=[9.76356955013832, 0.0, 0.0, 3.0, 9.549494991104295], res=[-0.13477612253954696, 0.0, 0.0, 0.0, -0.1010101010101021], res_norm=1.684e-01
2026-01-26 17:53:22,169 - INFO - integration_test - Dyn residual k=2: pred=[10.06356955013832, 0.0, 0.0, 3.0, 9.849494991104295], ws=[10.206063401275559, 0.0, 0.0, 3.0, 9.950505092114396], res=[-0.1424938511372389, 0.0, 0.0, 0.0, -0.10101010101010033], res_norm=1.747e-01
2026-01-26 17:53:22,182 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:22,220 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:22,230 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:22,255 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:22,265 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:22,289 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:22,302 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:22,326 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:22,336 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:22,363 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:22,374 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:22,400 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:22,411 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:22,439 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:22,451 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:22,478 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:22,489 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:22,516 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:22,577 - INFO - integration_test - Step 33: MPC solve successful
2026-01-26 17:53:22,581 - INFO - integration_test - Step 33: Computed 6 numeric contouring constraints for visualization (s=9.000)
2026-01-26 17:53:22,581 - DEBUG - integration_test - Step 33: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:22,581 - INFO - integration_test - === Applying control at step 33 ===
2026-01-26 17:53:22,582 - INFO - integration_test -   Control dict from planner: {'a': 2.1255600068800668e-08, 'w': 0.0}
2026-01-26 17:53:22,582 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:22,582 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:22,583 - INFO - integration_test - Step 33 completed in 0.468s
2026-01-26 17:53:22,589 - INFO - integration_test - Step 34 (contouring until path end)
2026-01-26 17:53:22,590 - DEBUG - integration_test - Syncing planner state at step 34: vehicle_state=[9.20000004 0.         0.         3.00000003 9.30000004]
2026-01-26 17:53:22,591 - DEBUG - integration_test - Step 34: Using propagated spline 9.3000 (close to path, dist=0.188m, drift=0.088m)
2026-01-26 17:53:22,591 - DEBUG - integration_test -   Set spline state to 9.3000
2026-01-26 17:53:22,591 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:22,602 - DEBUG - integration_test - Step 34: Checking path alignment: vehicle=(9.200, 0.000), path_start=(0.000, 0.000), dist=9.200m
2026-01-26 17:53:22,602 - INFO - integration_test - === Calling planner.solve_mpc() at step 34 ===
2026-01-26 17:53:22,604 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:22,623 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:22,623 - INFO - integration_test - Warmstart k=0: x0=9.200000042918687 , y0=0.0 , psi0=0.0 , v0=3.000000026186915 , spline0=9.300000044228035 , a0=0.0 , w0=0.0
2026-01-26 17:53:22,623 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:22,623 - INFO - integration_test - Dyn residual k=0: pred=[9.500000045537378, 0.0, 0.0, 3.000000026186915, 9.600000046846727], ws=[9.650713584431251, 0.0, 0.0, 3.0, 9.246464690692683], res=[-0.15071353889387318, 0.0, 0.0, 2.618691485878344e-08, 0.35353535615404397], res_norm=3.843e-01
2026-01-26 17:53:22,624 - INFO - integration_test - Dyn residual k=1: pred=[9.950713584431252, 0.0, 0.0, 3.0, 9.546464690692684], ws=[10.113766706043684, 0.0, 0.0, 3.0, 9.950505094733087], res=[-0.1630531216124318, 0.0, 0.0, 0.0, -0.4040404040404031], res_norm=4.357e-01
2026-01-26 17:53:22,625 - INFO - integration_test - Dyn residual k=2: pred=[10.413766706043685, 0.0, 0.0, 3.0, 10.250505094733088], ws=[10.47437053904617, 0.0, 0.0, 3.0, 10.048484892712885], res=[-0.060603833002485175, 0.0, 0.0, 0.0, 0.20202020202020243], res_norm=2.109e-01
2026-01-26 17:53:22,633 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:22,663 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:22,677 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:22,702 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:22,712 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:22,738 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:22,749 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:22,775 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:22,786 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:22,812 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:22,823 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:22,849 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:22,861 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:22,888 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:22,898 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:22,922 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:22,933 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:22,957 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:23,034 - INFO - integration_test - Step 34: MPC solve successful
2026-01-26 17:53:23,039 - INFO - integration_test - Step 34: Computed 6 numeric contouring constraints for visualization (s=9.300)
2026-01-26 17:53:23,039 - DEBUG - integration_test - Step 34: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:23,039 - INFO - integration_test - === Applying control at step 34 ===
2026-01-26 17:53:23,039 - INFO - integration_test -   Control dict from planner: {'a': 3.7013851111693105e-08, 'w': 0.0}
2026-01-26 17:53:23,039 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:23,039 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:23,040 - INFO - integration_test - Step 34 completed in 0.450s
2026-01-26 17:53:23,048 - INFO - integration_test - Step 35 (contouring until path end)
2026-01-26 17:53:23,049 - DEBUG - integration_test - Syncing planner state at step 35: vehicle_state=[9.50000005 0.         0.         3.00000003 9.60000005]
2026-01-26 17:53:23,049 - DEBUG - integration_test - Step 35: Using propagated spline 9.6000 (close to path, dist=0.112m, drift=0.212m)
2026-01-26 17:53:23,049 - DEBUG - integration_test -   Set spline state to 9.6000
2026-01-26 17:53:23,050 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:23,063 - DEBUG - integration_test - Step 35: Checking path alignment: vehicle=(9.500, 0.000), path_start=(0.000, 0.000), dist=9.500m
2026-01-26 17:53:23,063 - INFO - integration_test - === Calling planner.solve_mpc() at step 35 ===
2026-01-26 17:53:23,065 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:23,087 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:23,087 - INFO - integration_test - Warmstart k=0: x0=9.500000045722448 , y0=0.0 , psi0=0.0 , v0=3.0000000298883 , spline0=9.600000047216865 , a0=0.0 , w0=0.0
2026-01-26 17:53:23,087 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:23,088 - INFO - integration_test - Dyn residual k=0: pred=[9.800000048711278, 0.0, 0.0, 3.0000000298883, 9.900000050205694], ws=[9.900133741753573, 0.0, 0.0, 3.0, 9.34444449166131], res=[-0.10013369304229514, 0.0, 0.0, 2.9888299835079124e-08, 0.5555555585443841], res_norm=5.645e-01
2026-01-26 17:53:23,089 - INFO - integration_test - Dyn residual k=1: pred=[10.200133741753573, 0.0, 0.0, 3.0, 9.64444449166131], ws=[10.297938862694947, 0.0, 0.0, 3.0, 10.250505097721916], res=[-0.0978051209413735, 0.0, 0.0, 0.0, -0.6060606060606055], res_norm=6.139e-01
2026-01-26 17:53:23,089 - INFO - integration_test - Dyn residual k=2: pred=[10.597938862694948, 0.0, 0.0, 3.0, 10.550505097721917], ws=[10.692740121770544, 0.0, 0.0, 3.0, 10.651515198732017], res=[-0.09480125907559689, 0.0, 0.0, 0.0, -0.10101010101010033], res_norm=1.385e-01
2026-01-26 17:53:23,100 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:23,135 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:23,146 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:23,171 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:23,181 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:23,205 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:23,215 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:23,238 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:23,248 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:23,272 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:23,282 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:23,305 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:23,316 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:23,340 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:23,350 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:23,374 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:23,383 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:23,408 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:23,478 - INFO - integration_test - Step 35: MPC solve successful
2026-01-26 17:53:23,483 - INFO - integration_test - Step 35: Computed 6 numeric contouring constraints for visualization (s=9.600)
2026-01-26 17:53:23,483 - DEBUG - integration_test - Step 35: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:23,483 - INFO - integration_test - === Applying control at step 35 ===
2026-01-26 17:53:23,483 - INFO - integration_test -   Control dict from planner: {'a': -3.961383453206492e-09, 'w': 0.0}
2026-01-26 17:53:23,483 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:23,483 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:23,484 - INFO - integration_test - Step 35 completed in 0.436s
2026-01-26 17:53:23,492 - INFO - integration_test - Step 36 (contouring until path end)
2026-01-26 17:53:23,493 - DEBUG - integration_test - Syncing planner state at step 36: vehicle_state=[9.80000005 0.         0.         3.00000003 9.90000005]
2026-01-26 17:53:23,493 - DEBUG - integration_test - Step 36: Using propagated spline 9.9000 (close to path, dist=0.004m, drift=0.104m)
2026-01-26 17:53:23,493 - DEBUG - integration_test -   Set spline state to 9.9000
2026-01-26 17:53:23,494 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:23,507 - DEBUG - integration_test - Step 36: Checking path alignment: vehicle=(9.800, 0.000), path_start=(0.000, 0.000), dist=9.800m
2026-01-26 17:53:23,507 - INFO - integration_test - === Calling planner.solve_mpc() at step 36 ===
2026-01-26 17:53:23,509 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:23,530 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:23,530 - INFO - integration_test - Warmstart k=0: x0=9.800000048691471 , y0=0.0 , psi0=0.0 , v0=3.0000000294921616 , spline0=9.900000050166081 , a0=0.0 , w0=0.0
2026-01-26 17:53:23,530 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:23,531 - INFO - integration_test - Dyn residual k=0: pred=[10.100000051640688, 0.0, 0.0, 3.0000000294921616, 10.200000053115298], ws=[10.149553899156562, 0.0, 0.0, 3.0, 9.94747479764083], res=[-0.04955384751587388, 0.0, 0.0, 2.9492161601751832e-08, 0.2525252554744686], res_norm=2.573e-01
2026-01-26 17:53:23,532 - INFO - integration_test - Dyn residual k=1: pred=[10.449553899156562, 0.0, 0.0, 3.0, 10.24747479764083], ws=[10.482111019317749, 0.0, 0.0, 3.0, 10.045454595620628], res=[-0.032557120161186504, 0.0, 0.0, 0.0, 0.20202020202020243], res_norm=2.046e-01
2026-01-26 17:53:23,532 - INFO - integration_test - Dyn residual k=2: pred=[10.78211101931775, 0.0, 0.0, 3.0, 10.345454595620629], ws=[10.911109704325682, 0.0, 0.0, 3.0, 10.749494999661033], res=[-0.12899868500793232, 0.0, 0.0, 0.0, -0.40404040404040487], res_norm=4.241e-01
2026-01-26 17:53:23,542 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:23,576 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:23,588 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:23,615 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:23,627 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:23,654 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:23,668 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:23,695 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:23,706 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:23,733 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:23,744 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:23,770 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:23,780 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:23,806 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:23,816 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:23,841 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:23,852 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:23,876 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:23,949 - INFO - integration_test - Step 36: MPC solve successful
2026-01-26 17:53:23,954 - INFO - integration_test - Step 36: Computed 6 numeric contouring constraints for visualization (s=9.900)
2026-01-26 17:53:23,954 - DEBUG - integration_test - Step 36: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:23,954 - INFO - integration_test - === Applying control at step 36 ===
2026-01-26 17:53:23,954 - INFO - integration_test -   Control dict from planner: {'a': 3.459916741242151e-09, 'w': 0.0}
2026-01-26 17:53:23,954 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:23,954 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:23,955 - INFO - integration_test - Step 36 completed in 0.463s
2026-01-26 17:53:23,963 - INFO - integration_test - Step 37 (contouring until path end)
2026-01-26 17:53:23,965 - DEBUG - integration_test - Syncing planner state at step 37: vehicle_state=[10.10000005  0.          0.          3.00000003 10.20000005]
2026-01-26 17:53:23,965 - DEBUG - integration_test - Step 37: Using propagated spline 10.2000 (close to path, dist=0.104m, drift=0.004m)
2026-01-26 17:53:23,965 - DEBUG - integration_test -   Set spline state to 10.2000
2026-01-26 17:53:23,966 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:23,978 - DEBUG - integration_test - Step 37: Checking path alignment: vehicle=(10.100, 0.000), path_start=(0.000, 0.000), dist=10.100m
2026-01-26 17:53:23,979 - WARNING - integration_test - Step 37: Vehicle is far from path start (dist=10.100m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-26 17:53:23,979 - INFO - integration_test - === Calling planner.solve_mpc() at step 37 ===
2026-01-26 17:53:23,981 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:24,002 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:24,002 - INFO - integration_test - Warmstart k=0: x0=10.100000051657986 , y0=0.0 , psi0=0.0 , v0=3.0000000298381533 , spline0=10.200000053149896 , a0=0.0 , w0=0.0
2026-01-26 17:53:24,002 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:24,003 - INFO - integration_test - Dyn residual k=0: pred=[10.4000000546418, 0.0, 0.0, 3.0000000298381533, 10.500000056133711], ws=[10.471474056585185, 0.0, 0.0, 3.0, 10.045454598604442], res=[-0.07147400194338438, 0.0, 0.0, 2.9838153281502855e-08, 0.4545454575292691], res_norm=4.601e-01
2026-01-26 17:53:24,003 - INFO - integration_test - Dyn residual k=1: pred=[10.771474056585186, 0.0, 0.0, 3.0, 10.345454598604443], ws=[10.832308176002496, 0.0, 0.0, 3.0, 10.446464699614545], res=[-0.06083411941730965, 0.0, 0.0, 0.0, -0.1010101010101021], res_norm=1.179e-01
2026-01-26 17:53:24,004 - INFO - integration_test - Dyn residual k=2: pred=[11.132308176002496, 0.0, 0.0, 3.0, 10.746464699614545], ws=[11.297784190050825, 0.0, 0.0, 3.0, 11.150505103654949], res=[-0.16547601404832868, 0.0, 0.0, 0.0, -0.4040404040404031], res_norm=4.366e-01
2026-01-26 17:53:24,013 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:24,046 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:24,056 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:24,080 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:24,091 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:24,116 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:24,126 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:24,151 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:24,161 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:24,184 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:24,194 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:24,218 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:24,228 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:24,252 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:24,263 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:24,287 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:24,298 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:24,322 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:24,389 - INFO - integration_test - Step 37: MPC solve successful
2026-01-26 17:53:24,394 - INFO - integration_test - Step 37: Computed 6 numeric contouring constraints for visualization (s=10.200)
2026-01-26 17:53:24,394 - DEBUG - integration_test - Step 37: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:24,394 - INFO - integration_test - === Applying control at step 37 ===
2026-01-26 17:53:24,394 - INFO - integration_test -   Control dict from planner: {'a': -5.967955462411483e-08, 'w': 0.0}
2026-01-26 17:53:24,394 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:24,394 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:24,395 - INFO - integration_test - Step 37 completed in 0.431s
2026-01-26 17:53:24,403 - INFO - integration_test - Step 38 (contouring until path end)
2026-01-26 17:53:24,403 - DEBUG - integration_test - Syncing planner state at step 38: vehicle_state=[10.40000005  0.          0.          3.00000002 10.50000006]
2026-01-26 17:53:24,404 - DEBUG - integration_test - Step 38: Using propagated spline 10.5000 (close to path, dist=0.196m, drift=0.296m)
2026-01-26 17:53:24,404 - DEBUG - integration_test -   Set spline state to 10.5000
2026-01-26 17:53:24,404 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:24,416 - DEBUG - integration_test - Step 38: Checking path alignment: vehicle=(10.400, 0.000), path_start=(0.000, 0.000), dist=10.400m
2026-01-26 17:53:24,416 - WARNING - integration_test - Step 38: Vehicle is far from path start (dist=10.400m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-26 17:53:24,416 - INFO - integration_test - === Calling planner.solve_mpc() at step 38 ===
2026-01-26 17:53:24,419 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:24,437 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:24,437 - INFO - integration_test - Warmstart k=0: x0=10.400000054343403 , y0=0.0 , psi0=0.0 , v0=3.000000023870198 , spline0=10.500000055536916 , a0=0.0 , w0=0.0
2026-01-26 17:53:24,437 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:24,438 - INFO - integration_test - Dyn residual k=0: pred=[10.700000056730422, 0.0, 0.0, 3.000000023870198, 10.800000057923935], ws=[10.839261560290598, 0.0, 0.0, 3.0, 10.446464702001563], res=[-0.13926150356017608, 0.0, 0.0, 2.38701978183542e-08, 0.3535353559223715], res_norm=3.800e-01
2026-01-26 17:53:24,439 - INFO - integration_test - Dyn residual k=1: pred=[11.139261560290599, 0.0, 0.0, 3.0, 10.746464702001564], ws=[11.287541556023704, 0.0, 0.0, 3.0, 11.150505106041967], res=[-0.14827999573310535, 0.0, 0.0, 0.0, -0.4040404040404031], res_norm=4.304e-01
2026-01-26 17:53:24,439 - INFO - integration_test - Dyn residual k=2: pred=[11.587541556023705, 0.0, 0.0, 3.0, 11.450505106041968], ws=[11.747455403580638, 0.0, 0.0, 3.0, 11.55151520705207], res=[-0.1599138475569326, 0.0, 0.0, 0.0, -0.1010101010101021], res_norm=1.891e-01
2026-01-26 17:53:24,448 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:24,479 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:24,490 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:24,513 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:24,525 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:24,550 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:24,561 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:24,585 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:24,595 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:24,618 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:24,628 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:24,650 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:24,661 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:24,687 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:24,697 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:24,721 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:24,732 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:24,756 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:24,823 - INFO - integration_test - Step 38: MPC solve successful
2026-01-26 17:53:24,827 - INFO - integration_test - Step 38: Computed 6 numeric contouring constraints for visualization (s=10.500)
2026-01-26 17:53:24,827 - DEBUG - integration_test - Step 38: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:24,827 - INFO - integration_test - === Applying control at step 38 ===
2026-01-26 17:53:24,827 - INFO - integration_test -   Control dict from planner: {'a': -2.5723783025662563e-09, 'w': 0.0}
2026-01-26 17:53:24,827 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:24,828 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:24,829 - INFO - integration_test - Step 38 completed in 0.426s
2026-01-26 17:53:24,836 - INFO - integration_test - Step 39 (contouring until path end)
2026-01-26 17:53:24,837 - DEBUG - integration_test - Syncing planner state at step 39: vehicle_state=[10.70000006  0.          0.          3.00000002 10.80000006]
2026-01-26 17:53:24,838 - DEBUG - integration_test - Step 39: Using propagated spline 10.8000 (close to path, dist=0.088m, drift=0.188m)
2026-01-26 17:53:24,838 - DEBUG - integration_test -   Set spline state to 10.8000
2026-01-26 17:53:24,838 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:24,851 - DEBUG - integration_test - Step 39: Checking path alignment: vehicle=(10.700, 0.000), path_start=(0.000, 0.000), dist=10.700m
2026-01-26 17:53:24,851 - WARNING - integration_test - Step 39: Vehicle is far from path start (dist=10.700m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-26 17:53:24,851 - INFO - integration_test - === Calling planner.solve_mpc() at step 39 ===
2026-01-26 17:53:24,854 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:24,872 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:24,872 - INFO - integration_test - Warmstart k=0: x0=10.700000056717561 , y0=0.0 , psi0=0.0 , v0=3.00000002361296 , spline0=10.800000057898211 , a0=0.0 , w0=0.0
2026-01-26 17:53:24,872 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:24,873 - INFO - integration_test - Dyn residual k=0: pred=[11.000000059078857, 0.0, 0.0, 3.00000002361296, 11.100000060259507], ws=[11.088681716826034, 0.0, 0.0, 3.0, 11.049495007393162], res=[-0.08868165774717696, 0.0, 0.0, 2.361296003172697e-08, 0.050505052866345324], res_norm=1.021e-01
2026-01-26 17:53:24,874 - INFO - integration_test - Dyn residual k=1: pred=[11.388681716826035, 0.0, 0.0, 3.0, 11.349495007393163], ws=[11.471713711427187, 0.0, 0.0, 3.0, 11.450505108403263], res=[-0.08303199460115174, 0.0, 0.0, 0.0, -0.10101010101010033], res_norm=1.308e-01
2026-01-26 17:53:24,875 - INFO - integration_test - Dyn residual k=2: pred=[11.771713711427187, 0.0, 0.0, 3.0, 11.750505108403264], ws=[11.847457637523899, 0.0, 0.0, 3.0, 11.851515209413366], res=[-0.07574392609671143, 0.0, 0.0, 0.0, -0.1010101010101021], res_norm=1.263e-01
2026-01-26 17:53:24,884 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:24,913 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:24,924 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:24,948 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:24,958 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:24,983 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:24,993 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:25,016 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:25,026 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:25,051 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:25,060 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:25,083 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:25,093 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:25,117 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:25,127 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:25,155 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:25,166 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:25,192 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:25,320 - INFO - integration_test - Step 39: MPC solve successful
2026-01-26 17:53:25,327 - INFO - integration_test - Step 39: Computed 6 numeric contouring constraints for visualization (s=10.800)
2026-01-26 17:53:25,327 - DEBUG - integration_test - Step 39: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:25,327 - INFO - integration_test - === Applying control at step 39 ===
2026-01-26 17:53:25,327 - INFO - integration_test -   Control dict from planner: {'a': 5.8663419636774315e-08, 'w': 0.0}
2026-01-26 17:53:25,327 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:25,327 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:25,330 - INFO - integration_test - Step 39 completed in 0.493s
2026-01-26 17:53:25,340 - INFO - integration_test - Step 40 (contouring until path end)
2026-01-26 17:53:25,341 - DEBUG - integration_test - Syncing planner state at step 40: vehicle_state=[11.00000006  0.          0.          3.00000003 11.10000006]
2026-01-26 17:53:25,341 - DEBUG - integration_test - Step 40: Using propagated spline 11.1000 (close to path, dist=0.020m, drift=0.080m)
2026-01-26 17:53:25,341 - DEBUG - integration_test -   Set spline state to 11.1000
2026-01-26 17:53:25,342 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:25,358 - DEBUG - integration_test - Step 40: Checking path alignment: vehicle=(11.000, 0.000), path_start=(0.000, 0.000), dist=11.000m
2026-01-26 17:53:25,359 - WARNING - integration_test - Step 40: Vehicle is far from path start (dist=11.000m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-26 17:53:25,359 - INFO - integration_test - === Calling planner.solve_mpc() at step 40 ===
2026-01-26 17:53:25,363 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:25,389 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:25,389 - INFO - integration_test - Warmstart k=0: x0=11.000000059372175 , y0=0.0 , psi0=0.0 , v0=3.000000029479302 , spline0=11.100000060846142 , a0=0.0 , w0=0.0
2026-01-26 17:53:25,389 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:25,391 - INFO - integration_test - Dyn residual k=0: pred=[11.300000062320105, 0.0, 0.0, 3.000000029479302, 11.400000063794073], ws=[11.338101874014992, 0.0, 0.0, 3.0, 11.14747480832089], res=[-0.03810181169488658, 0.0, 0.0, 2.9479302110502204e-08, 0.2525252554731825], res_norm=2.554e-01
2026-01-26 17:53:25,392 - INFO - integration_test - Dyn residual k=1: pred=[11.638101874014993, 0.0, 0.0, 3.0, 11.44747480832089], ws=[11.774253214904228, 0.0, 0.0, 3.0, 11.34646470731079], res=[-0.13615134088923497, 0.0, 0.0, 0.0, 0.10101010101010033], res_norm=1.695e-01
2026-01-26 17:53:25,393 - INFO - integration_test - Dyn residual k=2: pred=[12.074253214904228, 0.0, 0.0, 3.0, 11.646464707310791], ws=[12.218521097712564, 0.0, 0.0, 3.0, 11.747474808320892], res=[-0.1442678828083359, 0.0, 0.0, 0.0, -0.10101010101010033], res_norm=1.761e-01
2026-01-26 17:53:25,405 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:25,447 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:25,462 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:25,494 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:25,506 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:25,533 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:25,544 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:25,583 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:25,597 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:25,625 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:25,637 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:25,667 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:25,678 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:25,706 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:25,718 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:25,744 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:25,755 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:25,795 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:25,890 - INFO - integration_test - Step 40: MPC solve successful
2026-01-26 17:53:25,895 - INFO - integration_test - Step 40: Computed 6 numeric contouring constraints for visualization (s=11.100)
2026-01-26 17:53:25,895 - DEBUG - integration_test - Step 40: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:25,895 - INFO - integration_test - === Applying control at step 40 ===
2026-01-26 17:53:25,895 - INFO - integration_test -   Control dict from planner: {'a': 2.627627644874597e-10, 'w': 0.0}
2026-01-26 17:53:25,895 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:25,895 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:25,896 - INFO - integration_test - Step 40 completed in 0.556s
2026-01-26 17:53:25,903 - INFO - integration_test - Step 41 (contouring until path end)
2026-01-26 17:53:25,904 - DEBUG - integration_test - Syncing planner state at step 41: vehicle_state=[11.30000006  0.          0.          3.00000003 11.40000006]
2026-01-26 17:53:25,904 - DEBUG - integration_test - Step 41: Using propagated spline 11.4000 (close to path, dist=0.129m, drift=0.029m)
2026-01-26 17:53:25,904 - DEBUG - integration_test -   Set spline state to 11.4000
2026-01-26 17:53:25,905 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:25,917 - DEBUG - integration_test - Step 41: Checking path alignment: vehicle=(11.300, 0.000), path_start=(0.000, 0.000), dist=11.300m
2026-01-26 17:53:25,917 - WARNING - integration_test - Step 41: Vehicle is far from path start (dist=11.300m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-26 17:53:25,917 - INFO - integration_test - === Calling planner.solve_mpc() at step 41 ===
2026-01-26 17:53:25,919 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:25,941 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:25,941 - INFO - integration_test - Warmstart k=0: x0=11.300000062321418 , y0=0.0 , psi0=0.0 , v0=3.0000000295055784 , spline0=11.4000000637967 , a0=0.0 , w0=0.0
2026-01-26 17:53:25,941 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:25,942 - INFO - integration_test - Dyn residual k=0: pred=[11.600000065271976, 0.0, 0.0, 3.0000000295055784, 11.700000066747258], ws=[11.660022031405639, 0.0, 0.0, 3.0, 11.548484912281548], res=[-0.06002196613366273, 0.0, 0.0, 2.9505578424959822e-08, 0.1515151544657094], res_norm=1.630e-01
2026-01-26 17:53:25,943 - INFO - integration_test - Dyn residual k=1: pred=[11.96002203140564, 0.0, 0.0, 3.0, 11.848484912281549], ws=[12.124450371524283, 0.0, 0.0, 3.0, 11.949495013291651], res=[-0.1644283401186435, 0.0, 0.0, 0.0, -0.1010101010101021], res_norm=1.930e-01
2026-01-26 17:53:25,944 - INFO - integration_test - Dyn residual k=2: pred=[12.424450371524284, 0.0, 0.0, 3.0, 12.249495013291652], ws=[12.486828236399784, 0.0, 0.0, 3.0, 12.350505114301752], res=[-0.06237786487550068, 0.0, 0.0, 0.0, -0.10101010101010033], res_norm=1.187e-01
2026-01-26 17:53:25,954 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:25,990 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:26,001 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:26,025 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:26,035 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:26,062 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:26,072 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:26,097 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:26,106 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:26,131 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:26,141 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:26,167 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:26,177 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:26,201 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:26,213 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:26,238 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:26,248 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:26,272 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:26,346 - INFO - integration_test - Step 41: MPC solve successful
2026-01-26 17:53:26,351 - INFO - integration_test - Step 41: Computed 6 numeric contouring constraints for visualization (s=11.400)
2026-01-26 17:53:26,351 - DEBUG - integration_test - Step 41: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:26,351 - INFO - integration_test - === Applying control at step 41 ===
2026-01-26 17:53:26,351 - INFO - integration_test -   Control dict from planner: {'a': -7.702073248552235e-10, 'w': 0.0}
2026-01-26 17:53:26,351 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:26,351 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:26,352 - INFO - integration_test - Step 41 completed in 0.449s
2026-01-26 17:53:26,361 - INFO - integration_test - Step 42 (contouring until path end)
2026-01-26 17:53:26,362 - DEBUG - integration_test - Syncing planner state at step 42: vehicle_state=[11.60000007  0.          0.          3.00000003 11.70000007]
2026-01-26 17:53:26,363 - DEBUG - integration_test - Step 42: Using propagated spline 11.7000 (close to path, dist=0.171m, drift=0.271m)
2026-01-26 17:53:26,363 - DEBUG - integration_test -   Set spline state to 11.7000
2026-01-26 17:53:26,363 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:26,375 - DEBUG - integration_test - Step 42: Checking path alignment: vehicle=(11.600, 0.000), path_start=(0.000, 0.000), dist=11.600m
2026-01-26 17:53:26,375 - WARNING - integration_test - Step 42: Vehicle is far from path start (dist=11.600m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-26 17:53:26,376 - INFO - integration_test - === Calling planner.solve_mpc() at step 42 ===
2026-01-26 17:53:26,378 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:26,398 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:26,398 - INFO - integration_test - Warmstart k=0: x0=11.600000065268125 , y0=0.0 , psi0=0.0 , v0=3.000000029428558 , spline0=11.700000066739555 , a0=0.0 , w0=0.0
2026-01-26 17:53:26,399 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:26,399 - INFO - integration_test - Dyn residual k=0: pred=[11.90000006821098, 0.0, 0.0, 3.000000029428558, 12.000000069682411], ws=[12.027809535727256, 0.0, 0.0, 3.0, 11.646464713204203], res=[-0.12780946751627553, 0.0, 0.0, 2.9428557812849476e-08, 0.3535353564782078], res_norm=3.759e-01
2026-01-26 17:53:26,400 - INFO - integration_test - Dyn residual k=1: pred=[12.327809535727257, 0.0, 0.0, 3.0, 11.946464713204204], ws=[12.46131640568076, 0.0, 0.0, 3.0, 12.350505117244607], res=[-0.13350686995350358, 0.0, 0.0, 0.0, -0.4040404040404031], res_norm=4.255e-01
2026-01-26 17:53:26,401 - INFO - integration_test - Dyn residual k=2: pred=[12.76131640568076, 0.0, 0.0, 3.0, 12.650505117244608], ws=[12.902172920982006, 0.0, 0.0, 3.0, 12.75151521825471], res=[-0.14085651530124466, 0.0, 0.0, 0.0, -0.1010101010101021], res_norm=1.733e-01
2026-01-26 17:53:26,410 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:26,442 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:26,454 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:26,481 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:26,494 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:26,521 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:26,532 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:26,557 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:26,568 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:26,593 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:26,604 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:26,628 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:26,639 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:26,663 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:26,676 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:26,703 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:26,714 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:26,743 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:26,814 - INFO - integration_test - Step 42: MPC solve successful
2026-01-26 17:53:26,819 - INFO - integration_test - Step 42: Computed 6 numeric contouring constraints for visualization (s=11.700)
2026-01-26 17:53:26,819 - DEBUG - integration_test - Step 42: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:26,819 - INFO - integration_test - === Applying control at step 42 ===
2026-01-26 17:53:26,819 - INFO - integration_test -   Control dict from planner: {'a': 2.906722555211659e-09, 'w': 0.0}
2026-01-26 17:53:26,819 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:26,819 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:26,820 - INFO - integration_test - Step 42 completed in 0.459s
2026-01-26 17:53:26,828 - INFO - integration_test - Step 43 (contouring until path end)
2026-01-26 17:53:26,829 - DEBUG - integration_test - Syncing planner state at step 43: vehicle_state=[11.90000007  0.          0.          3.00000003 12.00000007]
2026-01-26 17:53:26,829 - DEBUG - integration_test - Step 43: Using propagated spline 12.0000 (close to path, dist=0.063m, drift=0.163m)
2026-01-26 17:53:26,829 - DEBUG - integration_test -   Set spline state to 12.0000
2026-01-26 17:53:26,830 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:26,846 - DEBUG - integration_test - Step 43: Checking path alignment: vehicle=(11.900, 0.000), path_start=(0.000, 0.000), dist=11.900m
2026-01-26 17:53:26,846 - WARNING - integration_test - Step 43: Vehicle is far from path start (dist=11.900m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-26 17:53:26,846 - INFO - integration_test - === Calling planner.solve_mpc() at step 43 ===
2026-01-26 17:53:26,848 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:26,868 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:26,869 - INFO - integration_test - Warmstart k=0: x0=11.900000068225514 , y0=0.0 , psi0=0.0 , v0=3.00000002971923 , spline0=12.00000006971148 , a0=0.0 , w0=0.0
2026-01-26 17:53:26,869 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:26,869 - INFO - integration_test - Dyn residual k=0: pred=[12.200000071197438, 0.0, 0.0, 3.00000002971923, 12.300000072683403], ws=[12.277229693140304, 0.0, 0.0, 3.0, 12.24949501920643], res=[-0.07722962194286609, 0.0, 0.0, 2.9719230187907897e-08, 0.050505053476973316], res_norm=9.228e-02
2026-01-26 17:53:26,870 - INFO - integration_test - Dyn residual k=1: pred=[12.577229693140305, 0.0, 0.0, 3.0, 12.54949501920643], ws=[12.645488562341606, 0.0, 0.0, 3.0, 12.145454615166026], res=[-0.06825886920130131, 0.0, 0.0, 0.0, 0.40404040404040487], res_norm=4.098e-01
2026-01-26 17:53:26,871 - INFO - integration_test - Dyn residual k=2: pred=[12.945488562341607, 0.0, 0.0, 3.0, 12.445454615166026], ws=[13.00217515667251, 0.0, 0.0, 3.0, 12.546464716176128], res=[-0.05668659433090362, 0.0, 0.0, 0.0, -0.1010101010101021], res_norm=1.158e-01
2026-01-26 17:53:26,880 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:26,917 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:26,928 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:26,956 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:26,967 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:26,993 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:27,003 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:27,025 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:27,037 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:27,063 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:27,074 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:27,098 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:27,107 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:27,131 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:27,144 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:27,170 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:27,180 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:27,203 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:27,272 - INFO - integration_test - Step 43: MPC solve successful
2026-01-26 17:53:27,276 - INFO - integration_test - Step 43: Computed 6 numeric contouring constraints for visualization (s=12.000)
2026-01-26 17:53:27,277 - DEBUG - integration_test - Step 43: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:27,277 - INFO - integration_test - === Applying control at step 43 ===
2026-01-26 17:53:27,277 - INFO - integration_test -   Control dict from planner: {'a': -1.6573525361978548e-09, 'w': 0.0}
2026-01-26 17:53:27,277 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:27,277 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:27,278 - INFO - integration_test - Step 43 completed in 0.449s
2026-01-26 17:53:27,286 - INFO - integration_test - Step 44 (contouring until path end)
2026-01-26 17:53:27,287 - DEBUG - integration_test - Syncing planner state at step 44: vehicle_state=[12.20000007  0.          0.          3.00000003 12.30000007]
2026-01-26 17:53:27,287 - DEBUG - integration_test - Step 44: Using propagated spline 12.3000 (close to path, dist=0.045m, drift=0.055m)
2026-01-26 17:53:27,287 - DEBUG - integration_test -   Set spline state to 12.3000
2026-01-26 17:53:27,288 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:27,300 - DEBUG - integration_test - Step 44: Checking path alignment: vehicle=(12.200, 0.000), path_start=(0.000, 0.000), dist=12.200m
2026-01-26 17:53:27,300 - WARNING - integration_test - Step 44: Vehicle is far from path start (dist=12.200m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-26 17:53:27,300 - INFO - integration_test - === Calling planner.solve_mpc() at step 44 ===
2026-01-26 17:53:27,303 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:27,322 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:27,322 - INFO - integration_test - Warmstart k=0: x0=12.200000071189152 , y0=0.0 , psi0=0.0 , v0=3.0000000295534948 , spline0=12.300000072666828 , a0=0.0 , w0=0.0
2026-01-26 17:53:27,322 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:27,323 - INFO - integration_test - Dyn residual k=0: pred=[12.5000000741445, 0.0, 0.0, 3.0000000295534948, 12.600000075622177], ws=[12.645017197483263, 0.0, 0.0, 3.0, 12.145454618121374], res=[-0.1450171233387625, 0.0, 0.0, 2.9553494762524224e-08, 0.454545457500803], res_norm=4.771e-01
2026-01-26 17:53:27,324 - INFO - integration_test - Dyn residual k=1: pred=[12.945017197483264, 0.0, 0.0, 3.0, 12.445454618121374], ws=[12.982354596525115, 0.0, 0.0, 3.0, 12.546464719131475], res=[-0.03733739904185107, 0.0, 0.0, 0.0, -0.10101010101010033], res_norm=1.077e-01
2026-01-26 17:53:27,324 - INFO - integration_test - Dyn residual k=2: pred=[13.282354596525115, 0.0, 0.0, 3.0, 12.846464719131475], ws=[13.417519841289103, 0.0, 0.0, 3.0, 12.94747482014158], res=[-0.1351652447639875, 0.0, 0.0, 0.0, -0.10101010101010388], res_norm=1.687e-01
2026-01-26 17:53:27,333 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:27,366 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:27,377 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:27,400 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:27,410 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:27,435 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:27,445 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:27,469 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:27,479 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:27,503 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:27,513 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:27,536 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:27,546 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:27,572 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:27,582 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:27,605 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:27,615 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:27,638 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:27,712 - INFO - integration_test - Step 44: MPC solve successful
2026-01-26 17:53:27,717 - INFO - integration_test - Step 44: Computed 6 numeric contouring constraints for visualization (s=12.300)
2026-01-26 17:53:27,717 - DEBUG - integration_test - Step 44: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:27,717 - INFO - integration_test - === Applying control at step 44 ===
2026-01-26 17:53:27,717 - INFO - integration_test -   Control dict from planner: {'a': -4.666523759960013e-09, 'w': 0.0}
2026-01-26 17:53:27,717 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:27,717 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:27,718 - INFO - integration_test - Step 44 completed in 0.432s
2026-01-26 17:53:27,725 - INFO - integration_test - Step 45 (contouring until path end)
2026-01-26 17:53:27,726 - DEBUG - integration_test - Syncing planner state at step 45: vehicle_state=[12.50000007  0.          0.          3.00000003 12.60000008]
2026-01-26 17:53:27,726 - DEBUG - integration_test - Step 45: Using propagated spline 12.6000 (close to path, dist=0.153m, drift=0.053m)
2026-01-26 17:53:27,726 - DEBUG - integration_test -   Set spline state to 12.6000
2026-01-26 17:53:27,727 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:27,742 - DEBUG - integration_test - Step 45: Checking path alignment: vehicle=(12.500, 0.000), path_start=(0.000, 0.000), dist=12.500m
2026-01-26 17:53:27,742 - WARNING - integration_test - Step 45: Vehicle is far from path start (dist=12.500m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-26 17:53:27,742 - INFO - integration_test - === Calling planner.solve_mpc() at step 45 ===
2026-01-26 17:53:27,745 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:27,765 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:27,765 - INFO - integration_test - Warmstart k=0: x0=12.500000074121168 , y0=0.0 , psi0=0.0 , v0=3.0000000290868423 , spline0=12.600000075575512 , a0=0.0 , w0=0.0
2026-01-26 17:53:27,765 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:27,766 - INFO - integration_test - Dyn residual k=0: pred=[12.800000077029852, 0.0, 0.0, 3.0000000290868423, 12.900000078484195], ws=[12.966937354829152, 0.0, 0.0, 3.0, 12.54646472204016], res=[-0.1669372777993008, 0.0, 0.0, 2.90868422681001e-08, 0.353535356444036], res_norm=3.910e-01
2026-01-26 17:53:27,767 - INFO - integration_test - Dyn residual k=1: pred=[13.266937354829153, 0.0, 0.0, 3.0, 12.84646472204016], ws=[13.332551753064902, 0.0, 0.0, 3.0, 12.94747482305026], res=[-0.06561439823574844, 0.0, 0.0, 0.0, -0.10101010101010033], res_norm=1.205e-01
2026-01-26 17:53:27,768 - INFO - integration_test - Dyn residual k=2: pred=[13.632551753064902, 0.0, 0.0, 3.0, 13.247474823050261], ws=[13.685826979850244, 0.0, 0.0, 3.0, 13.550505126080564], res=[-0.0532752267853418, 0.0, 0.0, 0.0, -0.30303030303030276], res_norm=3.077e-01
2026-01-26 17:53:27,777 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:27,809 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:27,820 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:27,846 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:27,857 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:27,880 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:27,890 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:27,915 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:27,926 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:27,952 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:27,963 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:27,988 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:27,998 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:28,024 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:28,035 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:28,059 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:28,069 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:28,093 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:28,162 - INFO - integration_test - Step 45: MPC solve successful
2026-01-26 17:53:28,166 - INFO - integration_test - Step 45: Computed 6 numeric contouring constraints for visualization (s=12.600)
2026-01-26 17:53:28,166 - DEBUG - integration_test - Step 45: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:28,166 - INFO - integration_test - === Applying control at step 45 ===
2026-01-26 17:53:28,166 - INFO - integration_test -   Control dict from planner: {'a': 2.835216304595008e-10, 'w': 0.0}
2026-01-26 17:53:28,166 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:28,167 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:28,168 - INFO - integration_test - Step 45 completed in 0.442s
2026-01-26 17:53:28,174 - INFO - integration_test - Step 46 (contouring until path end)
2026-01-26 17:53:28,175 - DEBUG - integration_test - Syncing planner state at step 46: vehicle_state=[12.80000008  0.          0.          3.00000003 12.90000008]
2026-01-26 17:53:28,176 - DEBUG - integration_test - Step 46: Using propagated spline 12.9000 (close to path, dist=0.147m, drift=0.247m)
2026-01-26 17:53:28,176 - DEBUG - integration_test -   Set spline state to 12.9000
2026-01-26 17:53:28,176 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:28,187 - DEBUG - integration_test - Step 46: Checking path alignment: vehicle=(12.800, 0.000), path_start=(0.000, 0.000), dist=12.800m
2026-01-26 17:53:28,188 - WARNING - integration_test - Step 46: Vehicle is far from path start (dist=12.800m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-26 17:53:28,188 - INFO - integration_test - === Calling planner.solve_mpc() at step 46 ===
2026-01-26 17:53:28,190 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:28,211 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:28,211 - INFO - integration_test - Warmstart k=0: x0=12.80000007703127 , y0=0.0 , psi0=0.0 , v0=3.0000000291151943 , spline0=12.90000007848703 , a0=0.0 , w0=0.0
2026-01-26 17:53:28,211 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:28,212 - INFO - integration_test - Dyn residual k=0: pred=[13.100000079942788, 0.0, 0.0, 3.0000000291151943, 13.20000008139855], ws=[13.216357512162435, 0.0, 0.0, 3.0, 12.644444522931476], res=[-0.11635743221964745, 0.0, 0.0, 2.9115194255524557e-08, 0.5555555584670735], res_norm=5.676e-01
2026-01-26 17:53:28,212 - INFO - integration_test - Dyn residual k=1: pred=[13.516357512162436, 0.0, 0.0, 3.0, 12.944444522931477], ws=[13.635091256542864, 0.0, 0.0, 3.0, 13.045454623941577], res=[-0.11873374438042816, 0.0, 0.0, 0.0, -0.10101010101010033], res_norm=1.559e-01
2026-01-26 17:53:28,213 - INFO - integration_test - Dyn residual k=2: pred=[13.935091256542865, 0.0, 0.0, 3.0, 13.345454623941578], ws=[14.05689043985484, 0.0, 0.0, 3.0, 13.951515230002183], res=[-0.1217991833119747, 0.0, 0.0, 0.0, -0.6060606060606055], res_norm=6.182e-01
2026-01-26 17:53:28,221 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:28,253 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:28,263 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:28,287 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:28,297 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:28,323 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:28,335 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:28,361 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:28,371 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:28,396 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:28,406 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:28,430 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:28,441 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:28,467 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:28,478 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:28,503 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:28,513 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:28,537 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:28,603 - INFO - integration_test - Step 46: MPC solve successful
2026-01-26 17:53:28,608 - INFO - integration_test - Step 46: Computed 6 numeric contouring constraints for visualization (s=12.900)
2026-01-26 17:53:28,608 - DEBUG - integration_test - Step 46: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:28,608 - INFO - integration_test - === Applying control at step 46 ===
2026-01-26 17:53:28,608 - INFO - integration_test -   Control dict from planner: {'a': -1.5697505881741183e-06, 'w': 0.0}
2026-01-26 17:53:28,608 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:28,608 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:28,609 - INFO - integration_test - Step 46 completed in 0.434s
2026-01-26 17:53:28,616 - INFO - integration_test - Step 47 (contouring until path end)
2026-01-26 17:53:28,617 - DEBUG - integration_test - Syncing planner state at step 47: vehicle_state=[13.10000007  0.          0.          2.99999987 13.20000007]
2026-01-26 17:53:28,618 - DEBUG - integration_test - Step 47: Using propagated spline 13.2000 (close to path, dist=0.039m, drift=0.139m)
2026-01-26 17:53:28,618 - DEBUG - integration_test -   Set spline state to 13.2000
2026-01-26 17:53:28,618 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:28,630 - DEBUG - integration_test - Step 47: Checking path alignment: vehicle=(13.100, 0.000), path_start=(0.000, 0.000), dist=13.100m
2026-01-26 17:53:28,630 - WARNING - integration_test - Step 47: Vehicle is far from path start (dist=13.100m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-26 17:53:28,630 - INFO - integration_test - === Calling planner.solve_mpc() at step 47 ===
2026-01-26 17:53:28,632 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:28,653 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:28,654 - INFO - integration_test - Warmstart k=0: x0=13.100000072094035 , y0=0.0 , psi0=0.0 , v0=2.9999998721401355 , spline0=13.200000065701044 , a0=0.0 , w0=0.0
2026-01-26 17:53:28,654 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:28,654 - INFO - integration_test - Dyn residual k=0: pred=[13.400000059308049, 0.0, 0.0, 2.9999998721401355, 13.500000052915057], ws=[13.465777635282233, 0.0, 0.0, 2.9999998721401355, 13.247474800389803], res=[-0.06577757597418454, 0.0, 0.0, 0.0, 0.2525252525252544], res_norm=2.610e-01
2026-01-26 17:53:28,655 - INFO - integration_test - Dyn residual k=1: pred=[13.765777622496246, 0.0, 0.0, 2.9999998721401355, 13.547474787603816], ws=[13.819263344856232, 0.0, 0.0, 2.9999998721401355, 13.345454585583616], res=[-0.05348572235998539, 0.0, 0.0, 0.0, 0.20202020202020066], res_norm=2.090e-01
2026-01-26 17:53:28,656 - INFO - integration_test - Dyn residual k=2: pred=[14.119263332070245, 0.0, 0.0, 2.9999998721401355, 13.645454572797629], ws=[14.156892563267913, 0.0, 0.0, 2.9999998721401355, 13.746464673807731], res=[-0.037629231197668034, 0.0, 0.0, 0.0, -0.1010101010101021], res_norm=1.078e-01
2026-01-26 17:53:28,665 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:28,696 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:28,707 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:28,731 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:28,741 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:28,768 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:28,779 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:28,803 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:28,813 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:28,837 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:28,848 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:28,873 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:28,882 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:28,907 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:28,917 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:28,942 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:28,953 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:28,977 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:29,064 - INFO - integration_test - Step 47: MPC solve successful
2026-01-26 17:53:29,068 - INFO - integration_test - Step 47: Computed 6 numeric contouring constraints for visualization (s=13.200)
2026-01-26 17:53:29,068 - DEBUG - integration_test - Step 47: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:29,068 - INFO - integration_test - === Applying control at step 47 ===
2026-01-26 17:53:29,068 - INFO - integration_test -   Control dict from planner: {'a': 5.64102018465291e-07, 'w': 0.0}
2026-01-26 17:53:29,068 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:29,068 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:29,069 - INFO - integration_test - Step 47 completed in 0.453s
2026-01-26 17:53:29,077 - INFO - integration_test - Step 48 (contouring until path end)
2026-01-26 17:53:29,077 - DEBUG - integration_test - Syncing planner state at step 48: vehicle_state=[13.40000006  0.          0.          2.99999993 13.50000006]
2026-01-26 17:53:29,078 - DEBUG - integration_test - Step 48: Using propagated spline 13.5000 (close to path, dist=0.069m, drift=0.031m)
2026-01-26 17:53:29,078 - DEBUG - integration_test -   Set spline state to 13.5000
2026-01-26 17:53:29,078 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:29,089 - DEBUG - integration_test - Step 48: Checking path alignment: vehicle=(13.400, 0.000), path_start=(0.000, 0.000), dist=13.400m
2026-01-26 17:53:29,089 - WARNING - integration_test - Step 48: Vehicle is far from path start (dist=13.400m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-26 17:53:29,089 - INFO - integration_test - === Calling planner.solve_mpc() at step 48 ===
2026-01-26 17:53:29,091 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:29,111 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:29,111 - INFO - integration_test - Warmstart k=0: x0=13.400000062128559 , y0=0.0 , psi0=0.0 , v0=2.9999999285503374 , spline0=13.500000058556077 , a0=0.0 , w0=0.0
2026-01-26 17:53:29,111 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:29,112 - INFO - integration_test - Dyn residual k=0: pred=[13.700000054983592, 0.0, 0.0, 2.9999999285503374, 13.80000005141111], ws=[13.833565130162121, 0.0, 0.0, 2.9999999285503374, 13.648484899895958], res=[-0.1335650751785291, 0.0, 0.0, 0.0, 0.15151515151515227], res_norm=2.020e-01
2026-01-26 17:53:29,112 - INFO - integration_test - Dyn residual k=1: pred=[14.133565123017155, 0.0, 0.0, 2.9999999285503374, 13.948484892750992], ws=[14.274496720986642, 0.0, 0.0, 2.9999999285503374, 14.049494993761094], res=[-0.1409315979694874, 0.0, 0.0, 0.0, -0.1010101010101021], res_norm=1.734e-01
2026-01-26 17:53:29,113 - INFO - integration_test - Dyn residual k=2: pred=[14.574496713841675, 0.0, 0.0, 2.9999999285503374, 14.349494986616127], ws=[14.606563779272722, 0.0, 0.0, 2.9999999285503374, 14.147474784595925], res=[-0.03206706543104687, 0.0, 0.0, 0.0, 0.20202020202020243], res_norm=2.045e-01
2026-01-26 17:53:29,123 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:29,156 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:29,166 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:29,190 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:29,200 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:29,223 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:29,233 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:29,260 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:29,271 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:29,295 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:29,306 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:29,330 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:29,341 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:29,366 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:29,377 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:29,400 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:29,410 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:29,434 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:29,506 - INFO - integration_test - Step 48: MPC solve successful
2026-01-26 17:53:29,510 - INFO - integration_test - Step 48: Computed 6 numeric contouring constraints for visualization (s=13.500)
2026-01-26 17:53:29,511 - DEBUG - integration_test - Step 48: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:29,511 - INFO - integration_test - === Applying control at step 48 ===
2026-01-26 17:53:29,511 - INFO - integration_test -   Control dict from planner: {'a': 1.0140243339737768e-06, 'w': 0.0}
2026-01-26 17:53:29,511 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:29,511 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:29,512 - INFO - integration_test - Step 48 completed in 0.435s
2026-01-26 17:53:29,520 - INFO - integration_test - Step 49 (contouring until path end)
2026-01-26 17:53:29,520 - DEBUG - integration_test - Syncing planner state at step 49: vehicle_state=[13.70000006  0.          0.          3.00000003 13.80000006]
2026-01-26 17:53:29,521 - DEBUG - integration_test - Step 49: Using propagated spline 13.8000 (close to path, dist=0.178m, drift=0.078m)
2026-01-26 17:53:29,521 - DEBUG - integration_test -   Set spline state to 13.8000
2026-01-26 17:53:29,521 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:29,534 - DEBUG - integration_test - Step 49: Checking path alignment: vehicle=(13.700, 0.000), path_start=(0.000, 0.000), dist=13.700m
2026-01-26 17:53:29,534 - WARNING - integration_test - Step 49: Vehicle is far from path start (dist=13.700m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-26 17:53:29,534 - INFO - integration_test - === Calling planner.solve_mpc() at step 49 ===
2026-01-26 17:53:29,537 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:29,557 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:29,557 - INFO - integration_test - Warmstart k=0: x0=13.700000060053714 , y0=0.0 , psi0=0.0 , v0=3.000000029952771 , spline0=13.800000061551355 , a0=0.0 , w0=0.0
2026-01-26 17:53:29,557 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:29,558 - INFO - integration_test - Dyn residual k=0: pred=[14.000000063048992, 0.0, 0.0, 3.000000029952771, 14.100000064546633], ws=[14.155485293401291, 0.0, 0.0, 3.0, 13.746464708016003], res=[-0.15548523035229955, 0.0, 0.0, 2.995277093020832e-08, 0.35353535653062984], res_norm=3.862e-01
2026-01-26 17:53:29,558 - INFO - integration_test - Dyn residual k=1: pred=[14.455485293401292, 0.0, 0.0, 3.0, 14.046464708016003], ws=[14.506326550542113, 0.0, 0.0, 3.0, 14.147474809026104], res=[-0.05084125714082077, 0.0, 0.0, 0.0, -0.10101010101010033], res_norm=1.131e-01
2026-01-26 17:53:29,559 - INFO - integration_test - Dyn residual k=2: pred=[14.806326550542114, 0.0, 0.0, 3.0, 14.447474809026104], ws=[14.95891177225377, 0.0, 0.0, 3.0, 14.548484910036205], res=[-0.15258522171165723, 0.0, 0.0, 0.0, -0.10101010101010033], res_norm=1.830e-01
2026-01-26 17:53:29,567 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:29,598 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:29,611 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:29,636 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:29,647 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:29,670 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:29,680 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:29,703 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:29,712 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:29,738 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:29,748 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:29,773 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:29,783 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:29,806 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:29,815 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:29,841 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:29,851 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:29,875 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:29,950 - INFO - integration_test - Step 49: MPC solve successful
2026-01-26 17:53:29,955 - INFO - integration_test - Step 49: Computed 6 numeric contouring constraints for visualization (s=13.800)
2026-01-26 17:53:29,955 - DEBUG - integration_test - Step 49: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:29,955 - INFO - integration_test - === Applying control at step 49 ===
2026-01-26 17:53:29,955 - INFO - integration_test -   Control dict from planner: {'a': -2.135782200394888e-06, 'w': 0.0}
2026-01-26 17:53:29,955 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:29,955 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:29,957 - INFO - integration_test - Step 49 completed in 0.436s
2026-01-26 17:53:29,965 - INFO - integration_test - Step 50 (contouring until path end)
2026-01-26 17:53:29,966 - DEBUG - integration_test - Syncing planner state at step 50: vehicle_state=[14.00000005  0.          0.          2.99999982 14.10000004]
2026-01-26 17:53:29,967 - DEBUG - integration_test - Step 50: Using propagated spline 14.1000 (close to path, dist=0.122m, drift=0.222m)
2026-01-26 17:53:29,967 - DEBUG - integration_test -   Set spline state to 14.1000
2026-01-26 17:53:29,967 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:29,979 - DEBUG - integration_test - Step 50: Checking path alignment: vehicle=(14.000, 0.000), path_start=(0.000, 0.000), dist=14.000m
2026-01-26 17:53:29,979 - WARNING - integration_test - Step 50: Vehicle is far from path start (dist=14.000m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-26 17:53:29,979 - INFO - integration_test - === Calling planner.solve_mpc() at step 50 ===
2026-01-26 17:53:29,983 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:30,009 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:30,009 - INFO - integration_test - Warmstart k=0: x0=14.00000005237008 , y0=0.0 , psi0=0.0 , v0=2.999999816374551 , spline0=14.10000004318881 , a0=0.0 , w0=0.0
2026-01-26 17:53:30,009 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:30,010 - INFO - integration_test - Dyn residual k=0: pred=[14.300000034007535, 0.0, 0.0, 2.999999816374551, 14.400000024826266], ws=[14.404905403060464, 0.0, 0.0, 2.999999816374551, 13.84444446927071], res=[-0.10490536905292913, 0.0, 0.0, 0.0, 0.5555555555555554], res_norm=5.654e-01
2026-01-26 17:53:30,011 - INFO - integration_test - Dyn residual k=1: pred=[14.70490538469792, 0.0, 0.0, 2.999999816374551, 14.144444450908166], ws=[14.808865958512284, 0.0, 0.0, 2.999999816374551, 14.750505056968771], res=[-0.10396057381436385, 0.0, 0.0, 0.0, -0.6060606060606055], res_norm=6.149e-01
2026-01-26 17:53:30,012 - INFO - integration_test - Dyn residual k=2: pred=[15.10886594014974, 0.0, 0.0, 2.999999816374551, 15.050505038606227], ws=[15.211607728106355, 0.0, 0.0, 2.999999816374551, 15.151515139616329], res=[-0.10274178795661548, 0.0, 0.0, 0.0, -0.1010101010101021], res_norm=1.441e-01
2026-01-26 17:53:30,021 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:30,057 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:30,068 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:30,092 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:30,102 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:30,127 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:30,141 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:30,175 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:30,192 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:30,228 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:30,241 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:30,268 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:30,280 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:30,308 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:30,320 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:30,347 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:30,359 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:30,385 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:31,798 - WARNING - integration_test - Step 50: MPC solve failed
2026-01-26 17:53:31,798 - WARNING - integration_test -   Consecutive MPC failures: 1/20
2026-01-26 17:53:31,802 - INFO - integration_test - Step 50: Computed 6 numeric contouring constraints for visualization (s=14.100)
2026-01-26 17:53:31,802 - DEBUG - integration_test - Step 50: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:31,802 - INFO - integration_test - === Applying control at step 50 ===
2026-01-26 17:53:31,802 - INFO - integration_test -   Control dict from planner: {'a': -2.0, 'w': 0.0}
2026-01-26 17:53:31,802 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:31,803 - INFO - integration_test -   Planner output success: False
2026-01-26 17:53:31,803 - WARNING - integration_test -   MPC solve failed - applying safe fallback control: {'a': -2.0, 'w': 0.0}
2026-01-26 17:53:31,804 - INFO - integration_test - Step 50 completed in 1.838s
2026-01-26 17:53:31,811 - INFO - integration_test - Step 51 (contouring until path end)
2026-01-26 17:53:31,812 - DEBUG - integration_test - Syncing planner state at step 51: vehicle_state=[14.29000003  0.          0.          2.79999982 14.38000002]
2026-01-26 17:53:31,812 - DEBUG - integration_test - Step 51: Using propagated spline 14.3800 (close to path, dist=0.004m, drift=0.094m)
2026-01-26 17:53:31,812 - DEBUG - integration_test -   Set spline state to 14.3800
2026-01-26 17:53:31,813 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:31,825 - DEBUG - integration_test - Step 51: Checking path alignment: vehicle=(14.290, 0.000), path_start=(0.000, 0.000), dist=14.290m
2026-01-26 17:53:31,825 - WARNING - integration_test - Step 51: Vehicle is far from path start (dist=14.290m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-26 17:53:31,825 - INFO - integration_test - === Calling planner.solve_mpc() at step 51 ===
2026-01-26 17:53:31,827 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:31,850 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:31,850 - INFO - integration_test - Warmstart k=0: x0=14.290000034007535 , y0=0.0 , psi0=0.0 , v0=2.7999998163745508 , spline0=14.380000024826266 , a0=0.0 , w0=0.0
2026-01-26 17:53:31,850 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:31,852 - INFO - integration_test - Dyn residual k=0: pred=[14.570000015644991, 0.0, 0.0, 2.7999998163745508, 14.660000006463722], ws=[14.60594802917236, 0.0, 0.0, 2.7999998163745508, 14.40747475393847], res=[-0.03594801352736887, 0.0, 0.0, 0.0, 0.2525252525252526], res_norm=2.551e-01
2026-01-26 17:53:31,853 - INFO - integration_test - Dyn residual k=1: pred=[14.885948010809816, 0.0, 0.0, 2.7999998163745508, 14.687474735575925], ws=[15.013520942934981, 0.0, 0.0, 2.7999998163745508, 14.586464634565825], res=[-0.1275729321251653, 0.0, 0.0, 0.0, 0.10101010101010033], res_norm=1.627e-01
2026-01-26 17:53:31,854 - INFO - integration_test - Dyn residual k=2: pred=[15.293520924572437, 0.0, 0.0, 2.7999998163745508, 14.866464616203281], ws=[15.420922654749987, 0.0, 0.0, 2.7999998163745508, 15.25818180350964], res=[-0.1274017301775494, 0.0, 0.0, 0.0, -0.39171718730635874], res_norm=4.119e-01
2026-01-26 17:53:31,864 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:31,897 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:31,908 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:31,933 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:31,943 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:31,969 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:31,980 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:32,007 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:32,017 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:32,046 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:32,055 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:32,080 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:32,090 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:32,113 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:32,124 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:32,151 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:32,162 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:32,188 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:32,284 - INFO - integration_test - Step 51: MPC solve successful
2026-01-26 17:53:32,288 - INFO - integration_test - Step 51: Computed 6 numeric contouring constraints for visualization (s=14.380)
2026-01-26 17:53:32,288 - DEBUG - integration_test - Step 51: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:32,288 - INFO - integration_test - === Applying control at step 51 ===
2026-01-26 17:53:32,288 - INFO - integration_test -   Control dict from planner: {'a': 1.9999987181480092, 'w': 0.0}
2026-01-26 17:53:32,288 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:32,288 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:32,289 - INFO - integration_test - Step 51 completed in 0.478s
2026-01-26 17:53:32,296 - INFO - integration_test - Step 52 (contouring until path end)
2026-01-26 17:53:32,297 - DEBUG - integration_test - Syncing planner state at step 52: vehicle_state=[14.58000001  0.          0.          2.99999969 14.67999999]
2026-01-26 17:53:32,297 - DEBUG - integration_test - Step 52: Using propagated spline 14.6800 (close to path, dist=0.114m, drift=0.014m)
2026-01-26 17:53:32,297 - DEBUG - integration_test -   Set spline state to 14.6800
2026-01-26 17:53:32,298 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:32,310 - DEBUG - integration_test - Step 52: Checking path alignment: vehicle=(14.580, 0.000), path_start=(0.000, 0.000), dist=14.580m
2026-01-26 17:53:32,310 - WARNING - integration_test - Step 52: Vehicle is far from path start (dist=14.580m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-26 17:53:32,310 - INFO - integration_test - === Calling planner.solve_mpc() at step 52 ===
2026-01-26 17:53:32,312 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:32,335 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:32,335 - INFO - integration_test - Warmstart k=0: x0=14.58000000923573 , y0=0.0 , psi0=0.0 , v0=2.9999996881893516 , spline0=14.679999993645202 , a0=0.0 , w0=0.0
2026-01-26 17:53:32,335 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:32,336 - INFO - integration_test - Dyn residual k=0: pred=[14.879999978054666, 0.0, 0.0, 2.9999996881893516, 14.979999962464138], ws=[14.946893124277857, 0.0, 0.0, 2.9999996881893516, 14.525454507918683], res=[-0.06689314622319031, 0.0, 0.0, 0.0, 0.45454545454545503], res_norm=4.594e-01
2026-01-26 17:53:32,337 - INFO - integration_test - Dyn residual k=1: pred=[15.246893093096793, 0.0, 0.0, 2.9999996881893516, 14.825454476737619], ws=[15.301817895743422, 0.0, 0.0, 2.9999996881893516, 15.1890908750795], res=[-0.0549248026466298, 0.0, 0.0, 0.0, -0.3636363983418818], res_norm=3.678e-01
2026-01-26 17:53:32,338 - INFO - integration_test - Dyn residual k=2: pred=[15.601817864562358, 0.0, 0.0, 2.9999996881893516, 15.489090843898436], ws=[15.759670850934002, 0.0, 0.0, 2.9999996881893516, 15.623030256613056], res=[-0.15785298637164402, 0.0, 0.0, 0.0, -0.13393941271461962], res_norm=2.070e-01
2026-01-26 17:53:32,347 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:32,382 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:32,393 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:32,417 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:32,428 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:32,455 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:32,465 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:32,491 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:32,501 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:32,525 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:32,535 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:32,560 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:32,571 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:32,595 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:32,607 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:32,635 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:32,647 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:32,672 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:32,772 - INFO - integration_test - Step 52: MPC solve successful
2026-01-26 17:53:32,776 - INFO - integration_test - Step 52: Computed 6 numeric contouring constraints for visualization (s=14.680)
2026-01-26 17:53:32,776 - DEBUG - integration_test - Step 52: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:32,776 - INFO - integration_test - === Applying control at step 52 ===
2026-01-26 17:53:32,776 - INFO - integration_test -   Control dict from planner: {'a': -1.9999998111269575, 'w': 0.0}
2026-01-26 17:53:32,776 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:32,776 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:32,777 - INFO - integration_test - Step 52 completed in 0.481s
2026-01-26 17:53:32,785 - INFO - integration_test - Step 53 (contouring until path end)
2026-01-26 17:53:32,786 - DEBUG - integration_test - Syncing planner state at step 53: vehicle_state=[14.86999998  0.          0.          2.79999971 14.95999996]
2026-01-26 17:53:32,786 - DEBUG - integration_test - Step 53: Using propagated spline 14.9600 (close to path, dist=0.176m, drift=0.266m)
2026-01-26 17:53:32,786 - DEBUG - integration_test -   Set spline state to 14.9600
2026-01-26 17:53:32,787 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:32,799 - DEBUG - integration_test - Step 53: Checking path alignment: vehicle=(14.870, 0.000), path_start=(0.000, 0.000), dist=14.870m
2026-01-26 17:53:32,799 - WARNING - integration_test - Step 53: Vehicle is far from path start (dist=14.870m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-26 17:53:32,799 - INFO - integration_test - === Calling planner.solve_mpc() at step 53 ===
2026-01-26 17:53:32,801 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:32,823 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:32,823 - INFO - integration_test - Warmstart k=0: x0=14.869999978999031 , y0=0.0 , psi0=0.0 , v0=2.799999707076656 , spline0=14.959999964352868 , a0=0.0 , w0=0.0
2026-01-26 17:53:32,823 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:32,824 - INFO - integration_test - Dyn residual k=0: pred=[15.149999949706697, 0.0, 0.0, 2.799999707076656, 15.239999935060533], ws=[15.266303083084349, 0.0, 0.0, 2.799999707076656, 15.169292897151173], res=[-0.1163031333776523, 0.0, 0.0, 0.0, 0.07070703790935973], res_norm=1.361e-01
2026-01-26 17:53:32,825 - INFO - integration_test - Dyn residual k=1: pred=[15.546303053792014, 0.0, 0.0, 2.799999707076656, 15.449292867858839], ws=[15.659166740415632, 0.0, 0.0, 2.799999707076656, 15.307878741238806], res=[-0.11286368662361745, 0.0, 0.0, 0.0, 0.14141412662003283], res_norm=1.809e-01
2026-01-26 17:53:32,825 - INFO - integration_test - Dyn residual k=2: pred=[15.939166711123297, 0.0, 0.0, 2.799999707076656, 15.587878711946471], ws=[16.04759351143421, 0.0, 0.0, 2.799999707076656, 15.725252467857473], res=[-0.10842680031091412, 0.0, 0.0, 0.0, -0.13737375591100154], res_norm=1.750e-01
2026-01-26 17:53:32,834 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:32,867 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:32,877 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:32,900 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:32,910 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:32,934 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:32,945 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:32,970 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:32,984 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:33,013 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:33,023 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:33,053 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:33,066 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:33,093 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:33,105 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:33,132 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:33,146 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:33,176 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:33,285 - INFO - integration_test - Step 53: MPC solve successful
2026-01-26 17:53:33,290 - INFO - integration_test - Step 53: Computed 6 numeric contouring constraints for visualization (s=14.960)
2026-01-26 17:53:33,290 - DEBUG - integration_test - Step 53: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:33,290 - INFO - integration_test - === Applying control at step 53 ===
2026-01-26 17:53:33,290 - INFO - integration_test -   Control dict from planner: {'a': -2.000000005712113, 'w': 0.0}
2026-01-26 17:53:33,290 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:33,290 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:33,291 - INFO - integration_test - Step 53 completed in 0.506s
2026-01-26 17:53:33,298 - INFO - integration_test - Step 54 (contouring until path end)
2026-01-26 17:53:33,299 - DEBUG - integration_test - Syncing planner state at step 54: vehicle_state=[15.13999995  0.          0.          2.59999971 15.21999994]
2026-01-26 17:53:33,300 - DEBUG - integration_test - Step 54: Using propagated spline 15.2200 (close to path, dist=0.038m, drift=0.118m)
2026-01-26 17:53:33,300 - DEBUG - integration_test -   Set spline state to 15.2200
2026-01-26 17:53:33,300 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:33,313 - DEBUG - integration_test - Step 54: Checking path alignment: vehicle=(15.140, 0.000), path_start=(0.000, 0.000), dist=15.140m
2026-01-26 17:53:33,313 - WARNING - integration_test - Step 54: Vehicle is far from path start (dist=15.140m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-26 17:53:33,313 - INFO - integration_test - === Calling planner.solve_mpc() at step 54 ===
2026-01-26 17:53:33,316 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:33,336 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:33,336 - INFO - integration_test - Warmstart k=0: x0=15.139999949678137 , y0=0.0 , psi0=0.0 , v0=2.5999997065054448 , spline0=15.219999935003411 , a0=0.0 , w0=0.0
2026-01-26 17:53:33,336 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:33,337 - INFO - integration_test - Dyn residual k=0: pred=[15.399999920328682, 0.0, 0.0, 2.5999997065054448, 15.479999905653955], ws=[15.437993193017242, 0.0, 0.0, 2.5999997065054448, 14.999595910040462], res=[-0.0379932726885599, 0.0, 0.0, 0.0, 0.4804039956134929], res_norm=4.819e-01
2026-01-26 17:53:33,337 - INFO - integration_test - Dyn residual k=1: pred=[15.697993163667785, 0.0, 0.0, 2.5999997065054448, 15.259595880691005], ws=[15.822404476924685, 0.0, 0.0, 2.5999997065054448, 15.41676761554465], res=[-0.1244113132568998, 0.0, 0.0, 0.0, -0.15717173485364455], res_norm=2.005e-01
2026-01-26 17:53:33,338 - INFO - integration_test - Dyn residual k=2: pred=[16.08240444757523, 0.0, 0.0, 2.5999997065054448, 15.676767586195194], ws=[16.199927686226513, 0.0, 0.0, 2.5999997065054448, 15.81818174707002], res=[-0.11752323865128389, 0.0, 0.0, 0.0, -0.1414141608748256], res_norm=1.839e-01
2026-01-26 17:53:33,347 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:33,382 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:33,393 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:33,418 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:33,429 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:33,455 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:33,467 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:33,493 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:33,504 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:33,529 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:33,540 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:33,569 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:33,582 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:33,614 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:33,628 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:33,660 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:33,672 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:33,699 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:33,831 - INFO - integration_test - Step 54: MPC solve successful
2026-01-26 17:53:33,836 - INFO - integration_test - Step 54: Computed 6 numeric contouring constraints for visualization (s=15.220)
2026-01-26 17:53:33,837 - DEBUG - integration_test - Step 54: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:33,837 - INFO - integration_test - === Applying control at step 54 ===
2026-01-26 17:53:33,837 - INFO - integration_test -   Control dict from planner: {'a': 1.995291826103175, 'w': 0.0}
2026-01-26 17:53:33,837 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:33,837 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:33,839 - INFO - integration_test - Step 54 completed in 0.540s
2026-01-26 17:53:33,847 - INFO - integration_test - Step 55 (contouring until path end)
2026-01-26 17:53:33,848 - DEBUG - integration_test - Syncing planner state at step 55: vehicle_state=[15.40997638  0.          0.          2.79952889 15.49995282]
2026-01-26 17:53:33,849 - DEBUG - integration_test - Step 55: Using propagated spline 15.5000 (close to path, dist=0.100m, drift=0.010m)
2026-01-26 17:53:33,849 - DEBUG - integration_test -   Set spline state to 15.5000
2026-01-26 17:53:33,850 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:33,864 - DEBUG - integration_test - Step 55: Checking path alignment: vehicle=(15.410, 0.000), path_start=(0.000, 0.000), dist=15.410m
2026-01-26 17:53:33,864 - WARNING - integration_test - Step 55: Vehicle is far from path start (dist=15.410m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-26 17:53:33,864 - INFO - integration_test - === Calling planner.solve_mpc() at step 55 ===
2026-01-26 17:53:33,866 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:33,889 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:33,889 - INFO - integration_test - Warmstart k=0: x0=15.409976379459197 , y0=0.0 , psi0=0.0 , v0=2.7995288891157624 , spline0=15.499952823914988 , a0=0.0 , w0=0.0
2026-01-26 17:53:33,889 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:33,890 - INFO - integration_test - Dyn residual k=0: pred=[15.689929268370774, 0.0, 0.0, 2.7995288891157624, 15.779905712826565], ws=[15.749471918163126, 0.0, 0.0, 2.7995288891157624, 15.622783520230794], res=[-0.05954264979235191, 0.0, 0.0, 0.0, 0.15712219259577154], res_norm=1.680e-01
2026-01-26 17:53:33,891 - INFO - integration_test - Dyn residual k=1: pred=[16.0294248070747, 0.0, 0.0, 2.7995288891157624, 15.90273640914237], ws=[16.18742116309119, 0.0, 0.0, 2.7995288891157624, 16.02660382299473], res=[-0.15799635601648987, 0.0, 0.0, 0.0, -0.12386741385235922], res_norm=2.008e-01
2026-01-26 17:53:33,892 - INFO - integration_test - Dyn residual k=2: pred=[16.467374052002768, 0.0, 0.0, 2.7995288891157624, 16.306556711906307], ws=[16.63400834210962, 0.0, 0.0, 2.7995288891157624, 16.23850398078725], res=[-0.1666342901068525, 0.0, 0.0, 0.0, 0.06805273111905663], res_norm=1.800e-01
2026-01-26 17:53:33,902 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:33,942 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:33,955 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:33,985 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:33,999 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:34,030 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:34,044 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:34,076 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:34,088 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:34,118 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:34,132 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:34,162 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:34,174 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:34,201 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:34,212 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:34,236 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:34,247 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:34,271 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:34,359 - INFO - integration_test - Step 55: MPC solve successful
2026-01-26 17:53:34,365 - INFO - integration_test - Step 55: Computed 6 numeric contouring constraints for visualization (s=15.500)
2026-01-26 17:53:34,365 - DEBUG - integration_test - Step 55: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:34,365 - INFO - integration_test - === Applying control at step 55 ===
2026-01-26 17:53:34,365 - INFO - integration_test -   Control dict from planner: {'a': 1.999995587900042, 'w': 0.0}
2026-01-26 17:53:34,365 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:34,365 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:34,366 - INFO - integration_test - Step 55 completed in 0.519s
2026-01-26 17:53:34,377 - INFO - integration_test - Step 56 (contouring until path end)
2026-01-26 17:53:34,378 - DEBUG - integration_test - Syncing planner state at step 56: vehicle_state=[15.69992925  0.          0.          2.99952845 15.79990567]
2026-01-26 17:53:34,379 - DEBUG - integration_test - Step 56: Using propagated spline 15.7999 (close to path, dist=0.190m, drift=0.290m)
2026-01-26 17:53:34,379 - DEBUG - integration_test -   Set spline state to 15.7999
2026-01-26 17:53:34,379 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:34,393 - DEBUG - integration_test - Step 56: Checking path alignment: vehicle=(15.700, 0.000), path_start=(0.000, 0.000), dist=15.700m
2026-01-26 17:53:34,394 - WARNING - integration_test - Step 56: Vehicle is far from path start (dist=15.700m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-26 17:53:34,394 - INFO - integration_test - === Calling planner.solve_mpc() at step 56 ===
2026-01-26 17:53:34,397 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:34,421 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:34,421 - INFO - integration_test - Warmstart k=0: x0=15.699929246310273 , y0=0.0 , psi0=0.0 , v0=2.9995284479057664 , spline0=15.799905668705565 , a0=0.0 , w0=0.0
2026-01-26 17:53:34,421 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:34,422 - INFO - integration_test - Dyn residual k=0: pred=[15.999882091100849, 0.0, 0.0, 2.9995284479057664, 16.09985851349614], ws=[16.136215170028795, 0.0, 0.0, 2.9995284479057664, 15.774680304387058], res=[-0.13633307892794555, 0.0, 0.0, 0.0, 0.3251782091090831], res_norm=3.526e-01
2026-01-26 17:53:34,423 - INFO - integration_test - Dyn residual k=1: pred=[16.436168014819373, 0.0, 0.0, 2.9995284479057664, 16.074633149177636], ws=[16.580656664686913, 0.0, 0.0, 2.9995284479057664, 16.438305714037934], res=[-0.14448864986754018, 0.0, 0.0, 0.0, -0.3636725648602983], res_norm=3.913e-01
2026-01-26 17:53:34,423 - INFO - integration_test - Dyn residual k=2: pred=[16.88060950947749, 0.0, 0.0, 2.9995284479057664, 16.738258558828512], ws=[17.035618845857105, 0.0, 0.0, 2.9995284479057664, 16.646369374980726], res=[-0.15500933637961367, 0.0, 0.0, 0.0, 0.09188918384778688], res_norm=1.802e-01
2026-01-26 17:53:34,436 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:34,472 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:34,485 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:34,514 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:34,528 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:34,556 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:34,568 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:34,593 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:34,606 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:34,632 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:34,644 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:34,670 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:34,680 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:34,708 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:34,720 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:34,748 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:34,759 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:34,788 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:34,861 - INFO - integration_test - Step 56: MPC solve successful
2026-01-26 17:53:34,865 - INFO - integration_test - Step 56: Computed 6 numeric contouring constraints for visualization (s=15.800)
2026-01-26 17:53:34,866 - DEBUG - integration_test - Step 56: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:34,866 - INFO - integration_test - === Applying control at step 56 ===
2026-01-26 17:53:34,866 - INFO - integration_test -   Control dict from planner: {'a': 0.004714365843273871, 'w': 0.0}
2026-01-26 17:53:34,866 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:34,866 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:34,868 - INFO - integration_test - Step 56 completed in 0.490s
2026-01-26 17:53:34,875 - INFO - integration_test - Step 57 (contouring until path end)
2026-01-26 17:53:34,876 - DEBUG - integration_test - Syncing planner state at step 57: vehicle_state=[15.99990566  0.          0.          2.99999988 16.09990566]
2026-01-26 17:53:34,876 - DEBUG - integration_test - Step 57: Using propagated spline 16.0999 (close to path, dist=0.082m, drift=0.182m)
2026-01-26 17:53:34,876 - DEBUG - integration_test -   Set spline state to 16.0999
2026-01-26 17:53:34,877 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:34,890 - DEBUG - integration_test - Step 57: Checking path alignment: vehicle=(16.000, 0.000), path_start=(0.000, 0.000), dist=16.000m
2026-01-26 17:53:34,890 - WARNING - integration_test - Step 57: Vehicle is far from path start (dist=16.000m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-26 17:53:34,890 - INFO - integration_test - === Calling planner.solve_mpc() at step 57 ===
2026-01-26 17:53:34,893 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:34,912 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:34,913 - INFO - integration_test - Warmstart k=0: x0=15.999905662930066 , y0=0.0 , psi0=0.0 , v0=2.999999884490094 , spline0=16.099905657154572 , a0=0.0 , w0=0.0
2026-01-26 17:53:34,913 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:34,913 - INFO - integration_test - Dyn residual k=0: pred=[16.299905651379074, 0.0, 0.0, 2.999999884490094, 16.39990564560358], ws=[16.385680151542577, 0.0, 0.0, 2.999999884490094, 16.351475122377277], res=[-0.08577450016350241, 0.0, 0.0, 0.0, 0.0484305232263047], res_norm=9.850e-02
2026-01-26 17:53:34,914 - INFO - integration_test - Dyn residual k=1: pred=[16.685680139991586, 0.0, 0.0, 2.999999884490094, 16.651475110826286], ws=[16.76496189491394, 0.0, 0.0, 2.999999884490094, 16.478747844749584], res=[-0.07928175492235567, 0.0, 0.0, 0.0, 0.17272726607670208], res_norm=1.901e-01
2026-01-26 17:53:34,915 - INFO - integration_test - Dyn residual k=2: pred=[17.06496188336295, 0.0, 0.0, 2.999999884490094, 16.778747833198594], ws=[17.135867996924226, 0.0, 0.0, 2.999999884490094, 16.68682960123804], res=[-0.07090611356127496, 0.0, 0.0, 0.0, 0.09191823196055537], res_norm=1.161e-01
2026-01-26 17:53:34,924 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:34,956 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:34,967 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:34,992 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:35,005 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:35,032 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:35,042 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:35,072 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:35,083 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:35,112 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:35,125 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:35,154 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:35,166 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:35,193 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:35,203 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:35,230 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:35,241 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:35,264 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:35,331 - INFO - integration_test - Step 57: MPC solve successful
2026-01-26 17:53:35,336 - INFO - integration_test - Step 57: Computed 6 numeric contouring constraints for visualization (s=16.100)
2026-01-26 17:53:35,336 - DEBUG - integration_test - Step 57: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:35,337 - INFO - integration_test - === Applying control at step 57 ===
2026-01-26 17:53:35,337 - INFO - integration_test -   Control dict from planner: {'a': 1.4543146686837329e-06, 'w': 0.0}
2026-01-26 17:53:35,337 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:35,337 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:35,338 - INFO - integration_test - Step 57 completed in 0.463s
2026-01-26 17:53:35,346 - INFO - integration_test - Step 58 (contouring until path end)
2026-01-26 17:53:35,347 - DEBUG - integration_test - Syncing planner state at step 58: vehicle_state=[16.29990566  0.          0.          3.00000003 16.39990566]
2026-01-26 17:53:35,347 - DEBUG - integration_test - Step 58: Using propagated spline 16.3999 (close to path, dist=0.027m, drift=0.073m)
2026-01-26 17:53:35,347 - DEBUG - integration_test -   Set spline state to 16.3999
2026-01-26 17:53:35,348 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:35,359 - DEBUG - integration_test - Step 58: Checking path alignment: vehicle=(16.300, 0.000), path_start=(0.000, 0.000), dist=16.300m
2026-01-26 17:53:35,359 - WARNING - integration_test - Step 58: Vehicle is far from path start (dist=16.300m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-26 17:53:35,359 - INFO - integration_test - === Calling planner.solve_mpc() at step 58 ===
2026-01-26 17:53:35,362 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:35,387 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:35,388 - INFO - integration_test - Warmstart k=0: x0=16.299905658650648 , y0=0.0 , psi0=0.0 , v0=3.000000029921561 , spline0=16.39990566014673 , a0=0.0 , w0=0.0
2026-01-26 17:53:35,388 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:35,389 - INFO - integration_test - Dyn residual k=0: pred=[16.599905661642804, 0.0, 0.0, 3.000000029921561, 16.699905663138885], ws=[16.635100318969453, 0.0, 0.0, 3.0, 16.22722984552124], res=[-0.03519465732664884, 0.0, 0.0, 2.9921560784629264e-08, 0.4726758176176453], res_norm=4.740e-01
2026-01-26 17:53:35,389 - INFO - integration_test - Dyn residual k=1: pred=[16.935100318969454, 0.0, 0.0, 3.0, 16.52722984552124], ws=[17.067501430780712, 0.0, 0.0, 3.0, 16.848447684300226], res=[-0.1324011118112587, 0.0, 0.0, 0.0, -0.3212178387789848], res_norm=3.474e-01
2026-01-26 17:53:35,390 - INFO - integration_test - Dyn residual k=2: pred=[17.367501430780713, 0.0, 0.0, 3.0, 17.148447684300226], ws=[17.506931518078463, 0.0, 0.0, 3.0, 17.044408233187635], res=[-0.1394300872977503, 0.0, 0.0, 0.0, 0.10403945111259105], res_norm=1.740e-01
2026-01-26 17:53:35,403 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:35,441 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:35,454 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:35,482 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:35,493 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:35,519 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:35,530 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:35,556 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:35,569 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:35,598 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:35,609 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:35,639 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:35,652 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:35,683 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:35,698 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:35,735 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:35,748 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:35,776 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:35,846 - INFO - integration_test - Step 58: MPC solve successful
2026-01-26 17:53:35,851 - INFO - integration_test - Step 58: Computed 6 numeric contouring constraints for visualization (s=16.400)
2026-01-26 17:53:35,851 - DEBUG - integration_test - Step 58: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:35,851 - INFO - integration_test - === Applying control at step 58 ===
2026-01-26 17:53:35,851 - INFO - integration_test -   Control dict from planner: {'a': -1.1581063317983414e-08, 'w': 0.0}
2026-01-26 17:53:35,851 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:35,851 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:35,852 - INFO - integration_test - Step 58 completed in 0.506s
2026-01-26 17:53:35,862 - INFO - integration_test - Step 59 (contouring until path end)
2026-01-26 17:53:35,862 - DEBUG - integration_test - Syncing planner state at step 59: vehicle_state=[16.59990566  0.          0.          3.00000003 16.69990566]
2026-01-26 17:53:35,863 - DEBUG - integration_test - Step 59: Using propagated spline 16.6999 (close to path, dist=0.135m, drift=0.035m)
2026-01-26 17:53:35,863 - DEBUG - integration_test -   Set spline state to 16.6999
2026-01-26 17:53:35,863 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:35,877 - DEBUG - integration_test - Step 59: Checking path alignment: vehicle=(16.600, 0.000), path_start=(0.000, 0.000), dist=16.600m
2026-01-26 17:53:35,877 - WARNING - integration_test - Step 59: Vehicle is far from path start (dist=16.600m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-26 17:53:35,877 - INFO - integration_test - === Calling planner.solve_mpc() at step 59 ===
2026-01-26 17:53:35,880 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:35,902 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:35,902 - INFO - integration_test - Warmstart k=0: x0=16.5999056615849 , y0=0.0 , psi0=0.0 , v0=3.0000000287634543 , spline0=16.699905663023074 , a0=0.0 , w0=0.0
2026-01-26 17:53:35,902 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:35,903 - INFO - integration_test - Dyn residual k=0: pred=[16.899905664461244, 0.0, 0.0, 3.0000000287634543, 16.99990566589942], ws=[16.957020476291305, 0.0, 0.0, 3.0, 16.60602058431282], res=[-0.057114811830061285, 0.0, 0.0, 2.8763454285041234e-08, 0.39388508158659974], res_norm=3.980e-01
2026-01-26 17:53:35,903 - INFO - integration_test - Dyn residual k=1: pred=[17.257020476291306, 0.0, 0.0, 3.0, 16.90602058431282], ws=[17.41769858726257, 0.0, 0.0, 3.0, 17.27774442632129], res=[-0.16067811097126494, 0.0, 0.0, 0.0, -0.3717238420084712], res_norm=4.050e-01
2026-01-26 17:53:35,904 - INFO - integration_test - Dyn residual k=2: pred=[17.71769858726257, 0.0, 0.0, 3.0, 17.577744426321292], ws=[17.775238656537947, 0.0, 0.0, 3.0, 17.383805032381897], res=[-0.05754006927537603, 0.0, 0.0, 0.0, 0.1939393939393952], res_norm=2.023e-01
2026-01-26 17:53:35,914 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:35,948 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:35,961 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:35,991 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:36,003 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:36,032 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:36,043 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:36,069 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:36,080 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:36,108 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:36,119 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:36,144 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:36,154 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:36,181 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:36,192 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:36,217 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:36,230 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:36,256 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:36,332 - INFO - integration_test - Step 59: MPC solve successful
2026-01-26 17:53:36,339 - INFO - integration_test - Step 59: Computed 6 numeric contouring constraints for visualization (s=16.700)
2026-01-26 17:53:36,340 - DEBUG - integration_test - Step 59: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:36,340 - INFO - integration_test - === Applying control at step 59 ===
2026-01-26 17:53:36,340 - INFO - integration_test -   Control dict from planner: {'a': -5.698908107808515e-09, 'w': 0.0}
2026-01-26 17:53:36,340 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:36,340 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:36,343 - INFO - integration_test - Step 59 completed in 0.480s
2026-01-26 17:53:36,353 - INFO - integration_test - Step 60 (contouring until path end)
2026-01-26 17:53:36,354 - DEBUG - integration_test - Syncing planner state at step 60: vehicle_state=[16.89990566  0.          0.          3.00000003 16.99990567]
2026-01-26 17:53:36,354 - DEBUG - integration_test - Step 60: Using propagated spline 16.9999 (close to path, dist=0.165m, drift=0.265m)
2026-01-26 17:53:36,354 - DEBUG - integration_test -   Set spline state to 16.9999
2026-01-26 17:53:36,355 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:36,374 - DEBUG - integration_test - Step 60: Checking path alignment: vehicle=(16.900, 0.000), path_start=(0.000, 0.000), dist=16.900m
2026-01-26 17:53:36,374 - WARNING - integration_test - Step 60: Vehicle is far from path start (dist=16.900m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-26 17:53:36,375 - INFO - integration_test - === Calling planner.solve_mpc() at step 60 ===
2026-01-26 17:53:36,379 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:36,405 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:36,405 - INFO - integration_test - Warmstart k=0: x0=16.89990566443275 , y0=0.0 , psi0=0.0 , v0=3.0000000281935635 , spline0=16.99990566584243 , a0=0.0 , w0=0.0
2026-01-26 17:53:36,405 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:36,406 - INFO - integration_test - Dyn residual k=0: pred=[17.199905667252107, 0.0, 0.0, 3.0000000281935635, 17.299905668661786], ws=[17.32480798044837, 0.0, 0.0, 3.0, 16.733293312781637], res=[-0.12490231319626233, 0.0, 0.0, 2.8193563483824846e-08, 0.5666123558801495], res_norm=5.802e-01
2026-01-26 17:53:36,407 - INFO - integration_test - Dyn residual k=1: pred=[17.62480798044837, 0.0, 0.0, 3.0, 17.033293312781637], ws=[17.754564621169738, 0.0, 0.0, 3.0, 17.383805033378636], res=[-0.12975664072136794, 0.0, 0.0, 0.0, -0.3505117205969981], res_norm=3.738e-01
2026-01-26 17:53:36,408 - INFO - integration_test - Dyn residual k=2: pred=[18.05456462116974, 0.0, 0.0, 3.0, 17.683805033378636], ws=[18.190583340761528, 0.0, 0.0, 3.0, 18.063610636138847], res=[-0.1360187195917888, 0.0, 0.0, 0.0, -0.3798056027602108], res_norm=4.034e-01
2026-01-26 17:53:36,419 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:36,455 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:36,467 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:36,493 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:36,505 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:36,531 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:36,542 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:36,569 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:36,579 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:36,603 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:36,613 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:36,639 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:36,650 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:36,674 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:36,685 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:36,708 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:36,718 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:36,743 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:36,811 - INFO - integration_test - Step 60: MPC solve successful
2026-01-26 17:53:36,815 - INFO - integration_test - Step 60: Computed 6 numeric contouring constraints for visualization (s=17.000)
2026-01-26 17:53:36,815 - DEBUG - integration_test - Step 60: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:36,815 - INFO - integration_test - === Applying control at step 60 ===
2026-01-26 17:53:36,815 - INFO - integration_test -   Control dict from planner: {'a': -1.2562207893666677e-08, 'w': 0.0}
2026-01-26 17:53:36,815 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:36,815 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:36,816 - INFO - integration_test - Step 60 completed in 0.463s
2026-01-26 17:53:36,823 - INFO - integration_test - Step 61 (contouring until path end)
2026-01-26 17:53:36,823 - DEBUG - integration_test - Syncing planner state at step 61: vehicle_state=[17.19990567  0.          0.          3.00000003 17.29990567]
2026-01-26 17:53:36,824 - DEBUG - integration_test - Step 61: Using propagated spline 17.2999 (close to path, dist=0.057m, drift=0.157m)
2026-01-26 17:53:36,824 - DEBUG - integration_test -   Set spline state to 17.2999
2026-01-26 17:53:36,824 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:36,835 - DEBUG - integration_test - Step 61: Checking path alignment: vehicle=(17.200, 0.000), path_start=(0.000, 0.000), dist=17.200m
2026-01-26 17:53:36,835 - WARNING - integration_test - Step 61: Vehicle is far from path start (dist=17.200m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-26 17:53:36,835 - INFO - integration_test - === Calling planner.solve_mpc() at step 61 ===
2026-01-26 17:53:36,838 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:36,856 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:36,856 - INFO - integration_test - Warmstart k=0: x0=17.199905667189295 , y0=0.0 , psi0=0.0 , v0=3.0000000269373426 , spline0=17.299905668536166 , a0=0.0 , w0=0.0
2026-01-26 17:53:36,856 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:36,857 - INFO - integration_test - Dyn residual k=0: pred=[17.49990566988303, 0.0, 0.0, 3.0000000269373426, 17.5999056712299], ws=[17.57422813750554, 0.0, 0.0, 3.0, 17.084811323968793], res=[-0.07432246762250827, 0.0, 0.0, 2.6937342578747803e-08, 0.5150943472611083], res_norm=5.204e-01
2026-01-26 17:53:36,858 - INFO - integration_test - Dyn residual k=1: pred=[17.87422813750554, 0.0, 0.0, 3.0, 17.384811323968794], ws=[17.93873677727472, 0.0, 0.0, 3.0, 17.705020014072296], res=[-0.06450863976917987, 0.0, 0.0, 0.0, -0.3202086901035024], res_norm=3.266e-01
2026-01-26 17:53:36,859 - INFO - integration_test - Dyn residual k=2: pred=[18.23873677727472, 0.0, 0.0, 3.0, 18.005020014072297], ws=[18.290585575638186, 0.0, 0.0, 3.0, 18.076740997161743], res=[-0.051848798363465676, 0.0, 0.0, 0.0, -0.07172098308944541], res_norm=8.850e-02
2026-01-26 17:53:36,868 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:36,897 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:36,907 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:36,930 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:36,940 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:36,966 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:36,978 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:37,004 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:37,015 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:37,040 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:37,051 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:37,075 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:37,086 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:37,110 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:37,120 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:37,145 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:37,156 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:37,180 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:37,250 - INFO - integration_test - Step 61: MPC solve successful
2026-01-26 17:53:37,255 - INFO - integration_test - Step 61: Computed 6 numeric contouring constraints for visualization (s=17.300)
2026-01-26 17:53:37,255 - DEBUG - integration_test - Step 61: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:37,255 - INFO - integration_test - === Applying control at step 61 ===
2026-01-26 17:53:37,255 - INFO - integration_test -   Control dict from planner: {'a': -4.2840224325267986e-07, 'w': 0.0}
2026-01-26 17:53:37,255 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:37,255 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:37,256 - INFO - integration_test - Step 61 completed in 0.433s
2026-01-26 17:53:37,265 - INFO - integration_test - Step 62 (contouring until path end)
2026-01-26 17:53:37,266 - DEBUG - integration_test - Syncing planner state at step 62: vehicle_state=[17.49990567  0.          0.          2.99999998 17.59990567]
2026-01-26 17:53:37,267 - DEBUG - integration_test - Step 62: Using propagated spline 17.5999 (close to path, dist=0.051m, drift=0.049m)
2026-01-26 17:53:37,267 - DEBUG - integration_test -   Set spline state to 17.5999
2026-01-26 17:53:37,267 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:37,280 - DEBUG - integration_test - Step 62: Checking path alignment: vehicle=(17.500, 0.000), path_start=(0.000, 0.000), dist=17.500m
2026-01-26 17:53:37,280 - WARNING - integration_test - Step 62: Vehicle is far from path start (dist=17.500m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-26 17:53:37,280 - INFO - integration_test - === Calling planner.solve_mpc() at step 62 ===
2026-01-26 17:53:37,282 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:37,303 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:37,303 - INFO - integration_test - Warmstart k=0: x0=17.499905667741018 , y0=0.0 , psi0=0.0 , v0=2.9999999840971183 , spline0=17.599905666945876 , a0=0.0 , w0=0.0
2026-01-26 17:53:37,303 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:37,304 - INFO - integration_test - Dyn residual k=0: pred=[17.799905666150728, 0.0, 0.0, 2.9999999840971183, 17.899905665355586], ws=[17.94201563457133, 0.0, 0.0, 2.9999999840971183, 17.70502001304423], res=[-0.14210996842060197, 0.0, 0.0, 0.0, 0.19488565231135624], res_norm=2.412e-01
2026-01-26 17:53:37,305 - INFO - integration_test - Dyn residual k=1: pred=[18.24201563298104, 0.0, 0.0, 2.9999999840971183, 18.00502001145394], ws=[18.27560279790488, 0.0, 0.0, 2.9999999840971183, 18.076740995812408], res=[-0.03358716492384062, 0.0, 0.0, 0.0, -0.07172098435846763], res_norm=7.920e-02
2026-01-26 17:53:37,305 - INFO - integration_test - Dyn residual k=2: pred=[18.57560279631459, 0.0, 0.0, 2.9999999840971183, 18.376740994222118], ws=[18.705930238605166, 0.0, 0.0, 2.9999999840971183, 18.489877073030556], res=[-0.13032744229057514, 0.0, 0.0, 0.0, -0.1131360788084379], res_norm=1.726e-01
2026-01-26 17:53:37,315 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:37,348 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:37,358 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:37,382 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:37,393 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:37,417 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:37,427 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:37,450 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:37,460 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:37,482 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:37,492 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:37,516 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:37,525 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:37,550 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:37,561 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:37,611 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:37,625 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:37,659 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:37,745 - INFO - integration_test - Step 62: MPC solve successful
2026-01-26 17:53:37,750 - INFO - integration_test - Step 62: Computed 6 numeric contouring constraints for visualization (s=17.600)
2026-01-26 17:53:37,750 - DEBUG - integration_test - Step 62: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:37,750 - INFO - integration_test - === Applying control at step 62 ===
2026-01-26 17:53:37,750 - INFO - integration_test -   Control dict from planner: {'a': 4.575916104503398e-07, 'w': 0.0}
2026-01-26 17:53:37,750 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:37,750 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:37,751 - INFO - integration_test - Step 62 completed in 0.485s
2026-01-26 17:53:37,759 - INFO - integration_test - Step 63 (contouring until path end)
2026-01-26 17:53:37,760 - DEBUG - integration_test - Syncing planner state at step 63: vehicle_state=[17.79990567  0.          0.          3.00000003 17.89990567]
2026-01-26 17:53:37,760 - DEBUG - integration_test - Step 63: Using propagated spline 17.8999 (close to path, dist=0.159m, drift=0.059m)
2026-01-26 17:53:37,760 - DEBUG - integration_test -   Set spline state to 17.8999
2026-01-26 17:53:37,761 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:37,775 - DEBUG - integration_test - Step 63: Checking path alignment: vehicle=(17.800, 0.000), path_start=(0.000, 0.000), dist=17.800m
2026-01-26 17:53:37,775 - WARNING - integration_test - Step 63: Vehicle is far from path start (dist=17.800m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-26 17:53:37,775 - INFO - integration_test - === Calling planner.solve_mpc() at step 63 ===
2026-01-26 17:53:37,777 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:37,799 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:37,799 - INFO - integration_test - Warmstart k=0: x0=17.799905668438686 , y0=0.0 , psi0=0.0 , v0=3.0000000298562792 , spline0=17.899905669931503 , a0=0.0 , w0=0.0
2026-01-26 17:53:37,799 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:37,800 - INFO - integration_test - Dyn residual k=0: pred=[18.099905671424313, 0.0, 0.0, 3.0000000298562792, 18.19990567291713], ws=[18.263935792515717, 0.0, 0.0, 3.0, 18.076740997556385], res=[-0.1640301210914039, 0.0, 0.0, 2.9856279226692095e-08, 0.12316467536074427], res_norm=2.051e-01
2026-01-26 17:53:37,801 - INFO - integration_test - Dyn residual k=1: pred=[18.563935792515718, 0.0, 0.0, 3.0, 18.376740997556386], ws=[18.625799958697534, 0.0, 0.0, 3.0, 18.227247000890408], res=[-0.06186416618181667, 0.0, 0.0, 0.0, 0.14949399666597785], res_norm=1.618e-01
2026-01-26 17:53:37,802 - INFO - integration_test - Dyn residual k=2: pred=[18.925799958697535, 0.0, 0.0, 3.0, 18.52724700089041], ws=[19.09260473307208, 0.0, 0.0, 3.0, 18.684828475440014], res=[-0.166804774374544, 0.0, 0.0, 0.0, -0.15758147454960536], res_norm=2.295e-01
2026-01-26 17:53:37,812 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:37,850 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:37,863 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:37,890 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:37,902 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:37,927 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:37,937 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:37,962 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:37,974 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:38,001 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:38,013 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:38,040 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:38,052 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:38,080 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:38,091 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:38,122 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:38,134 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:38,164 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:38,415 - INFO - integration_test - Step 63: MPC solve successful
2026-01-26 17:53:38,420 - INFO - integration_test - Step 63: Computed 6 numeric contouring constraints for visualization (s=17.900)
2026-01-26 17:53:38,420 - DEBUG - integration_test - Step 63: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:38,420 - INFO - integration_test - === Applying control at step 63 ===
2026-01-26 17:53:38,421 - INFO - integration_test -   Control dict from planner: {'a': -3.154711675787262e-06, 'w': 0.0}
2026-01-26 17:53:38,421 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:38,421 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:38,422 - INFO - integration_test - Step 63 completed in 0.662s
2026-01-26 17:53:38,430 - INFO - integration_test - Step 64 (contouring until path end)
2026-01-26 17:53:38,433 - DEBUG - integration_test - Syncing planner state at step 64: vehicle_state=[18.09990566  0.          0.          2.99999971 18.19990564]
2026-01-26 17:53:38,434 - DEBUG - integration_test - Step 64: Using propagated spline 18.1999 (close to path, dist=0.141m, drift=0.241m)
2026-01-26 17:53:38,434 - DEBUG - integration_test -   Set spline state to 18.1999
2026-01-26 17:53:38,434 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:38,450 - DEBUG - integration_test - Step 64: Checking path alignment: vehicle=(18.100, 0.000), path_start=(0.000, 0.000), dist=18.100m
2026-01-26 17:53:38,450 - WARNING - integration_test - Step 64: Vehicle is far from path start (dist=18.100m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-26 17:53:38,450 - INFO - integration_test - === Calling planner.solve_mpc() at step 64 ===
2026-01-26 17:53:38,453 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:38,477 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:38,477 - INFO - integration_test - Warmstart k=0: x0=18.099905655650755 , y0=0.0 , psi0=0.0 , v0=2.999999714385112 , spline0=18.199905641370012 , a0=0.0 , w0=0.0
2026-01-26 17:53:38,477 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:38,478 - INFO - integration_test - Dyn residual k=0: pred=[18.399905627089264, 0.0, 0.0, 2.999999714385112, 18.499905612808522], ws=[18.51335587750165, 0.0, 0.0, 2.999999714385112, 18.424219542499035], res=[-0.11345025041238443, 0.0, 0.0, 0.0, 0.07568607030948726], res_norm=1.364e-01
2026-01-26 17:53:38,479 - INFO - integration_test - Dyn residual k=1: pred=[18.81335584894016, 0.0, 0.0, 2.999999714385112, 18.724219513937545], ws=[18.928339316750524, 0.0, 0.0, 2.999999714385112, 18.622201240943784], res=[-0.11498346781036517, 0.0, 0.0, 0.0, 0.1020182729937602], res_norm=1.537e-01
2026-01-26 17:53:38,480 - INFO - integration_test - Dyn residual k=2: pred=[19.228339288189034, 0.0, 0.0, 2.999999714385112, 18.922201212382294], ws=[19.3453006064428, 0.0, 0.0, 2.999999714385112, 18.748464814842386], res=[-0.1169613182537681, 0.0, 0.0, 0.0, 0.17373639753990844], res_norm=2.094e-01
2026-01-26 17:53:38,491 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:38,530 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:38,542 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:38,572 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:38,585 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:38,612 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:38,623 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:38,648 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:38,662 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:38,688 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:38,698 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:38,721 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:38,730 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:38,756 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:38,767 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:38,791 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:38,801 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:38,826 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:38,908 - INFO - integration_test - Step 64: MPC solve successful
2026-01-26 17:53:38,913 - INFO - integration_test - Step 64: Computed 6 numeric contouring constraints for visualization (s=18.200)
2026-01-26 17:53:38,913 - DEBUG - integration_test - Step 64: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:38,913 - INFO - integration_test - === Applying control at step 64 ===
2026-01-26 17:53:38,913 - INFO - integration_test -   Control dict from planner: {'a': 2.535839982412716e-06, 'w': 0.0}
2026-01-26 17:53:38,913 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:38,913 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:38,915 - INFO - integration_test - Step 64 completed in 0.482s
2026-01-26 17:53:38,922 - INFO - integration_test - Step 65 (contouring until path end)
2026-01-26 17:53:38,922 - DEBUG - integration_test - Syncing planner state at step 65: vehicle_state=[18.39990564  0.          0.          2.99999997 18.49990564]
2026-01-26 17:53:38,923 - DEBUG - integration_test - Step 65: Using propagated spline 18.4999 (close to path, dist=0.033m, drift=0.133m)
2026-01-26 17:53:38,923 - DEBUG - integration_test -   Set spline state to 18.4999
2026-01-26 17:53:38,923 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:38,936 - DEBUG - integration_test - Step 65: Checking path alignment: vehicle=(18.400, 0.000), path_start=(0.000, 0.000), dist=18.400m
2026-01-26 17:53:38,936 - WARNING - integration_test - Step 65: Vehicle is far from path start (dist=18.400m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-26 17:53:38,936 - INFO - integration_test - === Calling planner.solve_mpc() at step 65 ===
2026-01-26 17:53:38,938 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:38,958 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:38,958 - INFO - integration_test - Warmstart k=0: x0=18.399905639768466 , y0=0.0 , psi0=0.0 , v0=2.99999996796911 , spline0=18.499905638166922 , a0=0.0 , w0=0.0
2026-01-26 17:53:38,958 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:38,959 - INFO - integration_test - Dyn residual k=0: pred=[18.699905636565376, 0.0, 0.0, 2.99999996796911, 18.79990563496383], ws=[18.762776049984115, 0.0, 0.0, 2.99999996796911, 18.309065173171952], res=[-0.06287041341873945, 0.0, 0.0, 0.0, 0.4908404617918798], res_norm=4.949e-01
2026-01-26 17:53:38,959 - INFO - integration_test - Dyn residual k=1: pred=[19.062776046781025, 0.0, 0.0, 2.99999996796911, 18.60906516996886], ws=[19.11251153222353, 0.0, 0.0, 2.99999996796911, 18.927255569411045], res=[-0.04973548544250406, 0.0, 0.0, 0.0, -0.31819039944218375], res_norm=3.221e-01
2026-01-26 17:53:38,960 - INFO - integration_test - Dyn residual k=2: pred=[19.41251152902044, 0.0, 0.0, 2.99999996796911, 19.227255566207955], ws=[19.56367030431237, 0.0, 0.0, 2.99999996796911, 19.094934242999216], res=[-0.15115877529193256, 0.0, 0.0, 0.0, 0.13232132320873902], res_norm=2.009e-01
2026-01-26 17:53:38,970 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:39,003 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:39,013 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:39,036 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:39,047 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:39,070 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:39,079 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:39,103 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:39,114 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:39,141 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:39,150 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:39,175 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:39,187 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:39,212 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:39,223 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:39,247 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:39,257 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:39,283 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:39,367 - INFO - integration_test - Step 65: MPC solve successful
2026-01-26 17:53:39,371 - INFO - integration_test - Step 65: Computed 6 numeric contouring constraints for visualization (s=18.500)
2026-01-26 17:53:39,371 - DEBUG - integration_test - Step 65: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:39,371 - INFO - integration_test - === Applying control at step 65 ===
2026-01-26 17:53:39,372 - INFO - integration_test -   Control dict from planner: {'a': -1.0679046318201049e-06, 'w': 0.0}
2026-01-26 17:53:39,372 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:39,372 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:39,373 - INFO - integration_test - Step 65 completed in 0.451s
2026-01-26 17:53:39,381 - INFO - integration_test - Step 66 (contouring until path end)
2026-01-26 17:53:39,382 - DEBUG - integration_test - Syncing planner state at step 66: vehicle_state=[18.69990563  0.          0.          2.99999986 18.79990562]
2026-01-26 17:53:39,383 - DEBUG - integration_test - Step 66: Using propagated spline 18.7999 (close to path, dist=0.076m, drift=0.024m)
2026-01-26 17:53:39,383 - DEBUG - integration_test -   Set spline state to 18.7999
2026-01-26 17:53:39,383 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:39,395 - DEBUG - integration_test - Step 66: Checking path alignment: vehicle=(18.700, 0.000), path_start=(0.000, 0.000), dist=18.700m
2026-01-26 17:53:39,395 - WARNING - integration_test - Step 66: Vehicle is far from path start (dist=18.700m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-26 17:53:39,395 - INFO - integration_test - === Calling planner.solve_mpc() at step 66 ===
2026-01-26 17:53:39,397 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:39,418 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:39,418 - INFO - integration_test - Warmstart k=0: x0=18.699905631225853 , y0=0.0 , psi0=0.0 , v0=2.999999861178647 , spline0=18.799905624284786 , a0=0.0 , w0=0.0
2026-01-26 17:53:39,418 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:39,418 - INFO - integration_test - Dyn residual k=0: pred=[18.999905617343718, 0.0, 0.0, 2.999999861178647, 19.09990561040265], ws=[19.130563519451904, 0.0, 0.0, 2.999999861178647, 18.927255565527755], res=[-0.13065790210818662, 0.0, 0.0, 0.0, 0.17265004487489577], res_norm=2.165e-01
2026-01-26 17:53:39,419 - INFO - integration_test - Dyn residual k=1: pred=[19.43056350556977, 0.0, 0.0, 2.999999861178647, 19.22725555164562], ws=[19.567744848324736, 0.0, 0.0, 2.999999861178647, 19.094934237821498], res=[-0.13718134275496752, 0.0, 0.0, 0.0, 0.1323213138241215], res_norm=1.906e-01
2026-01-26 17:53:39,420 - INFO - integration_test - Dyn residual k=2: pred=[19.8677448344426, 0.0, 0.0, 2.999999861178647, 19.394934223939362], ws=[19.89419586755408, 0.0, 0.0, 2.999999861178647, 19.46463692753923], res=[-0.026451033111481337, 0.0, 0.0, 0.0, -0.06970270359986941], res_norm=7.455e-02
2026-01-26 17:53:39,429 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:39,462 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:39,474 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:39,500 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:39,511 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:39,541 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:39,553 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:39,582 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:39,594 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:39,623 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:39,634 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:39,659 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:39,670 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:39,693 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:39,704 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:39,727 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:39,738 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:39,761 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:39,850 - INFO - integration_test - Step 66: MPC solve successful
2026-01-26 17:53:39,854 - INFO - integration_test - Step 66: Computed 6 numeric contouring constraints for visualization (s=18.800)
2026-01-26 17:53:39,854 - DEBUG - integration_test - Step 66: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:39,854 - INFO - integration_test - === Applying control at step 66 ===
2026-01-26 17:53:39,854 - INFO - integration_test -   Control dict from planner: {'a': -1.9999997146707513, 'w': 0.0}
2026-01-26 17:53:39,854 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:39,854 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:39,855 - INFO - integration_test - Step 66 completed in 0.473s
2026-01-26 17:53:39,863 - INFO - integration_test - Step 67 (contouring until path end)
2026-01-26 17:53:39,865 - DEBUG - integration_test - Syncing planner state at step 67: vehicle_state=[18.98990562  0.          0.          2.79999989 19.07990561]
2026-01-26 17:53:39,865 - DEBUG - integration_test - Step 67: Using propagated spline 19.0799 (close to path, dist=0.194m, drift=0.104m)
2026-01-26 17:53:39,865 - DEBUG - integration_test -   Set spline state to 19.0799
2026-01-26 17:53:39,866 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:39,877 - DEBUG - integration_test - Step 67: Checking path alignment: vehicle=(18.990, 0.000), path_start=(0.000, 0.000), dist=18.990m
2026-01-26 17:53:39,877 - WARNING - integration_test - Step 67: Vehicle is far from path start (dist=18.990m), but path remains FIXED per C++ reference. Spline parameter tracks position along fixed path.
2026-01-26 17:53:39,877 - INFO - integration_test - === Calling planner.solve_mpc() at step 67 ===
2026-01-26 17:53:39,879 - INFO - integration_test - ContouringObjective.update: reference_path=True, add_road_constraints=True
2026-01-26 17:53:39,899 - INFO - integration_test - Solver solve: module_manager has 5 modules: ['contouring_constraints', 'control_effort_objective', 'control_jerk_objective', 'path_reference_velocity_objective', 'contouring_objective'], data=True
2026-01-26 17:53:39,899 - INFO - integration_test - Warmstart k=0: x0=18.989905618770365 , y0=0.0 , psi0=0.0 , v0=2.7999998897115717 , spline0=19.079905613255942 , a0=0.0 , w0=0.0
2026-01-26 17:53:39,899 - INFO - integration_test - Bounds: x∈[-2000.0,2000.0] , y∈[-2000.0,2000.0] , psi∈[-18.84955592153876,18.84955592153876] , v∈[-0.01,3.0] , spline∈[-1.0,10000.0] , a∈[-2.0,2.0] , w∈[-0.8,0.8]
2026-01-26 17:53:39,900 - INFO - integration_test - Dyn residual k=0: pred=[19.26990560774152, 0.0, 0.0, 2.7999998897115717, 19.359905602227098], ws=[19.404106159041117, 0.0, 0.0, 2.7999998897115717, 19.03149894179657], res=[-0.13420055129959607, 0.0, 0.0, 0.0, 0.32840666043052735], res_norm=3.548e-01
2026-01-26 17:53:39,900 - INFO - integration_test - Dyn residual k=1: pred=[19.684106148012273, 0.0, 0.0, 2.7999998897115717, 19.311498930767726], ws=[19.82005750905161, 0.0, 0.0, 2.7999998897115717, 19.675145793405953], res=[-0.1359513610393357, 0.0, 0.0, 0.0, -0.36364686263822676], res_norm=3.882e-01
2026-01-26 17:53:39,901 - INFO - integration_test - Dyn residual k=2: pred=[20.100057498022764, 0.0, 0.0, 2.7999998897115717, 19.95514578237711], ws=[20.08004599841821, 0.0, 0.0, 2.7999998897115717, 19.794743659804823], res=[0.020011499604553507, 0.0, 0.0, 0.0, 0.16040212257228603], res_norm=1.616e-01
2026-01-26 17:53:39,910 - INFO - integration_test - Stage 0: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:39,943 - INFO - integration_test - Stage 0: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:39,954 - INFO - integration_test - Stage 1: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:39,983 - INFO - integration_test - Stage 1: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:39,995 - INFO - integration_test - Stage 2: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:40,021 - INFO - integration_test - Stage 2: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:40,031 - INFO - integration_test - Stage 3: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:40,058 - INFO - integration_test - Stage 3: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:40,069 - INFO - integration_test - Stage 4: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:40,094 - INFO - integration_test - Stage 4: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:40,105 - INFO - integration_test - Stage 5: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:40,131 - INFO - integration_test - Stage 5: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:40,142 - INFO - integration_test - Stage 6: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:40,167 - INFO - integration_test - Stage 6: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:40,177 - INFO - integration_test - Stage 7: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:40,201 - INFO - integration_test - Stage 7: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:40,211 - INFO - integration_test - Stage 8: 1 objective(s) with keys: ['contouring_lag_cost', 'contouring_contour_cost', 'contouring_velocity_cost', 'contouring_goal_cost', 'contouring_terminal_cost']
2026-01-26 17:53:40,235 - INFO - integration_test - Stage 8: constraints count=6 (linearized=0, contouring=6, other=0)
2026-01-26 17:53:40,317 - INFO - integration_test - Step 67: MPC solve successful
2026-01-26 17:53:40,322 - INFO - integration_test - Step 67: Computed 6 numeric contouring constraints for visualization (s=19.080)
2026-01-26 17:53:40,322 - DEBUG - integration_test - Step 67: Captured 2 contouring constraint halfspaces for visualization
2026-01-26 17:53:40,322 - INFO - integration_test - === Applying control at step 67 ===
2026-01-26 17:53:40,322 - INFO - integration_test -   Control dict from planner: {'a': -1.9999998994859303, 'w': 0.0}
2026-01-26 17:53:40,322 - INFO - integration_test -   Expected input names: ['a', 'w']
2026-01-26 17:53:40,322 - INFO - integration_test -   Planner output success: True
2026-01-26 17:53:40,323 - INFO - integration_test - Goal reached at step 67!
2026-01-26 17:53:40,323 - INFO - integration_test - Step 67 completed in 0.459s
2026-01-26 17:53:40,331 - INFO - integration_test - Goal reached at step 67, added 3 extra frames for visualization
2026-01-26 17:53:40,331 - INFO - integration_test - Saving test results...
2026-01-26 17:53:40,332 - INFO - integration_test - Saved 72 vehicle states to test_outputs/20260126_175306_contouring_contouring_contouring_unicycle/vehicle_states.csv
2026-01-26 17:53:40,332 - INFO - integration_test - Saved obstacle summary to test_outputs/20260126_175306_contouring_contouring_contouring_unicycle/obstacle_summary.csv
2026-01-26 17:53:40,332 - INFO - integration_test - Saved state history: 72 vehicle states, 0 obstacles
2026-01-26 17:53:40,332 - INFO - integration_test - Creating animation...
2026-01-26 17:53:40,373 - DEBUG - integration_test - Creating animation with 72 frames (range: 0 to 71)
2026-01-26 17:53:40,373 - DEBUG - integration_test - Frame 0: Drawing 2 contouring constraint halfspaces
2026-01-26 17:53:40,375 - DEBUG - integration_test - Frame 0: Drawing 2 contouring constraint halfspaces
2026-01-26 17:53:40,450 - DEBUG - integration_test - Frame 1: Drawing 2 contouring constraint halfspaces
2026-01-26 17:53:40,482 - DEBUG - integration_test - Frame 2: Drawing 2 contouring constraint halfspaces
2026-01-26 17:53:47,977 - INFO - integration_test - Saved animation with 72 frames at 10.00 fps to test_outputs/20260126_175306_contouring_contouring_contouring_unicycle/animation.gif (duration: 7.20s, size: 336777 bytes)
2026-01-26 17:53:48,009 - INFO - integration_test - Animation created successfully
2026-01-26 17:53:48,010 - INFO - integration_test - Test completed successfully
2026-01-26 17:53:48,011 - INFO - integration_test - Starting integration test: linearized_single_obstacle
2026-01-26 17:53:48,011 - INFO - integration_test - Output folder: test_outputs/20260126_175348_goal_linear_unicycle
